var nb=Object.defineProperty;var ib=(e,t,s)=>t in e?nb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var pt=(e,t,s)=>ib(e,typeof t!="symbol"?t+"":t,s);function Bm(e,t){return function(){return e.apply(t,arguments)}}const{toString:lb}=Object.prototype,{getPrototypeOf:Gu}=Object,{iterator:Ad,toStringTag:Um}=Symbol,Ld=(e=>t=>{const s=lb.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Za=e=>(e=e.toLowerCase(),t=>Ld(t)===e),Md=e=>t=>typeof t===e,{isArray:Fn}=Array,$n=Md("undefined");function Zi(e){return e!==null&&!$n(e)&&e.constructor!==null&&!$n(e.constructor)&&ba(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Hm=Za("ArrayBuffer");function db(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Hm(e.buffer),t}const cb=Md("string"),ba=Md("function"),qm=Md("number"),el=e=>e!==null&&typeof e=="object",ub=e=>e===!0||e===!1,jl=e=>{if(Ld(e)!=="object")return!1;const t=Gu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Um in e)&&!(Ad in e)},hb=e=>{if(!el(e)||Zi(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},gb=Za("Date"),pb=Za("File"),mb=Za("Blob"),fb=Za("FileList"),yb=e=>el(e)&&ba(e.pipe),vb=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ba(e.append)&&((t=Ld(e))==="formdata"||t==="object"&&ba(e.toString)&&e.toString()==="[object FormData]"))},xb=Za("URLSearchParams"),[bb,kb,wb,_b]=["ReadableStream","Request","Response","Headers"].map(Za),$b=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tl(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Fn(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(Zi(e))return;const n=s?Object.getOwnPropertyNames(e):Object.keys(e),i=n.length;let l;for(r=0;r<i;r++)l=n[r],t.call(null,e[l],l,e)}}function zm(e,t){if(Zi(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,o;for(;r-- >0;)if(o=s[r],t===o.toLowerCase())return o;return null}const Uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wm=e=>!$n(e)&&e!==Uo;function Gc(){const{caseless:e,skipUndefined:t}=Wm(this)&&this||{},s={},r=(o,n)=>{const i=e&&zm(s,n)||n;jl(s[i])&&jl(o)?s[i]=Gc(s[i],o):jl(o)?s[i]=Gc({},o):Fn(o)?s[i]=o.slice():(!t||!$n(o))&&(s[i]=o)};for(let o=0,n=arguments.length;o<n;o++)arguments[o]&&tl(arguments[o],r);return s}const Cb=(e,t,s,{allOwnKeys:r}={})=>(tl(t,(o,n)=>{s&&ba(o)?e[n]=Bm(o,s):e[n]=o},{allOwnKeys:r}),e),Sb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Eb=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Tb=(e,t,s,r)=>{let o,n,i;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),n=o.length;n-- >0;)i=o[n],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&Gu(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Ab=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},Lb=e=>{if(!e)return null;if(Fn(e))return e;let t=e.length;if(!qm(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Mb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gu(Uint8Array)),Pb=(e,t)=>{const r=(e&&e[Ad]).call(e);let o;for(;(o=r.next())&&!o.done;){const n=o.value;t.call(e,n[0],n[1])}},Db=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},Ib=Za("HTMLFormElement"),Ob=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,o){return r.toUpperCase()+o}),oh=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Fb=Za("RegExp"),Km=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};tl(s,(o,n)=>{let i;(i=t(o,n,e))!==!1&&(r[n]=i||o)}),Object.defineProperties(e,r)},Rb=e=>{Km(e,(t,s)=>{if(ba(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(ba(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},jb=(e,t)=>{const s={},r=o=>{o.forEach(n=>{s[n]=!0})};return Fn(e)?r(e):r(String(e).split(t)),s},Nb=()=>{},Vb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Bb(e){return!!(e&&ba(e.append)&&e[Um]==="FormData"&&e[Ad])}const Ub=e=>{const t=new Array(10),s=(r,o)=>{if(el(r)){if(t.indexOf(r)>=0)return;if(Zi(r))return r;if(!("toJSON"in r)){t[o]=r;const n=Fn(r)?[]:{};return tl(r,(i,l)=>{const u=s(i,o+1);!$n(u)&&(n[l]=u)}),t[o]=void 0,n}}return r};return s(e,0)},Hb=Za("AsyncFunction"),qb=e=>e&&(el(e)||ba(e))&&ba(e.then)&&ba(e.catch),Ym=((e,t)=>e?setImmediate:t?((s,r)=>(Uo.addEventListener("message",({source:o,data:n})=>{o===Uo&&n===s&&r.length&&r.shift()()},!1),o=>{r.push(o),Uo.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ba(Uo.postMessage)),zb=typeof queueMicrotask<"u"?queueMicrotask.bind(Uo):typeof process<"u"&&process.nextTick||Ym,Wb=e=>e!=null&&ba(e[Ad]),Ue={isArray:Fn,isArrayBuffer:Hm,isBuffer:Zi,isFormData:vb,isArrayBufferView:db,isString:cb,isNumber:qm,isBoolean:ub,isObject:el,isPlainObject:jl,isEmptyObject:hb,isReadableStream:bb,isRequest:kb,isResponse:wb,isHeaders:_b,isUndefined:$n,isDate:gb,isFile:pb,isBlob:mb,isRegExp:Fb,isFunction:ba,isStream:yb,isURLSearchParams:xb,isTypedArray:Mb,isFileList:fb,forEach:tl,merge:Gc,extend:Cb,trim:$b,stripBOM:Sb,inherits:Eb,toFlatObject:Tb,kindOf:Ld,kindOfTest:Za,endsWith:Ab,toArray:Lb,forEachEntry:Pb,matchAll:Db,isHTMLForm:Ib,hasOwnProperty:oh,hasOwnProp:oh,reduceDescriptors:Km,freezeMethods:Rb,toObjectSet:jb,toCamelCase:Ob,noop:Nb,toFiniteNumber:Vb,findKey:zm,global:Uo,isContextDefined:Wm,isSpecCompliantForm:Bb,toJSONObject:Ub,isAsyncFn:Hb,isThenable:qb,setImmediate:Ym,asap:zb,isIterable:Wb};function Gt(e,t,s,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Ue.inherits(Gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ue.toJSONObject(this.config),code:this.code,status:this.status}}});const Gm=Gt.prototype,Jm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Jm[e]={value:e}});Object.defineProperties(Gt,Jm);Object.defineProperty(Gm,"isAxiosError",{value:!0});Gt.from=(e,t,s,r,o,n)=>{const i=Object.create(Gm);Ue.toFlatObject(e,i,function(y){return y!==Error.prototype},m=>m!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return Gt.call(i,l,u,s,r,o),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",n&&Object.assign(i,n),i};const Kb=null;function Jc(e){return Ue.isPlainObject(e)||Ue.isArray(e)}function Qm(e){return Ue.endsWith(e,"[]")?e.slice(0,-2):e}function nh(e,t,s){return e?e.concat(t).map(function(o,n){return o=Qm(o),!s&&n?"["+o+"]":o}).join(s?".":""):t}function Yb(e){return Ue.isArray(e)&&!e.some(Jc)}const Gb=Ue.toFlatObject(Ue,{},null,function(t){return/^is[A-Z]/.test(t)});function Pd(e,t,s){if(!Ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=Ue.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,d){return!Ue.isUndefined(d[g])});const r=s.metaTokens,o=s.visitor||y,n=s.dots,i=s.indexes,u=(s.Blob||typeof Blob<"u"&&Blob)&&Ue.isSpecCompliantForm(t);if(!Ue.isFunction(o))throw new TypeError("visitor must be a function");function m(h){if(h===null)return"";if(Ue.isDate(h))return h.toISOString();if(Ue.isBoolean(h))return h.toString();if(!u&&Ue.isBlob(h))throw new Gt("Blob is not supported. Use a Buffer instead.");return Ue.isArrayBuffer(h)||Ue.isTypedArray(h)?u&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function y(h,g,d){let p=h;if(h&&!d&&typeof h=="object"){if(Ue.endsWith(g,"{}"))g=r?g:g.slice(0,-2),h=JSON.stringify(h);else if(Ue.isArray(h)&&Yb(h)||(Ue.isFileList(h)||Ue.endsWith(g,"[]"))&&(p=Ue.toArray(h)))return g=Qm(g),p.forEach(function(b,w){!(Ue.isUndefined(b)||b===null)&&t.append(i===!0?nh([g],w,n):i===null?g:g+"[]",m(b))}),!1}return Jc(h)?!0:(t.append(nh(d,g,n),m(h)),!1)}const f=[],x=Object.assign(Gb,{defaultVisitor:y,convertValue:m,isVisitable:Jc});function c(h,g){if(!Ue.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(h),Ue.forEach(h,function(p,v){(!(Ue.isUndefined(p)||p===null)&&o.call(t,p,Ue.isString(v)?v.trim():v,g,x))===!0&&c(p,g?g.concat(v):[v])}),f.pop()}}if(!Ue.isObject(e))throw new TypeError("data must be an object");return c(e),t}function ih(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ju(e,t){this._pairs=[],e&&Pd(e,this,t)}const Xm=Ju.prototype;Xm.append=function(t,s){this._pairs.push([t,s])};Xm.toString=function(t){const s=t?function(r){return t.call(this,r,ih)}:ih;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function Jb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Zm(e,t,s){if(!t)return e;const r=s&&s.encode||Jb;Ue.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let n;if(o?n=o(t,s):n=Ue.isURLSearchParams(t)?t.toString():new Ju(t,s).toString(r),n){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}class lh{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ue.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ef={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qb=typeof URLSearchParams<"u"?URLSearchParams:Ju,Xb=typeof FormData<"u"?FormData:null,Zb=typeof Blob<"u"?Blob:null,e1={isBrowser:!0,classes:{URLSearchParams:Qb,FormData:Xb,Blob:Zb},protocols:["http","https","file","blob","url","data"]},Qu=typeof window<"u"&&typeof document<"u",Qc=typeof navigator=="object"&&navigator||void 0,t1=Qu&&(!Qc||["ReactNative","NativeScript","NS"].indexOf(Qc.product)<0),s1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",a1=Qu&&window.location.href||"http://localhost",r1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qu,hasStandardBrowserEnv:t1,hasStandardBrowserWebWorkerEnv:s1,navigator:Qc,origin:a1},Symbol.toStringTag,{value:"Module"})),aa={...r1,...e1};function o1(e,t){return Pd(e,new aa.classes.URLSearchParams,{visitor:function(s,r,o,n){return aa.isNode&&Ue.isBuffer(s)?(this.append(r,s.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...t})}function n1(e){return Ue.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function i1(e){const t={},s=Object.keys(e);let r;const o=s.length;let n;for(r=0;r<o;r++)n=s[r],t[n]=e[n];return t}function tf(e){function t(s,r,o,n){let i=s[n++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),u=n>=s.length;return i=!i&&Ue.isArray(o)?o.length:i,u?(Ue.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!l):((!o[i]||!Ue.isObject(o[i]))&&(o[i]=[]),t(s,r,o[i],n)&&Ue.isArray(o[i])&&(o[i]=i1(o[i])),!l)}if(Ue.isFormData(e)&&Ue.isFunction(e.entries)){const s={};return Ue.forEachEntry(e,(r,o)=>{t(n1(r),o,s,0)}),s}return null}function l1(e,t,s){if(Ue.isString(e))try{return(t||JSON.parse)(e),Ue.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const sl={transitional:ef,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",o=r.indexOf("application/json")>-1,n=Ue.isObject(t);if(n&&Ue.isHTMLForm(t)&&(t=new FormData(t)),Ue.isFormData(t))return o?JSON.stringify(tf(t)):t;if(Ue.isArrayBuffer(t)||Ue.isBuffer(t)||Ue.isStream(t)||Ue.isFile(t)||Ue.isBlob(t)||Ue.isReadableStream(t))return t;if(Ue.isArrayBufferView(t))return t.buffer;if(Ue.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return o1(t,this.formSerializer).toString();if((l=Ue.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Pd(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return n||o?(s.setContentType("application/json",!1),l1(t)):t}],transformResponse:[function(t){const s=this.transitional||sl.transitional,r=s&&s.forcedJSONParsing,o=this.responseType==="json";if(Ue.isResponse(t)||Ue.isReadableStream(t))return t;if(t&&Ue.isString(t)&&(r&&!this.responseType||o)){const i=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Gt.from(l,Gt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:aa.classes.FormData,Blob:aa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ue.forEach(["delete","get","head","post","put","patch"],e=>{sl.headers[e]={}});const d1=Ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),c1=e=>{const t={};let s,r,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),s=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!s||t[s]&&d1[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},dh=Symbol("internals");function Wn(e){return e&&String(e).trim().toLowerCase()}function Nl(e){return e===!1||e==null?e:Ue.isArray(e)?e.map(Nl):String(e)}function u1(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const h1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lc(e,t,s,r,o){if(Ue.isFunction(r))return r.call(this,t,s);if(o&&(t=s),!!Ue.isString(t)){if(Ue.isString(r))return t.indexOf(r)!==-1;if(Ue.isRegExp(r))return r.test(t)}}function g1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function p1(e,t){const s=Ue.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(o,n,i){return this[r].call(this,t,o,n,i)},configurable:!0})})}let ka=class{constructor(t){t&&this.set(t)}set(t,s,r){const o=this;function n(l,u,m){const y=Wn(u);if(!y)throw new Error("header name must be a non-empty string");const f=Ue.findKey(o,y);(!f||o[f]===void 0||m===!0||m===void 0&&o[f]!==!1)&&(o[f||u]=Nl(l))}const i=(l,u)=>Ue.forEach(l,(m,y)=>n(m,y,u));if(Ue.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(Ue.isString(t)&&(t=t.trim())&&!h1(t))i(c1(t),s);else if(Ue.isObject(t)&&Ue.isIterable(t)){let l={},u,m;for(const y of t){if(!Ue.isArray(y))throw TypeError("Object iterator must return a key-value pair");l[m=y[0]]=(u=l[m])?Ue.isArray(u)?[...u,y[1]]:[u,y[1]]:y[1]}i(l,s)}else t!=null&&n(s,t,r);return this}get(t,s){if(t=Wn(t),t){const r=Ue.findKey(this,t);if(r){const o=this[r];if(!s)return o;if(s===!0)return u1(o);if(Ue.isFunction(s))return s.call(this,o,r);if(Ue.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Wn(t),t){const r=Ue.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||lc(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let o=!1;function n(i){if(i=Wn(i),i){const l=Ue.findKey(r,i);l&&(!s||lc(r,r[l],l,s))&&(delete r[l],o=!0)}}return Ue.isArray(t)?t.forEach(n):n(t),o}clear(t){const s=Object.keys(this);let r=s.length,o=!1;for(;r--;){const n=s[r];(!t||lc(this,this[n],n,t,!0))&&(delete this[n],o=!0)}return o}normalize(t){const s=this,r={};return Ue.forEach(this,(o,n)=>{const i=Ue.findKey(r,n);if(i){s[i]=Nl(o),delete s[n];return}const l=t?g1(n):String(n).trim();l!==n&&delete s[n],s[l]=Nl(o),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Ue.forEach(this,(r,o)=>{r!=null&&r!==!1&&(s[o]=t&&Ue.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[dh]=this[dh]={accessors:{}}).accessors,o=this.prototype;function n(i){const l=Wn(i);r[l]||(p1(o,i),r[l]=!0)}return Ue.isArray(t)?t.forEach(n):n(t),this}};ka.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ue.reduceDescriptors(ka.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});Ue.freezeMethods(ka);function dc(e,t){const s=this||sl,r=t||s,o=ka.from(r.headers);let n=r.data;return Ue.forEach(e,function(l){n=l.call(s,n,o.normalize(),t?t.status:void 0)}),o.normalize(),n}function sf(e){return!!(e&&e.__CANCEL__)}function Rn(e,t,s){Gt.call(this,e??"canceled",Gt.ERR_CANCELED,t,s),this.name="CanceledError"}Ue.inherits(Rn,Gt,{__CANCEL__:!0});function af(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new Gt("Request failed with status code "+s.status,[Gt.ERR_BAD_REQUEST,Gt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function m1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function f1(e,t){e=e||10;const s=new Array(e),r=new Array(e);let o=0,n=0,i;return t=t!==void 0?t:1e3,function(u){const m=Date.now(),y=r[n];i||(i=m),s[o]=u,r[o]=m;let f=n,x=0;for(;f!==o;)x+=s[f++],f=f%e;if(o=(o+1)%e,o===n&&(n=(n+1)%e),m-i<t)return;const c=y&&m-y;return c?Math.round(x*1e3/c):void 0}}function y1(e,t){let s=0,r=1e3/t,o,n;const i=(m,y=Date.now())=>{s=y,o=null,n&&(clearTimeout(n),n=null),e(...m)};return[(...m)=>{const y=Date.now(),f=y-s;f>=r?i(m,y):(o=m,n||(n=setTimeout(()=>{n=null,i(o)},r-f)))},()=>o&&i(o)]}const sd=(e,t,s=3)=>{let r=0;const o=f1(50,250);return y1(n=>{const i=n.loaded,l=n.lengthComputable?n.total:void 0,u=i-r,m=o(u),y=i<=l;r=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:u,rate:m||void 0,estimated:m&&l&&y?(l-i)/m:void 0,event:n,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},s)},ch=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},uh=e=>(...t)=>Ue.asap(()=>e(...t)),v1=aa.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,aa.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(aa.origin),aa.navigator&&/(msie|trident)/i.test(aa.navigator.userAgent)):()=>!0,x1=aa.hasStandardBrowserEnv?{write(e,t,s,r,o,n,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Ue.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),Ue.isString(r)&&l.push(`path=${r}`),Ue.isString(o)&&l.push(`domain=${o}`),n===!0&&l.push("secure"),Ue.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function b1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function k1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rf(e,t,s){let r=!b1(t);return e&&(r||s==!1)?k1(e,t):t}const hh=e=>e instanceof ka?{...e}:e;function Qo(e,t){t=t||{};const s={};function r(m,y,f,x){return Ue.isPlainObject(m)&&Ue.isPlainObject(y)?Ue.merge.call({caseless:x},m,y):Ue.isPlainObject(y)?Ue.merge({},y):Ue.isArray(y)?y.slice():y}function o(m,y,f,x){if(Ue.isUndefined(y)){if(!Ue.isUndefined(m))return r(void 0,m,f,x)}else return r(m,y,f,x)}function n(m,y){if(!Ue.isUndefined(y))return r(void 0,y)}function i(m,y){if(Ue.isUndefined(y)){if(!Ue.isUndefined(m))return r(void 0,m)}else return r(void 0,y)}function l(m,y,f){if(f in t)return r(m,y);if(f in e)return r(void 0,m)}const u={url:n,method:n,data:n,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(m,y,f)=>o(hh(m),hh(y),f,!0)};return Ue.forEach(Object.keys({...e,...t}),function(y){const f=u[y]||o,x=f(e[y],t[y],y);Ue.isUndefined(x)&&f!==l||(s[y]=x)}),s}const of=e=>{const t=Qo({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:n,headers:i,auth:l}=t;if(t.headers=i=ka.from(i),t.url=Zm(rf(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ue.isFormData(s)){if(aa.hasStandardBrowserEnv||aa.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Ue.isFunction(s.getHeaders)){const u=s.getHeaders(),m=["content-type","content-length"];Object.entries(u).forEach(([y,f])=>{m.includes(y.toLowerCase())&&i.set(y,f)})}}if(aa.hasStandardBrowserEnv&&(r&&Ue.isFunction(r)&&(r=r(t)),r||r!==!1&&v1(t.url))){const u=o&&n&&x1.read(n);u&&i.set(o,u)}return t},w1=typeof XMLHttpRequest<"u",_1=w1&&function(e){return new Promise(function(s,r){const o=of(e);let n=o.data;const i=ka.from(o.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:m}=o,y,f,x,c,h;function g(){c&&c(),h&&h(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let d=new XMLHttpRequest;d.open(o.method.toUpperCase(),o.url,!0),d.timeout=o.timeout;function p(){if(!d)return;const b=ka.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:b,config:e,request:d};af(function(T){s(T),g()},function(T){r(T),g()},E),d=null}"onloadend"in d?d.onloadend=p:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(p)},d.onabort=function(){d&&(r(new Gt("Request aborted",Gt.ECONNABORTED,e,d)),d=null)},d.onerror=function(w){const E=w&&w.message?w.message:"Network Error",C=new Gt(E,Gt.ERR_NETWORK,e,d);C.event=w||null,r(C),d=null},d.ontimeout=function(){let w=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const E=o.transitional||ef;o.timeoutErrorMessage&&(w=o.timeoutErrorMessage),r(new Gt(w,E.clarifyTimeoutError?Gt.ETIMEDOUT:Gt.ECONNABORTED,e,d)),d=null},n===void 0&&i.setContentType(null),"setRequestHeader"in d&&Ue.forEach(i.toJSON(),function(w,E){d.setRequestHeader(E,w)}),Ue.isUndefined(o.withCredentials)||(d.withCredentials=!!o.withCredentials),l&&l!=="json"&&(d.responseType=o.responseType),m&&([x,h]=sd(m,!0),d.addEventListener("progress",x)),u&&d.upload&&([f,c]=sd(u),d.upload.addEventListener("progress",f),d.upload.addEventListener("loadend",c)),(o.cancelToken||o.signal)&&(y=b=>{d&&(r(!b||b.type?new Rn(null,e,d):b),d.abort(),d=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const v=m1(o.url);if(v&&aa.protocols.indexOf(v)===-1){r(new Gt("Unsupported protocol "+v+":",Gt.ERR_BAD_REQUEST,e));return}d.send(n||null)})},$1=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,o;const n=function(m){if(!o){o=!0,l();const y=m instanceof Error?m:this.reason;r.abort(y instanceof Gt?y:new Rn(y instanceof Error?y.message:y))}};let i=t&&setTimeout(()=>{i=null,n(new Gt(`timeout ${t} of ms exceeded`,Gt.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(n):m.removeEventListener("abort",n)}),e=null)};e.forEach(m=>m.addEventListener("abort",n));const{signal:u}=r;return u.unsubscribe=()=>Ue.asap(l),u}},C1=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,o;for(;r<s;)o=r+t,yield e.slice(r,o),r=o},S1=async function*(e,t){for await(const s of E1(e))yield*C1(s,t)},E1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},gh=(e,t,s,r)=>{const o=S1(e,t);let n=0,i,l=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:m,value:y}=await o.next();if(m){l(),u.close();return}let f=y.byteLength;if(s){let x=n+=f;s(x)}u.enqueue(new Uint8Array(y))}catch(m){throw l(m),m}},cancel(u){return l(u),o.return()}},{highWaterMark:2})},ph=64*1024,{isFunction:pl}=Ue,T1=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ue.global),{ReadableStream:mh,TextEncoder:fh}=Ue.global,yh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},A1=e=>{e=Ue.merge.call({skipUndefined:!0},T1,e);const{fetch:t,Request:s,Response:r}=e,o=t?pl(t):typeof fetch=="function",n=pl(s),i=pl(r);if(!o)return!1;const l=o&&pl(mh),u=o&&(typeof fh=="function"?(h=>g=>h.encode(g))(new fh):async h=>new Uint8Array(await new s(h).arrayBuffer())),m=n&&l&&yh(()=>{let h=!1;const g=new s(aa.origin,{body:new mh,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!g}),y=i&&l&&yh(()=>Ue.isReadableStream(new r("").body)),f={stream:y&&(h=>h.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!f[h]&&(f[h]=(g,d)=>{let p=g&&g[h];if(p)return p.call(g);throw new Gt(`Response type '${h}' is not supported`,Gt.ERR_NOT_SUPPORT,d)})});const x=async h=>{if(h==null)return 0;if(Ue.isBlob(h))return h.size;if(Ue.isSpecCompliantForm(h))return(await new s(aa.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(Ue.isArrayBufferView(h)||Ue.isArrayBuffer(h))return h.byteLength;if(Ue.isURLSearchParams(h)&&(h=h+""),Ue.isString(h))return(await u(h)).byteLength},c=async(h,g)=>{const d=Ue.toFiniteNumber(h.getContentLength());return d??x(g)};return async h=>{let{url:g,method:d,data:p,signal:v,cancelToken:b,timeout:w,onDownloadProgress:E,onUploadProgress:C,responseType:T,headers:P,withCredentials:A="same-origin",fetchOptions:j}=of(h),V=t||fetch;T=T?(T+"").toLowerCase():"text";let H=$1([v,b&&b.toAbortSignal()],w),R=null;const M=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let B;try{if(C&&m&&d!=="get"&&d!=="head"&&(B=await c(P,p))!==0){let ye=new s(g,{method:"POST",body:p,duplex:"half"}),z;if(Ue.isFormData(p)&&(z=ye.headers.get("content-type"))&&P.setContentType(z),ye.body){const[q,X]=ch(B,sd(uh(C)));p=gh(ye.body,ph,q,X)}}Ue.isString(A)||(A=A?"include":"omit");const W=n&&"credentials"in s.prototype,K={...j,signal:H,method:d.toUpperCase(),headers:P.normalize().toJSON(),body:p,duplex:"half",credentials:W?A:void 0};R=n&&new s(g,K);let Z=await(n?V(R,j):V(g,K));const Te=y&&(T==="stream"||T==="response");if(y&&(E||Te&&M)){const ye={};["status","statusText","headers"].forEach(se=>{ye[se]=Z[se]});const z=Ue.toFiniteNumber(Z.headers.get("content-length")),[q,X]=E&&ch(z,sd(uh(E),!0))||[];Z=new r(gh(Z.body,ph,q,()=>{X&&X(),M&&M()}),ye)}T=T||"text";let _e=await f[Ue.findKey(f,T)||"text"](Z,h);return!Te&&M&&M(),await new Promise((ye,z)=>{af(ye,z,{data:_e,headers:ka.from(Z.headers),status:Z.status,statusText:Z.statusText,config:h,request:R})})}catch(W){throw M&&M(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new Gt("Network Error",Gt.ERR_NETWORK,h,R),{cause:W.cause||W}):Gt.from(W,W&&W.code,h,R)}}},L1=new Map,nf=e=>{let t=e&&e.env||{};const{fetch:s,Request:r,Response:o}=t,n=[r,o,s];let i=n.length,l=i,u,m,y=L1;for(;l--;)u=n[l],m=y.get(u),m===void 0&&y.set(u,m=l?new Map:A1(t)),y=m;return m};nf();const Xu={http:Kb,xhr:_1,fetch:{get:nf}};Ue.forEach(Xu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vh=e=>`- ${e}`,M1=e=>Ue.isFunction(e)||e===null||e===!1;function P1(e,t){e=Ue.isArray(e)?e:[e];const{length:s}=e;let r,o;const n={};for(let i=0;i<s;i++){r=e[i];let l;if(o=r,!M1(r)&&(o=Xu[(l=String(r)).toLowerCase()],o===void 0))throw new Gt(`Unknown adapter '${l}'`);if(o&&(Ue.isFunction(o)||(o=o.get(t))))break;n[l||"#"+i]=o}if(!o){const i=Object.entries(n).map(([u,m])=>`adapter ${u} `+(m===!1?"is not supported by the environment":"is not available in the build"));let l=s?i.length>1?`since :
`+i.map(vh).join(`
`):" "+vh(i[0]):"as no adapter specified";throw new Gt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o}const lf={getAdapter:P1,adapters:Xu};function cc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rn(null,e)}function xh(e){return cc(e),e.headers=ka.from(e.headers),e.data=dc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lf.getAdapter(e.adapter||sl.adapter,e)(e).then(function(r){return cc(e),r.data=dc.call(e,e.transformResponse,r),r.headers=ka.from(r.headers),r},function(r){return sf(r)||(cc(e),r&&r.response&&(r.response.data=dc.call(e,e.transformResponse,r.response),r.response.headers=ka.from(r.response.headers))),Promise.reject(r)})}const df="1.13.1",Dd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dd[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const bh={};Dd.transitional=function(t,s,r){function o(n,i){return"[Axios v"+df+"] Transitional option '"+n+"'"+i+(r?". "+r:"")}return(n,i,l)=>{if(t===!1)throw new Gt(o(i," has been removed"+(s?" in "+s:"")),Gt.ERR_DEPRECATED);return s&&!bh[i]&&(bh[i]=!0,console.warn(o(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(n,i,l):!0}};Dd.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function D1(e,t,s){if(typeof e!="object")throw new Gt("options must be an object",Gt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const n=r[o],i=t[n];if(i){const l=e[n],u=l===void 0||i(l,n,e);if(u!==!0)throw new Gt("option "+n+" must be "+u,Gt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Gt("Unknown option "+n,Gt.ERR_BAD_OPTION)}}const Vl={assertOptions:D1,validators:Dd},tr=Vl.validators;let zo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new lh,response:new lh}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const n=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?n&&!String(r.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+n):r.stack=n}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Qo(this.defaults,s);const{transitional:r,paramsSerializer:o,headers:n}=s;r!==void 0&&Vl.assertOptions(r,{silentJSONParsing:tr.transitional(tr.boolean),forcedJSONParsing:tr.transitional(tr.boolean),clarifyTimeoutError:tr.transitional(tr.boolean)},!1),o!=null&&(Ue.isFunction(o)?s.paramsSerializer={serialize:o}:Vl.assertOptions(o,{encode:tr.function,serialize:tr.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Vl.assertOptions(s,{baseUrl:tr.spelling("baseURL"),withXsrfToken:tr.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=n&&Ue.merge(n.common,n[s.method]);n&&Ue.forEach(["delete","get","head","post","put","patch","common"],h=>{delete n[h]}),s.headers=ka.concat(i,n);const l=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(s)===!1||(u=u&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const m=[];this.interceptors.response.forEach(function(g){m.push(g.fulfilled,g.rejected)});let y,f=0,x;if(!u){const h=[xh.bind(this),void 0];for(h.unshift(...l),h.push(...m),x=h.length,y=Promise.resolve(s);f<x;)y=y.then(h[f++],h[f++]);return y}x=l.length;let c=s;for(;f<x;){const h=l[f++],g=l[f++];try{c=h(c)}catch(d){g.call(this,d);break}}try{y=xh.call(this,c)}catch(h){return Promise.reject(h)}for(f=0,x=m.length;f<x;)y=y.then(m[f++],m[f++]);return y}getUri(t){t=Qo(this.defaults,t);const s=rf(t.baseURL,t.url,t.allowAbsoluteUrls);return Zm(s,t.params,t.paramsSerializer)}};Ue.forEach(["delete","get","head","options"],function(t){zo.prototype[t]=function(s,r){return this.request(Qo(r||{},{method:t,url:s,data:(r||{}).data}))}});Ue.forEach(["post","put","patch"],function(t){function s(r){return function(n,i,l){return this.request(Qo(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}zo.prototype[t]=s(),zo.prototype[t+"Form"]=s(!0)});let I1=class cf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(n){s=n});const r=this;this.promise.then(o=>{if(!r._listeners)return;let n=r._listeners.length;for(;n-- >0;)r._listeners[n](o);r._listeners=null}),this.promise.then=o=>{let n;const i=new Promise(l=>{r.subscribe(l),n=l}).then(o);return i.cancel=function(){r.unsubscribe(n)},i},t(function(n,i,l){r.reason||(r.reason=new Rn(n,i,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new cf(function(o){t=o}),cancel:t}}};function O1(e){return function(s){return e.apply(null,s)}}function F1(e){return Ue.isObject(e)&&e.isAxiosError===!0}const Xc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Xc).forEach(([e,t])=>{Xc[t]=e});function uf(e){const t=new zo(e),s=Bm(zo.prototype.request,t);return Ue.extend(s,zo.prototype,t,{allOwnKeys:!0}),Ue.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return uf(Qo(e,o))},s}const _s=uf(sl);_s.Axios=zo;_s.CanceledError=Rn;_s.CancelToken=I1;_s.isCancel=sf;_s.VERSION=df;_s.toFormData=Pd;_s.AxiosError=Gt;_s.Cancel=_s.CanceledError;_s.all=function(t){return Promise.all(t)};_s.spread=O1;_s.isAxiosError=F1;_s.mergeConfig=Qo;_s.AxiosHeaders=ka;_s.formToJSON=e=>tf(Ue.isHTMLForm(e)?new FormData(e):e);_s.getAdapter=lf.getAdapter;_s.HttpStatusCode=Xc;_s.default=_s;const{Axios:R1,AxiosError:j1,CanceledError:N1,isCancel:V1,CancelToken:B1,VERSION:U1,all:H1,Cancel:q1,isAxiosError:z1,spread:W1,toFormData:K1,AxiosHeaders:Y1,HttpStatusCode:G1,formToJSON:J1,getAdapter:Q1,mergeConfig:X1}=_s,Z1=Object.freeze(Object.defineProperty({__proto__:null,Axios:R1,AxiosError:j1,AxiosHeaders:Y1,Cancel:q1,CancelToken:B1,CanceledError:N1,HttpStatusCode:G1,VERSION:U1,all:H1,default:_s,formToJSON:J1,getAdapter:Q1,isAxiosError:z1,isCancel:V1,mergeConfig:X1,spread:W1,toFormData:K1},Symbol.toStringTag,{value:"Module"}));var ek=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hf={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,t){(function(s,r){e.exports=r()})(ek,function(){var s={};s.version="0.2.0";var r=s.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};s.configure=function(h){var g,d;for(g in h)d=h[g],d!==void 0&&h.hasOwnProperty(g)&&(r[g]=d);return this},s.status=null,s.set=function(h){var g=s.isStarted();h=o(h,r.minimum,1),s.status=h===1?null:h;var d=s.render(!g),p=d.querySelector(r.barSelector),v=r.speed,b=r.easing;return d.offsetWidth,l(function(w){r.positionUsing===""&&(r.positionUsing=s.getPositioningCSS()),u(p,i(h,v,b)),h===1?(u(d,{transition:"none",opacity:1}),d.offsetWidth,setTimeout(function(){u(d,{transition:"all "+v+"ms linear",opacity:0}),setTimeout(function(){s.remove(),w()},v)},v)):setTimeout(w,v)}),this},s.isStarted=function(){return typeof s.status=="number"},s.start=function(){s.status||s.set(0);var h=function(){setTimeout(function(){s.status&&(s.trickle(),h())},r.trickleSpeed)};return r.trickle&&h(),this},s.done=function(h){return!h&&!s.status?this:s.inc(.3+.5*Math.random()).set(1)},s.inc=function(h){var g=s.status;return g?(typeof h!="number"&&(h=(1-g)*o(Math.random()*g,.1,.95)),g=o(g+h,0,.994),s.set(g)):s.start()},s.trickle=function(){return s.inc(Math.random()*r.trickleRate)},function(){var h=0,g=0;s.promise=function(d){return!d||d.state()==="resolved"?this:(g===0&&s.start(),h++,g++,d.always(function(){g--,g===0?(h=0,s.done()):s.set((h-g)/h)}),this)}}(),s.render=function(h){if(s.isRendered())return document.getElementById("nprogress");y(document.documentElement,"nprogress-busy");var g=document.createElement("div");g.id="nprogress",g.innerHTML=r.template;var d=g.querySelector(r.barSelector),p=h?"-100":n(s.status||0),v=document.querySelector(r.parent),b;return u(d,{transition:"all 0 linear",transform:"translate3d("+p+"%,0,0)"}),r.showSpinner||(b=g.querySelector(r.spinnerSelector),b&&c(b)),v!=document.body&&y(v,"nprogress-custom-parent"),v.appendChild(g),g},s.remove=function(){f(document.documentElement,"nprogress-busy"),f(document.querySelector(r.parent),"nprogress-custom-parent");var h=document.getElementById("nprogress");h&&c(h)},s.isRendered=function(){return!!document.getElementById("nprogress")},s.getPositioningCSS=function(){var h=document.body.style,g="WebkitTransform"in h?"Webkit":"MozTransform"in h?"Moz":"msTransform"in h?"ms":"OTransform"in h?"O":"";return g+"Perspective"in h?"translate3d":g+"Transform"in h?"translate":"margin"};function o(h,g,d){return h<g?g:h>d?d:h}function n(h){return(-1+h)*100}function i(h,g,d){var p;return r.positionUsing==="translate3d"?p={transform:"translate3d("+n(h)+"%,0,0)"}:r.positionUsing==="translate"?p={transform:"translate("+n(h)+"%,0)"}:p={"margin-left":n(h)+"%"},p.transition="all "+g+"ms "+d,p}var l=function(){var h=[];function g(){var d=h.shift();d&&d(g)}return function(d){h.push(d),h.length==1&&g()}}(),u=function(){var h=["Webkit","O","Moz","ms"],g={};function d(w){return w.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(E,C){return C.toUpperCase()})}function p(w){var E=document.body.style;if(w in E)return w;for(var C=h.length,T=w.charAt(0).toUpperCase()+w.slice(1),P;C--;)if(P=h[C]+T,P in E)return P;return w}function v(w){return w=d(w),g[w]||(g[w]=p(w))}function b(w,E,C){E=v(E),w.style[E]=C}return function(w,E){var C=arguments,T,P;if(C.length==2)for(T in E)P=E[T],P!==void 0&&E.hasOwnProperty(T)&&b(w,T,P);else b(w,C[1],C[2])}}();function m(h,g){var d=typeof h=="string"?h:x(h);return d.indexOf(" "+g+" ")>=0}function y(h,g){var d=x(h),p=d+g;m(d,g)||(h.className=p.substring(1))}function f(h,g){var d=x(h),p;m(h,g)&&(p=d.replace(" "+g+" "," "),h.className=p.substring(1,p.length-1))}function x(h){return(" "+(h.className||"")+" ").replace(/\s+/gi," ")}function c(h){h&&h.parentNode&&h.parentNode.removeChild(h)}return s})})(hf);var sk=hf.exports;const Cn=tk(sk);window.axios=_s;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";_s.interceptors.request.use(e=>(Cn.start(),e));_s.interceptors.response.use(e=>(Cn.done(),e),e=>(Cn.done(),Promise.reject(e)));/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Zu(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ms={},vn=[],ur=()=>{},gf=()=>!1,Id=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),e0=e=>e.startsWith("onUpdate:"),Vs=Object.assign,t0=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ak=Object.prototype.hasOwnProperty,ls=(e,t)=>ak.call(e,t),Mt=Array.isArray,xn=e=>al(e)==="[object Map]",jn=e=>al(e)==="[object Set]",kh=e=>al(e)==="[object Date]",Kt=e=>typeof e=="function",Ts=e=>typeof e=="string",Ja=e=>typeof e=="symbol",ps=e=>e!==null&&typeof e=="object",pf=e=>(ps(e)||Kt(e))&&Kt(e.then)&&Kt(e.catch),mf=Object.prototype.toString,al=e=>mf.call(e),rk=e=>al(e).slice(8,-1),ff=e=>al(e)==="[object Object]",s0=e=>Ts(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,hi=Zu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Od=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ok=/-\w/g,Fa=Od(e=>e.replace(ok,t=>t.slice(1).toUpperCase())),nk=/\B([A-Z])/g,bo=Od(e=>e.replace(nk,"-$1").toLowerCase()),Fd=Od(e=>e.charAt(0).toUpperCase()+e.slice(1)),uc=Od(e=>e?`on${Fd(e)}`:""),co=(e,t)=>!Object.is(e,t),Bl=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},yf=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},ad=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ik=e=>{const t=Ts(e)?Number(e):NaN;return isNaN(t)?e:t};let wh;const Rd=()=>wh||(wh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fs(e){if(Mt(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],o=Ts(r)?uk(r):fs(r);if(o)for(const n in o)t[n]=o[n]}return t}else if(Ts(e)||ps(e))return e}const lk=/;(?![^(]*\))/g,dk=/:([^]+)/,ck=/\/\*[^]*?\*\//g;function uk(e){const t={};return e.replace(ck,"").split(lk).forEach(s=>{if(s){const r=s.split(dk);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ee(e){let t="";if(Ts(e))t=e;else if(Mt(e))for(let s=0;s<e.length;s++){const r=Ee(e[s]);r&&(t+=r+" ")}else if(ps(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const hk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gk=Zu(hk);function vf(e){return!!e||e===""}function pk(e,t){if(e.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=Xo(e[r],t[r]);return s}function Xo(e,t){if(e===t)return!0;let s=kh(e),r=kh(t);if(s||r)return s&&r?e.getTime()===t.getTime():!1;if(s=Ja(e),r=Ja(t),s||r)return e===t;if(s=Mt(e),r=Mt(t),s||r)return s&&r?pk(e,t):!1;if(s=ps(e),r=ps(t),s||r){if(!s||!r)return!1;const o=Object.keys(e).length,n=Object.keys(t).length;if(o!==n)return!1;for(const i in e){const l=e.hasOwnProperty(i),u=t.hasOwnProperty(i);if(l&&!u||!l&&u||!Xo(e[i],t[i]))return!1}}return String(e)===String(t)}function a0(e,t){return e.findIndex(s=>Xo(s,t))}const xf=e=>!!(e&&e.__v_isRef===!0),k=e=>Ts(e)?e:e==null?"":Mt(e)||ps(e)&&(e.toString===mf||!Kt(e.toString))?xf(e)?k(e.value):JSON.stringify(e,bf,2):String(e),bf=(e,t)=>xf(t)?bf(e,t.value):xn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,o],n)=>(s[hc(r,n)+" =>"]=o,s),{})}:jn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>hc(s))}:Ja(t)?hc(t):ps(t)&&!Mt(t)&&!ff(t)?String(t):t,hc=(e,t="")=>{var s;return Ja(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ea;class kf{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ea,!t&&ea&&(this.index=(ea.scopes||(ea.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ea;try{return ea=this,t()}finally{ea=s}}}on(){++this._on===1&&(this.prevScope=ea,ea=this)}off(){this._on>0&&--this._on===0&&(ea=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function r0(e){return new kf(e)}function wf(){return ea}function mk(e,t=!1){ea&&ea.cleanups.push(e)}let ys;const gc=new WeakSet;class _f{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ea&&ea.active&&ea.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gc.has(this)&&(gc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Cf(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_h(this),Sf(this);const t=ys,s=Ka;ys=this,Ka=!0;try{return this.fn()}finally{Ef(this),ys=t,Ka=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)i0(t);this.deps=this.depsTail=void 0,_h(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zc(this)&&this.run()}get dirty(){return Zc(this)}}let $f=0,gi,pi;function Cf(e,t=!1){if(e.flags|=8,t){e.next=pi,pi=e;return}e.next=gi,gi=e}function o0(){$f++}function n0(){if(--$f>0)return;if(pi){let t=pi;for(pi=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;gi;){let t=gi;for(gi=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function Sf(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ef(e){let t,s=e.depsTail,r=s;for(;r;){const o=r.prevDep;r.version===-1?(r===s&&(s=o),i0(r),fk(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=s}function Zc(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Tf(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Tf(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ei)||(e.globalVersion=Ei,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Zc(e))))return;e.flags|=2;const t=e.dep,s=ys,r=Ka;ys=e,Ka=!0;try{Sf(e);const o=e.fn(e._value);(t.version===0||co(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{ys=s,Ka=r,Ef(e),e.flags&=-3}}function i0(e,t=!1){const{dep:s,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let n=s.computed.deps;n;n=n.nextDep)i0(n,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function fk(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ka=!0;const Af=[];function Nr(){Af.push(Ka),Ka=!1}function Vr(){const e=Af.pop();Ka=e===void 0?!0:e}function _h(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ys;ys=void 0;try{t()}finally{ys=s}}}let Ei=0;class yk{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class l0{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ys||!Ka||ys===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ys)s=this.activeLink=new yk(ys,this),ys.deps?(s.prevDep=ys.depsTail,ys.depsTail.nextDep=s,ys.depsTail=s):ys.deps=ys.depsTail=s,Lf(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ys.depsTail,s.nextDep=void 0,ys.depsTail.nextDep=s,ys.depsTail=s,ys.deps===s&&(ys.deps=r)}return s}trigger(t){this.version++,Ei++,this.notify(t)}notify(t){o0();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{n0()}}}function Lf(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Lf(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const rd=new WeakMap,Wo=Symbol(""),eu=Symbol(""),Ti=Symbol("");function sa(e,t,s){if(Ka&&ys){let r=rd.get(e);r||rd.set(e,r=new Map);let o=r.get(s);o||(r.set(s,o=new l0),o.map=r,o.key=s),o.track()}}function Lr(e,t,s,r,o,n){const i=rd.get(e);if(!i){Ei++;return}const l=u=>{u&&u.trigger()};if(o0(),t==="clear")i.forEach(l);else{const u=Mt(e),m=u&&s0(s);if(u&&s==="length"){const y=Number(r);i.forEach((f,x)=>{(x==="length"||x===Ti||!Ja(x)&&x>=y)&&l(f)})}else switch((s!==void 0||i.has(void 0))&&l(i.get(s)),m&&l(i.get(Ti)),t){case"add":u?m&&l(i.get("length")):(l(i.get(Wo)),xn(e)&&l(i.get(eu)));break;case"delete":u||(l(i.get(Wo)),xn(e)&&l(i.get(eu)));break;case"set":xn(e)&&l(i.get(Wo));break}}n0()}function vk(e,t){const s=rd.get(e);return s&&s.get(t)}function nn(e){const t=qt(e);return t===e?t:(sa(t,"iterate",Ti),Ia(e)?t:t.map(Ys))}function jd(e){return sa(e=qt(e),"iterate",Ti),e}const xk={__proto__:null,[Symbol.iterator](){return pc(this,Symbol.iterator,Ys)},concat(...e){return nn(this).concat(...e.map(t=>Mt(t)?nn(t):t))},entries(){return pc(this,"entries",e=>(e[1]=Ys(e[1]),e))},every(e,t){return xr(this,"every",e,t,void 0,arguments)},filter(e,t){return xr(this,"filter",e,t,s=>s.map(Ys),arguments)},find(e,t){return xr(this,"find",e,t,Ys,arguments)},findIndex(e,t){return xr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xr(this,"findLast",e,t,Ys,arguments)},findLastIndex(e,t){return xr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xr(this,"forEach",e,t,void 0,arguments)},includes(...e){return mc(this,"includes",e)},indexOf(...e){return mc(this,"indexOf",e)},join(e){return nn(this).join(e)},lastIndexOf(...e){return mc(this,"lastIndexOf",e)},map(e,t){return xr(this,"map",e,t,void 0,arguments)},pop(){return Kn(this,"pop")},push(...e){return Kn(this,"push",e)},reduce(e,...t){return $h(this,"reduce",e,t)},reduceRight(e,...t){return $h(this,"reduceRight",e,t)},shift(){return Kn(this,"shift")},some(e,t){return xr(this,"some",e,t,void 0,arguments)},splice(...e){return Kn(this,"splice",e)},toReversed(){return nn(this).toReversed()},toSorted(e){return nn(this).toSorted(e)},toSpliced(...e){return nn(this).toSpliced(...e)},unshift(...e){return Kn(this,"unshift",e)},values(){return pc(this,"values",Ys)}};function pc(e,t,s){const r=jd(e),o=r[t]();return r!==e&&!Ia(e)&&(o._next=o.next,o.next=()=>{const n=o._next();return n.done||(n.value=s(n.value)),n}),o}const bk=Array.prototype;function xr(e,t,s,r,o,n){const i=jd(e),l=i!==e&&!Ia(e),u=i[t];if(u!==bk[t]){const f=u.apply(e,n);return l?Ys(f):f}let m=s;i!==e&&(l?m=function(f,x){return s.call(this,Ys(f),x,e)}:s.length>2&&(m=function(f,x){return s.call(this,f,x,e)}));const y=u.call(i,m,r);return l&&o?o(y):y}function $h(e,t,s,r){const o=jd(e);let n=s;return o!==e&&(Ia(e)?s.length>3&&(n=function(i,l,u){return s.call(this,i,l,u,e)}):n=function(i,l,u){return s.call(this,i,Ys(l),u,e)}),o[t](n,...r)}function mc(e,t,s){const r=qt(e);sa(r,"iterate",Ti);const o=r[t](...s);return(o===-1||o===!1)&&u0(s[0])?(s[0]=qt(s[0]),r[t](...s)):o}function Kn(e,t,s=[]){Nr(),o0();const r=qt(e)[t].apply(e,s);return n0(),Vr(),r}const kk=Zu("__proto__,__v_isRef,__isVue"),Mf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ja));function wk(e){Ja(e)||(e=String(e));const t=qt(this);return sa(t,"has",e),t.hasOwnProperty(e)}class Pf{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const o=this._isReadonly,n=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return n;if(s==="__v_raw")return r===(o?n?Pk:Ff:n?Of:If).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const i=Mt(t);if(!o){let u;if(i&&(u=xk[s]))return u;if(s==="hasOwnProperty")return wk}const l=Reflect.get(t,s,Ms(t)?t:r);if((Ja(s)?Mf.has(s):kk(s))||(o||sa(t,"get",s),n))return l;if(Ms(l)){const u=i&&s0(s)?l:l.value;return o&&ps(u)?su(u):u}return ps(l)?o?su(l):Es(l):l}}class Df extends Pf{constructor(t=!1){super(!1,t)}set(t,s,r,o){let n=t[s];if(!this._isShallow){const u=go(n);if(!Ia(r)&&!go(r)&&(n=qt(n),r=qt(r)),!Mt(t)&&Ms(n)&&!Ms(r))return u||(n.value=r),!0}const i=Mt(t)&&s0(s)?Number(s)<t.length:ls(t,s),l=Reflect.set(t,s,r,Ms(t)?t:o);return t===qt(o)&&(i?co(r,n)&&Lr(t,"set",s,r):Lr(t,"add",s,r)),l}deleteProperty(t,s){const r=ls(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&r&&Lr(t,"delete",s,void 0),o}has(t,s){const r=Reflect.has(t,s);return(!Ja(s)||!Mf.has(s))&&sa(t,"has",s),r}ownKeys(t){return sa(t,"iterate",Mt(t)?"length":Wo),Reflect.ownKeys(t)}}class _k extends Pf{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const $k=new Df,Ck=new _k,Sk=new Df(!0);const tu=e=>e,ml=e=>Reflect.getPrototypeOf(e);function Ek(e,t,s){return function(...r){const o=this.__v_raw,n=qt(o),i=xn(n),l=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,m=o[e](...r),y=s?tu:t?od:Ys;return!t&&sa(n,"iterate",u?eu:Wo),{next(){const{value:f,done:x}=m.next();return x?{value:f,done:x}:{value:l?[y(f[0]),y(f[1])]:y(f),done:x}},[Symbol.iterator](){return this}}}}function fl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Tk(e,t){const s={get(o){const n=this.__v_raw,i=qt(n),l=qt(o);e||(co(o,l)&&sa(i,"get",o),sa(i,"get",l));const{has:u}=ml(i),m=t?tu:e?od:Ys;if(u.call(i,o))return m(n.get(o));if(u.call(i,l))return m(n.get(l));n!==i&&n.get(o)},get size(){const o=this.__v_raw;return!e&&sa(qt(o),"iterate",Wo),o.size},has(o){const n=this.__v_raw,i=qt(n),l=qt(o);return e||(co(o,l)&&sa(i,"has",o),sa(i,"has",l)),o===l?n.has(o):n.has(o)||n.has(l)},forEach(o,n){const i=this,l=i.__v_raw,u=qt(l),m=t?tu:e?od:Ys;return!e&&sa(u,"iterate",Wo),l.forEach((y,f)=>o.call(n,m(y),m(f),i))}};return Vs(s,e?{add:fl("add"),set:fl("set"),delete:fl("delete"),clear:fl("clear")}:{add(o){!t&&!Ia(o)&&!go(o)&&(o=qt(o));const n=qt(this);return ml(n).has.call(n,o)||(n.add(o),Lr(n,"add",o,o)),this},set(o,n){!t&&!Ia(n)&&!go(n)&&(n=qt(n));const i=qt(this),{has:l,get:u}=ml(i);let m=l.call(i,o);m||(o=qt(o),m=l.call(i,o));const y=u.call(i,o);return i.set(o,n),m?co(n,y)&&Lr(i,"set",o,n):Lr(i,"add",o,n),this},delete(o){const n=qt(this),{has:i,get:l}=ml(n);let u=i.call(n,o);u||(o=qt(o),u=i.call(n,o)),l&&l.call(n,o);const m=n.delete(o);return u&&Lr(n,"delete",o,void 0),m},clear(){const o=qt(this),n=o.size!==0,i=o.clear();return n&&Lr(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{s[o]=Ek(o,e,t)}),s}function d0(e,t){const s=Tk(e,t);return(r,o,n)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(ls(s,o)&&o in r?s:r,o,n)}const Ak={get:d0(!1,!1)},Lk={get:d0(!1,!0)},Mk={get:d0(!0,!1)};const If=new WeakMap,Of=new WeakMap,Ff=new WeakMap,Pk=new WeakMap;function Dk(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ik(e){return e.__v_skip||!Object.isExtensible(e)?0:Dk(rk(e))}function Es(e){return go(e)?e:c0(e,!1,$k,Ak,If)}function Rf(e){return c0(e,!1,Sk,Lk,Of)}function su(e){return c0(e,!0,Ck,Mk,Ff)}function c0(e,t,s,r,o){if(!ps(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=Ik(e);if(n===0)return e;const i=o.get(e);if(i)return i;const l=new Proxy(e,n===2?r:s);return o.set(e,l),l}function uo(e){return go(e)?uo(e.__v_raw):!!(e&&e.__v_isReactive)}function go(e){return!!(e&&e.__v_isReadonly)}function Ia(e){return!!(e&&e.__v_isShallow)}function u0(e){return e?!!e.__v_raw:!1}function qt(e){const t=e&&e.__v_raw;return t?qt(t):e}function h0(e){return!ls(e,"__v_skip")&&Object.isExtensible(e)&&yf(e,"__v_skip",!0),e}const Ys=e=>ps(e)?Es(e):e,od=e=>ps(e)?su(e):e;function Ms(e){return e?e.__v_isRef===!0:!1}function O(e){return jf(e,!1)}function g0(e){return jf(e,!0)}function jf(e,t){return Ms(e)?e:new Ok(e,t)}class Ok{constructor(t,s){this.dep=new l0,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:qt(t),this._value=s?t:Ys(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||Ia(t)||go(t);t=r?t:qt(t),co(t,s)&&(this._rawValue=t,this._value=r?t:Ys(t),this.dep.trigger())}}function F(e){return Ms(e)?e.value:e}const Fk={get:(e,t,s)=>t==="__v_raw"?e:F(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const o=e[t];return Ms(o)&&!Ms(s)?(o.value=s,!0):Reflect.set(e,t,s,r)}};function Nf(e){return uo(e)?e:new Proxy(e,Fk)}function Rk(e){const t=Mt(e)?new Array(e.length):{};for(const s in e)t[s]=Nk(e,s);return t}class jk{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return vk(qt(this._object),this._key)}}function Nk(e,t,s){const r=e[t];return Ms(r)?r:new jk(e,t,s)}class Vk{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new l0(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ei-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ys!==this)return Cf(this,!0),!0}get value(){const t=this.dep.track();return Tf(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Bk(e,t,s=!1){let r,o;return Kt(e)?r=e:(r=e.get,o=e.set),new Vk(r,o,s)}const yl={},nd=new WeakMap;let jo;function Uk(e,t=!1,s=jo){if(s){let r=nd.get(s);r||nd.set(s,r=[]),r.push(e)}}function Hk(e,t,s=ms){const{immediate:r,deep:o,once:n,scheduler:i,augmentJob:l,call:u}=s,m=w=>o?w:Ia(w)||o===!1||o===0?Mr(w,1):Mr(w);let y,f,x,c,h=!1,g=!1;if(Ms(e)?(f=()=>e.value,h=Ia(e)):uo(e)?(f=()=>m(e),h=!0):Mt(e)?(g=!0,h=e.some(w=>uo(w)||Ia(w)),f=()=>e.map(w=>{if(Ms(w))return w.value;if(uo(w))return m(w);if(Kt(w))return u?u(w,2):w()})):Kt(e)?t?f=u?()=>u(e,2):e:f=()=>{if(x){Nr();try{x()}finally{Vr()}}const w=jo;jo=y;try{return u?u(e,3,[c]):e(c)}finally{jo=w}}:f=ur,t&&o){const w=f,E=o===!0?1/0:o;f=()=>Mr(w(),E)}const d=wf(),p=()=>{y.stop(),d&&d.active&&t0(d.effects,y)};if(n&&t){const w=t;t=(...E)=>{w(...E),p()}}let v=g?new Array(e.length).fill(yl):yl;const b=w=>{if(!(!(y.flags&1)||!y.dirty&&!w))if(t){const E=y.run();if(o||h||(g?E.some((C,T)=>co(C,v[T])):co(E,v))){x&&x();const C=jo;jo=y;try{const T=[E,v===yl?void 0:g&&v[0]===yl?[]:v,c];v=E,u?u(t,3,T):t(...T)}finally{jo=C}}}else y.run()};return l&&l(b),y=new _f(f),y.scheduler=i?()=>i(b,!1):b,c=w=>Uk(w,!1,y),x=y.onStop=()=>{const w=nd.get(y);if(w){if(u)u(w,4);else for(const E of w)E();nd.delete(y)}},t?r?b(!0):v=y.run():i?i(b.bind(null,!0),!0):y.run(),p.pause=y.pause.bind(y),p.resume=y.resume.bind(y),p.stop=p,p}function Mr(e,t=1/0,s){if(t<=0||!ps(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Ms(e))Mr(e.value,t,s);else if(Mt(e))for(let r=0;r<e.length;r++)Mr(e[r],t,s);else if(jn(e)||xn(e))e.forEach(r=>{Mr(r,t,s)});else if(ff(e)){for(const r in e)Mr(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Mr(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rl(e,t,s,r){try{return r?e(...r):e()}catch(o){Nd(o,t,s)}}function Qa(e,t,s,r){if(Kt(e)){const o=rl(e,t,s,r);return o&&pf(o)&&o.catch(n=>{Nd(n,t,s)}),o}if(Mt(e)){const o=[];for(let n=0;n<e.length;n++)o.push(Qa(e[n],t,s,r));return o}}function Nd(e,t,s,r=!0){const o=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||ms;if(t){let l=t.parent;const u=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const y=l.ec;if(y){for(let f=0;f<y.length;f++)if(y[f](e,u,m)===!1)return}l=l.parent}if(n){Nr(),rl(n,null,10,[e,u,m]),Vr();return}}qk(e,s,o,r,i)}function qk(e,t,s,r=!0,o=!1){if(o)throw e;console.error(e)}const pa=[];let or=-1;const bn=[];let eo=null,pn=0;const Vf=Promise.resolve();let id=null;function zs(e){const t=id||Vf;return e?t.then(this?e.bind(this):e):t}function zk(e){let t=or+1,s=pa.length;for(;t<s;){const r=t+s>>>1,o=pa[r],n=Ai(o);n<e||n===e&&o.flags&2?t=r+1:s=r}return t}function p0(e){if(!(e.flags&1)){const t=Ai(e),s=pa[pa.length-1];!s||!(e.flags&2)&&t>=Ai(s)?pa.push(e):pa.splice(zk(t),0,e),e.flags|=1,Bf()}}function Bf(){id||(id=Vf.then(Hf))}function Wk(e){Mt(e)?bn.push(...e):eo&&e.id===-1?eo.splice(pn+1,0,e):e.flags&1||(bn.push(e),e.flags|=1),Bf()}function Ch(e,t,s=or+1){for(;s<pa.length;s++){const r=pa[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;pa.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Uf(e){if(bn.length){const t=[...new Set(bn)].sort((s,r)=>Ai(s)-Ai(r));if(bn.length=0,eo){eo.push(...t);return}for(eo=t,pn=0;pn<eo.length;pn++){const s=eo[pn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}eo=null,pn=0}}const Ai=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Hf(e){try{for(or=0;or<pa.length;or++){const t=pa[or];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rl(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;or<pa.length;or++){const t=pa[or];t&&(t.flags&=-2)}or=-1,pa.length=0,Uf(),id=null,(pa.length||bn.length)&&Hf()}}let Gs=null,qf=null;function ld(e){const t=Gs;return Gs=e,qf=e&&e.type.__scopeId||null,t}function le(e,t=Gs,s){if(!t||e._n)return e;const r=(...o)=>{r._d&&ud(-1);const n=ld(t);let i;try{i=e(...o)}finally{ld(n),r._d&&ud(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function rt(e,t){if(Gs===null)return e;const s=qd(Gs),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[n,i,l,u=ms]=t[o];n&&(Kt(n)&&(n={mounted:n,updated:n}),n.deep&&Mr(i),r.push({dir:n,instance:s,value:i,oldValue:void 0,arg:l,modifiers:u}))}return e}function Ao(e,t,s,r){const o=e.dirs,n=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];n&&(l.oldValue=n[i].value);let u=l.dir[r];u&&(Nr(),Qa(u,s,8,[e.el,l,e,t]),Vr())}}const zf=Symbol("_vte"),Wf=e=>e.__isTeleport,mi=e=>e&&(e.disabled||e.disabled===""),Sh=e=>e&&(e.defer||e.defer===""),Eh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Th=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,au=(e,t)=>{const s=e&&e.to;return Ts(s)?t?t(s):null:s},Kf={name:"Teleport",__isTeleport:!0,process(e,t,s,r,o,n,i,l,u,m){const{mc:y,pc:f,pbc:x,o:{insert:c,querySelector:h,createText:g,createComment:d}}=m,p=mi(t.props);let{shapeFlag:v,children:b,dynamicChildren:w}=t;if(e==null){const E=t.el=g(""),C=t.anchor=g("");c(E,s,r),c(C,s,r);const T=(A,j)=>{v&16&&y(b,A,j,o,n,i,l,u)},P=()=>{const A=t.target=au(t.props,h),j=Gf(A,t,g,c);A&&(i!=="svg"&&Eh(A)?i="svg":i!=="mathml"&&Th(A)&&(i="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(A),p||(T(A,j),Ul(t,!1)))};p&&(T(s,C),Ul(t,!0)),Sh(t.props)?(t.el.__isMounted=!1,ha(()=>{P(),delete t.el.__isMounted},n)):P()}else{if(Sh(t.props)&&e.el.__isMounted===!1){ha(()=>{Kf.process(e,t,s,r,o,n,i,l,u,m)},n);return}t.el=e.el,t.targetStart=e.targetStart;const E=t.anchor=e.anchor,C=t.target=e.target,T=t.targetAnchor=e.targetAnchor,P=mi(e.props),A=P?s:C,j=P?E:T;if(i==="svg"||Eh(C)?i="svg":(i==="mathml"||Th(C))&&(i="mathml"),w?(x(e.dynamicChildren,w,A,o,n,i,l),x0(e,t,!0)):u||f(e,t,A,j,o,n,i,l,!1),p)P?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):vl(t,s,E,m,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=au(t.props,h);V&&vl(t,V,null,m,0)}else P&&vl(t,C,T,m,1);Ul(t,p)}},remove(e,t,s,{um:r,o:{remove:o}},n){const{shapeFlag:i,children:l,anchor:u,targetStart:m,targetAnchor:y,target:f,props:x}=e;if(f&&(o(m),o(y)),n&&o(u),i&16){const c=n||!mi(x);for(let h=0;h<l.length;h++){const g=l[h];r(g,t,s,c,!!g.dynamicChildren)}}},move:vl,hydrate:Kk};function vl(e,t,s,{o:{insert:r},m:o},n=2){n===0&&r(e.targetAnchor,t,s);const{el:i,anchor:l,shapeFlag:u,children:m,props:y}=e,f=n===2;if(f&&r(i,t,s),(!f||mi(y))&&u&16)for(let x=0;x<m.length;x++)o(m[x],t,s,2);f&&r(l,t,s)}function Kk(e,t,s,r,o,n,{o:{nextSibling:i,parentNode:l,querySelector:u,insert:m,createText:y}},f){function x(g,d,p,v){d.anchor=f(i(g),d,l(g),s,r,o,n),d.targetStart=p,d.targetAnchor=v}const c=t.target=au(t.props,u),h=mi(t.props);if(c){const g=c._lpa||c.firstChild;if(t.shapeFlag&16)if(h)x(e,t,g,g&&i(g));else{t.anchor=i(e);let d=g;for(;d;){if(d&&d.nodeType===8){if(d.data==="teleport start anchor")t.targetStart=d;else if(d.data==="teleport anchor"){t.targetAnchor=d,c._lpa=t.targetAnchor&&i(t.targetAnchor);break}}d=i(d)}t.targetAnchor||Gf(c,t,y,m),f(g&&i(g),t,c,s,r,o,n)}Ul(t,h)}else h&&t.shapeFlag&16&&x(e,t,e,i(e));return t.anchor&&i(t.anchor)}const Yf=Kf;function Ul(e,t){const s=e.ctx;if(s&&s.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",s.uid),r=r.nextSibling;s.ut()}}function Gf(e,t,s,r){const o=t.targetStart=s(""),n=t.targetAnchor=s("");return o[zf]=n,e&&(r(o,e),r(n,e)),n}const Tr=Symbol("_leaveCb"),xl=Symbol("_enterCb");function Jf(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ot(()=>{e.isMounted=!0}),f0(()=>{e.isUnmounting=!0}),e}const Aa=[Function,Array],Qf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Aa,onEnter:Aa,onAfterEnter:Aa,onEnterCancelled:Aa,onBeforeLeave:Aa,onLeave:Aa,onAfterLeave:Aa,onLeaveCancelled:Aa,onBeforeAppear:Aa,onAppear:Aa,onAfterAppear:Aa,onAppearCancelled:Aa},Xf=e=>{const t=e.subTree;return t.component?Xf(t.component):t},Yk={name:"BaseTransition",props:Qf,setup(e,{slots:t}){const s=mr(),r=Jf();return()=>{const o=t.default&&m0(t.default(),!0);if(!o||!o.length)return;const n=Zf(o),i=qt(e),{mode:l}=i;if(r.isLeaving)return fc(n);const u=Ah(n);if(!u)return fc(n);let m=Li(u,i,r,s,f=>m=f);u.type!==ra&&Zo(u,m);let y=s.subTree&&Ah(s.subTree);if(y&&y.type!==ra&&!Bo(y,u)&&Xf(s).type!==ra){let f=Li(y,i,r,s);if(Zo(y,f),l==="out-in"&&u.type!==ra)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete f.afterLeave,y=void 0},fc(n);l==="in-out"&&u.type!==ra?f.delayLeave=(x,c,h)=>{const g=ey(r,y);g[String(y.key)]=y,x[Tr]=()=>{c(),x[Tr]=void 0,delete m.delayedLeave,y=void 0},m.delayedLeave=()=>{h(),delete m.delayedLeave,y=void 0}}:y=void 0}else y&&(y=void 0);return n}}};function Zf(e){let t=e[0];if(e.length>1){for(const s of e)if(s.type!==ra){t=s;break}}return t}const Gk=Yk;function ey(e,t){const{leavingVNodes:s}=e;let r=s.get(t.type);return r||(r=Object.create(null),s.set(t.type,r)),r}function Li(e,t,s,r,o){const{appear:n,mode:i,persisted:l=!1,onBeforeEnter:u,onEnter:m,onAfterEnter:y,onEnterCancelled:f,onBeforeLeave:x,onLeave:c,onAfterLeave:h,onLeaveCancelled:g,onBeforeAppear:d,onAppear:p,onAfterAppear:v,onAppearCancelled:b}=t,w=String(e.key),E=ey(s,e),C=(A,j)=>{A&&Qa(A,r,9,j)},T=(A,j)=>{const V=j[1];C(A,j),Mt(A)?A.every(H=>H.length<=1)&&V():A.length<=1&&V()},P={mode:i,persisted:l,beforeEnter(A){let j=u;if(!s.isMounted)if(n)j=d||u;else return;A[Tr]&&A[Tr](!0);const V=E[w];V&&Bo(e,V)&&V.el[Tr]&&V.el[Tr](),C(j,[A])},enter(A){let j=m,V=y,H=f;if(!s.isMounted)if(n)j=p||m,V=v||y,H=b||f;else return;let R=!1;const M=A[xl]=B=>{R||(R=!0,B?C(H,[A]):C(V,[A]),P.delayedLeave&&P.delayedLeave(),A[xl]=void 0)};j?T(j,[A,M]):M()},leave(A,j){const V=String(e.key);if(A[xl]&&A[xl](!0),s.isUnmounting)return j();C(x,[A]);let H=!1;const R=A[Tr]=M=>{H||(H=!0,j(),M?C(g,[A]):C(h,[A]),A[Tr]=void 0,E[V]===e&&delete E[V])};E[V]=e,c?T(c,[A,R]):R()},clone(A){const j=Li(A,t,s,r,o);return o&&o(j),j}};return P}function fc(e){if(Vd(e))return e=Br(e),e.children=null,e}function Ah(e){if(!Vd(e))return Wf(e.type)&&e.children?Zf(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&Kt(s.default))return s.default()}}function Zo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Zo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function m0(e,t=!1,s){let r=[],o=0;for(let n=0;n<e.length;n++){let i=e[n];const l=s==null?i.key:String(s)+String(i.key!=null?i.key:n);i.type===Qe?(i.patchFlag&128&&o++,r=r.concat(m0(i.children,t,l))):(t||i.type!==ra)&&r.push(l!=null?Br(i,{key:l}):i)}if(o>1)for(let n=0;n<r.length;n++)r[n].patchFlag=-2;return r}function yr(e,t){return Kt(e)?Vs({name:e.name},t,{setup:e}):e}function Jk(){const e=mr();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function ty(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const dd=new WeakMap;function fi(e,t,s,r,o=!1){if(Mt(e)){e.forEach((h,g)=>fi(h,t&&(Mt(t)?t[g]:t),s,r,o));return}if(kn(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&fi(e,t,s,r.component.subTree);return}const n=r.shapeFlag&4?qd(r.component):r.el,i=o?null:n,{i:l,r:u}=e,m=t&&t.r,y=l.refs===ms?l.refs={}:l.refs,f=l.setupState,x=qt(f),c=f===ms?gf:h=>ls(x,h);if(m!=null&&m!==u){if(Lh(t),Ts(m))y[m]=null,c(m)&&(f[m]=null);else if(Ms(m)){m.value=null;const h=t;h.k&&(y[h.k]=null)}}if(Kt(u))rl(u,l,12,[i,y]);else{const h=Ts(u),g=Ms(u);if(h||g){const d=()=>{if(e.f){const p=h?c(u)?f[u]:y[u]:u.value;if(o)Mt(p)&&t0(p,n);else if(Mt(p))p.includes(n)||p.push(n);else if(h)y[u]=[n],c(u)&&(f[u]=y[u]);else{const v=[n];u.value=v,e.k&&(y[e.k]=v)}}else h?(y[u]=i,c(u)&&(f[u]=i)):g&&(u.value=i,e.k&&(y[e.k]=i))};if(i){const p=()=>{d(),dd.delete(e)};p.id=-1,dd.set(e,p),ha(p,s)}else Lh(e),d()}}}function Lh(e){const t=dd.get(e);t&&(t.flags|=8,dd.delete(e))}Rd().requestIdleCallback;Rd().cancelIdleCallback;const kn=e=>!!e.type.__asyncLoader,Vd=e=>e.type.__isKeepAlive;function Qk(e,t){sy(e,"a",t)}function Xk(e,t){sy(e,"da",t)}function sy(e,t,s=oa){const r=e.__wdc||(e.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Bd(t,r,s),s){let o=s.parent;for(;o&&o.parent;)Vd(o.parent.vnode)&&Zk(r,t,s,o),o=o.parent}}function Zk(e,t,s,r){const o=Bd(t,e,r,!0);Ea(()=>{t0(r[t],o)},s)}function Bd(e,t,s=oa,r=!1){if(s){const o=s[e]||(s[e]=[]),n=t.__weh||(t.__weh=(...i)=>{Nr();const l=nl(s),u=Qa(t,s,e,i);return l(),Vr(),u});return r?o.unshift(n):o.push(n),n}}const Hr=e=>(t,s=oa)=>{(!Di||e==="sp")&&Bd(e,(...r)=>t(...r),s)},ay=Hr("bm"),Ot=Hr("m"),e2=Hr("bu"),ry=Hr("u"),f0=Hr("bum"),Ea=Hr("um"),t2=Hr("sp"),s2=Hr("rtg"),a2=Hr("rtc");function r2(e,t=oa){Bd("ec",e,t)}const oy="components";function pr(e,t){return iy(oy,e,!0,t)||e}const ny=Symbol.for("v-ndc");function Pr(e){return Ts(e)?iy(oy,e,!1)||e:e||ny}function iy(e,t,s=!0,r=!1){const o=Gs||oa;if(o){const n=o.type;{const l=W2(n,!1);if(l&&(l===t||l===Fa(t)||l===Fd(Fa(t))))return n}const i=Mh(o[e]||n[e],t)||Mh(o.appContext[e],t);return!i&&r?n:i}}function Mh(e,t){return e&&(e[t]||e[Fa(t)]||e[Fd(Fa(t))])}function ot(e,t,s,r){let o;const n=s,i=Mt(e);if(i||Ts(e)){const l=i&&uo(e);let u=!1,m=!1;l&&(u=!Ia(e),m=go(e),e=jd(e)),o=new Array(e.length);for(let y=0,f=e.length;y<f;y++)o[y]=t(u?m?od(Ys(e[y])):Ys(e[y]):e[y],y,void 0,n)}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,n)}else if(ps(e))if(e[Symbol.iterator])o=Array.from(e,(l,u)=>t(l,u,void 0,n));else{const l=Object.keys(e);o=new Array(l.length);for(let u=0,m=l.length;u<m;u++){const y=l[u];o[u]=t(e[y],y,u,n)}}else o=[];return o}function Sa(e,t,s={},r,o){if(Gs.ce||Gs.parent&&kn(Gs.parent)&&Gs.parent.ce){const m=Object.keys(s).length>0;return t!=="default"&&(s.name=t),$(),it(Qe,null,[L("slot",s,r&&r())],m?-2:64)}let n=e[t];n&&n._c&&(n._d=!1),$();const i=n&&ly(n(s)),l=s.key||i&&i.key,u=it(Qe,{key:(l&&!Ja(l)?l:`_${t}`)+(!i&&r?"_fb":"")},i||(r?r():[]),i&&e._===1?64:-2);return!o&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),n&&n._c&&(n._d=!0),u}function ly(e){return e.some(t=>Pi(t)?!(t.type===ra||t.type===Qe&&!ly(t.children)):!0)?e:null}const ru=e=>e?Sy(e)?qd(e):ru(e.parent):null,yi=Vs(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ru(e.parent),$root:e=>ru(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>cy(e),$forceUpdate:e=>e.f||(e.f=()=>{p0(e.update)}),$nextTick:e=>e.n||(e.n=zs.bind(e.proxy)),$watch:e=>S2.bind(e)}),yc=(e,t)=>e!==ms&&!e.__isScriptSetup&&ls(e,t),o2={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:o,props:n,accessCache:i,type:l,appContext:u}=e;let m;if(t[0]!=="$"){const c=i[t];if(c!==void 0)switch(c){case 1:return r[t];case 2:return o[t];case 4:return s[t];case 3:return n[t]}else{if(yc(r,t))return i[t]=1,r[t];if(o!==ms&&ls(o,t))return i[t]=2,o[t];if((m=e.propsOptions[0])&&ls(m,t))return i[t]=3,n[t];if(s!==ms&&ls(s,t))return i[t]=4,s[t];ou&&(i[t]=0)}}const y=yi[t];let f,x;if(y)return t==="$attrs"&&sa(e.attrs,"get",""),y(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(s!==ms&&ls(s,t))return i[t]=4,s[t];if(x=u.config.globalProperties,ls(x,t))return x[t]},set({_:e},t,s){const{data:r,setupState:o,ctx:n}=e;return yc(o,t)?(o[t]=s,!0):r!==ms&&ls(r,t)?(r[t]=s,!0):ls(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:o,propsOptions:n,type:i}},l){let u,m;return!!(s[l]||e!==ms&&l[0]!=="$"&&ls(e,l)||yc(t,l)||(u=n[0])&&ls(u,l)||ls(r,l)||ls(yi,l)||ls(o.config.globalProperties,l)||(m=i.__cssModules)&&m[l])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ls(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ph(e){return Mt(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let ou=!0;function n2(e){const t=cy(e),s=e.proxy,r=e.ctx;ou=!1,t.beforeCreate&&Dh(t.beforeCreate,e,"bc");const{data:o,computed:n,methods:i,watch:l,provide:u,inject:m,created:y,beforeMount:f,mounted:x,beforeUpdate:c,updated:h,activated:g,deactivated:d,beforeDestroy:p,beforeUnmount:v,destroyed:b,unmounted:w,render:E,renderTracked:C,renderTriggered:T,errorCaptured:P,serverPrefetch:A,expose:j,inheritAttrs:V,components:H,directives:R,filters:M}=t;if(m&&i2(m,r,null),i)for(const K in i){const Z=i[K];Kt(Z)&&(r[K]=Z.bind(s))}if(o){const K=o.call(s,s);ps(K)&&(e.data=Es(K))}if(ou=!0,n)for(const K in n){const Z=n[K],Te=Kt(Z)?Z.bind(s,s):Kt(Z.get)?Z.get.bind(s,s):ur,_e=!Kt(Z)&&Kt(Z.set)?Z.set.bind(s):ur,ye=fe({get:Te,set:_e});Object.defineProperty(r,K,{enumerable:!0,configurable:!0,get:()=>ye.value,set:z=>ye.value=z})}if(l)for(const K in l)dy(l[K],r,s,K);if(u){const K=Kt(u)?u.call(s):u;Reflect.ownKeys(K).forEach(Z=>{wn(Z,K[Z])})}y&&Dh(y,e,"c");function W(K,Z){Mt(Z)?Z.forEach(Te=>K(Te.bind(s))):Z&&K(Z.bind(s))}if(W(ay,f),W(Ot,x),W(e2,c),W(ry,h),W(Qk,g),W(Xk,d),W(r2,P),W(a2,C),W(s2,T),W(f0,v),W(Ea,w),W(t2,A),Mt(j))if(j.length){const K=e.exposed||(e.exposed={});j.forEach(Z=>{Object.defineProperty(K,Z,{get:()=>s[Z],set:Te=>s[Z]=Te,enumerable:!0})})}else e.exposed||(e.exposed={});E&&e.render===ur&&(e.render=E),V!=null&&(e.inheritAttrs=V),H&&(e.components=H),R&&(e.directives=R),A&&ty(e)}function i2(e,t,s=ur){Mt(e)&&(e=nu(e));for(const r in e){const o=e[r];let n;ps(o)?"default"in o?n=ia(o.from||r,o.default,!0):n=ia(o.from||r):n=ia(o),Ms(n)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>n.value,set:i=>n.value=i}):t[r]=n}}function Dh(e,t,s){Qa(Mt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function dy(e,t,s,r){let o=r.includes(".")?ky(s,r):()=>s[r];if(Ts(e)){const n=t[e];Kt(n)&&Et(o,n)}else if(Kt(e))Et(o,e.bind(s));else if(ps(e))if(Mt(e))e.forEach(n=>dy(n,t,s,r));else{const n=Kt(e.handler)?e.handler.bind(s):t[e.handler];Kt(n)&&Et(o,n,e)}}function cy(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:o,optionsCache:n,config:{optionMergeStrategies:i}}=e.appContext,l=n.get(t);let u;return l?u=l:!o.length&&!s&&!r?u=t:(u={},o.length&&o.forEach(m=>cd(u,m,i,!0)),cd(u,t,i)),ps(t)&&n.set(t,u),u}function cd(e,t,s,r=!1){const{mixins:o,extends:n}=t;n&&cd(e,n,s,!0),o&&o.forEach(i=>cd(e,i,s,!0));for(const i in t)if(!(r&&i==="expose")){const l=l2[i]||s&&s[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const l2={data:Ih,props:Oh,emits:Oh,methods:ri,computed:ri,beforeCreate:ca,created:ca,beforeMount:ca,mounted:ca,beforeUpdate:ca,updated:ca,beforeDestroy:ca,beforeUnmount:ca,destroyed:ca,unmounted:ca,activated:ca,deactivated:ca,errorCaptured:ca,serverPrefetch:ca,components:ri,directives:ri,watch:c2,provide:Ih,inject:d2};function Ih(e,t){return t?e?function(){return Vs(Kt(e)?e.call(this,this):e,Kt(t)?t.call(this,this):t)}:t:e}function d2(e,t){return ri(nu(e),nu(t))}function nu(e){if(Mt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ca(e,t){return e?[...new Set([].concat(e,t))]:t}function ri(e,t){return e?Vs(Object.create(null),e,t):t}function Oh(e,t){return e?Mt(e)&&Mt(t)?[...new Set([...e,...t])]:Vs(Object.create(null),Ph(e),Ph(t??{})):t}function c2(e,t){if(!e)return t;if(!t)return e;const s=Vs(Object.create(null),e);for(const r in t)s[r]=ca(e[r],t[r]);return s}function uy(){return{app:null,config:{isNativeTag:gf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let u2=0;function h2(e,t){return function(r,o=null){Kt(r)||(r=Vs({},r)),o!=null&&!ps(o)&&(o=null);const n=uy(),i=new WeakSet,l=[];let u=!1;const m=n.app={_uid:u2++,_component:r,_props:o,_container:null,_context:n,_instance:null,version:Y2,get config(){return n.config},set config(y){},use(y,...f){return i.has(y)||(y&&Kt(y.install)?(i.add(y),y.install(m,...f)):Kt(y)&&(i.add(y),y(m,...f))),m},mixin(y){return n.mixins.includes(y)||n.mixins.push(y),m},component(y,f){return f?(n.components[y]=f,m):n.components[y]},directive(y,f){return f?(n.directives[y]=f,m):n.directives[y]},mount(y,f,x){if(!u){const c=m._ceVNode||L(r,o);return c.appContext=n,x===!0?x="svg":x===!1&&(x=void 0),e(c,y,x),u=!0,m._container=y,y.__vue_app__=m,qd(c.component)}},onUnmount(y){l.push(y)},unmount(){u&&(Qa(l,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(y,f){return n.provides[y]=f,m},runWithContext(y){const f=Ko;Ko=m;try{return y()}finally{Ko=f}}};return m}}let Ko=null;function wn(e,t){if(oa){let s=oa.provides;const r=oa.parent&&oa.parent.provides;r===s&&(s=oa.provides=Object.create(r)),s[e]=t}}function ia(e,t,s=!1){const r=mr();if(r||Ko){let o=Ko?Ko._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return s&&Kt(t)?t.call(r&&r.proxy):t}}function g2(){return!!(mr()||Ko)}const hy={},gy=()=>Object.create(hy),py=e=>Object.getPrototypeOf(e)===hy;function p2(e,t,s,r=!1){const o={},n=gy();e.propsDefaults=Object.create(null),my(e,t,o,n);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);s?e.props=r?o:Rf(o):e.type.props?e.props=o:e.props=n,e.attrs=n}function m2(e,t,s,r){const{props:o,attrs:n,vnode:{patchFlag:i}}=e,l=qt(o),[u]=e.propsOptions;let m=!1;if((r||i>0)&&!(i&16)){if(i&8){const y=e.vnode.dynamicProps;for(let f=0;f<y.length;f++){let x=y[f];if(Hd(e.emitsOptions,x))continue;const c=t[x];if(u)if(ls(n,x))c!==n[x]&&(n[x]=c,m=!0);else{const h=Fa(x);o[h]=iu(u,l,h,c,e,!1)}else c!==n[x]&&(n[x]=c,m=!0)}}}else{my(e,t,o,n)&&(m=!0);let y;for(const f in l)(!t||!ls(t,f)&&((y=bo(f))===f||!ls(t,y)))&&(u?s&&(s[f]!==void 0||s[y]!==void 0)&&(o[f]=iu(u,l,f,void 0,e,!0)):delete o[f]);if(n!==l)for(const f in n)(!t||!ls(t,f))&&(delete n[f],m=!0)}m&&Lr(e.attrs,"set","")}function my(e,t,s,r){const[o,n]=e.propsOptions;let i=!1,l;if(t)for(let u in t){if(hi(u))continue;const m=t[u];let y;o&&ls(o,y=Fa(u))?!n||!n.includes(y)?s[y]=m:(l||(l={}))[y]=m:Hd(e.emitsOptions,u)||(!(u in r)||m!==r[u])&&(r[u]=m,i=!0)}if(n){const u=qt(s),m=l||ms;for(let y=0;y<n.length;y++){const f=n[y];s[f]=iu(o,u,f,m[f],e,!ls(m,f))}}return i}function iu(e,t,s,r,o,n){const i=e[s];if(i!=null){const l=ls(i,"default");if(l&&r===void 0){const u=i.default;if(i.type!==Function&&!i.skipFactory&&Kt(u)){const{propsDefaults:m}=o;if(s in m)r=m[s];else{const y=nl(o);r=m[s]=u.call(null,t),y()}}else r=u;o.ce&&o.ce._setProp(s,r)}i[0]&&(n&&!l?r=!1:i[1]&&(r===""||r===bo(s))&&(r=!0))}return r}const f2=new WeakMap;function fy(e,t,s=!1){const r=s?f2:t.propsCache,o=r.get(e);if(o)return o;const n=e.props,i={},l=[];let u=!1;if(!Kt(e)){const y=f=>{u=!0;const[x,c]=fy(f,t,!0);Vs(i,x),c&&l.push(...c)};!s&&t.mixins.length&&t.mixins.forEach(y),e.extends&&y(e.extends),e.mixins&&e.mixins.forEach(y)}if(!n&&!u)return ps(e)&&r.set(e,vn),vn;if(Mt(n))for(let y=0;y<n.length;y++){const f=Fa(n[y]);Fh(f)&&(i[f]=ms)}else if(n)for(const y in n){const f=Fa(y);if(Fh(f)){const x=n[y],c=i[f]=Mt(x)||Kt(x)?{type:x}:Vs({},x),h=c.type;let g=!1,d=!0;if(Mt(h))for(let p=0;p<h.length;++p){const v=h[p],b=Kt(v)&&v.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(d=!1)}else g=Kt(h)&&h.name==="Boolean";c[0]=g,c[1]=d,(g||ls(c,"default"))&&l.push(f)}}const m=[i,l];return ps(e)&&r.set(e,m),m}function Fh(e){return e[0]!=="$"&&!hi(e)}const y0=e=>e==="_"||e==="_ctx"||e==="$stable",v0=e=>Mt(e)?e.map(ir):[ir(e)],y2=(e,t,s)=>{if(t._n)return t;const r=le((...o)=>v0(t(...o)),s);return r._c=!1,r},yy=(e,t,s)=>{const r=e._ctx;for(const o in e){if(y0(o))continue;const n=e[o];if(Kt(n))t[o]=y2(o,n,r);else if(n!=null){const i=v0(n);t[o]=()=>i}}},vy=(e,t)=>{const s=v0(t);e.slots.default=()=>s},xy=(e,t,s)=>{for(const r in t)(s||!y0(r))&&(e[r]=t[r])},v2=(e,t,s)=>{const r=e.slots=gy();if(e.vnode.shapeFlag&32){const o=t._;o?(xy(r,t,s),s&&yf(r,"_",o,!0)):yy(t,r)}else t&&vy(e,t)},x2=(e,t,s)=>{const{vnode:r,slots:o}=e;let n=!0,i=ms;if(r.shapeFlag&32){const l=t._;l?s&&l===1?n=!1:xy(o,t,s):(n=!t.$stable,yy(t,o)),i=t}else t&&(vy(e,t),i={default:1});if(n)for(const l in o)!y0(l)&&i[l]==null&&delete o[l]},ha=I2;function b2(e){return k2(e)}function k2(e,t){const s=Rd();s.__VUE__=!0;const{insert:r,remove:o,patchProp:n,createElement:i,createText:l,createComment:u,setText:m,setElementText:y,parentNode:f,nextSibling:x,setScopeId:c=ur,insertStaticContent:h}=e,g=(ae,ge,ne,ee=null,ue=null,he=null,Ce=void 0,J=null,D=!!ge.dynamicChildren)=>{if(ae===ge)return;ae&&!Bo(ae,ge)&&(ee=me(ae),z(ae,ue,he,!0),ae=null),ge.patchFlag===-2&&(D=!1,ge.dynamicChildren=null);const{type:N,ref:U,shapeFlag:Q}=ge;switch(N){case ol:d(ae,ge,ne,ee);break;case ra:p(ae,ge,ne,ee);break;case Hl:ae==null&&v(ge,ne,ee,Ce);break;case Qe:H(ae,ge,ne,ee,ue,he,Ce,J,D);break;default:Q&1?E(ae,ge,ne,ee,ue,he,Ce,J,D):Q&6?R(ae,ge,ne,ee,ue,he,Ce,J,D):(Q&64||Q&128)&&N.process(ae,ge,ne,ee,ue,he,Ce,J,D,Ze)}U!=null&&ue?fi(U,ae&&ae.ref,he,ge||ae,!ge):U==null&&ae&&ae.ref!=null&&fi(ae.ref,null,he,ae,!0)},d=(ae,ge,ne,ee)=>{if(ae==null)r(ge.el=l(ge.children),ne,ee);else{const ue=ge.el=ae.el;ge.children!==ae.children&&m(ue,ge.children)}},p=(ae,ge,ne,ee)=>{ae==null?r(ge.el=u(ge.children||""),ne,ee):ge.el=ae.el},v=(ae,ge,ne,ee)=>{[ae.el,ae.anchor]=h(ae.children,ge,ne,ee,ae.el,ae.anchor)},b=({el:ae,anchor:ge},ne,ee)=>{let ue;for(;ae&&ae!==ge;)ue=x(ae),r(ae,ne,ee),ae=ue;r(ge,ne,ee)},w=({el:ae,anchor:ge})=>{let ne;for(;ae&&ae!==ge;)ne=x(ae),o(ae),ae=ne;o(ge)},E=(ae,ge,ne,ee,ue,he,Ce,J,D)=>{ge.type==="svg"?Ce="svg":ge.type==="math"&&(Ce="mathml"),ae==null?C(ge,ne,ee,ue,he,Ce,J,D):A(ae,ge,ue,he,Ce,J,D)},C=(ae,ge,ne,ee,ue,he,Ce,J)=>{let D,N;const{props:U,shapeFlag:Q,transition:Ge,dirs:He}=ae;if(D=ae.el=i(ae.type,he,U&&U.is,U),Q&8?y(D,ae.children):Q&16&&P(ae.children,D,null,ee,ue,vc(ae,he),Ce,J),He&&Ao(ae,null,ee,"created"),T(D,ae,ae.scopeId,Ce,ee),U){for(const ie in U)ie!=="value"&&!hi(ie)&&n(D,ie,null,U[ie],he,ee);"value"in U&&n(D,"value",null,U.value,he),(N=U.onVnodeBeforeMount)&&sr(N,ee,ae)}He&&Ao(ae,null,ee,"beforeMount");const pe=w2(ue,Ge);pe&&Ge.beforeEnter(D),r(D,ge,ne),((N=U&&U.onVnodeMounted)||pe||He)&&ha(()=>{N&&sr(N,ee,ae),pe&&Ge.enter(D),He&&Ao(ae,null,ee,"mounted")},ue)},T=(ae,ge,ne,ee,ue)=>{if(ne&&c(ae,ne),ee)for(let he=0;he<ee.length;he++)c(ae,ee[he]);if(ue){let he=ue.subTree;if(ge===he||_y(he.type)&&(he.ssContent===ge||he.ssFallback===ge)){const Ce=ue.vnode;T(ae,Ce,Ce.scopeId,Ce.slotScopeIds,ue.parent)}}},P=(ae,ge,ne,ee,ue,he,Ce,J,D=0)=>{for(let N=D;N<ae.length;N++){const U=ae[N]=J?to(ae[N]):ir(ae[N]);g(null,U,ge,ne,ee,ue,he,Ce,J)}},A=(ae,ge,ne,ee,ue,he,Ce)=>{const J=ge.el=ae.el;let{patchFlag:D,dynamicChildren:N,dirs:U}=ge;D|=ae.patchFlag&16;const Q=ae.props||ms,Ge=ge.props||ms;let He;if(ne&&Lo(ne,!1),(He=Ge.onVnodeBeforeUpdate)&&sr(He,ne,ge,ae),U&&Ao(ge,ae,ne,"beforeUpdate"),ne&&Lo(ne,!0),(Q.innerHTML&&Ge.innerHTML==null||Q.textContent&&Ge.textContent==null)&&y(J,""),N?j(ae.dynamicChildren,N,J,ne,ee,vc(ge,ue),he):Ce||Z(ae,ge,J,null,ne,ee,vc(ge,ue),he,!1),D>0){if(D&16)V(J,Q,Ge,ne,ue);else if(D&2&&Q.class!==Ge.class&&n(J,"class",null,Ge.class,ue),D&4&&n(J,"style",Q.style,Ge.style,ue),D&8){const pe=ge.dynamicProps;for(let ie=0;ie<pe.length;ie++){const Oe=pe[ie],nt=Q[Oe],Fe=Ge[Oe];(Fe!==nt||Oe==="value")&&n(J,Oe,nt,Fe,ue,ne)}}D&1&&ae.children!==ge.children&&y(J,ge.children)}else!Ce&&N==null&&V(J,Q,Ge,ne,ue);((He=Ge.onVnodeUpdated)||U)&&ha(()=>{He&&sr(He,ne,ge,ae),U&&Ao(ge,ae,ne,"updated")},ee)},j=(ae,ge,ne,ee,ue,he,Ce)=>{for(let J=0;J<ge.length;J++){const D=ae[J],N=ge[J],U=D.el&&(D.type===Qe||!Bo(D,N)||D.shapeFlag&198)?f(D.el):ne;g(D,N,U,null,ee,ue,he,Ce,!0)}},V=(ae,ge,ne,ee,ue)=>{if(ge!==ne){if(ge!==ms)for(const he in ge)!hi(he)&&!(he in ne)&&n(ae,he,ge[he],null,ue,ee);for(const he in ne){if(hi(he))continue;const Ce=ne[he],J=ge[he];Ce!==J&&he!=="value"&&n(ae,he,J,Ce,ue,ee)}"value"in ne&&n(ae,"value",ge.value,ne.value,ue)}},H=(ae,ge,ne,ee,ue,he,Ce,J,D)=>{const N=ge.el=ae?ae.el:l(""),U=ge.anchor=ae?ae.anchor:l("");let{patchFlag:Q,dynamicChildren:Ge,slotScopeIds:He}=ge;He&&(J=J?J.concat(He):He),ae==null?(r(N,ne,ee),r(U,ne,ee),P(ge.children||[],ne,U,ue,he,Ce,J,D)):Q>0&&Q&64&&Ge&&ae.dynamicChildren?(j(ae.dynamicChildren,Ge,ne,ue,he,Ce,J),(ge.key!=null||ue&&ge===ue.subTree)&&x0(ae,ge,!0)):Z(ae,ge,ne,U,ue,he,Ce,J,D)},R=(ae,ge,ne,ee,ue,he,Ce,J,D)=>{ge.slotScopeIds=J,ae==null?ge.shapeFlag&512?ue.ctx.activate(ge,ne,ee,Ce,D):M(ge,ne,ee,ue,he,Ce,D):B(ae,ge,D)},M=(ae,ge,ne,ee,ue,he,Ce)=>{const J=ae.component=B2(ae,ee,ue);if(Vd(ae)&&(J.ctx.renderer=Ze),U2(J,!1,Ce),J.asyncDep){if(ue&&ue.registerDep(J,W,Ce),!ae.el){const D=J.subTree=L(ra);p(null,D,ge,ne),ae.placeholder=D.el}}else W(J,ae,ge,ne,ue,he,Ce)},B=(ae,ge,ne)=>{const ee=ge.component=ae.component;if(P2(ae,ge,ne))if(ee.asyncDep&&!ee.asyncResolved){K(ee,ge,ne);return}else ee.next=ge,ee.update();else ge.el=ae.el,ee.vnode=ge},W=(ae,ge,ne,ee,ue,he,Ce)=>{const J=()=>{if(ae.isMounted){let{next:Q,bu:Ge,u:He,parent:pe,vnode:ie}=ae;{const Y=by(ae);if(Y){Q&&(Q.el=ie.el,K(ae,Q,Ce)),Y.asyncDep.then(()=>{ae.isUnmounted||J()});return}}let Oe=Q,nt;Lo(ae,!1),Q?(Q.el=ie.el,K(ae,Q,Ce)):Q=ie,Ge&&Bl(Ge),(nt=Q.props&&Q.props.onVnodeBeforeUpdate)&&sr(nt,pe,Q,ie),Lo(ae,!0);const Fe=jh(ae),re=ae.subTree;ae.subTree=Fe,g(re,Fe,f(re.el),me(re),ae,ue,he),Q.el=Fe.el,Oe===null&&D2(ae,Fe.el),He&&ha(He,ue),(nt=Q.props&&Q.props.onVnodeUpdated)&&ha(()=>sr(nt,pe,Q,ie),ue)}else{let Q;const{el:Ge,props:He}=ge,{bm:pe,m:ie,parent:Oe,root:nt,type:Fe}=ae,re=kn(ge);Lo(ae,!1),pe&&Bl(pe),!re&&(Q=He&&He.onVnodeBeforeMount)&&sr(Q,Oe,ge),Lo(ae,!0);{nt.ce&&nt.ce._def.shadowRoot!==!1&&nt.ce._injectChildStyle(Fe);const Y=ae.subTree=jh(ae);g(null,Y,ne,ee,ae,ue,he),ge.el=Y.el}if(ie&&ha(ie,ue),!re&&(Q=He&&He.onVnodeMounted)){const Y=ge;ha(()=>sr(Q,Oe,Y),ue)}(ge.shapeFlag&256||Oe&&kn(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&ae.a&&ha(ae.a,ue),ae.isMounted=!0,ge=ne=ee=null}};ae.scope.on();const D=ae.effect=new _f(J);ae.scope.off();const N=ae.update=D.run.bind(D),U=ae.job=D.runIfDirty.bind(D);U.i=ae,U.id=ae.uid,D.scheduler=()=>p0(U),Lo(ae,!0),N()},K=(ae,ge,ne)=>{ge.component=ae;const ee=ae.vnode.props;ae.vnode=ge,ae.next=null,m2(ae,ge.props,ee,ne),x2(ae,ge.children,ne),Nr(),Ch(ae),Vr()},Z=(ae,ge,ne,ee,ue,he,Ce,J,D=!1)=>{const N=ae&&ae.children,U=ae?ae.shapeFlag:0,Q=ge.children,{patchFlag:Ge,shapeFlag:He}=ge;if(Ge>0){if(Ge&128){_e(N,Q,ne,ee,ue,he,Ce,J,D);return}else if(Ge&256){Te(N,Q,ne,ee,ue,he,Ce,J,D);return}}He&8?(U&16&&Ae(N,ue,he),Q!==N&&y(ne,Q)):U&16?He&16?_e(N,Q,ne,ee,ue,he,Ce,J,D):Ae(N,ue,he,!0):(U&8&&y(ne,""),He&16&&P(Q,ne,ee,ue,he,Ce,J,D))},Te=(ae,ge,ne,ee,ue,he,Ce,J,D)=>{ae=ae||vn,ge=ge||vn;const N=ae.length,U=ge.length,Q=Math.min(N,U);let Ge;for(Ge=0;Ge<Q;Ge++){const He=ge[Ge]=D?to(ge[Ge]):ir(ge[Ge]);g(ae[Ge],He,ne,null,ue,he,Ce,J,D)}N>U?Ae(ae,ue,he,!0,!1,Q):P(ge,ne,ee,ue,he,Ce,J,D,Q)},_e=(ae,ge,ne,ee,ue,he,Ce,J,D)=>{let N=0;const U=ge.length;let Q=ae.length-1,Ge=U-1;for(;N<=Q&&N<=Ge;){const He=ae[N],pe=ge[N]=D?to(ge[N]):ir(ge[N]);if(Bo(He,pe))g(He,pe,ne,null,ue,he,Ce,J,D);else break;N++}for(;N<=Q&&N<=Ge;){const He=ae[Q],pe=ge[Ge]=D?to(ge[Ge]):ir(ge[Ge]);if(Bo(He,pe))g(He,pe,ne,null,ue,he,Ce,J,D);else break;Q--,Ge--}if(N>Q){if(N<=Ge){const He=Ge+1,pe=He<U?ge[He].el:ee;for(;N<=Ge;)g(null,ge[N]=D?to(ge[N]):ir(ge[N]),ne,pe,ue,he,Ce,J,D),N++}}else if(N>Ge)for(;N<=Q;)z(ae[N],ue,he,!0),N++;else{const He=N,pe=N,ie=new Map;for(N=pe;N<=Ge;N++){const je=ge[N]=D?to(ge[N]):ir(ge[N]);je.key!=null&&ie.set(je.key,N)}let Oe,nt=0;const Fe=Ge-pe+1;let re=!1,Y=0;const we=new Array(Fe);for(N=0;N<Fe;N++)we[N]=0;for(N=He;N<=Q;N++){const je=ae[N];if(nt>=Fe){z(je,ue,he,!0);continue}let de;if(je.key!=null)de=ie.get(je.key);else for(Oe=pe;Oe<=Ge;Oe++)if(we[Oe-pe]===0&&Bo(je,ge[Oe])){de=Oe;break}de===void 0?z(je,ue,he,!0):(we[de-pe]=N+1,de>=Y?Y=de:re=!0,g(je,ge[de],ne,null,ue,he,Ce,J,D),nt++)}const Ht=re?_2(we):vn;for(Oe=Ht.length-1,N=Fe-1;N>=0;N--){const je=pe+N,de=ge[je],De=ge[je+1],Yt=je+1<U?De.el||De.placeholder:ee;we[N]===0?g(null,de,ne,Yt,ue,he,Ce,J,D):re&&(Oe<0||N!==Ht[Oe]?ye(de,ne,Yt,2):Oe--)}}},ye=(ae,ge,ne,ee,ue=null)=>{const{el:he,type:Ce,transition:J,children:D,shapeFlag:N}=ae;if(N&6){ye(ae.component.subTree,ge,ne,ee);return}if(N&128){ae.suspense.move(ge,ne,ee);return}if(N&64){Ce.move(ae,ge,ne,Ze);return}if(Ce===Qe){r(he,ge,ne);for(let Q=0;Q<D.length;Q++)ye(D[Q],ge,ne,ee);r(ae.anchor,ge,ne);return}if(Ce===Hl){b(ae,ge,ne);return}if(ee!==2&&N&1&&J)if(ee===0)J.beforeEnter(he),r(he,ge,ne),ha(()=>J.enter(he),ue);else{const{leave:Q,delayLeave:Ge,afterLeave:He}=J,pe=()=>{ae.ctx.isUnmounted?o(he):r(he,ge,ne)},ie=()=>{he._isLeaving&&he[Tr](!0),Q(he,()=>{pe(),He&&He()})};Ge?Ge(he,pe,ie):ie()}else r(he,ge,ne)},z=(ae,ge,ne,ee=!1,ue=!1)=>{const{type:he,props:Ce,ref:J,children:D,dynamicChildren:N,shapeFlag:U,patchFlag:Q,dirs:Ge,cacheIndex:He}=ae;if(Q===-2&&(ue=!1),J!=null&&(Nr(),fi(J,null,ne,ae,!0),Vr()),He!=null&&(ge.renderCache[He]=void 0),U&256){ge.ctx.deactivate(ae);return}const pe=U&1&&Ge,ie=!kn(ae);let Oe;if(ie&&(Oe=Ce&&Ce.onVnodeBeforeUnmount)&&sr(Oe,ge,ae),U&6)se(ae.component,ne,ee);else{if(U&128){ae.suspense.unmount(ne,ee);return}pe&&Ao(ae,null,ge,"beforeUnmount"),U&64?ae.type.remove(ae,ge,ne,Ze,ee):N&&!N.hasOnce&&(he!==Qe||Q>0&&Q&64)?Ae(N,ge,ne,!1,!0):(he===Qe&&Q&384||!ue&&U&16)&&Ae(D,ge,ne),ee&&q(ae)}(ie&&(Oe=Ce&&Ce.onVnodeUnmounted)||pe)&&ha(()=>{Oe&&sr(Oe,ge,ae),pe&&Ao(ae,null,ge,"unmounted")},ne)},q=ae=>{const{type:ge,el:ne,anchor:ee,transition:ue}=ae;if(ge===Qe){X(ne,ee);return}if(ge===Hl){w(ae);return}const he=()=>{o(ne),ue&&!ue.persisted&&ue.afterLeave&&ue.afterLeave()};if(ae.shapeFlag&1&&ue&&!ue.persisted){const{leave:Ce,delayLeave:J}=ue,D=()=>Ce(ne,he);J?J(ae.el,he,D):D()}else he()},X=(ae,ge)=>{let ne;for(;ae!==ge;)ne=x(ae),o(ae),ae=ne;o(ge)},se=(ae,ge,ne)=>{const{bum:ee,scope:ue,job:he,subTree:Ce,um:J,m:D,a:N}=ae;Rh(D),Rh(N),ee&&Bl(ee),ue.stop(),he&&(he.flags|=8,z(Ce,ae,ge,ne)),J&&ha(J,ge),ha(()=>{ae.isUnmounted=!0},ge)},Ae=(ae,ge,ne,ee=!1,ue=!1,he=0)=>{for(let Ce=he;Ce<ae.length;Ce++)z(ae[Ce],ge,ne,ee,ue)},me=ae=>{if(ae.shapeFlag&6)return me(ae.component.subTree);if(ae.shapeFlag&128)return ae.suspense.next();const ge=x(ae.anchor||ae.el),ne=ge&&ge[zf];return ne?x(ne):ge};let Le=!1;const Re=(ae,ge,ne)=>{ae==null?ge._vnode&&z(ge._vnode,null,null,!0):g(ge._vnode||null,ae,ge,null,null,null,ne),ge._vnode=ae,Le||(Le=!0,Ch(),Uf(),Le=!1)},Ze={p:g,um:z,m:ye,r:q,mt:M,mc:P,pc:Z,pbc:j,n:me,o:e};return{render:Re,hydrate:void 0,createApp:h2(Re)}}function vc({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Lo({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function w2(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function x0(e,t,s=!1){const r=e.children,o=t.children;if(Mt(r)&&Mt(o))for(let n=0;n<r.length;n++){const i=r[n];let l=o[n];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[n]=to(o[n]),l.el=i.el),!s&&l.patchFlag!==-2&&x0(i,l)),l.type===ol&&l.patchFlag!==-1&&(l.el=i.el),l.type===ra&&!l.el&&(l.el=i.el)}}function _2(e){const t=e.slice(),s=[0];let r,o,n,i,l;const u=e.length;for(r=0;r<u;r++){const m=e[r];if(m!==0){if(o=s[s.length-1],e[o]<m){t[r]=o,s.push(r);continue}for(n=0,i=s.length-1;n<i;)l=n+i>>1,e[s[l]]<m?n=l+1:i=l;m<e[s[n]]&&(n>0&&(t[r]=s[n-1]),s[n]=r)}}for(n=s.length,i=s[n-1];n-- >0;)s[n]=i,i=t[i];return s}function by(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:by(t)}function Rh(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const $2=Symbol.for("v-scx"),C2=()=>ia($2);function Ud(e,t){return b0(e,null,t)}function Et(e,t,s){return b0(e,t,s)}function b0(e,t,s=ms){const{immediate:r,deep:o,flush:n,once:i}=s,l=Vs({},s),u=t&&r||!t&&n!=="post";let m;if(Di){if(n==="sync"){const c=C2();m=c.__watcherHandles||(c.__watcherHandles=[])}else if(!u){const c=()=>{};return c.stop=ur,c.resume=ur,c.pause=ur,c}}const y=oa;l.call=(c,h,g)=>Qa(c,y,h,g);let f=!1;n==="post"?l.scheduler=c=>{ha(c,y&&y.suspense)}:n!=="sync"&&(f=!0,l.scheduler=(c,h)=>{h?c():p0(c)}),l.augmentJob=c=>{t&&(c.flags|=4),f&&(c.flags|=2,y&&(c.id=y.uid,c.i=y))};const x=Hk(e,t,l);return Di&&(m?m.push(x):u&&x()),x}function S2(e,t,s){const r=this.proxy,o=Ts(e)?e.includes(".")?ky(r,e):()=>r[e]:e.bind(r,r);let n;Kt(t)?n=t:(n=t.handler,s=t);const i=nl(this),l=b0(o,n.bind(r),s);return i(),l}function ky(e,t){const s=t.split(".");return()=>{let r=e;for(let o=0;o<s.length&&r;o++)r=r[s[o]];return r}}const E2=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Fa(t)}Modifiers`]||e[`${bo(t)}Modifiers`];function T2(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||ms;let o=s;const n=t.startsWith("update:"),i=n&&E2(r,t.slice(7));i&&(i.trim&&(o=s.map(y=>Ts(y)?y.trim():y)),i.number&&(o=s.map(ad)));let l,u=r[l=uc(t)]||r[l=uc(Fa(t))];!u&&n&&(u=r[l=uc(bo(t))]),u&&Qa(u,e,6,o);const m=r[l+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Qa(m,e,6,o)}}const A2=new WeakMap;function wy(e,t,s=!1){const r=s?A2:t.emitsCache,o=r.get(e);if(o!==void 0)return o;const n=e.emits;let i={},l=!1;if(!Kt(e)){const u=m=>{const y=wy(m,t,!0);y&&(l=!0,Vs(i,y))};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!n&&!l?(ps(e)&&r.set(e,null),null):(Mt(n)?n.forEach(u=>i[u]=null):Vs(i,n),ps(e)&&r.set(e,i),i)}function Hd(e,t){return!e||!Id(t)?!1:(t=t.slice(2).replace(/Once$/,""),ls(e,t[0].toLowerCase()+t.slice(1))||ls(e,bo(t))||ls(e,t))}function jh(e){const{type:t,vnode:s,proxy:r,withProxy:o,propsOptions:[n],slots:i,attrs:l,emit:u,render:m,renderCache:y,props:f,data:x,setupState:c,ctx:h,inheritAttrs:g}=e,d=ld(e);let p,v;try{if(s.shapeFlag&4){const w=o||r,E=w;p=ir(m.call(E,w,y,f,c,x,h)),v=l}else{const w=t;p=ir(w.length>1?w(f,{attrs:l,slots:i,emit:u}):w(f,null)),v=t.props?l:L2(l)}}catch(w){vi.length=0,Nd(w,e,1),p=L(ra)}let b=p;if(v&&g!==!1){const w=Object.keys(v),{shapeFlag:E}=b;w.length&&E&7&&(n&&w.some(e0)&&(v=M2(v,n)),b=Br(b,v,!1,!0))}return s.dirs&&(b=Br(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&Zo(b,s.transition),p=b,ld(d),p}const L2=e=>{let t;for(const s in e)(s==="class"||s==="style"||Id(s))&&((t||(t={}))[s]=e[s]);return t},M2=(e,t)=>{const s={};for(const r in e)(!e0(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function P2(e,t,s){const{props:r,children:o,component:n}=e,{props:i,children:l,patchFlag:u}=t,m=n.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return r?Nh(r,i,m):!!i;if(u&8){const y=t.dynamicProps;for(let f=0;f<y.length;f++){const x=y[f];if(i[x]!==r[x]&&!Hd(m,x))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===i?!1:r?i?Nh(r,i,m):!0:!!i;return!1}function Nh(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const n=r[o];if(t[n]!==e[n]&&!Hd(s,n))return!0}return!1}function D2({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const _y=e=>e.__isSuspense;function I2(e,t){t&&t.pendingBranch?Mt(e)?t.effects.push(...e):t.effects.push(e):Wk(e)}const Qe=Symbol.for("v-fgt"),ol=Symbol.for("v-txt"),ra=Symbol.for("v-cmt"),Hl=Symbol.for("v-stc"),vi=[];let Ca=null;function $(e=!1){vi.push(Ca=e?null:[])}function O2(){vi.pop(),Ca=vi[vi.length-1]||null}let Mi=1;function ud(e,t=!1){Mi+=e,e<0&&Ca&&t&&(Ca.hasOnce=!0)}function $y(e){return e.dynamicChildren=Mi>0?Ca||vn:null,O2(),Mi>0&&Ca&&Ca.push(e),e}function S(e,t,s,r,o,n){return $y(a(e,t,s,r,o,n,!0))}function it(e,t,s,r,o){return $y(L(e,t,s,r,o,!0))}function Pi(e){return e?e.__v_isVNode===!0:!1}function Bo(e,t){return e.type===t.type&&e.key===t.key}const Cy=({key:e})=>e??null,ql=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ts(e)||Ms(e)||Kt(e)?{i:Gs,r:e,k:t,f:!!s}:e:null);function a(e,t=null,s=null,r=0,o=null,n=e===Qe?0:1,i=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Cy(t),ref:t&&ql(t),scopeId:qf,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Gs};return l?(k0(u,s),n&128&&e.normalize(u)):s&&(u.shapeFlag|=Ts(s)?8:16),Mi>0&&!i&&Ca&&(u.patchFlag>0||n&6)&&u.patchFlag!==32&&Ca.push(u),u}const L=F2;function F2(e,t=null,s=null,r=0,o=null,n=!1){if((!e||e===ny)&&(e=ra),Pi(e)){const l=Br(e,t,!0);return s&&k0(l,s),Mi>0&&!n&&Ca&&(l.shapeFlag&6?Ca[Ca.indexOf(e)]=l:Ca.push(l)),l.patchFlag=-2,l}if(K2(e)&&(e=e.__vccOpts),t){t=R2(t);let{class:l,style:u}=t;l&&!Ts(l)&&(t.class=Ee(l)),ps(u)&&(u0(u)&&!Mt(u)&&(u=Vs({},u)),t.style=fs(u))}const i=Ts(e)?1:_y(e)?128:Wf(e)?64:ps(e)?4:Kt(e)?2:0;return a(e,t,s,r,o,i,n,!0)}function R2(e){return e?u0(e)||py(e)?Vs({},e):e:null}function Br(e,t,s=!1,r=!1){const{props:o,ref:n,patchFlag:i,children:l,transition:u}=e,m=t?j2(o||{},t):o,y={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&Cy(m),ref:t&&t.ref?s&&n?Mt(n)?n.concat(ql(t)):[n,ql(t)]:ql(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Br(e.ssContent),ssFallback:e.ssFallback&&Br(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&Zo(y,u.clone(y)),y}function ke(e=" ",t=0){return L(ol,null,e,t)}function po(e,t){const s=L(Hl,null,e);return s.staticCount=t,s}function G(e="",t=!1){return t?($(),it(ra,null,e)):L(ra,null,e)}function ir(e){return e==null||typeof e=="boolean"?L(ra):Mt(e)?L(Qe,null,e.slice()):Pi(e)?to(e):L(ol,null,String(e))}function to(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Br(e)}function k0(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Mt(t))s=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),k0(e,o()),o._c&&(o._d=!0));return}else{s=32;const o=t._;!o&&!py(t)?t._ctx=Gs:o===3&&Gs&&(Gs.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Kt(t)?(t={default:t,_ctx:Gs},s=32):(t=String(t),r&64?(s=16,t=[ke(t)]):s=8);e.children=t,e.shapeFlag|=s}function j2(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Ee([t.class,r.class]));else if(o==="style")t.style=fs([t.style,r.style]);else if(Id(o)){const n=t[o],i=r[o];i&&n!==i&&!(Mt(n)&&n.includes(i))&&(t[o]=n?[].concat(n,i):i)}else o!==""&&(t[o]=r[o])}return t}function sr(e,t,s,r=null){Qa(e,t,7,[s,r])}const N2=uy();let V2=0;function B2(e,t,s){const r=e.type,o=(t?t.appContext:e.appContext)||N2,n={uid:V2++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new kf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fy(r,o),emitsOptions:wy(r,o),emit:null,emitted:null,propsDefaults:ms,inheritAttrs:r.inheritAttrs,ctx:ms,data:ms,props:ms,attrs:ms,slots:ms,refs:ms,setupState:ms,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=T2.bind(null,n),e.ce&&e.ce(n),n}let oa=null;const mr=()=>oa||Gs;let hd,lu;{const e=Rd(),t=(s,r)=>{let o;return(o=e[s])||(o=e[s]=[]),o.push(r),n=>{o.length>1?o.forEach(i=>i(n)):o[0](n)}};hd=t("__VUE_INSTANCE_SETTERS__",s=>oa=s),lu=t("__VUE_SSR_SETTERS__",s=>Di=s)}const nl=e=>{const t=oa;return hd(e),e.scope.on(),()=>{e.scope.off(),hd(t)}},Vh=()=>{oa&&oa.scope.off(),hd(null)};function Sy(e){return e.vnode.shapeFlag&4}let Di=!1;function U2(e,t=!1,s=!1){t&&lu(t);const{props:r,children:o}=e.vnode,n=Sy(e);p2(e,r,n,t),v2(e,o,s||t);const i=n?H2(e,t):void 0;return t&&lu(!1),i}function H2(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,o2);const{setup:r}=s;if(r){Nr();const o=e.setupContext=r.length>1?z2(e):null,n=nl(e),i=rl(r,e,0,[e.props,o]),l=pf(i);if(Vr(),n(),(l||e.sp)&&!kn(e)&&ty(e),l){if(i.then(Vh,Vh),t)return i.then(u=>{Bh(e,u)}).catch(u=>{Nd(u,e,0)});e.asyncDep=i}else Bh(e,i)}else Ey(e)}function Bh(e,t,s){Kt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ps(t)&&(e.setupState=Nf(t)),Ey(e)}function Ey(e,t,s){const r=e.type;e.render||(e.render=r.render||ur);{const o=nl(e);Nr();try{n2(e)}finally{Vr(),o()}}}const q2={get(e,t){return sa(e,"get",""),e[t]}};function z2(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,q2),slots:e.slots,emit:e.emit,expose:t}}function qd(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Nf(h0(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in yi)return yi[s](e)},has(t,s){return s in t||s in yi}})):e.proxy}function W2(e,t=!0){return Kt(e)?e.displayName||e.name:e.name||t&&e.__name}function K2(e){return Kt(e)&&"__vccOpts"in e}const fe=(e,t)=>Bk(e,t,Di);function as(e,t,s){try{ud(-1);const r=arguments.length;return r===2?ps(t)&&!Mt(t)?Pi(t)?L(e,null,[t]):L(e,t):L(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Pi(s)&&(s=[s]),L(e,t,s))}finally{ud(1)}}const Y2="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let du;const Uh=typeof window<"u"&&window.trustedTypes;if(Uh)try{du=Uh.createPolicy("vue",{createHTML:e=>e})}catch{}const Ty=du?e=>du.createHTML(e):e=>e,G2="http://www.w3.org/2000/svg",J2="http://www.w3.org/1998/Math/MathML",Er=typeof document<"u"?document:null,Hh=Er&&Er.createElement("template"),Q2={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const o=t==="svg"?Er.createElementNS(G2,e):t==="mathml"?Er.createElementNS(J2,e):s?Er.createElement(e,{is:s}):Er.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Er.createTextNode(e),createComment:e=>Er.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Er.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,o,n){const i=s?s.previousSibling:t.lastChild;if(o&&(o===n||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),s),!(o===n||!(o=o.nextSibling)););else{Hh.innerHTML=Ty(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const l=Hh.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,s)}return[i?i.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Wr="transition",Yn="animation",Sn=Symbol("_vtc"),Ay={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ly=Vs({},Qf,Ay),X2=e=>(e.displayName="Transition",e.props=Ly,e),ko=X2((e,{slots:t})=>as(Gk,My(e),t)),Mo=(e,t=[])=>{Mt(e)?e.forEach(s=>s(...t)):e&&e(...t)},qh=e=>e?Mt(e)?e.some(t=>t.length>1):e.length>1:!1;function My(e){const t={};for(const H in e)H in Ay||(t[H]=e[H]);if(e.css===!1)return t;const{name:s="v",type:r,duration:o,enterFromClass:n=`${s}-enter-from`,enterActiveClass:i=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:u=n,appearActiveClass:m=i,appearToClass:y=l,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:x=`${s}-leave-active`,leaveToClass:c=`${s}-leave-to`}=e,h=Z2(o),g=h&&h[0],d=h&&h[1],{onBeforeEnter:p,onEnter:v,onEnterCancelled:b,onLeave:w,onLeaveCancelled:E,onBeforeAppear:C=p,onAppear:T=v,onAppearCancelled:P=b}=t,A=(H,R,M,B)=>{H._enterCancelled=B,Xr(H,R?y:l),Xr(H,R?m:i),M&&M()},j=(H,R)=>{H._isLeaving=!1,Xr(H,f),Xr(H,c),Xr(H,x),R&&R()},V=H=>(R,M)=>{const B=H?T:v,W=()=>A(R,H,M);Mo(B,[R,W]),zh(()=>{Xr(R,H?u:n),ar(R,H?y:l),qh(B)||Wh(R,r,g,W)})};return Vs(t,{onBeforeEnter(H){Mo(p,[H]),ar(H,n),ar(H,i)},onBeforeAppear(H){Mo(C,[H]),ar(H,u),ar(H,m)},onEnter:V(!1),onAppear:V(!0),onLeave(H,R){H._isLeaving=!0;const M=()=>j(H,R);ar(H,f),H._enterCancelled?(ar(H,x),cu(H)):(cu(H),ar(H,x)),zh(()=>{H._isLeaving&&(Xr(H,f),ar(H,c),qh(w)||Wh(H,r,d,M))}),Mo(w,[H,M])},onEnterCancelled(H){A(H,!1,void 0,!0),Mo(b,[H])},onAppearCancelled(H){A(H,!0,void 0,!0),Mo(P,[H])},onLeaveCancelled(H){j(H),Mo(E,[H])}})}function Z2(e){if(e==null)return null;if(ps(e))return[xc(e.enter),xc(e.leave)];{const t=xc(e);return[t,t]}}function xc(e){return ik(e)}function ar(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Sn]||(e[Sn]=new Set)).add(t)}function Xr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const s=e[Sn];s&&(s.delete(t),s.size||(e[Sn]=void 0))}function zh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ew=0;function Wh(e,t,s,r){const o=e._endId=++ew,n=()=>{o===e._endId&&r()};if(s!=null)return setTimeout(n,s);const{type:i,timeout:l,propCount:u}=Py(e,t);if(!i)return r();const m=i+"end";let y=0;const f=()=>{e.removeEventListener(m,x),n()},x=c=>{c.target===e&&++y>=u&&f()};setTimeout(()=>{y<u&&f()},l+1),e.addEventListener(m,x)}function Py(e,t){const s=window.getComputedStyle(e),r=h=>(s[h]||"").split(", "),o=r(`${Wr}Delay`),n=r(`${Wr}Duration`),i=Kh(o,n),l=r(`${Yn}Delay`),u=r(`${Yn}Duration`),m=Kh(l,u);let y=null,f=0,x=0;t===Wr?i>0&&(y=Wr,f=i,x=n.length):t===Yn?m>0&&(y=Yn,f=m,x=u.length):(f=Math.max(i,m),y=f>0?i>m?Wr:Yn:null,x=y?y===Wr?n.length:u.length:0);const c=y===Wr&&/\b(?:transform|all)(?:,|$)/.test(r(`${Wr}Property`).toString());return{type:y,timeout:f,propCount:x,hasTransform:c}}function Kh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,r)=>Yh(s)+Yh(e[r])))}function Yh(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function cu(e){return(e?e.ownerDocument:document).body.offsetHeight}function tw(e,t,s){const r=e[Sn];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const gd=Symbol("_vod"),Dy=Symbol("_vsh"),Or={name:"show",beforeMount(e,{value:t},{transition:s}){e[gd]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Gn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:r}){!t!=!s&&(r?t?(r.beforeEnter(e),Gn(e,!0),r.enter(e)):r.leave(e,()=>{Gn(e,!1)}):Gn(e,t))},beforeUnmount(e,{value:t}){Gn(e,t)}};function Gn(e,t){e.style.display=t?e[gd]:"none",e[Dy]=!t}const sw=Symbol(""),aw=/(?:^|;)\s*display\s*:/;function rw(e,t,s){const r=e.style,o=Ts(s);let n=!1;if(s&&!o){if(t)if(Ts(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();s[l]==null&&zl(r,l,"")}else for(const i in t)s[i]==null&&zl(r,i,"");for(const i in s)i==="display"&&(n=!0),zl(r,i,s[i])}else if(o){if(t!==s){const i=r[sw];i&&(s+=";"+i),r.cssText=s,n=aw.test(s)}}else t&&e.removeAttribute("style");gd in e&&(e[gd]=n?r.display:"",e[Dy]&&(r.display="none"))}const Gh=/\s*!important$/;function zl(e,t,s){if(Mt(s))s.forEach(r=>zl(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=ow(e,t);Gh.test(s)?e.setProperty(bo(r),s.replace(Gh,""),"important"):e[r]=s}}const Jh=["Webkit","Moz","ms"],bc={};function ow(e,t){const s=bc[t];if(s)return s;let r=Fa(t);if(r!=="filter"&&r in e)return bc[t]=r;r=Fd(r);for(let o=0;o<Jh.length;o++){const n=Jh[o]+r;if(n in e)return bc[t]=n}return t}const Qh="http://www.w3.org/1999/xlink";function Xh(e,t,s,r,o,n=gk(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Qh,t.slice(6,t.length)):e.setAttributeNS(Qh,t,s):s==null||n&&!vf(s)?e.removeAttribute(t):e.setAttribute(t,n?"":Ja(s)?String(s):s)}function Zh(e,t,s,r,o){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Ty(s):s);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const l=n==="OPTION"?e.getAttribute("value")||"":e.value,u=s==null?e.type==="checkbox"?"on":"":String(s);(l!==u||!("_value"in e))&&(e.value=u),s==null&&e.removeAttribute(t),e._value=s;return}let i=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=vf(s):s==null&&l==="string"?(s="",i=!0):l==="number"&&(s=0,i=!0)}try{e[t]=s}catch{}i&&e.removeAttribute(o||t)}function Dr(e,t,s,r){e.addEventListener(t,s,r)}function nw(e,t,s,r){e.removeEventListener(t,s,r)}const eg=Symbol("_vei");function iw(e,t,s,r,o=null){const n=e[eg]||(e[eg]={}),i=n[t];if(r&&i)i.value=r;else{const[l,u]=lw(t);if(r){const m=n[t]=uw(r,o);Dr(e,l,m,u)}else i&&(nw(e,l,i,u),n[t]=void 0)}}const tg=/(?:Once|Passive|Capture)$/;function lw(e){let t;if(tg.test(e)){t={};let r;for(;r=e.match(tg);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):bo(e.slice(2)),t]}let kc=0;const dw=Promise.resolve(),cw=()=>kc||(dw.then(()=>kc=0),kc=Date.now());function uw(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Qa(hw(r,s.value),t,5,[r])};return s.value=e,s.attached=cw(),s}function hw(e,t){if(Mt(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const sg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,gw=(e,t,s,r,o,n)=>{const i=o==="svg";t==="class"?tw(e,r,i):t==="style"?rw(e,s,r):Id(t)?e0(t)||iw(e,t,s,r,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):pw(e,t,r,i))?(Zh(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Xh(e,t,r,i,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ts(r))?Zh(e,Fa(t),r,n,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Xh(e,t,r,i))};function pw(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&sg(t)&&Kt(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return sg(t)&&Ts(s)?!1:t in e}const Iy=new WeakMap,Oy=new WeakMap,pd=Symbol("_moveCb"),ag=Symbol("_enterCb"),mw=e=>(delete e.props.mode,e),fw=mw({name:"TransitionGroup",props:Vs({},Ly,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=mr(),r=Jf();let o,n;return ry(()=>{if(!o.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!kw(o[0].el,s.vnode.el,i)){o=[];return}o.forEach(vw),o.forEach(xw);const l=o.filter(bw);cu(s.vnode.el),l.forEach(u=>{const m=u.el,y=m.style;ar(m,i),y.transform=y.webkitTransform=y.transitionDuration="";const f=m[pd]=x=>{x&&x.target!==m||(!x||x.propertyName.endsWith("transform"))&&(m.removeEventListener("transitionend",f),m[pd]=null,Xr(m,i))};m.addEventListener("transitionend",f)}),o=[]}),()=>{const i=qt(e),l=My(i);let u=i.tag||Qe;if(o=[],n)for(let m=0;m<n.length;m++){const y=n[m];y.el&&y.el instanceof Element&&(o.push(y),Zo(y,Li(y,l,r,s)),Iy.set(y,y.el.getBoundingClientRect()))}n=t.default?m0(t.default()):[];for(let m=0;m<n.length;m++){const y=n[m];y.key!=null&&Zo(y,Li(y,l,r,s))}return L(u,null,n)}}}),yw=fw;function vw(e){const t=e.el;t[pd]&&t[pd](),t[ag]&&t[ag]()}function xw(e){Oy.set(e,e.el.getBoundingClientRect())}function bw(e){const t=Iy.get(e),s=Oy.get(e),r=t.left-s.left,o=t.top-s.top;if(r||o){const n=e.el.style;return n.transform=n.webkitTransform=`translate(${r}px,${o}px)`,n.transitionDuration="0s",e}}function kw(e,t,s){const r=e.cloneNode(),o=e[Sn];o&&o.forEach(l=>{l.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),s.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(r);const{hasTransform:i}=Py(r);return n.removeChild(r),i}const mo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Mt(t)?s=>Bl(t,s):t};function ww(e){e.target.composing=!0}function rg(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Oa=Symbol("_assign"),It={created(e,{modifiers:{lazy:t,trim:s,number:r}},o){e[Oa]=mo(o);const n=r||o.props&&o.props.type==="number";Dr(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;s&&(l=l.trim()),n&&(l=ad(l)),e[Oa](l)}),s&&Dr(e,"change",()=>{e.value=e.value.trim()}),t||(Dr(e,"compositionstart",ww),Dr(e,"compositionend",rg),Dr(e,"change",rg))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:o,number:n}},i){if(e[Oa]=mo(i),e.composing)return;const l=(n||e.type==="number")&&!/^0\d/.test(e.value)?ad(e.value):e.value,u=t??"";l!==u&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||o&&e.value.trim()===u)||(e.value=u))}},Da={deep:!0,created(e,t,s){e[Oa]=mo(s),Dr(e,"change",()=>{const r=e._modelValue,o=En(e),n=e.checked,i=e[Oa];if(Mt(r)){const l=a0(r,o),u=l!==-1;if(n&&!u)i(r.concat(o));else if(!n&&u){const m=[...r];m.splice(l,1),i(m)}}else if(jn(r)){const l=new Set(r);n?l.add(o):l.delete(o),i(l)}else i(Fy(e,n))})},mounted:og,beforeUpdate(e,t,s){e[Oa]=mo(s),og(e,t,s)}};function og(e,{value:t,oldValue:s},r){e._modelValue=t;let o;if(Mt(t))o=a0(t,r.props.value)>-1;else if(jn(t))o=t.has(r.props.value);else{if(t===s)return;o=Xo(t,Fy(e,!0))}e.checked!==o&&(e.checked=o)}const ao={created(e,{value:t},s){e.checked=Xo(t,s.props.value),e[Oa]=mo(s),Dr(e,"change",()=>{e[Oa](En(e))})},beforeUpdate(e,{value:t,oldValue:s},r){e[Oa]=mo(r),t!==s&&(e.checked=Xo(t,r.props.value))}},$s={deep:!0,created(e,{value:t,modifiers:{number:s}},r){const o=jn(t);Dr(e,"change",()=>{const n=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>s?ad(En(i)):En(i));e[Oa](e.multiple?o?new Set(n):n:n[0]),e._assigning=!0,zs(()=>{e._assigning=!1})}),e[Oa]=mo(r)},mounted(e,{value:t}){ng(e,t)},beforeUpdate(e,t,s){e[Oa]=mo(s)},updated(e,{value:t}){e._assigning||ng(e,t)}};function ng(e,t){const s=e.multiple,r=Mt(t);if(!(s&&!r&&!jn(t))){for(let o=0,n=e.options.length;o<n;o++){const i=e.options[o],l=En(i);if(s)if(r){const u=typeof l;u==="string"||u==="number"?i.selected=t.some(m=>String(m)===String(l)):i.selected=a0(t,l)>-1}else i.selected=t.has(l);else if(Xo(En(i),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function En(e){return"_value"in e?e._value:e.value}function Fy(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const xi={created(e,t,s){bl(e,t,s,null,"created")},mounted(e,t,s){bl(e,t,s,null,"mounted")},beforeUpdate(e,t,s,r){bl(e,t,s,r,"beforeUpdate")},updated(e,t,s,r){bl(e,t,s,r,"updated")}};function _w(e,t){switch(e){case"SELECT":return $s;case"TEXTAREA":return It;default:switch(t){case"checkbox":return Da;case"radio":return ao;default:return It}}}function bl(e,t,s,r,o){const i=_w(e.tagName,s.props&&s.props.type)[o];i&&i(e,t,s,r)}const $w=["ctrl","shift","alt","meta"],Cw={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>$w.some(s=>e[`${s}Key`]&&!t.includes(s))},Bt=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(o,...n)=>{for(let i=0;i<t.length;i++){const l=Cw[t[i]];if(l&&l(o,t))return}return e(o,...n)})},Sw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},uu=(e,t)=>{const s=e._withKeys||(e._withKeys={}),r=t.join(".");return s[r]||(s[r]=o=>{if(!("key"in o))return;const n=bo(o.key);if(t.some(i=>i===n||Sw[i]===n))return e(o)})},Ew=Vs({patchProp:gw},Q2);let ig;function Tw(){return ig||(ig=b2(Ew))}const Aw=(...e)=>{const t=Tw().createApp(...e),{mount:s}=t;return t.mount=r=>{const o=Mw(r);if(!o)return;const n=t._component;!Kt(n)&&!n.render&&!n.template&&(n.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=s(o,!1,Lw(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function Lw(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Mw(e){return Ts(e)?document.querySelector(e):e}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Ry;const zd=e=>Ry=e,jy=Symbol();function hu(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var bi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(bi||(bi={}));function Pw(){const e=r0(!0),t=e.run(()=>O({}));let s=[],r=[];const o=h0({install(n){zd(o),o._a=n,n.provide(jy,o),n.config.globalProperties.$pinia=o,r.forEach(i=>s.push(i)),r=[]},use(n){return this._a?s.push(n):r.push(n),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return o}const Ny=()=>{};function lg(e,t,s,r=Ny){e.push(t);const o=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!s&&wf()&&mk(o),o}function ln(e,...t){e.slice().forEach(s=>{s(...t)})}const Dw=e=>e(),dg=Symbol(),wc=Symbol();function gu(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,r)=>e.set(r,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],o=e[s];hu(o)&&hu(r)&&e.hasOwnProperty(s)&&!Ms(r)&&!uo(r)?e[s]=gu(o,r):e[s]=r}return e}const Iw=Symbol();function Ow(e){return!hu(e)||!Object.prototype.hasOwnProperty.call(e,Iw)}const{assign:Zr}=Object;function Fw(e){return!!(Ms(e)&&e.effect)}function Rw(e,t,s,r){const{state:o,actions:n,getters:i}=t,l=s.state.value[e];let u;function m(){l||(s.state.value[e]=o?o():{});const y=Rk(s.state.value[e]);return Zr(y,n,Object.keys(i||{}).reduce((f,x)=>(f[x]=h0(fe(()=>{zd(s);const c=s._s.get(e);return i[x].call(c,c)})),f),{}))}return u=Vy(e,m,t,s,r,!0),u}function Vy(e,t,s={},r,o,n){let i;const l=Zr({actions:{}},s),u={deep:!0};let m,y,f=[],x=[],c;const h=r.state.value[e];!n&&!h&&(r.state.value[e]={}),O({});let g;function d(P){let A;m=y=!1,typeof P=="function"?(P(r.state.value[e]),A={type:bi.patchFunction,storeId:e,events:c}):(gu(r.state.value[e],P),A={type:bi.patchObject,payload:P,storeId:e,events:c});const j=g=Symbol();zs().then(()=>{g===j&&(m=!0)}),y=!0,ln(f,A,r.state.value[e])}const p=n?function(){const{state:A}=s,j=A?A():{};this.$patch(V=>{Zr(V,j)})}:Ny;function v(){i.stop(),f=[],x=[],r._s.delete(e)}const b=(P,A="")=>{if(dg in P)return P[wc]=A,P;const j=function(){zd(r);const V=Array.from(arguments),H=[],R=[];function M(K){H.push(K)}function B(K){R.push(K)}ln(x,{args:V,name:j[wc],store:E,after:M,onError:B});let W;try{W=P.apply(this&&this.$id===e?this:E,V)}catch(K){throw ln(R,K),K}return W instanceof Promise?W.then(K=>(ln(H,K),K)).catch(K=>(ln(R,K),Promise.reject(K))):(ln(H,W),W)};return j[dg]=!0,j[wc]=A,j},w={_p:r,$id:e,$onAction:lg.bind(null,x),$patch:d,$reset:p,$subscribe(P,A={}){const j=lg(f,P,A.detached,()=>V()),V=i.run(()=>Et(()=>r.state.value[e],H=>{(A.flush==="sync"?y:m)&&P({storeId:e,type:bi.direct,events:c},H)},Zr({},u,A)));return j},$dispose:v},E=Es(w);r._s.set(e,E);const T=(r._a&&r._a.runWithContext||Dw)(()=>r._e.run(()=>(i=r0()).run(()=>t({action:b}))));for(const P in T){const A=T[P];if(Ms(A)&&!Fw(A)||uo(A))n||(h&&Ow(A)&&(Ms(A)?A.value=h[P]:gu(A,h[P])),r.state.value[e][P]=A);else if(typeof A=="function"){const j=b(A,P);T[P]=j,l.actions[P]=A}}return Zr(E,T),Zr(qt(E),T),Object.defineProperty(E,"$state",{get:()=>r.state.value[e],set:P=>{d(A=>{Zr(A,P)})}}),r._p.forEach(P=>{Zr(E,i.run(()=>P({store:E,app:r._a,pinia:r,options:l})))}),h&&n&&s.hydrate&&s.hydrate(E.$state,h),m=!0,y=!0,E}/*! #__NO_SIDE_EFFECTS__ */function Nn(e,t,s){let r;const o=typeof t=="function";r=o?s:t;function n(i,l){const u=g2();return i=i||(u?ia(jy,null):null),i&&zd(i),i=Ry,i._s.has(e)||(o?Vy(e,t,r,i):Rw(e,r,i)),i._s.get(e)}return n.$id=e,n}const Ut=Nn("notification",()=>{const e=O([]),t=(u,m,y="",f=0,x=!0)=>{const c=Date.now()+Math.random(),h={id:c,type:u,title:m,message:y,duration:f,closable:x};return e.value.push(h),f>0&&setTimeout(()=>{s(c)},f),c},s=u=>{const m=e.value.findIndex(y=>y.id===u);m>-1&&e.value.splice(m,1)};return{notifications:e,addNotification:t,removeNotification:s,success:(u,m="",y={})=>t("success",u||"Success",m,y.duration||3e3,y.closable!==!1),error:(u,m="",y={})=>t("error",u||"Error",m,y.duration||5e3,y.closable!==!1),warning:(u,m="",y={})=>t("warning",u||"Warning",m,y.duration||4e3,y.closable!==!1),info:(u,m="",y={})=>t("info",u||"Info",m,y.duration||3e3,y.closable!==!1),clearAll:()=>{e.value=[]}}}),ja=(e,t)=>{const s=e.__vccOpts||e;for(const[r,o]of t)s[r]=o;return s},jw={class:"fixed top-4 right-4 z-[9999] space-y-2"},Nw={class:"p-5"},Vw={class:"flex items-start gap-4"},Bw={key:0,class:"h-5 w-5 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Uw={key:1,class:"h-5 w-5 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Hw={key:2,class:"h-5 w-5 text-yellow-600 dark:text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},qw={key:3,class:"h-5 w-5 text-blue-600 dark:text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},zw={class:"flex-1 min-w-0"},Ww={class:"text-base font-semibold text-gray-900 dark:text-white leading-snug"},Kw={key:0,class:"mt-1.5 text-sm text-gray-600 dark:text-gray-400 leading-relaxed"},Yw={key:0,class:"flex-shrink-0"},Gw=["onClick"],Jw={key:0,class:Ee(["h-1.5 w-full bg-gray-100 dark:bg-gray-700/50"])},Qw={__name:"NotificationContainer",setup(e){const t=Ut();return(s,r)=>($(),S("div",jw,[L(yw,{name:"notification",tag:"div"},{default:le(()=>[($(!0),S(Qe,null,ot(F(t).notifications,o=>($(),S("div",{key:o.id,class:Ee(["min-w-[340px] max-w-md w-full bg-white dark:bg-gray-800 backdrop-blur-sm rounded-xl pointer-events-auto shadow-2xl ring-1 ring-black/5 dark:ring-white/10 overflow-hidden transform transition-all duration-300 hover:shadow-3xl hover:scale-[1.02]",{"bg-gradient-to-r from-green-50 to-white dark:from-green-900/20 dark:to-gray-800 border-l-4 border-green-500":o.type==="success","bg-gradient-to-r from-red-50 to-white dark:from-red-900/20 dark:to-gray-800 border-l-4 border-red-500":o.type==="error","bg-gradient-to-r from-yellow-50 to-white dark:from-yellow-900/20 dark:to-gray-800 border-l-4 border-yellow-500":o.type==="warning","bg-gradient-to-r from-blue-50 to-white dark:from-blue-900/20 dark:to-gray-800 border-l-4 border-blue-500":o.type==="info"}])},[a("div",Nw,[a("div",Vw,[a("div",{class:Ee(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center shadow-sm",{"bg-green-100 dark:bg-green-900/50":o.type==="success","bg-red-100 dark:bg-red-900/50":o.type==="error","bg-yellow-100 dark:bg-yellow-900/50":o.type==="warning","bg-blue-100 dark:bg-blue-900/50":o.type==="info"}])},[o.type==="success"?($(),S("svg",Bw,[...r[0]||(r[0]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M5 13l4 4L19 7"},null,-1)])])):o.type==="error"?($(),S("svg",Uw,[...r[1]||(r[1]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):o.type==="warning"?($(),S("svg",Hw,[...r[2]||(r[2]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"},null,-1)])])):($(),S("svg",qw,[...r[3]||(r[3]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],2),a("div",zw,[a("p",Ww,k(o.title),1),o.message?($(),S("p",Kw,k(o.message),1)):G("",!0)]),o.closable?($(),S("div",Yw,[a("button",{onClick:n=>F(t).removeNotification(o.id),class:"inline-flex items-center justify-center w-7 h-7 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800",title:"Close notification"},[...r[4]||(r[4]=[a("svg",{class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])],8,Gw)])):G("",!0)])]),o.duration>0?($(),S("div",Jw,[a("div",{class:Ee(["h-full transition-all duration-300",{"bg-gradient-to-r from-green-400 to-green-600 dark:from-green-500 dark:to-green-400":o.type==="success","bg-gradient-to-r from-red-400 to-red-600 dark:from-red-500 dark:to-red-400":o.type==="error","bg-gradient-to-r from-yellow-400 to-yellow-600 dark:from-yellow-500 dark:to-yellow-400":o.type==="warning","bg-gradient-to-r from-blue-400 to-blue-600 dark:from-blue-500 dark:to-blue-400":o.type==="info"}]),style:fs({animation:`shrink ${o.duration}ms linear forwards`})},null,6)])):G("",!0)],2))),128))]),_:1})]))}},By=ja(Qw,[["__scopeId","data-v-dcb9f0a1"]]),Xw={id:"app"},Zw={__name:"App",setup(e){return(t,s)=>{const r=pr("router-view");return $(),S("div",Xw,[L(r),L(By)])}}};/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const mn=typeof document<"u";function Uy(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function e_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Uy(e.default)}const is=Object.assign;function _c(e,t){const s={};for(const r in t){const o=t[r];s[r]=Xa(o)?o.map(e):e(o)}return s}const ki=()=>{},Xa=Array.isArray;function cg(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}const Hy=/#/g,t_=/&/g,s_=/\//g,a_=/=/g,r_=/\?/g,qy=/\+/g,o_=/%5B/g,n_=/%5D/g,zy=/%5E/g,i_=/%60/g,Wy=/%7B/g,l_=/%7C/g,Ky=/%7D/g,d_=/%20/g;function w0(e){return e==null?"":encodeURI(""+e).replace(l_,"|").replace(o_,"[").replace(n_,"]")}function c_(e){return w0(e).replace(Wy,"{").replace(Ky,"}").replace(zy,"^")}function pu(e){return w0(e).replace(qy,"%2B").replace(d_,"+").replace(Hy,"%23").replace(t_,"%26").replace(i_,"`").replace(Wy,"{").replace(Ky,"}").replace(zy,"^")}function u_(e){return pu(e).replace(a_,"%3D")}function h_(e){return w0(e).replace(Hy,"%23").replace(r_,"%3F")}function g_(e){return h_(e).replace(s_,"%2F")}function Ii(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const p_=/\/$/,m_=e=>e.replace(p_,"");function $c(e,t,s="/"){let r,o={},n="",i="";const l=t.indexOf("#");let u=t.indexOf("?");return u=l>=0&&u>l?-1:u,u>=0&&(r=t.slice(0,u),n=t.slice(u,l>0?l:t.length),o=e(n.slice(1))),l>=0&&(r=r||t.slice(0,l),i=t.slice(l,t.length)),r=x_(r??t,s),{fullPath:r+n+i,path:r,query:o,hash:Ii(i)}}function f_(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function ug(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function y_(e,t,s){const r=t.matched.length-1,o=s.matched.length-1;return r>-1&&r===o&&Tn(t.matched[r],s.matched[o])&&Yy(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Tn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Yy(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!v_(e[s],t[s]))return!1;return!0}function v_(e,t){return Xa(e)?hg(e,t):Xa(t)?hg(t,e):e===t}function hg(e,t){return Xa(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function x_(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let n=s.length-1,i,l;for(i=0;i<r.length;i++)if(l=r[i],l!==".")if(l==="..")n>1&&n--;else break;return s.slice(0,n).join("/")+"/"+r.slice(i).join("/")}const Kr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let mu=function(e){return e.pop="pop",e.push="push",e}({}),Cc=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function b_(e){if(!e)if(mn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),m_(e)}const k_=/^[^#]+#/;function w_(e,t){return e.replace(k_,"#")+t}function __(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const Wd=()=>({left:window.scrollX,top:window.scrollY});function $_(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),o=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!o)return;t=__(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function gg(e,t){return(history.state?history.state.position-t:-1)+e}const fu=new Map;function C_(e,t){fu.set(e,t)}function S_(e){const t=fu.get(e);return fu.delete(e),t}function E_(e){return typeof e=="string"||e&&typeof e=="object"}function Gy(e){return typeof e=="string"||typeof e=="symbol"}let As=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Jy=Symbol("");As.MATCHER_NOT_FOUND+"",As.NAVIGATION_GUARD_REDIRECT+"",As.NAVIGATION_ABORTED+"",As.NAVIGATION_CANCELLED+"",As.NAVIGATION_DUPLICATED+"";function An(e,t){return is(new Error,{type:e,[Jy]:!0},t)}function br(e,t){return e instanceof Error&&Jy in e&&(t==null||!!(e.type&t))}const T_=["params","query","hash"];function A_(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const s of T_)s in e&&(t[s]=e[s]);return JSON.stringify(t,null,2)}function L_(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(qy," "),n=o.indexOf("="),i=Ii(n<0?o:o.slice(0,n)),l=n<0?null:Ii(o.slice(n+1));if(i in t){let u=t[i];Xa(u)||(u=t[i]=[u]),u.push(l)}else t[i]=l}return t}function pg(e){let t="";for(let s in e){const r=e[s];if(s=u_(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(Xa(r)?r.map(o=>o&&pu(o)):[r&&pu(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+s,o!=null&&(t+="="+o))})}return t}function M_(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=Xa(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const P_=Symbol(""),mg=Symbol(""),Kd=Symbol(""),_0=Symbol(""),yu=Symbol("");function Jn(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function so(e,t,s,r,o,n=i=>i()){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((l,u)=>{const m=x=>{x===!1?u(An(As.NAVIGATION_ABORTED,{from:s,to:t})):x instanceof Error?u(x):E_(x)?u(An(As.NAVIGATION_GUARD_REDIRECT,{from:t,to:x})):(i&&r.enterCallbacks[o]===i&&typeof x=="function"&&i.push(x),l())},y=n(()=>e.call(r&&r.instances[o],t,s,m));let f=Promise.resolve(y);e.length<3&&(f=f.then(m)),f.catch(x=>u(x))})}function Sc(e,t,s,r,o=n=>n()){const n=[];for(const i of e)for(const l in i.components){let u=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(Uy(u)){const m=(u.__vccOpts||u)[t];m&&n.push(so(m,s,r,i,l,o))}else{let m=u();n.push(()=>m.then(y=>{if(!y)throw new Error(`Couldn't resolve component "${l}" at "${i.path}"`);const f=e_(y)?y.default:y;i.mods[l]=y,i.components[l]=f;const x=(f.__vccOpts||f)[t];return x&&so(x,s,r,i,l,o)()}))}}return n}function D_(e,t){const s=[],r=[],o=[],n=Math.max(t.matched.length,e.matched.length);for(let i=0;i<n;i++){const l=t.matched[i];l&&(e.matched.find(m=>Tn(m,l))?r.push(l):s.push(l));const u=e.matched[i];u&&(t.matched.find(m=>Tn(m,u))||o.push(u))}return[s,r,o]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let I_=()=>location.protocol+"//"+location.host;function Qy(e,t){const{pathname:s,search:r,hash:o}=t,n=e.indexOf("#");if(n>-1){let i=o.includes(e.slice(n))?e.slice(n).length:1,l=o.slice(i);return l[0]!=="/"&&(l="/"+l),ug(l,"")}return ug(s,e)+r+o}function O_(e,t,s,r){let o=[],n=[],i=null;const l=({state:x})=>{const c=Qy(e,location),h=s.value,g=t.value;let d=0;if(x){if(s.value=c,t.value=x,i&&i===h){i=null;return}d=g?x.position-g.position:0}else r(c);o.forEach(p=>{p(s.value,h,{delta:d,type:mu.pop,direction:d?d>0?Cc.forward:Cc.back:Cc.unknown})})};function u(){i=s.value}function m(x){o.push(x);const c=()=>{const h=o.indexOf(x);h>-1&&o.splice(h,1)};return n.push(c),c}function y(){if(document.visibilityState==="hidden"){const{history:x}=window;if(!x.state)return;x.replaceState(is({},x.state,{scroll:Wd()}),"")}}function f(){for(const x of n)x();n=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",y),document.removeEventListener("visibilitychange",y)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",y),document.addEventListener("visibilitychange",y),{pauseListeners:u,listen:m,destroy:f}}function fg(e,t,s,r=!1,o=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:o?Wd():null}}function F_(e){const{history:t,location:s}=window,r={value:Qy(e,s)},o={value:t.state};o.value||n(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function n(u,m,y){const f=e.indexOf("#"),x=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+u:I_()+e+u;try{t[y?"replaceState":"pushState"](m,"",x),o.value=m}catch(c){console.error(c),s[y?"replace":"assign"](x)}}function i(u,m){n(u,is({},t.state,fg(o.value.back,u,o.value.forward,!0),m,{position:o.value.position}),!0),r.value=u}function l(u,m){const y=is({},o.value,t.state,{forward:u,scroll:Wd()});n(y.current,y,!0),n(u,is({},fg(r.value,u,null),{position:y.position+1},m),!1),r.value=u}return{location:r,state:o,push:l,replace:i}}function R_(e){e=b_(e);const t=F_(e),s=O_(e,t.state,t.location,t.replace);function r(n,i=!0){i||s.pauseListeners(),history.go(n)}const o=is({location:"",base:e,go:r,createHref:w_.bind(null,e)},t,s);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}let Ho=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var Rs=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(Rs||{});const j_={type:Ho.Static,value:""},N_=/[a-zA-Z0-9_]/;function V_(e){if(!e)return[[]];if(e==="/")return[[j_]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(c){throw new Error(`ERR (${s})/"${m}": ${c}`)}let s=Rs.Static,r=s;const o=[];let n;function i(){n&&o.push(n),n=[]}let l=0,u,m="",y="";function f(){m&&(s===Rs.Static?n.push({type:Ho.Static,value:m}):s===Rs.Param||s===Rs.ParamRegExp||s===Rs.ParamRegExpEnd?(n.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),n.push({type:Ho.Param,value:m,regexp:y,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),m="")}function x(){m+=u}for(;l<e.length;){if(u=e[l++],u==="\\"&&s!==Rs.ParamRegExp){r=s,s=Rs.EscapeNext;continue}switch(s){case Rs.Static:u==="/"?(m&&f(),i()):u===":"?(f(),s=Rs.Param):x();break;case Rs.EscapeNext:x(),s=r;break;case Rs.Param:u==="("?s=Rs.ParamRegExp:N_.test(u)?x():(f(),s=Rs.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case Rs.ParamRegExp:u===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+u:s=Rs.ParamRegExpEnd:y+=u;break;case Rs.ParamRegExpEnd:f(),s=Rs.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--,y="";break;default:t("Unknown state");break}}return s===Rs.ParamRegExp&&t(`Unfinished custom RegExp for param "${m}"`),f(),i(),o}const yg="[^/]+?",B_={sensitive:!1,strict:!1,start:!0,end:!0};var ga=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(ga||{});const U_=/[.+*?^${}()[\]/\\]/g;function H_(e,t){const s=is({},B_,t),r=[];let o=s.start?"^":"";const n=[];for(const m of e){const y=m.length?[]:[ga.Root];s.strict&&!m.length&&(o+="/");for(let f=0;f<m.length;f++){const x=m[f];let c=ga.Segment+(s.sensitive?ga.BonusCaseSensitive:0);if(x.type===Ho.Static)f||(o+="/"),o+=x.value.replace(U_,"\\$&"),c+=ga.Static;else if(x.type===Ho.Param){const{value:h,repeatable:g,optional:d,regexp:p}=x;n.push({name:h,repeatable:g,optional:d});const v=p||yg;if(v!==yg){c+=ga.BonusCustomRegExp;try{`${v}`}catch(w){throw new Error(`Invalid custom RegExp for param "${h}" (${v}): `+w.message)}}let b=g?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;f||(b=d&&m.length<2?`(?:/${b})`:"/"+b),d&&(b+="?"),o+=b,c+=ga.Dynamic,d&&(c+=ga.BonusOptional),g&&(c+=ga.BonusRepeatable),v===".*"&&(c+=ga.BonusWildcard)}y.push(c)}r.push(y)}if(s.strict&&s.end){const m=r.length-1;r[m][r[m].length-1]+=ga.BonusStrict}s.strict||(o+="/?"),s.end?o+="$":s.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const i=new RegExp(o,s.sensitive?"":"i");function l(m){const y=m.match(i),f={};if(!y)return null;for(let x=1;x<y.length;x++){const c=y[x]||"",h=n[x-1];f[h.name]=c&&h.repeatable?c.split("/"):c}return f}function u(m){let y="",f=!1;for(const x of e){(!f||!y.endsWith("/"))&&(y+="/"),f=!1;for(const c of x)if(c.type===Ho.Static)y+=c.value;else if(c.type===Ho.Param){const{value:h,repeatable:g,optional:d}=c,p=h in m?m[h]:"";if(Xa(p)&&!g)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const v=Xa(p)?p.join("/"):p;if(!v)if(d)x.length<2&&(y.endsWith("/")?y=y.slice(0,-1):f=!0);else throw new Error(`Missing required param "${h}"`);y+=v}}return y||"/"}return{re:i,score:r,keys:n,parse:l,stringify:u}}function q_(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===ga.Static+ga.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===ga.Static+ga.Segment?1:-1:0}function Xy(e,t){let s=0;const r=e.score,o=t.score;for(;s<r.length&&s<o.length;){const n=q_(r[s],o[s]);if(n)return n;s++}if(Math.abs(o.length-r.length)===1){if(vg(r))return 1;if(vg(o))return-1}return o.length-r.length}function vg(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const z_={strict:!1,end:!0,sensitive:!1};function W_(e,t,s){const r=H_(V_(e.path),s),o=is(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function K_(e,t){const s=[],r=new Map;t=cg(z_,t);function o(f){return r.get(f)}function n(f,x,c){const h=!c,g=bg(f);g.aliasOf=c&&c.record;const d=cg(t,f),p=[g];if("alias"in f){const w=typeof f.alias=="string"?[f.alias]:f.alias;for(const E of w)p.push(bg(is({},g,{components:c?c.record.components:g.components,path:E,aliasOf:c?c.record:g})))}let v,b;for(const w of p){const{path:E}=w;if(x&&E[0]!=="/"){const C=x.record.path,T=C[C.length-1]==="/"?"":"/";w.path=x.record.path+(E&&T+E)}if(v=W_(w,x,d),c?c.alias.push(v):(b=b||v,b!==v&&b.alias.push(v),h&&f.name&&!kg(v)&&i(f.name)),Zy(v)&&u(v),g.children){const C=g.children;for(let T=0;T<C.length;T++)n(C[T],v,c&&c.children[T])}c=c||v}return b?()=>{i(b)}:ki}function i(f){if(Gy(f)){const x=r.get(f);x&&(r.delete(f),s.splice(s.indexOf(x),1),x.children.forEach(i),x.alias.forEach(i))}else{const x=s.indexOf(f);x>-1&&(s.splice(x,1),f.record.name&&r.delete(f.record.name),f.children.forEach(i),f.alias.forEach(i))}}function l(){return s}function u(f){const x=J_(f,s);s.splice(x,0,f),f.record.name&&!kg(f)&&r.set(f.record.name,f)}function m(f,x){let c,h={},g,d;if("name"in f&&f.name){if(c=r.get(f.name),!c)throw An(As.MATCHER_NOT_FOUND,{location:f});d=c.record.name,h=is(xg(x.params,c.keys.filter(b=>!b.optional).concat(c.parent?c.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),f.params&&xg(f.params,c.keys.map(b=>b.name))),g=c.stringify(h)}else if(f.path!=null)g=f.path,c=s.find(b=>b.re.test(g)),c&&(h=c.parse(g),d=c.record.name);else{if(c=x.name?r.get(x.name):s.find(b=>b.re.test(x.path)),!c)throw An(As.MATCHER_NOT_FOUND,{location:f,currentLocation:x});d=c.record.name,h=is({},x.params,f.params),g=c.stringify(h)}const p=[];let v=c;for(;v;)p.unshift(v.record),v=v.parent;return{name:d,path:g,params:h,matched:p,meta:G_(p)}}e.forEach(f=>n(f));function y(){s.length=0,r.clear()}return{addRoute:n,resolve:m,removeRoute:i,clearRoutes:y,getRoutes:l,getRecordMatcher:o}}function xg(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function bg(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Y_(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Y_(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="object"?s[r]:s;return t}function kg(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function G_(e){return e.reduce((t,s)=>is(t,s.meta),{})}function J_(e,t){let s=0,r=t.length;for(;s!==r;){const n=s+r>>1;Xy(e,t[n])<0?r=n:s=n+1}const o=Q_(e);return o&&(r=t.lastIndexOf(o,r-1)),r}function Q_(e){let t=e;for(;t=t.parent;)if(Zy(t)&&Xy(e,t)===0)return t}function Zy({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function wg(e){const t=ia(Kd),s=ia(_0),r=fe(()=>{const u=F(e.to);return t.resolve(u)}),o=fe(()=>{const{matched:u}=r.value,{length:m}=u,y=u[m-1],f=s.matched;if(!y||!f.length)return-1;const x=f.findIndex(Tn.bind(null,y));if(x>-1)return x;const c=_g(u[m-2]);return m>1&&_g(y)===c&&f[f.length-1].path!==c?f.findIndex(Tn.bind(null,u[m-2])):x}),n=fe(()=>o.value>-1&&s4(s.params,r.value.params)),i=fe(()=>o.value>-1&&o.value===s.matched.length-1&&Yy(s.params,r.value.params));function l(u={}){if(t4(u)){const m=t[F(e.replace)?"replace":"push"](F(e.to)).catch(ki);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:r,href:fe(()=>r.value.href),isActive:n,isExactActive:i,navigate:l}}function X_(e){return e.length===1?e[0]:e}const Z_=yr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:wg,setup(e,{slots:t}){const s=Es(wg(e)),{options:r}=ia(Kd),o=fe(()=>({[$g(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[$g(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const n=t.default&&X_(t.default(s));return e.custom?n:as("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:o.value},n)}}}),e4=Z_;function t4(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function s4(e,t){for(const s in t){const r=t[s],o=e[s];if(typeof r=="string"){if(r!==o)return!1}else if(!Xa(o)||o.length!==r.length||r.some((n,i)=>n!==o[i]))return!1}return!0}function _g(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const $g=(e,t,s)=>e??t??s,a4=yr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=ia(yu),o=fe(()=>e.route||r.value),n=ia(mg,0),i=fe(()=>{let m=F(n);const{matched:y}=o.value;let f;for(;(f=y[m])&&!f.components;)m++;return m}),l=fe(()=>o.value.matched[i.value]);wn(mg,fe(()=>i.value+1)),wn(P_,l),wn(yu,o);const u=O();return Et(()=>[u.value,l.value,e.name],([m,y,f],[x,c,h])=>{y&&(y.instances[f]=m,c&&c!==y&&m&&m===x&&(y.leaveGuards.size||(y.leaveGuards=c.leaveGuards),y.updateGuards.size||(y.updateGuards=c.updateGuards))),m&&y&&(!c||!Tn(y,c)||!x)&&(y.enterCallbacks[f]||[]).forEach(g=>g(m))},{flush:"post"}),()=>{const m=o.value,y=e.name,f=l.value,x=f&&f.components[y];if(!x)return Cg(s.default,{Component:x,route:m});const c=f.props[y],h=c?c===!0?m.params:typeof c=="function"?c(m):c:null,d=as(x,is({},h,t,{onVnodeUnmounted:p=>{p.component.isUnmounted&&(f.instances[y]=null)},ref:u}));return Cg(s.default,{Component:d,route:m})||d}}});function Cg(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const r4=a4;function o4(e){const t=K_(e.routes,e),s=e.parseQuery||L_,r=e.stringifyQuery||pg,o=e.history,n=Jn(),i=Jn(),l=Jn(),u=g0(Kr);let m=Kr;mn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=_c.bind(null,me=>""+me),f=_c.bind(null,g_),x=_c.bind(null,Ii);function c(me,Le){let Re,Ze;return Gy(me)?(Re=t.getRecordMatcher(me),Ze=Le):Ze=me,t.addRoute(Ze,Re)}function h(me){const Le=t.getRecordMatcher(me);Le&&t.removeRoute(Le)}function g(){return t.getRoutes().map(me=>me.record)}function d(me){return!!t.getRecordMatcher(me)}function p(me,Le){if(Le=is({},Le||u.value),typeof me=="string"){const ne=$c(s,me,Le.path),ee=t.resolve({path:ne.path},Le),ue=o.createHref(ne.fullPath);return is(ne,ee,{params:x(ee.params),hash:Ii(ne.hash),redirectedFrom:void 0,href:ue})}let Re;if(me.path!=null)Re=is({},me,{path:$c(s,me.path,Le.path).path});else{const ne=is({},me.params);for(const ee in ne)ne[ee]==null&&delete ne[ee];Re=is({},me,{params:f(ne)}),Le.params=f(Le.params)}const Ze=t.resolve(Re,Le),We=me.hash||"";Ze.params=y(x(Ze.params));const ae=f_(r,is({},me,{hash:c_(We),path:Ze.path})),ge=o.createHref(ae);return is({fullPath:ae,hash:We,query:r===pg?M_(me.query):me.query||{}},Ze,{redirectedFrom:void 0,href:ge})}function v(me){return typeof me=="string"?$c(s,me,u.value.path):is({},me)}function b(me,Le){if(m!==me)return An(As.NAVIGATION_CANCELLED,{from:Le,to:me})}function w(me){return T(me)}function E(me){return w(is(v(me),{replace:!0}))}function C(me,Le){const Re=me.matched[me.matched.length-1];if(Re&&Re.redirect){const{redirect:Ze}=Re;let We=typeof Ze=="function"?Ze(me,Le):Ze;return typeof We=="string"&&(We=We.includes("?")||We.includes("#")?We=v(We):{path:We},We.params={}),is({query:me.query,hash:me.hash,params:We.path!=null?{}:me.params},We)}}function T(me,Le){const Re=m=p(me),Ze=u.value,We=me.state,ae=me.force,ge=me.replace===!0,ne=C(Re,Ze);if(ne)return T(is(v(ne),{state:typeof ne=="object"?is({},We,ne.state):We,force:ae,replace:ge}),Le||Re);const ee=Re;ee.redirectedFrom=Le;let ue;return!ae&&y_(r,Ze,Re)&&(ue=An(As.NAVIGATION_DUPLICATED,{to:ee,from:Ze}),ye(Ze,Ze,!0,!1)),(ue?Promise.resolve(ue):j(ee,Ze)).catch(he=>br(he)?br(he,As.NAVIGATION_GUARD_REDIRECT)?he:_e(he):Z(he,ee,Ze)).then(he=>{if(he){if(br(he,As.NAVIGATION_GUARD_REDIRECT))return T(is({replace:ge},v(he.to),{state:typeof he.to=="object"?is({},We,he.to.state):We,force:ae}),Le||ee)}else he=H(ee,Ze,!0,ge,We);return V(ee,Ze,he),he})}function P(me,Le){const Re=b(me,Le);return Re?Promise.reject(Re):Promise.resolve()}function A(me){const Le=X.values().next().value;return Le&&typeof Le.runWithContext=="function"?Le.runWithContext(me):me()}function j(me,Le){let Re;const[Ze,We,ae]=D_(me,Le);Re=Sc(Ze.reverse(),"beforeRouteLeave",me,Le);for(const ne of Ze)ne.leaveGuards.forEach(ee=>{Re.push(so(ee,me,Le))});const ge=P.bind(null,me,Le);return Re.push(ge),Ae(Re).then(()=>{Re=[];for(const ne of n.list())Re.push(so(ne,me,Le));return Re.push(ge),Ae(Re)}).then(()=>{Re=Sc(We,"beforeRouteUpdate",me,Le);for(const ne of We)ne.updateGuards.forEach(ee=>{Re.push(so(ee,me,Le))});return Re.push(ge),Ae(Re)}).then(()=>{Re=[];for(const ne of ae)if(ne.beforeEnter)if(Xa(ne.beforeEnter))for(const ee of ne.beforeEnter)Re.push(so(ee,me,Le));else Re.push(so(ne.beforeEnter,me,Le));return Re.push(ge),Ae(Re)}).then(()=>(me.matched.forEach(ne=>ne.enterCallbacks={}),Re=Sc(ae,"beforeRouteEnter",me,Le,A),Re.push(ge),Ae(Re))).then(()=>{Re=[];for(const ne of i.list())Re.push(so(ne,me,Le));return Re.push(ge),Ae(Re)}).catch(ne=>br(ne,As.NAVIGATION_CANCELLED)?ne:Promise.reject(ne))}function V(me,Le,Re){l.list().forEach(Ze=>A(()=>Ze(me,Le,Re)))}function H(me,Le,Re,Ze,We){const ae=b(me,Le);if(ae)return ae;const ge=Le===Kr,ne=mn?history.state:{};Re&&(Ze||ge?o.replace(me.fullPath,is({scroll:ge&&ne&&ne.scroll},We)):o.push(me.fullPath,We)),u.value=me,ye(me,Le,Re,ge),_e()}let R;function M(){R||(R=o.listen((me,Le,Re)=>{if(!se.listening)return;const Ze=p(me),We=C(Ze,se.currentRoute.value);if(We){T(is(We,{replace:!0,force:!0}),Ze).catch(ki);return}m=Ze;const ae=u.value;mn&&C_(gg(ae.fullPath,Re.delta),Wd()),j(Ze,ae).catch(ge=>br(ge,As.NAVIGATION_ABORTED|As.NAVIGATION_CANCELLED)?ge:br(ge,As.NAVIGATION_GUARD_REDIRECT)?(T(is(v(ge.to),{force:!0}),Ze).then(ne=>{br(ne,As.NAVIGATION_ABORTED|As.NAVIGATION_DUPLICATED)&&!Re.delta&&Re.type===mu.pop&&o.go(-1,!1)}).catch(ki),Promise.reject()):(Re.delta&&o.go(-Re.delta,!1),Z(ge,Ze,ae))).then(ge=>{ge=ge||H(Ze,ae,!1),ge&&(Re.delta&&!br(ge,As.NAVIGATION_CANCELLED)?o.go(-Re.delta,!1):Re.type===mu.pop&&br(ge,As.NAVIGATION_ABORTED|As.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),V(Ze,ae,ge)}).catch(ki)}))}let B=Jn(),W=Jn(),K;function Z(me,Le,Re){_e(me);const Ze=W.list();return Ze.length?Ze.forEach(We=>We(me,Le,Re)):console.error(me),Promise.reject(me)}function Te(){return K&&u.value!==Kr?Promise.resolve():new Promise((me,Le)=>{B.add([me,Le])})}function _e(me){return K||(K=!me,M(),B.list().forEach(([Le,Re])=>me?Re(me):Le()),B.reset()),me}function ye(me,Le,Re,Ze){const{scrollBehavior:We}=e;if(!mn||!We)return Promise.resolve();const ae=!Re&&S_(gg(me.fullPath,0))||(Ze||!Re)&&history.state&&history.state.scroll||null;return zs().then(()=>We(me,Le,ae)).then(ge=>ge&&$_(ge)).catch(ge=>Z(ge,me,Le))}const z=me=>o.go(me);let q;const X=new Set,se={currentRoute:u,listening:!0,addRoute:c,removeRoute:h,clearRoutes:t.clearRoutes,hasRoute:d,getRoutes:g,resolve:p,options:e,push:w,replace:E,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:n.add,beforeResolve:i.add,afterEach:l.add,onError:W.add,isReady:Te,install(me){me.component("RouterLink",e4),me.component("RouterView",r4),me.config.globalProperties.$router=se,Object.defineProperty(me.config.globalProperties,"$route",{enumerable:!0,get:()=>F(u)}),mn&&!q&&u.value===Kr&&(q=!0,w(o.location).catch(Ze=>{}));const Le={};for(const Ze in Kr)Object.defineProperty(Le,Ze,{get:()=>u.value[Ze],enumerable:!0});me.provide(Kd,se),me.provide(_0,Rf(Le)),me.provide(yu,u);const Re=me.unmount;X.add(me),me.unmount=function(){X.delete(me),X.size<1&&(m=Kr,R&&R(),R=null,u.value=Kr,q=!1,K=!1),Re()}}};function Ae(me){return me.reduce((Le,Re)=>Le.then(()=>A(Re)),Promise.resolve())}return se}function vr(){return ia(Kd)}function wo(e){return ia(_0)}const Qs=Nn("auth",()=>{const e=O(null),t=O([]),s=O(null),r=O(localStorage.getItem("token")||null),o=O(!1),n=fe(()=>!!r.value),i=fe(()=>{var f;return((f=e.value)==null?void 0:f.role)||null}),l=async f=>{var x;o.value=!0;try{const c=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify(f)}),h=await c.json();if(!c.ok)throw new Error(h.message||"Invalid credentials");if(h.success)return r.value=h.token,e.value=h.user,t.value=h.roles,s.value=h.role_active,localStorage.setItem("token",h.token),localStorage.setItem("user",JSON.stringify(h.user)),localStorage.setItem("roles",JSON.stringify(h.roles)),localStorage.setItem("role_active",JSON.stringify(h.role_active)),{success:!0,user:h.user};throw new Error(h.message||"Login failed")}catch(c){return console.error("Login error:",c),{success:!1,error:c.message}}finally{o.value=!1}},u=async()=>{var f;try{r.value&&await fetch("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${r.value}`,Accept:"application/json","X-CSRF-TOKEN":((f=document.querySelector('meta[name="csrf-token"]'))==null?void 0:f.getAttribute("content"))||""}})}catch(x){console.error("Logout error:",x)}finally{r.value=null,e.value=null,t.value=[],s.value=null,localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("roles"),localStorage.removeItem("role_active")}};return{user:e,roles:t,roleActive:s,token:r,isLoading:o,isAuthenticated:n,userRole:i,login:l,logout:u,loadUserFromStorage:()=>{const f=localStorage.getItem("user");if(f)try{e.value=JSON.parse(f)}catch(h){console.error("Error parsing saved user:",h),localStorage.removeItem("user")}const x=localStorage.getItem("roles");if(x)try{t.value=JSON.parse(x)}catch(h){console.error("Error parsing saved roles:",h),localStorage.removeItem("roles")}const c=localStorage.getItem("role_active");if(c)try{s.value=JSON.parse(c)}catch(h){console.error("Error parsing saved role_active:",h),localStorage.removeItem("role_active")}},checkAuth:async()=>{if(!r.value)return!1;try{const f=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${r.value}`,Accept:"application/json"}});if(!f.ok)throw new Error("Token invalid");const x=await f.json();if(x.success)return e.value=x.user,t.value=x.roles,s.value=x.role_active,localStorage.setItem("user",JSON.stringify(x.user)),localStorage.setItem("roles",JSON.stringify(x.roles)),localStorage.setItem("role_active",JSON.stringify(x.role_active)),!0;throw new Error("Auth check failed")}catch{return await u(),!1}}}}),_o=Nn("theme",()=>{const e=O(!1);return{isDark:e,toggleTheme:()=>{e.value=!e.value,document.documentElement.classList.toggle("dark",e.value),localStorage.setItem("theme",e.value?"dark":"light")},loadTheme:()=>{localStorage.getItem("theme")==="dark"&&(e.value=!0,document.documentElement.classList.add("dark"))}}}),$0=_s.create({baseURL:"/api",headers:{"Content-Type":"application/json",Accept:"application/json"}});$0.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));$0.interceptors.response.use(e=>e,e=>{var t;if(((t=e.response)==null?void 0:t.status)===401){try{Qs().logout()}catch(s){console.error("Error during logout:",s)}return window.location.href="/login",Promise.reject(e)}return Promise.reject(e)});function Yd(){return $0}function Tt(e,t={}){return Yd().get(e,t).then(s=>s.data)}function Xt(e,t,s={}){return Yd().post(e,t,s).then(r=>r.data)}function Na(e,t,s={}){return Yd().put(e,t,s).then(r=>r.data)}function Os(e,t={}){return Yd().delete(e,t).then(s=>s.data)}const Xe={get:Tt,post:Xt,put:Na,delete:Os},n4={class:"min-h-screen bg-white dark:bg-gray-900 flex transition-colors duration-300"},i4={class:"hidden lg:flex lg:w-1/2 bg-primary-600 dark:bg-primary-700 flex-col justify-between p-12 relative overflow-hidden"},l4={class:"relative z-10"},d4={class:"flex items-center space-x-3 mb-8"},c4={class:"w-12 h-12 bg-white/20 backdrop-blur rounded-lg flex items-center justify-center"},u4=["src","alt"],h4={key:1,class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},g4={class:"text-2xl font-bold text-white"},p4={key:0,class:"text-sm text-white/80"},m4={class:"max-w-md"},f4={class:"text-lg text-white/90 leading-relaxed"},y4={key:0,class:"relative z-10 text-white/80 text-sm space-y-2"},v4={key:0,class:"flex items-center"},x4={key:1,class:"flex items-center"},b4={key:2,class:"flex items-start"},k4={class:"flex-1"},w4={class:"w-full lg:w-1/2 flex items-center justify-center p-8 sm:p-12"},_4={class:"w-full max-w-md"},$4={class:"lg:hidden mb-8 text-center"},C4={class:"flex justify-center mb-4"},S4={class:"w-16 h-16 bg-primary-600 dark:bg-primary-500 rounded-lg flex items-center justify-center"},E4=["src","alt"],T4={key:1,class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},A4={class:"text-2xl font-bold text-gray-900 dark:text-white"},L4={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},M4={key:0,class:"mt-1.5 text-sm text-red-600 dark:text-red-400"},P4={class:"relative"},D4=["type"],I4={key:0,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},O4={key:1,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},F4={key:0,class:"mt-1.5 text-sm text-red-600 dark:text-red-400"},R4={class:"flex items-center justify-between"},j4={class:"flex items-center"},N4={class:"text-sm"},V4={key:0,class:"rounded-lg bg-red-50 dark:bg-red-900/10 p-4 border border-red-200 dark:border-red-800"},B4={class:"flex"},U4={class:"text-sm text-red-800 dark:text-red-200"},H4=["disabled"],q4={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},z4={key:0,class:"mt-8 text-center text-xs text-gray-500 dark:text-gray-400"},W4={__name:"Login",setup(e){const t=vr(),s=wo(),r=Qs(),o=_o(),n=Ut(),i=O(!1),l=Es({email:"",password:"",remember:!1}),u=Es({email:"",password:"",general:""}),m=Es({logo_sistem:"",nama_sistem:"AdminPanel",deskripsi_sistem:"",nama_perusahaan:"",alamat_lengkap:"",email_perusahaan:"",nomor_telepon:"",footer_text:""}),y=async()=>{try{const b=await Tt("/settings");b.success&&Object.assign(m,b.data)}catch(b){console.error("Error fetching settings:",b)}};Ot(()=>{o.loadTheme(),y(),v()});const f=()=>{u.email="",u.password="",u.general=""},x=()=>{l.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)?u.email="":u.email="Please enter a valid email address":u.email="Email is required"},c=()=>{l.password?l.password.length<6?u.password="Password must be at least 6 characters":u.password="":u.password="Password is required"},h=()=>{f();let b=!0;return l.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(u.email="Please enter a valid email address",b=!1):(u.email="Email is required",b=!1),l.password?l.password.length<6&&(u.password="Password must be at least 6 characters",b=!1):(u.password="Password is required",b=!1),b},g=()=>{i.value=!i.value},d=async()=>{if(!h())return;f();const b=await r.login({email:l.email,password:l.password,remember:l.remember});if(b.success){n.success("Login Successful",`Welcome back, ${b.user.name}!`);const w=s.query.redirect||"/";setTimeout(()=>{t.push(w)},800)}else n.error("Login Failed",b.error||"Invalid email or password. Please try again."),u.general=b.error||"Login failed. Please try again."},p=()=>{t.push("/forgot-password")},v=()=>{l.email="",l.password="",f();const b=document.getElementById("email"),w=document.getElementById("password");b&&w&&(b.classList.add("ring-2","ring-green-500"),w.classList.add("ring-2","ring-green-500"),setTimeout(()=>{b.classList.remove("ring-2","ring-green-500"),w.classList.remove("ring-2","ring-green-500")},1e3))};return(b,w)=>($(),S("div",n4,[a("div",i4,[w[8]||(w[8]=a("div",{class:"absolute inset-0 opacity-10"},[a("div",{class:"absolute inset-0",style:{"background-image":"url('data:image/svg+xml,%3Csvg width=\\'60\\' height=\\'60\\' viewBox=\\'0 0 60 60\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cg fill=\\'none\\' fill-rule=\\'evenodd\\'%3E%3Cg fill=\\'%23ffffff\\' fill-opacity=\\'1\\'%3E%3Cpath d=\\'M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\\'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')"}})],-1)),a("div",l4,[a("div",d4,[a("div",c4,[m.logo_sistem?($(),S("img",{key:0,src:`/storage/logo/${m.logo_sistem}`,alt:m.nama_sistem,class:"w-full h-full object-contain p-1.5"},null,8,u4)):($(),S("svg",h4,[...w[3]||(w[3]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])]))]),a("div",null,[a("h1",g4,k(m.nama_sistem||"AdminPanel"),1),m.nama_perusahaan?($(),S("p",p4,k(m.nama_perusahaan),1)):G("",!0)])]),a("div",m4,[w[4]||(w[4]=a("h2",{class:"text-3xl font-bold text-white mb-4"}," Manage Your Business with Confidence ",-1)),a("p",f4,k(m.deskripsi_sistem||"Powerful tools to streamline your operations and drive growth."),1)])]),m.email_perusahaan||m.nomor_telepon||m.alamat_lengkap?($(),S("div",y4,[m.email_perusahaan?($(),S("p",v4,[w[5]||(w[5]=a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),ke(" "+k(m.email_perusahaan),1)])):G("",!0),m.nomor_telepon?($(),S("p",x4,[w[6]||(w[6]=a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),ke(" "+k(m.nomor_telepon),1)])):G("",!0),m.alamat_lengkap?($(),S("p",b4,[w[7]||(w[7]=a("svg",{class:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),a("span",k4,k(m.alamat_lengkap),1)])):G("",!0)])):G("",!0)]),a("div",w4,[a("div",_4,[a("div",$4,[a("div",C4,[a("div",S4,[m.logo_sistem?($(),S("img",{key:0,src:`/storage/logo/${m.logo_sistem}`,alt:m.nama_sistem,class:"w-full h-full object-contain p-2"},null,8,E4)):($(),S("svg",T4,[...w[9]||(w[9]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])]))])]),a("h1",A4,k(m.nama_sistem||"AdminPanel"),1),m.nama_perusahaan?($(),S("p",L4,k(m.nama_perusahaan),1)):G("",!0)]),w[17]||(w[17]=a("div",{class:"mb-8"},[a("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Sign in "),a("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Enter your credentials to access your account ")],-1)),a("form",{onSubmit:Bt(d,["prevent"]),class:"space-y-5"},[a("div",null,[w[10]||(w[10]=a("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email address ",-1)),rt(a("input",{id:"email","onUpdate:modelValue":w[0]||(w[0]=E=>l.email=E),name:"email",type:"email",autocomplete:"email",required:"",onInput:x,onBlur:x,class:Ee(["block w-full px-4 py-3 rounded-lg border text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-600 dark:focus:ring-primary-500 transition-colors sm:text-sm",u.email?"border-red-300 dark:border-red-700 bg-red-50 dark:bg-red-900/10 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500"]),placeholder:"you@example.com"},null,34),[[It,l.email]]),u.email?($(),S("p",M4,k(u.email),1)):G("",!0)]),a("div",null,[w[13]||(w[13]=a("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Password ",-1)),a("div",P4,[rt(a("input",{id:"password","onUpdate:modelValue":w[1]||(w[1]=E=>l.password=E),name:"password",type:i.value?"text":"password",autocomplete:"current-password",required:"",onInput:c,onBlur:c,class:Ee(["block w-full px-4 py-3 pr-11 rounded-lg border text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-600 dark:focus:ring-primary-500 transition-colors sm:text-sm",u.password?"border-red-300 dark:border-red-700 bg-red-50 dark:bg-red-900/10 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500"]),placeholder:""},null,42,D4),[[xi,l.password]]),a("button",{type:"button",onClick:g,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[i.value?($(),S("svg",O4,[...w[12]||(w[12]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):($(),S("svg",I4,[...w[11]||(w[11]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),u.password?($(),S("p",F4,k(u.password),1)):G("",!0)]),a("div",R4,[a("div",j4,[rt(a("input",{id:"remember-me","onUpdate:modelValue":w[2]||(w[2]=E=>l.remember=E),name:"remember-me",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-600 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-500"},null,512),[[Da,l.remember]]),w[14]||(w[14]=a("label",{for:"remember-me",class:"ml-2 text-sm text-gray-700 dark:text-gray-300 cursor-pointer select-none"}," Remember me ",-1))]),a("div",N4,[a("a",{href:"#",onClick:Bt(p,["prevent"]),class:"font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors"}," Forgot password? ")])]),u.general?($(),S("div",V4,[a("div",B4,[w[15]||(w[15]=a("svg",{class:"h-5 w-5 text-red-400 mr-3 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})],-1)),a("p",U4,k(u.general),1)])])):G("",!0),a("div",null,[a("button",{type:"submit",disabled:F(r).isLoading,class:"w-full flex justify-center items-center px-4 py-3 bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 text-white text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600 dark:focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[F(r).isLoading?($(),S("svg",q4,[...w[16]||(w[16]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):G("",!0),ke(" "+k(F(r).isLoading?"Signing in...":"Sign in"),1)],8,H4)])],32),m.footer_text?($(),S("p",z4,k(m.footer_text),1)):G("",!0)])])]))}},K4=ja(W4,[["__scopeId","data-v-5983a651"]]),Y4={class:"min-h-screen bg-white dark:bg-gray-900 flex transition-colors duration-300"},G4={class:"hidden lg:flex lg:w-1/2 bg-primary-600 dark:bg-primary-700 flex-col justify-between p-12 relative overflow-hidden"},J4={class:"relative z-10"},Q4={class:"flex items-center space-x-3 mb-8"},X4={class:"w-12 h-12 bg-white/20 backdrop-blur rounded-lg flex items-center justify-center"},Z4=["src","alt"],e5={key:1,class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t5={class:"text-2xl font-bold text-white"},s5={key:0,class:"text-sm text-white/80"},a5={key:0,class:"relative z-10 text-white/80 text-sm space-y-2"},r5={key:0,class:"flex items-center"},o5={key:1,class:"flex items-center"},n5={key:2,class:"flex items-start"},i5={class:"flex-1"},l5={class:"w-full lg:w-1/2 flex items-center justify-center p-8 sm:p-12"},d5={class:"w-full max-w-md"},c5={class:"lg:hidden mb-8 text-center"},u5={class:"flex justify-center mb-4"},h5={class:"w-16 h-16 bg-primary-600 dark:bg-primary-500 rounded-lg flex items-center justify-center"},g5=["src","alt"],p5={key:1,class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},m5={class:"text-2xl font-bold text-gray-900 dark:text-white"},f5={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},y5={key:0,class:"mt-1.5 text-sm text-red-600 dark:text-red-400"},v5={key:0,class:"rounded-lg bg-red-50 dark:bg-red-900/10 p-4 border border-red-200 dark:border-red-800"},x5={class:"flex"},b5={class:"text-sm text-red-800 dark:text-red-200"},k5={key:1,class:"rounded-lg bg-green-50 dark:bg-green-900/10 p-4 border border-green-200 dark:border-green-800"},w5={class:"flex"},_5={class:"text-sm text-green-800 dark:text-green-200"},$5=["disabled"],C5={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},S5={class:"mt-8 text-center"},E5={key:0,class:"mt-8 text-center text-xs text-gray-500 dark:text-gray-400"},T5={__name:"ForgotPassword",setup(e){const t=vr(),s=_o(),r=Ut(),o=O(!1),n=Es({email:""}),i=Es({email:"",general:""}),l=O(""),u=Es({logo_sistem:"",nama_sistem:"AdminPanel",deskripsi_sistem:"",nama_perusahaan:"",alamat_lengkap:"",email_perusahaan:"",nomor_telepon:"",footer_text:""}),m=async()=>{try{const h=await Tt("/settings");h.success&&Object.assign(u,h.data)}catch(h){console.error("Error fetching settings:",h)}};Ot(()=>{s.loadTheme(),m()});const y=()=>{i.email="",i.general="",l.value=""},f=()=>{n.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?i.email="":i.email="Please enter a valid email address":i.email="Email is required"},x=()=>{y();let h=!0;return n.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(i.email="Please enter a valid email address",h=!1):(i.email="Email is required",h=!1),h},c=async()=>{var h,g,d,p;if(x()){y(),o.value=!0;try{const v=await Xt("/auth/forgot-password",{email:n.email});v.success?(l.value=v.message,r.success("OTP Sent","Please check your email for the password reset OTP."),setTimeout(()=>{t.push({path:"/verify-otp",query:{email:n.email}})},2e3)):(r.error("Request Failed",v.message||"Failed to send password reset OTP."),i.general=v.message||"Failed to send password reset OTP.")}catch(v){console.error("Forgot password error:",v),r.error("Request Failed",((g=(h=v.response)==null?void 0:h.data)==null?void 0:g.message)||"An error occurred. Please try again."),i.general=((p=(d=v.response)==null?void 0:d.data)==null?void 0:p.message)||"An error occurred. Please try again."}finally{o.value=!1}}};return(h,g)=>{const d=pr("router-link");return $(),S("div",Y4,[a("div",G4,[g[6]||(g[6]=a("div",{class:"absolute inset-0 opacity-10"},[a("div",{class:"absolute inset-0",style:{"background-image":"url('data:image/svg+xml,%3Csvg width=\\'60\\' height=\\'60\\' viewBox=\\'0 0 60 60\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cg fill=\\'none\\' fill-rule=\\'evenodd\\'%3E%3Cg fill=\\'%23ffffff\\' fill-opacity=\\'1\\'%3E%3Cpath d=\\'M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\\'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')"}})],-1)),a("div",J4,[a("div",Q4,[a("div",X4,[u.logo_sistem?($(),S("img",{key:0,src:`/storage/logo/${u.logo_sistem}`,alt:u.nama_sistem,class:"w-full h-full object-contain p-1.5"},null,8,Z4)):($(),S("svg",e5,[...g[1]||(g[1]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])]))]),a("div",null,[a("h1",t5,k(u.nama_sistem||"AdminPanel"),1),u.nama_perusahaan?($(),S("p",s5,k(u.nama_perusahaan),1)):G("",!0)])]),g[2]||(g[2]=a("div",{class:"max-w-md"},[a("h2",{class:"text-3xl font-bold text-white mb-4"}," Reset Your Password "),a("p",{class:"text-lg text-white/90 leading-relaxed"}," Enter your email address and we'll send you a secure OTP to reset your password. ")],-1))]),u.email_perusahaan||u.nomor_telepon||u.alamat_lengkap?($(),S("div",a5,[u.email_perusahaan?($(),S("p",r5,[g[3]||(g[3]=a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),ke(" "+k(u.email_perusahaan),1)])):G("",!0),u.nomor_telepon?($(),S("p",o5,[g[4]||(g[4]=a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),ke(" "+k(u.nomor_telepon),1)])):G("",!0),u.alamat_lengkap?($(),S("p",n5,[g[5]||(g[5]=a("svg",{class:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),a("span",i5,k(u.alamat_lengkap),1)])):G("",!0)])):G("",!0)]),a("div",l5,[a("div",d5,[a("div",c5,[a("div",u5,[a("div",h5,[u.logo_sistem?($(),S("img",{key:0,src:`/storage/logo/${u.logo_sistem}`,alt:u.nama_sistem,class:"w-full h-full object-contain p-2"},null,8,g5)):($(),S("svg",p5,[...g[7]||(g[7]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])]))])]),a("h1",m5,k(u.nama_sistem||"AdminPanel"),1),u.nama_perusahaan?($(),S("p",f5,k(u.nama_perusahaan),1)):G("",!0)]),g[13]||(g[13]=a("div",{class:"mb-8"},[a("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Forgot Password "),a("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Enter your email address to receive a password reset OTP ")],-1)),a("form",{onSubmit:Bt(c,["prevent"]),class:"space-y-5"},[a("div",null,[g[8]||(g[8]=a("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email address ",-1)),rt(a("input",{id:"email","onUpdate:modelValue":g[0]||(g[0]=p=>n.email=p),name:"email",type:"email",autocomplete:"email",required:"",onInput:f,onBlur:f,class:Ee(["block w-full px-4 py-3 rounded-lg border text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-600 dark:focus:ring-primary-500 transition-colors sm:text-sm",i.email?"border-red-300 dark:border-red-700 bg-red-50 dark:bg-red-900/10 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500"]),placeholder:"you@example.com"},null,34),[[It,n.email]]),i.email?($(),S("p",y5,k(i.email),1)):G("",!0)]),i.general?($(),S("div",v5,[a("div",x5,[g[9]||(g[9]=a("svg",{class:"h-5 w-5 text-red-400 mr-3 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})],-1)),a("p",b5,k(i.general),1)])])):G("",!0),l.value?($(),S("div",k5,[a("div",w5,[g[10]||(g[10]=a("svg",{class:"h-5 w-5 text-green-400 mr-3 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.236 4.53L9.53 12.22a.75.75 0 001.214.882l2.236-3.126z","clip-rule":"evenodd"})],-1)),a("p",_5,k(l.value),1)])])):G("",!0),a("div",null,[a("button",{type:"submit",disabled:o.value,class:"w-full flex justify-center items-center px-4 py-3 bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 text-white text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600 dark:focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[o.value?($(),S("svg",C5,[...g[11]||(g[11]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):G("",!0),ke(" "+k(o.value?"Sending OTP...":"Send Reset OTP"),1)],8,$5)])],32),a("div",S5,[L(d,{to:"/login",class:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors"},{default:le(()=>[...g[12]||(g[12]=[ke("  Back to Login ",-1)])]),_:1})]),u.footer_text?($(),S("p",E5,k(u.footer_text),1)):G("",!0)])])])}}},A5=ja(T5,[["__scopeId","data-v-70f3eaad"]]),L5={class:"min-h-screen bg-white dark:bg-gray-900 flex transition-colors duration-300"},M5={class:"hidden lg:flex lg:w-1/2 bg-primary-600 dark:bg-primary-700 flex-col justify-between p-12 relative overflow-hidden"},P5={class:"relative z-10"},D5={class:"flex items-center space-x-3 mb-8"},I5={class:"w-12 h-12 bg-white/20 backdrop-blur rounded-lg flex items-center justify-center"},O5=["src","alt"],F5={key:1,class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R5={class:"text-2xl font-bold text-white"},j5={key:0,class:"text-sm text-white/80"},N5={key:0,class:"relative z-10 text-white/80 text-sm space-y-2"},V5={key:0,class:"flex items-center"},B5={key:1,class:"flex items-center"},U5={key:2,class:"flex items-start"},H5={class:"flex-1"},q5={class:"w-full lg:w-1/2 flex items-center justify-center p-8 sm:p-12"},z5={class:"w-full max-w-md"},W5={class:"lg:hidden mb-8 text-center"},K5={class:"flex justify-center mb-4"},Y5={class:"w-16 h-16 bg-primary-600 dark:bg-primary-500 rounded-lg flex items-center justify-center"},G5=["src","alt"],J5={key:1,class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Q5={class:"text-2xl font-bold text-gray-900 dark:text-white"},X5={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Z5={class:"mb-8"},e3={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},t3={class:"flex space-x-2"},s3=["onUpdate:modelValue","onInput","onKeydown"],a3={key:0,class:"mt-1.5 text-sm text-red-600 dark:text-red-400"},r3={class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},o3={key:0,class:"rounded-lg bg-red-50 dark:bg-red-900/10 p-4 border border-red-200 dark:border-red-800"},n3={class:"flex"},i3={class:"text-sm text-red-800 dark:text-red-200"},l3=["disabled"],d3={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},c3={class:"mt-6 text-center"},u3={class:"text-sm text-gray-600 dark:text-gray-400"},h3=["disabled"],g3={class:"mt-4 text-center"},p3={key:0,class:"mt-8 text-center text-xs text-gray-500 dark:text-gray-400"},m3={__name:"VerifyOTP",setup(e){const t=vr(),s=wo(),r=_o(),o=Ut(),n=O(!1),i=O(!1),l=O(0),u=O(15*60),m=O(null),y=O(s.query.email||""),f=Es(Array(6).fill("")),x=O([]),c=Es({otp:"",general:""}),h=Es({logo_sistem:"",nama_sistem:"AdminPanel",deskripsi_sistem:"",nama_perusahaan:"",alamat_lengkap:"",email_perusahaan:"",nomor_telepon:"",footer_text:""}),g=async()=>{try{const A=await Tt("/settings");A.success&&Object.assign(h,A.data)}catch(A){console.error("Error fetching settings:",A)}};Ot(async()=>{var A;if(r.loadTheme(),await g(),!y.value){t.push("/forgot-password");return}d(),await zs(),(A=x.value[0])==null||A.focus()}),Ea(()=>{m.value&&clearInterval(m.value)});const d=()=>{m.value=setInterval(()=>{u.value--,u.value<=0&&(clearInterval(m.value),c.otp="OTP has expired. Please request a new one.")},1e3)},p=()=>{c.otp="",c.general=""},v=A=>{const j=Math.floor(A/60),V=A%60;return`${j}:${V.toString().padStart(2,"0")}`},b=(A,j)=>{var H;const V=j.target.value.replace(/\D/g,"");f[A]=V,V&&A<5&&((H=x.value[A+1])==null||H.focus()),p()},w=(A,j)=>{var V;j.key==="Backspace"&&!f[A]&&A>0&&((V=x.value[A-1])==null||V.focus())},E=A=>{var V;A.preventDefault();const j=A.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);for(let H=0;H<j.length;H++)x.value[H]&&(f[H]=j[H]);j.length===6&&((V=x.value[5])==null||V.focus()),p()},C=()=>{const A=f.join("");return A.length!==6?(c.otp="Please enter the complete 6-digit OTP",!1):/^\d{6}$/.test(A)?!0:(c.otp="OTP must contain only numbers",!1)},T=async()=>{var j,V,H,R;if(!C())return;if(u.value<=0){c.general="OTP has expired. Please request a new one.";return}p(),n.value=!0;const A=f.join("");try{const M=await Xt("/auth/verify-otp",{email:y.value,otp:A});M.success?(o.success("OTP Verified","You can now reset your password."),t.push({path:"/reset-password",query:{email:y.value,token:M.token}})):(o.error("Verification Failed",M.message||"Invalid OTP. Please try again."),c.general=M.message||"Invalid OTP. Please try again.")}catch(M){console.error("OTP verification error:",M),o.error("Verification Failed",((V=(j=M.response)==null?void 0:j.data)==null?void 0:V.message)||"An error occurred. Please try again."),c.general=((R=(H=M.response)==null?void 0:H.data)==null?void 0:R.message)||"An error occurred. Please try again."}finally{n.value=!1}},P=async()=>{var A,j,V,H;if(!(l.value>0)){p(),i.value=!0;try{const R=await Xt("/auth/forgot-password",{email:y.value});if(R.success){u.value=15*60,l.value=60;const M=setInterval(()=>{l.value--,l.value<=0&&clearInterval(M)},1e3);o.success("OTP Resent","A new OTP has been sent to your email.")}else o.error("Resend Failed",R.message||"Failed to resend OTP."),c.general=R.message||"Failed to resend OTP."}catch(R){console.error("Resend OTP error:",R),o.error("Resend Failed",((j=(A=R.response)==null?void 0:A.data)==null?void 0:j.message)||"An error occurred. Please try again."),c.general=((H=(V=R.response)==null?void 0:V.data)==null?void 0:H.message)||"An error occurred. Please try again."}finally{i.value=!1}}};return(A,j)=>{const V=pr("router-link");return $(),S("div",L5,[a("div",M5,[j[5]||(j[5]=a("div",{class:"absolute inset-0 opacity-10"},[a("div",{class:"absolute inset-0",style:{"background-image":"url('data:image/svg+xml,%3Csvg width=\\'60\\' height=\\'60\\' viewBox=\\'0 0 60 60\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cg fill=\\'none\\' fill-rule=\\'evenodd\\'%3E%3Cg fill=\\'%23ffffff\\' fill-opacity=\\'1\\'%3E%3Cpath d=\\'M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\\'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')"}})],-1)),a("div",P5,[a("div",D5,[a("div",I5,[h.logo_sistem?($(),S("img",{key:0,src:`/storage/logo/${h.logo_sistem}`,alt:h.nama_sistem,class:"w-full h-full object-contain p-1.5"},null,8,O5)):($(),S("svg",F5,[...j[0]||(j[0]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])]))]),a("div",null,[a("h1",R5,k(h.nama_sistem||"AdminPanel"),1),h.nama_perusahaan?($(),S("p",j5,k(h.nama_perusahaan),1)):G("",!0)])]),j[1]||(j[1]=a("div",{class:"max-w-md"},[a("h2",{class:"text-3xl font-bold text-white mb-4"}," Verify Your Identity "),a("p",{class:"text-lg text-white/90 leading-relaxed"}," We've sent a 6-digit OTP to your email. Enter it below to verify your identity and reset your password. ")],-1))]),h.email_perusahaan||h.nomor_telepon||h.alamat_lengkap?($(),S("div",N5,[h.email_perusahaan?($(),S("p",V5,[j[2]||(j[2]=a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),ke(" "+k(h.email_perusahaan),1)])):G("",!0),h.nomor_telepon?($(),S("p",B5,[j[3]||(j[3]=a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),ke(" "+k(h.nomor_telepon),1)])):G("",!0),h.alamat_lengkap?($(),S("p",U5,[j[4]||(j[4]=a("svg",{class:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),a("span",H5,k(h.alamat_lengkap),1)])):G("",!0)])):G("",!0)]),a("div",q5,[a("div",z5,[a("div",W5,[a("div",K5,[a("div",Y5,[h.logo_sistem?($(),S("img",{key:0,src:`/storage/logo/${h.logo_sistem}`,alt:h.nama_sistem,class:"w-full h-full object-contain p-2"},null,8,G5)):($(),S("svg",J5,[...j[6]||(j[6]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])]))])]),a("h1",Q5,k(h.nama_sistem||"AdminPanel"),1),h.nama_perusahaan?($(),S("p",X5,k(h.nama_perusahaan),1)):G("",!0)]),a("div",Z5,[j[8]||(j[8]=a("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Enter OTP ",-1)),a("p",e3,[j[7]||(j[7]=ke(" We've sent a 6-digit code to ",-1)),a("strong",null,k(y.value),1)])]),a("form",{onSubmit:Bt(T,["prevent"]),class:"space-y-5"},[a("div",null,[j[9]||(j[9]=a("label",{for:"otp",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Verification Code ",-1)),a("div",t3,[($(!0),S(Qe,null,ot(f,(H,R)=>rt(($(),S("input",{key:R,ref_for:!0,ref:M=>x.value[R]=M,"onUpdate:modelValue":M=>f[R]=M,type:"text",maxlength:"1",onInput:M=>b(R,M),onKeydown:M=>w(R,M),onPaste:E,class:Ee(["w-12 h-12 text-center text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-600 dark:focus:ring-primary-500 focus:border-primary-600 dark:focus:border-primary-500 transition-colors",{"border-red-300 dark:border-red-700 bg-red-50 dark:bg-red-900/10 focus:border-red-500 focus:ring-red-500":c.otp}])},null,42,s3)),[[It,f[R]]])),128))]),c.otp?($(),S("p",a3,k(c.otp),1)):G("",!0),a("p",r3," OTP expires in "+k(v(u.value)),1)]),c.general?($(),S("div",o3,[a("div",n3,[j[10]||(j[10]=a("svg",{class:"h-5 w-5 text-red-400 mr-3 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})],-1)),a("p",i3,k(c.general),1)])])):G("",!0),a("div",null,[a("button",{type:"submit",disabled:n.value||u.value<=0,class:"w-full flex justify-center items-center px-4 py-3 bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 text-white text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600 dark:focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[n.value?($(),S("svg",d3,[...j[11]||(j[11]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):G("",!0),ke(" "+k(n.value?"Verifying...":u.value<=0?"OTP Expired":"Verify OTP"),1)],8,l3)])],32),a("div",c3,[a("p",u3,[j[12]||(j[12]=ke(" Didn't receive the code? ",-1)),a("button",{onClick:P,disabled:i.value||l.value>0,class:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},k(i.value?"Sending...":l.value>0?`Resend in ${l.value}s`:"Resend OTP"),9,h3)])]),a("div",g3,[L(V,{to:"/forgot-password",class:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors"},{default:le(()=>[...j[13]||(j[13]=[ke("  Change Email ",-1)])]),_:1})]),h.footer_text?($(),S("p",p3,k(h.footer_text),1)):G("",!0)])])])}}},f3=ja(m3,[["__scopeId","data-v-d66daf5c"]]),y3={class:"min-h-screen bg-white dark:bg-gray-900 flex transition-colors duration-300"},v3={class:"hidden lg:flex lg:w-1/2 bg-primary-600 dark:bg-primary-700 flex-col justify-between p-12 relative overflow-hidden"},x3={class:"relative z-10"},b3={class:"flex items-center space-x-3 mb-8"},k3={class:"w-12 h-12 bg-white/20 backdrop-blur rounded-lg flex items-center justify-center"},w3=["src","alt"],_3={key:1,class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$3={class:"text-2xl font-bold text-white"},C3={key:0,class:"text-sm text-white/80"},S3={key:0,class:"relative z-10 text-white/80 text-sm space-y-2"},E3={key:0,class:"flex items-center"},T3={key:1,class:"flex items-center"},A3={key:2,class:"flex items-start"},L3={class:"flex-1"},M3={class:"w-full lg:w-1/2 flex items-center justify-center p-8 sm:p-12"},P3={class:"w-full max-w-md"},D3={class:"lg:hidden mb-8 text-center"},I3={class:"flex justify-center mb-4"},O3={class:"w-16 h-16 bg-primary-600 dark:bg-primary-500 rounded-lg flex items-center justify-center"},F3=["src","alt"],R3={key:1,class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},j3={class:"text-2xl font-bold text-gray-900 dark:text-white"},N3={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},V3={class:"relative"},B3=["type"],U3={key:0,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},H3={key:1,class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},q3={key:0,class:"mt-1.5 text-sm text-red-600 dark:text-red-400"},z3={key:1,class:"mt-2"},W3={class:"flex items-center space-x-2"},K3={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Y3={key:0,class:"mt-1.5 text-sm text-red-600 dark:text-red-400"},G3={class:"rounded-lg bg-blue-50 dark:bg-blue-900/10 p-4 border border-blue-200 dark:border-blue-800"},J3={class:"text-xs text-blue-700 dark:text-blue-300 space-y-1"},Q3={key:0,class:"rounded-lg bg-red-50 dark:bg-red-900/10 p-4 border border-red-200 dark:border-red-800"},X3={class:"flex"},Z3={class:"text-sm text-red-800 dark:text-red-200"},e$={key:1,class:"rounded-lg bg-green-50 dark:bg-green-900/10 p-4 border border-green-200 dark:border-green-800"},t$={class:"flex"},s$={class:"text-sm text-green-800 dark:text-green-200"},a$=["disabled"],r$={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},o$={class:"mt-8 text-center"},n$={key:0,class:"mt-8 text-center text-xs text-gray-500 dark:text-gray-400"},i$={__name:"ResetPassword",setup(e){const t=vr(),s=wo(),r=_o(),o=Ut(),n=O(!1),i=O(!1),l=O(s.query.email||""),u=O(s.query.token||""),m=Es({password:"",password_confirmation:""}),y=Es({password:"",password_confirmation:"",general:""}),f=O(""),x=Es({logo_sistem:"",nama_sistem:"AdminPanel",deskripsi_sistem:"",nama_perusahaan:"",alamat_lengkap:"",email_perusahaan:"",nomor_telepon:"",footer_text:""}),c=fe(()=>({length:m.password.length>=8,uppercase:/[A-Z]/.test(m.password),lowercase:/[a-z]/.test(m.password),number:/\d/.test(m.password),special:/[@$!%*?&]/.test(m.password)})),h=fe(()=>{const T=Object.values(c.value).filter(Boolean).length;return T===0?{text:"",width:"0%",color:"bg-gray-300"}:T<=2?{text:"Weak",width:"33%",color:"bg-red-500"}:T<=4?{text:"Medium",width:"66%",color:"bg-yellow-500"}:{text:"Strong",width:"100%",color:"bg-green-500"}}),g=async()=>{try{const C=await Tt("/settings");C.success&&Object.assign(x,C.data)}catch(C){console.error("Error fetching settings:",C)}};Ot(async()=>{if(r.loadTheme(),await g(),!l.value||!u.value){t.push("/forgot-password");return}});const d=()=>{y.password="",y.password_confirmation="",y.general=""},p=()=>{m.password?m.password.length<8?y.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(m.password)?y.password="":y.password="Password must contain uppercase, lowercase, number, and special character":y.password="Password is required"},v=()=>{m.password_confirmation?m.password_confirmation!==m.password?y.password_confirmation="Passwords do not match":y.password_confirmation="":y.password_confirmation="Please confirm your password"},b=()=>{d();let C=!0;return m.password?m.password.length<8?(y.password="Password must be at least 8 characters",C=!1):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(m.password)||(y.password="Password must contain uppercase, lowercase, number, and special character",C=!1):(y.password="Password is required",C=!1),m.password_confirmation?m.password_confirmation!==m.password&&(y.password_confirmation="Passwords do not match",C=!1):(y.password_confirmation="Please confirm your password",C=!1),C},w=()=>{i.value=!i.value},E=async()=>{var C,T,P,A;if(b()){d(),n.value=!0;try{const j=await Xt("/auth/reset-password",{email:l.value,token:u.value,password:m.password,password_confirmation:m.password_confirmation});j.success?(f.value=j.message,o.success("Password Reset","Your password has been successfully reset."),setTimeout(()=>{t.push("/login")},2e3)):(o.error("Reset Failed",j.message||"Failed to reset password."),y.general=j.message||"Failed to reset password.")}catch(j){console.error("Reset password error:",j),o.error("Reset Failed",((T=(C=j.response)==null?void 0:C.data)==null?void 0:T.message)||"An error occurred. Please try again."),y.general=((A=(P=j.response)==null?void 0:P.data)==null?void 0:A.message)||"An error occurred. Please try again."}finally{n.value=!1}}};return(C,T)=>{const P=pr("router-link");return $(),S("div",y3,[a("div",v3,[T[7]||(T[7]=a("div",{class:"absolute inset-0 opacity-10"},[a("div",{class:"absolute inset-0",style:{"background-image":"url('data:image/svg+xml,%3Csvg width=\\'60\\' height=\\'60\\' viewBox=\\'0 0 60 60\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E%3Cg fill=\\'none\\' fill-rule=\\'evenodd\\'%3E%3Cg fill=\\'%23ffffff\\' fill-opacity=\\'1\\'%3E%3Cpath d=\\'M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\\'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')"}})],-1)),a("div",x3,[a("div",b3,[a("div",k3,[x.logo_sistem?($(),S("img",{key:0,src:`/storage/logo/${x.logo_sistem}`,alt:x.nama_sistem,class:"w-full h-full object-contain p-1.5"},null,8,w3)):($(),S("svg",_3,[...T[2]||(T[2]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])]))]),a("div",null,[a("h1",$3,k(x.nama_sistem||"AdminPanel"),1),x.nama_perusahaan?($(),S("p",C3,k(x.nama_perusahaan),1)):G("",!0)])]),T[3]||(T[3]=a("div",{class:"max-w-md"},[a("h2",{class:"text-3xl font-bold text-white mb-4"}," Set New Password "),a("p",{class:"text-lg text-white/90 leading-relaxed"}," Create a strong password for your account. Make sure it's unique and hard to guess. ")],-1))]),x.email_perusahaan||x.nomor_telepon||x.alamat_lengkap?($(),S("div",S3,[x.email_perusahaan?($(),S("p",E3,[T[4]||(T[4]=a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),ke(" "+k(x.email_perusahaan),1)])):G("",!0),x.nomor_telepon?($(),S("p",T3,[T[5]||(T[5]=a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),ke(" "+k(x.nomor_telepon),1)])):G("",!0),x.alamat_lengkap?($(),S("p",A3,[T[6]||(T[6]=a("svg",{class:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),a("span",L3,k(x.alamat_lengkap),1)])):G("",!0)])):G("",!0)]),a("div",M3,[a("div",P3,[a("div",D3,[a("div",I3,[a("div",O3,[x.logo_sistem?($(),S("img",{key:0,src:`/storage/logo/${x.logo_sistem}`,alt:x.nama_sistem,class:"w-full h-full object-contain p-2"},null,8,F3)):($(),S("svg",R3,[...T[8]||(T[8]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"},null,-1)])]))])]),a("h1",j3,k(x.nama_sistem||"AdminPanel"),1),x.nama_perusahaan?($(),S("p",N3,k(x.nama_perusahaan),1)):G("",!0)]),T[18]||(T[18]=a("div",{class:"mb-8"},[a("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," Reset Password "),a("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Enter your new password below ")],-1)),a("form",{onSubmit:Bt(E,["prevent"]),class:"space-y-5"},[a("div",null,[T[11]||(T[11]=a("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," New Password ",-1)),a("div",V3,[rt(a("input",{id:"password","onUpdate:modelValue":T[0]||(T[0]=A=>m.password=A),name:"password",type:i.value?"text":"password",autocomplete:"new-password",required:"",onInput:p,onBlur:p,class:Ee(["block w-full px-4 py-3 pr-11 rounded-lg border text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-600 dark:focus:ring-primary-500 transition-colors sm:text-sm",y.password?"border-red-300 dark:border-red-700 bg-red-50 dark:bg-red-900/10 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500"]),placeholder:""},null,42,B3),[[xi,m.password]]),a("button",{type:"button",onClick:w,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},[i.value?($(),S("svg",H3,[...T[10]||(T[10]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):($(),S("svg",U3,[...T[9]||(T[9]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),y.password?($(),S("p",q3,k(y.password),1)):G("",!0),m.password?($(),S("div",z3,[a("div",W3,[a("div",K3,[a("div",{class:Ee(["h-2 rounded-full transition-all duration-300",h.value.color]),style:fs({width:h.value.width})},null,6)]),a("span",{class:Ee(["text-xs font-medium",h.value.color.replace("bg-","text-")])},k(h.value.text),3)])])):G("",!0)]),a("div",null,[T[12]||(T[12]=a("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Confirm New Password ",-1)),rt(a("input",{id:"password_confirmation","onUpdate:modelValue":T[1]||(T[1]=A=>m.password_confirmation=A),name:"password_confirmation",type:"password",autocomplete:"new-password",required:"",onInput:v,onBlur:v,class:Ee(["block w-full px-4 py-3 rounded-lg border text-gray-900 dark:text-white placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-600 dark:focus:ring-primary-500 transition-colors sm:text-sm",y.password_confirmation?"border-red-300 dark:border-red-700 bg-red-50 dark:bg-red-900/10 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500"]),placeholder:""},null,34),[[It,m.password_confirmation]]),y.password_confirmation?($(),S("p",Y3,k(y.password_confirmation),1)):G("",!0)]),a("div",G3,[T[13]||(T[13]=a("h4",{class:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2"}," Password Requirements: ",-1)),a("ul",J3,[a("li",{class:Ee({"line-through":c.value.length})},"  At least 8 characters ",2),a("li",{class:Ee({"line-through":c.value.uppercase})},"  One uppercase letter ",2),a("li",{class:Ee({"line-through":c.value.lowercase})},"  One lowercase letter ",2),a("li",{class:Ee({"line-through":c.value.number})},"  One number ",2),a("li",{class:Ee({"line-through":c.value.special})},"  One special character (@$!%*?&) ",2)])]),y.general?($(),S("div",Q3,[a("div",X3,[T[14]||(T[14]=a("svg",{class:"h-5 w-5 text-red-400 mr-3 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})],-1)),a("p",Z3,k(y.general),1)])])):G("",!0),f.value?($(),S("div",e$,[a("div",t$,[T[15]||(T[15]=a("svg",{class:"h-5 w-5 text-green-400 mr-3 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.236 4.53L9.53 12.22a.75.75 0 001.214.882l2.236-3.126z","clip-rule":"evenodd"})],-1)),a("p",s$,k(f.value),1)])])):G("",!0),a("div",null,[a("button",{type:"submit",disabled:n.value,class:"w-full flex justify-center items-center px-4 py-3 bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 text-white text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-600 dark:focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[n.value?($(),S("svg",r$,[...T[16]||(T[16]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):G("",!0),ke(" "+k(n.value?"Resetting...":"Reset Password"),1)],8,a$)])],32),a("div",o$,[L(P,{to:"/login",class:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors"},{default:le(()=>[...T[17]||(T[17]=[ke("  Back to Login ",-1)])]),_:1})]),x.footer_text?($(),S("p",n$,k(x.footer_text),1)):G("",!0)])])])}}},l$=ja(i$,[["__scopeId","data-v-be55bb0e"]]),d$=Nn("setting",()=>{const e=O({}),t=O(!1),s=async()=>{t.value=!0;try{const i=await(await fetch("/api/settings",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();i.success&&(e.value=i.data)}catch(n){console.error("Failed to fetch settings:",n)}finally{t.value=!1}},r=fe(()=>e.value.report_checker_name||""),o=fe(()=>e.value.report_approver_name||"");return{settings:e,loading:t,fetchSettings:s,reportCheckerName:r,reportApproverName:o}});/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function c$(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const md=typeof window<"u",$o=(e,t=!1)=>t?Symbol.for(e):Symbol(e),u$=(e,t,s)=>h$({l:e,k:t,s}),h$=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ps=e=>typeof e=="number"&&isFinite(e),g$=e=>tv(e)==="[object Date]",fo=e=>tv(e)==="[object RegExp]",Gd=e=>zt(e)&&Object.keys(e).length===0,Js=Object.assign,p$=Object.create,gs=(e=null)=>p$(e);let Sg;const Ir=()=>Sg||(Sg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:gs());function Eg(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function Tg(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m$(e){return e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,o,n)=>`${o}="${Tg(n)}"`),e=e.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,o,n)=>`${o}='${Tg(n)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{e=e.replace(r,"$1javascript&#58;")}),e}const f$=Object.prototype.hasOwnProperty;function qa(e,t){return f$.call(e,t)}const bs=Array.isArray,xs=e=>typeof e=="function",kt=e=>typeof e=="string",Qt=e=>typeof e=="boolean",ns=e=>e!==null&&typeof e=="object",y$=e=>ns(e)&&xs(e.then)&&xs(e.catch),ev=Object.prototype.toString,tv=e=>ev.call(e),zt=e=>{if(!ns(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},v$=e=>e==null?"":bs(e)||zt(e)&&e.toString===ev?JSON.stringify(e,null,2):String(e);function x$(e,t=""){return e.reduce((s,r,o)=>o===0?s+r:s+t+r,"")}function Jd(e){let t=e;return()=>++t}const kl=e=>!ns(e)||bs(e);function Wl(e,t){if(kl(e)||kl(t))throw new Error("Invalid value");const s=[{src:e,des:t}];for(;s.length;){const{src:r,des:o}=s.pop();Object.keys(r).forEach(n=>{n!=="__proto__"&&(ns(r[n])&&!ns(o[n])&&(o[n]=Array.isArray(r[n])?[]:gs()),kl(o[n])||kl(r[n])?o[n]=r[n]:s.push({src:r[n],des:o[n]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function b$(e,t,s){return{line:e,column:t,offset:s}}function fd(e,t,s){return{start:e,end:t}}const k$=/\{([0-9a-zA-Z]+)\}/g;function sv(e,...t){return t.length===1&&w$(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(k$,(s,r)=>t.hasOwnProperty(r)?t[r]:"")}const av=Object.assign,Ag=e=>typeof e=="string",w$=e=>e!==null&&typeof e=="object";function rv(e,t=""){return e.reduce((s,r,o)=>o===0?s+r:s+t+r,"")}const C0={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},_$={[C0.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function $$(e,t,...s){const r=sv(_$[e],...s||[]),o={message:String(r),code:e};return t&&(o.location=t),o}const jt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},C$={[jt.EXPECTED_TOKEN]:"Expected token: '{0}'",[jt.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[jt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[jt.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[jt.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[jt.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[jt.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[jt.EMPTY_PLACEHOLDER]:"Empty placeholder",[jt.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[jt.INVALID_LINKED_FORMAT]:"Invalid linked format",[jt.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[jt.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[jt.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[jt.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[jt.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[jt.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Vn(e,t,s={}){const{domain:r,messages:o,args:n}=s,i=sv((o||C$)[e]||"",...n||[]),l=new SyntaxError(String(i));return l.code=e,t&&(l.location=t),l.domain=r,l}function S$(e){throw e}const kr=" ",E$="\r",ua=`
`,T$="\u2028",A$="\u2029";function L$(e){const t=e;let s=0,r=1,o=1,n=0;const i=T=>t[T]===E$&&t[T+1]===ua,l=T=>t[T]===ua,u=T=>t[T]===A$,m=T=>t[T]===T$,y=T=>i(T)||l(T)||u(T)||m(T),f=()=>s,x=()=>r,c=()=>o,h=()=>n,g=T=>i(T)||u(T)||m(T)?ua:t[T],d=()=>g(s),p=()=>g(s+n);function v(){return n=0,y(s)&&(r++,o=0),i(s)&&s++,s++,o++,t[s]}function b(){return i(s+n)&&n++,n++,t[s+n]}function w(){s=0,r=1,o=1,n=0}function E(T=0){n=T}function C(){const T=s+n;for(;T!==s;)v();n=0}return{index:f,line:x,column:c,peekOffset:h,charAt:g,currentChar:d,currentPeek:p,next:v,peek:b,reset:w,resetPeek:E,skipToPeek:C}}const Yr=void 0,M$=".",Lg="'",P$="tokenizer";function D$(e,t={}){const s=t.location!==!1,r=L$(e),o=()=>r.index(),n=()=>b$(r.line(),r.column(),r.index()),i=n(),l=o(),u={currentType:14,offset:l,startLoc:i,endLoc:i,lastType:14,lastOffset:l,lastStartLoc:i,lastEndLoc:i,braceNest:0,inLinked:!1,text:""},m=()=>u,{onError:y}=t;function f(D,N,U,...Q){const Ge=m();if(N.column+=U,N.offset+=U,y){const He=s?fd(Ge.startLoc,N):null,pe=Vn(D,He,{domain:P$,args:Q});y(pe)}}function x(D,N,U){D.endLoc=n(),D.currentType=N;const Q={type:N};return s&&(Q.loc=fd(D.startLoc,D.endLoc)),U!=null&&(Q.value=U),Q}const c=D=>x(D,14);function h(D,N){return D.currentChar()===N?(D.next(),N):(f(jt.EXPECTED_TOKEN,n(),0,N),"")}function g(D){let N="";for(;D.currentPeek()===kr||D.currentPeek()===ua;)N+=D.currentPeek(),D.peek();return N}function d(D){const N=g(D);return D.skipToPeek(),N}function p(D){if(D===Yr)return!1;const N=D.charCodeAt(0);return N>=97&&N<=122||N>=65&&N<=90||N===95}function v(D){if(D===Yr)return!1;const N=D.charCodeAt(0);return N>=48&&N<=57}function b(D,N){const{currentType:U}=N;if(U!==2)return!1;g(D);const Q=p(D.currentPeek());return D.resetPeek(),Q}function w(D,N){const{currentType:U}=N;if(U!==2)return!1;g(D);const Q=D.currentPeek()==="-"?D.peek():D.currentPeek(),Ge=v(Q);return D.resetPeek(),Ge}function E(D,N){const{currentType:U}=N;if(U!==2)return!1;g(D);const Q=D.currentPeek()===Lg;return D.resetPeek(),Q}function C(D,N){const{currentType:U}=N;if(U!==8)return!1;g(D);const Q=D.currentPeek()===".";return D.resetPeek(),Q}function T(D,N){const{currentType:U}=N;if(U!==9)return!1;g(D);const Q=p(D.currentPeek());return D.resetPeek(),Q}function P(D,N){const{currentType:U}=N;if(!(U===8||U===12))return!1;g(D);const Q=D.currentPeek()===":";return D.resetPeek(),Q}function A(D,N){const{currentType:U}=N;if(U!==10)return!1;const Q=()=>{const He=D.currentPeek();return He==="{"?p(D.peek()):He==="@"||He==="%"||He==="|"||He===":"||He==="."||He===kr||!He?!1:He===ua?(D.peek(),Q()):H(D,!1)},Ge=Q();return D.resetPeek(),Ge}function j(D){g(D);const N=D.currentPeek()==="|";return D.resetPeek(),N}function V(D){const N=g(D),U=D.currentPeek()==="%"&&D.peek()==="{";return D.resetPeek(),{isModulo:U,hasSpace:N.length>0}}function H(D,N=!0){const U=(Ge=!1,He="",pe=!1)=>{const ie=D.currentPeek();return ie==="{"?He==="%"?!1:Ge:ie==="@"||!ie?He==="%"?!0:Ge:ie==="%"?(D.peek(),U(Ge,"%",!0)):ie==="|"?He==="%"||pe?!0:!(He===kr||He===ua):ie===kr?(D.peek(),U(!0,kr,pe)):ie===ua?(D.peek(),U(!0,ua,pe)):!0},Q=U();return N&&D.resetPeek(),Q}function R(D,N){const U=D.currentChar();return U===Yr?Yr:N(U)?(D.next(),U):null}function M(D){const N=D.charCodeAt(0);return N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===95||N===36}function B(D){return R(D,M)}function W(D){const N=D.charCodeAt(0);return N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===95||N===36||N===45}function K(D){return R(D,W)}function Z(D){const N=D.charCodeAt(0);return N>=48&&N<=57}function Te(D){return R(D,Z)}function _e(D){const N=D.charCodeAt(0);return N>=48&&N<=57||N>=65&&N<=70||N>=97&&N<=102}function ye(D){return R(D,_e)}function z(D){let N="",U="";for(;N=Te(D);)U+=N;return U}function q(D){d(D);const N=D.currentChar();return N!=="%"&&f(jt.EXPECTED_TOKEN,n(),0,N),D.next(),"%"}function X(D){let N="";for(;;){const U=D.currentChar();if(U==="{"||U==="}"||U==="@"||U==="|"||!U)break;if(U==="%")if(H(D))N+=U,D.next();else break;else if(U===kr||U===ua)if(H(D))N+=U,D.next();else{if(j(D))break;N+=U,D.next()}else N+=U,D.next()}return N}function se(D){d(D);let N="",U="";for(;N=K(D);)U+=N;return D.currentChar()===Yr&&f(jt.UNTERMINATED_CLOSING_BRACE,n(),0),U}function Ae(D){d(D);let N="";return D.currentChar()==="-"?(D.next(),N+=`-${z(D)}`):N+=z(D),D.currentChar()===Yr&&f(jt.UNTERMINATED_CLOSING_BRACE,n(),0),N}function me(D){return D!==Lg&&D!==ua}function Le(D){d(D),h(D,"'");let N="",U="";for(;N=R(D,me);)N==="\\"?U+=Re(D):U+=N;const Q=D.currentChar();return Q===ua||Q===Yr?(f(jt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,n(),0),Q===ua&&(D.next(),h(D,"'")),U):(h(D,"'"),U)}function Re(D){const N=D.currentChar();switch(N){case"\\":case"'":return D.next(),`\\${N}`;case"u":return Ze(D,N,4);case"U":return Ze(D,N,6);default:return f(jt.UNKNOWN_ESCAPE_SEQUENCE,n(),0,N),""}}function Ze(D,N,U){h(D,N);let Q="";for(let Ge=0;Ge<U;Ge++){const He=ye(D);if(!He){f(jt.INVALID_UNICODE_ESCAPE_SEQUENCE,n(),0,`\\${N}${Q}${D.currentChar()}`);break}Q+=He}return`\\${N}${Q}`}function We(D){return D!=="{"&&D!=="}"&&D!==kr&&D!==ua}function ae(D){d(D);let N="",U="";for(;N=R(D,We);)U+=N;return U}function ge(D){let N="",U="";for(;N=B(D);)U+=N;return U}function ne(D){const N=U=>{const Q=D.currentChar();return Q==="{"||Q==="%"||Q==="@"||Q==="|"||Q==="("||Q===")"||!Q||Q===kr?U:(U+=Q,D.next(),N(U))};return N("")}function ee(D){d(D);const N=h(D,"|");return d(D),N}function ue(D,N){let U=null;switch(D.currentChar()){case"{":return N.braceNest>=1&&f(jt.NOT_ALLOW_NEST_PLACEHOLDER,n(),0),D.next(),U=x(N,2,"{"),d(D),N.braceNest++,U;case"}":return N.braceNest>0&&N.currentType===2&&f(jt.EMPTY_PLACEHOLDER,n(),0),D.next(),U=x(N,3,"}"),N.braceNest--,N.braceNest>0&&d(D),N.inLinked&&N.braceNest===0&&(N.inLinked=!1),U;case"@":return N.braceNest>0&&f(jt.UNTERMINATED_CLOSING_BRACE,n(),0),U=he(D,N)||c(N),N.braceNest=0,U;default:{let Ge=!0,He=!0,pe=!0;if(j(D))return N.braceNest>0&&f(jt.UNTERMINATED_CLOSING_BRACE,n(),0),U=x(N,1,ee(D)),N.braceNest=0,N.inLinked=!1,U;if(N.braceNest>0&&(N.currentType===5||N.currentType===6||N.currentType===7))return f(jt.UNTERMINATED_CLOSING_BRACE,n(),0),N.braceNest=0,Ce(D,N);if(Ge=b(D,N))return U=x(N,5,se(D)),d(D),U;if(He=w(D,N))return U=x(N,6,Ae(D)),d(D),U;if(pe=E(D,N))return U=x(N,7,Le(D)),d(D),U;if(!Ge&&!He&&!pe)return U=x(N,13,ae(D)),f(jt.INVALID_TOKEN_IN_PLACEHOLDER,n(),0,U.value),d(D),U;break}}return U}function he(D,N){const{currentType:U}=N;let Q=null;const Ge=D.currentChar();switch((U===8||U===9||U===12||U===10)&&(Ge===ua||Ge===kr)&&f(jt.INVALID_LINKED_FORMAT,n(),0),Ge){case"@":return D.next(),Q=x(N,8,"@"),N.inLinked=!0,Q;case".":return d(D),D.next(),x(N,9,".");case":":return d(D),D.next(),x(N,10,":");default:return j(D)?(Q=x(N,1,ee(D)),N.braceNest=0,N.inLinked=!1,Q):C(D,N)||P(D,N)?(d(D),he(D,N)):T(D,N)?(d(D),x(N,12,ge(D))):A(D,N)?(d(D),Ge==="{"?ue(D,N)||Q:x(N,11,ne(D))):(U===8&&f(jt.INVALID_LINKED_FORMAT,n(),0),N.braceNest=0,N.inLinked=!1,Ce(D,N))}}function Ce(D,N){let U={type:14};if(N.braceNest>0)return ue(D,N)||c(N);if(N.inLinked)return he(D,N)||c(N);switch(D.currentChar()){case"{":return ue(D,N)||c(N);case"}":return f(jt.UNBALANCED_CLOSING_BRACE,n(),0),D.next(),x(N,3,"}");case"@":return he(D,N)||c(N);default:{if(j(D))return U=x(N,1,ee(D)),N.braceNest=0,N.inLinked=!1,U;const{isModulo:Ge,hasSpace:He}=V(D);if(Ge)return He?x(N,0,X(D)):x(N,4,q(D));if(H(D))return x(N,0,X(D));break}}return U}function J(){const{currentType:D,offset:N,startLoc:U,endLoc:Q}=u;return u.lastType=D,u.lastOffset=N,u.lastStartLoc=U,u.lastEndLoc=Q,u.offset=o(),u.startLoc=n(),r.currentChar()===Yr?x(u,14):Ce(r,u)}return{nextToken:J,currentOffset:o,currentPosition:n,context:m}}const I$="parser",O$=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function F$(e,t,s){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||s,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function R$(e={}){const t=e.location!==!1,{onError:s,onWarn:r}=e;function o(b,w,E,C,...T){const P=b.currentPosition();if(P.offset+=C,P.column+=C,s){const A=t?fd(E,P):null,j=Vn(w,A,{domain:I$,args:T});s(j)}}function n(b,w,E,C,...T){const P=b.currentPosition();if(P.offset+=C,P.column+=C,r){const A=t?fd(E,P):null;r($$(w,A,T))}}function i(b,w,E){const C={type:b};return t&&(C.start=w,C.end=w,C.loc={start:E,end:E}),C}function l(b,w,E,C){t&&(b.end=w,b.loc&&(b.loc.end=E))}function u(b,w){const E=b.context(),C=i(3,E.offset,E.startLoc);return C.value=w,l(C,b.currentOffset(),b.currentPosition()),C}function m(b,w){const E=b.context(),{lastOffset:C,lastStartLoc:T}=E,P=i(5,C,T);return P.index=parseInt(w,10),b.nextToken(),l(P,b.currentOffset(),b.currentPosition()),P}function y(b,w,E){const C=b.context(),{lastOffset:T,lastStartLoc:P}=C,A=i(4,T,P);return A.key=w,E===!0&&(A.modulo=!0),b.nextToken(),l(A,b.currentOffset(),b.currentPosition()),A}function f(b,w){const E=b.context(),{lastOffset:C,lastStartLoc:T}=E,P=i(9,C,T);return P.value=w.replace(O$,F$),b.nextToken(),l(P,b.currentOffset(),b.currentPosition()),P}function x(b){const w=b.nextToken(),E=b.context(),{lastOffset:C,lastStartLoc:T}=E,P=i(8,C,T);return w.type!==12?(o(b,jt.UNEXPECTED_EMPTY_LINKED_MODIFIER,E.lastStartLoc,0),P.value="",l(P,C,T),{nextConsumeToken:w,node:P}):(w.value==null&&o(b,jt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,Ba(w)),P.value=w.value||"",l(P,b.currentOffset(),b.currentPosition()),{node:P})}function c(b,w){const E=b.context(),C=i(7,E.offset,E.startLoc);return C.value=w,l(C,b.currentOffset(),b.currentPosition()),C}function h(b){const w=b.context(),E=i(6,w.offset,w.startLoc);let C=b.nextToken();if(C.type===9){const T=x(b);E.modifier=T.node,C=T.nextConsumeToken||b.nextToken()}switch(C.type!==10&&o(b,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ba(C)),C=b.nextToken(),C.type===2&&(C=b.nextToken()),C.type){case 11:C.value==null&&o(b,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ba(C)),E.key=c(b,C.value||"");break;case 5:C.value==null&&o(b,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ba(C)),E.key=y(b,C.value||"");break;case 6:C.value==null&&o(b,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ba(C)),E.key=m(b,C.value||"");break;case 7:C.value==null&&o(b,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ba(C)),E.key=f(b,C.value||"");break;default:{o(b,jt.UNEXPECTED_EMPTY_LINKED_KEY,w.lastStartLoc,0);const T=b.context(),P=i(7,T.offset,T.startLoc);return P.value="",l(P,T.offset,T.startLoc),E.key=P,l(E,T.offset,T.startLoc),{nextConsumeToken:C,node:E}}}return l(E,b.currentOffset(),b.currentPosition()),{node:E}}function g(b){const w=b.context(),E=w.currentType===1?b.currentOffset():w.offset,C=w.currentType===1?w.endLoc:w.startLoc,T=i(2,E,C);T.items=[];let P=null,A=null;do{const H=P||b.nextToken();switch(P=null,H.type){case 0:H.value==null&&o(b,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ba(H)),T.items.push(u(b,H.value||""));break;case 6:H.value==null&&o(b,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ba(H)),T.items.push(m(b,H.value||""));break;case 4:A=!0;break;case 5:H.value==null&&o(b,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ba(H)),T.items.push(y(b,H.value||"",!!A)),A&&(n(b,C0.USE_MODULO_SYNTAX,w.lastStartLoc,0,Ba(H)),A=null);break;case 7:H.value==null&&o(b,jt.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,Ba(H)),T.items.push(f(b,H.value||""));break;case 8:{const R=h(b);T.items.push(R.node),P=R.nextConsumeToken||null;break}}}while(w.currentType!==14&&w.currentType!==1);const j=w.currentType===1?w.lastOffset:b.currentOffset(),V=w.currentType===1?w.lastEndLoc:b.currentPosition();return l(T,j,V),T}function d(b,w,E,C){const T=b.context();let P=C.items.length===0;const A=i(1,w,E);A.cases=[],A.cases.push(C);do{const j=g(b);P||(P=j.items.length===0),A.cases.push(j)}while(T.currentType!==14);return P&&o(b,jt.MUST_HAVE_MESSAGES_IN_PLURAL,E,0),l(A,b.currentOffset(),b.currentPosition()),A}function p(b){const w=b.context(),{offset:E,startLoc:C}=w,T=g(b);return w.currentType===14?T:d(b,E,C,T)}function v(b){const w=D$(b,av({},e)),E=w.context(),C=i(0,E.offset,E.startLoc);return t&&C.loc&&(C.loc.source=b),C.body=p(w),e.onCacheKey&&(C.cacheKey=e.onCacheKey(b)),E.currentType!==14&&o(w,jt.UNEXPECTED_LEXICAL_ANALYSIS,E.lastStartLoc,0,b[E.offset]||""),l(C,w.currentOffset(),w.currentPosition()),C}return{parse:v}}function Ba(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function j$(e,t={}){const s={ast:e,helpers:new Set};return{context:()=>s,helper:n=>(s.helpers.add(n),n)}}function Mg(e,t){for(let s=0;s<e.length;s++)S0(e[s],t)}function S0(e,t){switch(e.type){case 1:Mg(e.cases,t),t.helper("plural");break;case 2:Mg(e.items,t);break;case 6:{S0(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function N$(e,t={}){const s=j$(e);s.helper("normalize"),e.body&&S0(e.body,s);const r=s.context();e.helpers=Array.from(r.helpers)}function V$(e){const t=e.body;return t.type===2?Pg(t):t.cases.forEach(s=>Pg(s)),e}function Pg(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let s=0;s<e.items.length;s++){const r=e.items[s];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=rv(t);for(let s=0;s<e.items.length;s++){const r=e.items[s];(r.type===3||r.type===9)&&delete r.value}}}}const B$="minifier";function fn(e){switch(e.t=e.type,e.type){case 0:{const t=e;fn(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,s=t.cases;for(let r=0;r<s.length;r++)fn(s[r]);t.c=s,delete t.cases;break}case 2:{const t=e,s=t.items;for(let r=0;r<s.length;r++)fn(s[r]);t.i=s,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;fn(t.key),t.k=t.key,delete t.key,t.modifier&&(fn(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw Vn(jt.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:B$,args:[e.type]})}delete e.type}const U$="parser";function H$(e,t){const{filename:s,breakLineCode:r,needIndent:o}=t,n=t.location!==!1,i={filename:s,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:o,indentLevel:0};n&&e.loc&&(i.source=e.loc.source);const l=()=>i;function u(g,d){i.code+=g}function m(g,d=!0){const p=d?r:"";u(o?p+"  ".repeat(g):p)}function y(g=!0){const d=++i.indentLevel;g&&m(d)}function f(g=!0){const d=--i.indentLevel;g&&m(d)}function x(){m(i.indentLevel)}return{context:l,push:u,indent:y,deindent:f,newline:x,helper:g=>`_${g}`,needIndent:()=>i.needIndent}}function q$(e,t){const{helper:s}=e;e.push(`${s("linked")}(`),Ln(e,t.key),t.modifier?(e.push(", "),Ln(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function z$(e,t){const{helper:s,needIndent:r}=e;e.push(`${s("normalize")}([`),e.indent(r());const o=t.items.length;for(let n=0;n<o&&(Ln(e,t.items[n]),n!==o-1);n++)e.push(", ");e.deindent(r()),e.push("])")}function W$(e,t){const{helper:s,needIndent:r}=e;if(t.cases.length>1){e.push(`${s("plural")}([`),e.indent(r());const o=t.cases.length;for(let n=0;n<o&&(Ln(e,t.cases[n]),n!==o-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}function K$(e,t){t.body?Ln(e,t.body):e.push("null")}function Ln(e,t){const{helper:s}=e;switch(t.type){case 0:K$(e,t);break;case 1:W$(e,t);break;case 2:z$(e,t);break;case 6:q$(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${s("interpolate")}(${s("list")}(${t.index}))`,t);break;case 4:e.push(`${s("interpolate")}(${s("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Vn(jt.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:U$,args:[t.type]})}}const Y$=(e,t={})=>{const s=Ag(t.mode)?t.mode:"normal",r=Ag(t.filename)?t.filename:"message.intl";t.sourceMap;const o=t.breakLineCode!=null?t.breakLineCode:s==="arrow"?";":`
`,n=t.needIndent?t.needIndent:s!=="arrow",i=e.helpers||[],l=H$(e,{filename:r,breakLineCode:o,needIndent:n});l.push(s==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(n),i.length>0&&(l.push(`const { ${rv(i.map(y=>`${y}: _${y}`),", ")} } = ctx`),l.newline()),l.push("return "),Ln(l,e),l.deindent(n),l.push("}"),delete e.helpers;const{code:u,map:m}=l.context();return{ast:e,code:u,map:m?m.toJSON():void 0}};function G$(e,t={}){const s=av({},t),r=!!s.jit,o=!!s.minify,n=s.optimize==null?!0:s.optimize,l=R$(s).parse(e);return r?(n&&V$(l),o&&fn(l),{ast:l,code:""}):(N$(l,s),Y$(l,s))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function J$(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ir().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ir().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ir().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function hr(e){return ns(e)&&E0(e)===0&&(qa(e,"b")||qa(e,"body"))}const ov=["b","body"];function Q$(e){return Co(e,ov)}const nv=["c","cases"];function X$(e){return Co(e,nv,[])}const iv=["s","static"];function Z$(e){return Co(e,iv)}const lv=["i","items"];function eC(e){return Co(e,lv,[])}const dv=["t","type"];function E0(e){return Co(e,dv)}const cv=["v","value"];function wl(e,t){const s=Co(e,cv);if(s!=null)return s;throw Oi(t)}const uv=["m","modifier"];function tC(e){return Co(e,uv)}const hv=["k","key"];function sC(e){const t=Co(e,hv);if(t)return t;throw Oi(6)}function Co(e,t,s){for(let r=0;r<t.length;r++){const o=t[r];if(qa(e,o)&&e[o]!=null)return e[o]}return s}const gv=[...ov,...nv,...iv,...lv,...hv,...uv,...cv,...dv];function Oi(e){return new Error(`unhandled node type: ${e}`)}const So=[];So[0]={w:[0],i:[3,0],"[":[4],o:[7]};So[1]={w:[1],".":[2],"[":[4],o:[7]};So[2]={w:[2],i:[3,0],0:[3,0]};So[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};So[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};So[5]={"'":[4,0],o:8,l:[5,0]};So[6]={'"':[4,0],o:8,l:[6,0]};const aC=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function rC(e){return aC.test(e)}function oC(e){const t=e.charCodeAt(0),s=e.charCodeAt(e.length-1);return t===s&&(t===34||t===39)?e.slice(1,-1):e}function nC(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function iC(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:rC(t)?oC(t):"*"+t}function lC(e){const t=[];let s=-1,r=0,o=0,n,i,l,u,m,y,f;const x=[];x[0]=()=>{i===void 0?i=l:i+=l},x[1]=()=>{i!==void 0&&(t.push(i),i=void 0)},x[2]=()=>{x[0](),o++},x[3]=()=>{if(o>0)o--,r=4,x[0]();else{if(o=0,i===void 0||(i=iC(i),i===!1))return!1;x[1]()}};function c(){const h=e[s+1];if(r===5&&h==="'"||r===6&&h==='"')return s++,l="\\"+h,x[0](),!0}for(;r!==null;)if(s++,n=e[s],!(n==="\\"&&c())){if(u=nC(n),f=So[r],m=f[u]||f.l||8,m===8||(r=m[0],m[1]!==void 0&&(y=x[m[1]],y&&(l=n,y()===!1))))return;if(r===7)return t}}const Dg=new Map;function dC(e,t){return ns(e)?e[t]:null}function cC(e,t){if(!ns(e))return null;let s=Dg.get(t);if(s||(s=lC(t),s&&Dg.set(t,s)),!s)return null;const r=s.length;let o=e,n=0;for(;n<r;){const i=s[n];if(gv.includes(i)&&hr(o))return null;const l=o[i];if(l===void 0||xs(o))return null;o=l,n++}return o}const uC=e=>e,hC=e=>"",gC="text",pC=e=>e.length===0?"":x$(e),mC=v$;function Ig(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function fC(e){const t=Ps(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Ps(e.named.count)||Ps(e.named.n))?Ps(e.named.count)?e.named.count:Ps(e.named.n)?e.named.n:t:t}function yC(e,t){t.count||(t.count=e),t.n||(t.n=e)}function vC(e={}){const t=e.locale,s=fC(e),r=ns(e.pluralRules)&&kt(t)&&xs(e.pluralRules[t])?e.pluralRules[t]:Ig,o=ns(e.pluralRules)&&kt(t)&&xs(e.pluralRules[t])?Ig:void 0,n=p=>p[r(s,p.length,o)],i=e.list||[],l=p=>i[p],u=e.named||gs();Ps(e.pluralIndex)&&yC(s,u);const m=p=>u[p];function y(p){const v=xs(e.messages)?e.messages(p):ns(e.messages)?e.messages[p]:!1;return v||(e.parent?e.parent.message(p):hC)}const f=p=>e.modifiers?e.modifiers[p]:uC,x=zt(e.processor)&&xs(e.processor.normalize)?e.processor.normalize:pC,c=zt(e.processor)&&xs(e.processor.interpolate)?e.processor.interpolate:mC,h=zt(e.processor)&&kt(e.processor.type)?e.processor.type:gC,d={list:l,named:m,plural:n,linked:(p,...v)=>{const[b,w]=v;let E="text",C="";v.length===1?ns(b)?(C=b.modifier||C,E=b.type||E):kt(b)&&(C=b||C):v.length===2&&(kt(b)&&(C=b||C),kt(w)&&(E=w||E));const T=y(p)(d),P=E==="vnode"&&bs(T)&&C?T[0]:T;return C?f(C)(P,E):P},message:y,type:h,interpolate:c,normalize:x,values:Js(gs(),i,u)};return d}let Fi=null;function xC(e){Fi=e}function bC(e,t,s){Fi&&Fi.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:s})}const kC=wC("function:translate");function wC(e){return t=>Fi&&Fi.emit(e,t)}const _C=C0.__EXTEND_POINT__,Po=Jd(_C),$C={FALLBACK_TO_TRANSLATE:Po(),CANNOT_FORMAT_NUMBER:Po(),FALLBACK_TO_NUMBER_FORMAT:Po(),CANNOT_FORMAT_DATE:Po(),FALLBACK_TO_DATE_FORMAT:Po(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Po(),__EXTEND_POINT__:Po()},pv=jt.__EXTEND_POINT__,Do=Jd(pv),za={INVALID_ARGUMENT:pv,INVALID_DATE_ARGUMENT:Do(),INVALID_ISO_DATE_ARGUMENT:Do(),NOT_SUPPORT_NON_STRING_MESSAGE:Do(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Do(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Do(),NOT_SUPPORT_LOCALE_TYPE:Do(),__EXTEND_POINT__:Do()};function cr(e){return Vn(e,null,void 0)}function T0(e,t){return t.locale!=null?Og(t.locale):Og(e.locale)}let Ec;function Og(e){if(kt(e))return e;if(xs(e)){if(e.resolvedOnce&&Ec!=null)return Ec;if(e.constructor.name==="Function"){const t=e();if(y$(t))throw cr(za.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Ec=t}else throw cr(za.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw cr(za.NOT_SUPPORT_LOCALE_TYPE)}function CC(e,t,s){return[...new Set([s,...bs(t)?t:ns(t)?Object.keys(t):kt(t)?[t]:[s]])]}function mv(e,t,s){const r=kt(s)?s:Mn,o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let n=o.__localeChainCache.get(r);if(!n){n=[];let i=[s];for(;bs(i);)i=Fg(n,i,t);const l=bs(t)||!zt(t)?t:t.default?t.default:null;i=kt(l)?[l]:l,bs(i)&&Fg(n,i,!1),o.__localeChainCache.set(r,n)}return n}function Fg(e,t,s){let r=!0;for(let o=0;o<t.length&&Qt(r);o++){const n=t[o];kt(n)&&(r=SC(e,t[o],s))}return r}function SC(e,t,s){let r;const o=t.split("-");do{const n=o.join("-");r=EC(e,n,s),o.splice(-1,1)}while(o.length&&r===!0);return r}function EC(e,t,s){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const o=t.replace(/!/g,"");e.push(o),(bs(s)||zt(s))&&s[o]&&(r=s[o])}return r}const TC="9.14.5",Qd=-1,Mn="en-US",Rg="",jg=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function AC(){return{upper:(e,t)=>t==="text"&&kt(e)?e.toUpperCase():t==="vnode"&&ns(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&kt(e)?e.toLowerCase():t==="vnode"&&ns(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&kt(e)?jg(e):t==="vnode"&&ns(e)&&"__v_isVNode"in e?jg(e.children):e}}let fv;function Ng(e){fv=e}let yv;function LC(e){yv=e}let vv;function MC(e){vv=e}let xv=null;const PC=e=>{xv=e},DC=()=>xv;let bv=null;const Vg=e=>{bv=e},IC=()=>bv;let Bg=0;function OC(e={}){const t=xs(e.onWarn)?e.onWarn:c$,s=kt(e.version)?e.version:TC,r=kt(e.locale)||xs(e.locale)?e.locale:Mn,o=xs(r)?Mn:r,n=bs(e.fallbackLocale)||zt(e.fallbackLocale)||kt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o,i=zt(e.messages)?e.messages:Tc(o),l=zt(e.datetimeFormats)?e.datetimeFormats:Tc(o),u=zt(e.numberFormats)?e.numberFormats:Tc(o),m=Js(gs(),e.modifiers,AC()),y=e.pluralRules||gs(),f=xs(e.missing)?e.missing:null,x=Qt(e.missingWarn)||fo(e.missingWarn)?e.missingWarn:!0,c=Qt(e.fallbackWarn)||fo(e.fallbackWarn)?e.fallbackWarn:!0,h=!!e.fallbackFormat,g=!!e.unresolving,d=xs(e.postTranslation)?e.postTranslation:null,p=zt(e.processor)?e.processor:null,v=Qt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,b=!!e.escapeParameter,w=xs(e.messageCompiler)?e.messageCompiler:fv,E=xs(e.messageResolver)?e.messageResolver:yv||dC,C=xs(e.localeFallbacker)?e.localeFallbacker:vv||CC,T=ns(e.fallbackContext)?e.fallbackContext:void 0,P=e,A=ns(P.__datetimeFormatters)?P.__datetimeFormatters:new Map,j=ns(P.__numberFormatters)?P.__numberFormatters:new Map,V=ns(P.__meta)?P.__meta:{};Bg++;const H={version:s,cid:Bg,locale:r,fallbackLocale:n,messages:i,modifiers:m,pluralRules:y,missing:f,missingWarn:x,fallbackWarn:c,fallbackFormat:h,unresolving:g,postTranslation:d,processor:p,warnHtmlMessage:v,escapeParameter:b,messageCompiler:w,messageResolver:E,localeFallbacker:C,fallbackContext:T,onWarn:t,__meta:V};return H.datetimeFormats=l,H.numberFormats=u,H.__datetimeFormatters=A,H.__numberFormatters=j,__INTLIFY_PROD_DEVTOOLS__&&bC(H,s,V),H}const Tc=e=>({[e]:gs()});function A0(e,t,s,r,o){const{missing:n,onWarn:i}=e;if(n!==null){const l=n(e,s,t,o);return kt(l)?l:t}else return t}function Qn(e,t,s){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,s,t)}function FC(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function RC(e,t){const s=t.indexOf(e);if(s===-1)return!1;for(let r=s+1;r<t.length;r++)if(FC(e,t[r]))return!0;return!1}function Ac(e){return s=>jC(s,e)}function jC(e,t){const s=Q$(t);if(s==null)throw Oi(0);if(E0(s)===1){const n=X$(s);return e.plural(n.reduce((i,l)=>[...i,Ug(e,l)],[]))}else return Ug(e,s)}function Ug(e,t){const s=Z$(t);if(s!=null)return e.type==="text"?s:e.normalize([s]);{const r=eC(t).reduce((o,n)=>[...o,vu(e,n)],[]);return e.normalize(r)}}function vu(e,t){const s=E0(t);switch(s){case 3:return wl(t,s);case 9:return wl(t,s);case 4:{const r=t;if(qa(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(qa(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw Oi(s)}case 5:{const r=t;if(qa(r,"i")&&Ps(r.i))return e.interpolate(e.list(r.i));if(qa(r,"index")&&Ps(r.index))return e.interpolate(e.list(r.index));throw Oi(s)}case 6:{const r=t,o=tC(r),n=sC(r);return e.linked(vu(e,n),o?vu(e,o):void 0,e.type)}case 7:return wl(t,s);case 8:return wl(t,s);default:throw new Error(`unhandled node on format message part: ${s}`)}}const kv=e=>e;let yn=gs();function wv(e,t={}){let s=!1;const r=t.onError||S$;return t.onError=o=>{s=!0,r(o)},{...G$(e,t),detectError:s}}const NC=(e,t)=>{if(!kt(e))throw cr(za.NOT_SUPPORT_NON_STRING_MESSAGE);{Qt(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||kv)(e),o=yn[r];if(o)return o;const{code:n,detectError:i}=wv(e,t),l=new Function(`return ${n}`)();return i?l:yn[r]=l}};function VC(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&kt(e)){Qt(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||kv)(e),o=yn[r];if(o)return o;const{ast:n,detectError:i}=wv(e,{...t,location:!1,jit:!0}),l=Ac(n);return i?l:yn[r]=l}else{const s=e.cacheKey;if(s){const r=yn[s];return r||(yn[s]=Ac(e))}else return Ac(e)}}const Hg=()=>"",Pa=e=>xs(e);function qg(e,...t){const{fallbackFormat:s,postTranslation:r,unresolving:o,messageCompiler:n,fallbackLocale:i,messages:l}=e,[u,m]=xu(...t),y=Qt(m.missingWarn)?m.missingWarn:e.missingWarn,f=Qt(m.fallbackWarn)?m.fallbackWarn:e.fallbackWarn,x=Qt(m.escapeParameter)?m.escapeParameter:e.escapeParameter,c=!!m.resolvedMessage,h=kt(m.default)||Qt(m.default)?Qt(m.default)?n?u:()=>u:m.default:s?n?u:()=>u:"",g=s||h!=="",d=T0(e,m);x&&BC(m);let[p,v,b]=c?[u,d,l[d]||gs()]:_v(e,u,d,i,f,y),w=p,E=u;if(!c&&!(kt(w)||hr(w)||Pa(w))&&g&&(w=h,E=w),!c&&(!(kt(w)||hr(w)||Pa(w))||!kt(v)))return o?Qd:u;let C=!1;const T=()=>{C=!0},P=Pa(w)?w:$v(e,u,v,w,E,T);if(C)return w;const A=qC(e,v,b,m),j=vC(A),V=UC(e,P,j);let H=r?r(V,u):V;if(x&&kt(H)&&(H=m$(H)),__INTLIFY_PROD_DEVTOOLS__){const R={timestamp:Date.now(),key:kt(u)?u:Pa(w)?w.key:"",locale:v||(Pa(w)?w.locale:""),format:kt(w)?w:Pa(w)?w.source:"",message:H};R.meta=Js({},e.__meta,DC()||{}),kC(R)}return H}function BC(e){bs(e.list)?e.list=e.list.map(t=>kt(t)?Eg(t):t):ns(e.named)&&Object.keys(e.named).forEach(t=>{kt(e.named[t])&&(e.named[t]=Eg(e.named[t]))})}function _v(e,t,s,r,o,n){const{messages:i,onWarn:l,messageResolver:u,localeFallbacker:m}=e,y=m(e,r,s);let f=gs(),x,c=null;const h="translate";for(let g=0;g<y.length&&(x=y[g],f=i[x]||gs(),(c=u(f,t))===null&&(c=f[t]),!(kt(c)||hr(c)||Pa(c)));g++)if(!RC(x,y)){const d=A0(e,t,x,n,h);d!==t&&(c=d)}return[c,x,f]}function $v(e,t,s,r,o,n){const{messageCompiler:i,warnHtmlMessage:l}=e;if(Pa(r)){const m=r;return m.locale=m.locale||s,m.key=m.key||t,m}if(i==null){const m=()=>r;return m.locale=s,m.key=t,m}const u=i(r,HC(e,s,o,r,l,n));return u.locale=s,u.key=t,u.source=r,u}function UC(e,t,s){return t(s)}function xu(...e){const[t,s,r]=e,o=gs();if(!kt(t)&&!Ps(t)&&!Pa(t)&&!hr(t))throw cr(za.INVALID_ARGUMENT);const n=Ps(t)?String(t):(Pa(t),t);return Ps(s)?o.plural=s:kt(s)?o.default=s:zt(s)&&!Gd(s)?o.named=s:bs(s)&&(o.list=s),Ps(r)?o.plural=r:kt(r)?o.default=r:zt(r)&&Js(o,r),[n,o]}function HC(e,t,s,r,o,n){return{locale:t,key:s,warnHtmlMessage:o,onError:i=>{throw n&&n(i),i},onCacheKey:i=>u$(t,s,i)}}function qC(e,t,s,r){const{modifiers:o,pluralRules:n,messageResolver:i,fallbackLocale:l,fallbackWarn:u,missingWarn:m,fallbackContext:y}=e,x={locale:t,modifiers:o,pluralRules:n,messages:c=>{let h=i(s,c);if(h==null&&y){const[,,g]=_v(y,c,t,l,u,m);h=i(g,c)}if(kt(h)||hr(h)){let g=!1;const p=$v(e,c,t,h,c,()=>{g=!0});return g?Hg:p}else return Pa(h)?h:Hg}};return e.processor&&(x.processor=e.processor),r.list&&(x.list=r.list),r.named&&(x.named=r.named),Ps(r.plural)&&(x.pluralIndex=r.plural),x}function zg(e,...t){const{datetimeFormats:s,unresolving:r,fallbackLocale:o,onWarn:n,localeFallbacker:i}=e,{__datetimeFormatters:l}=e,[u,m,y,f]=bu(...t),x=Qt(y.missingWarn)?y.missingWarn:e.missingWarn;Qt(y.fallbackWarn)?y.fallbackWarn:e.fallbackWarn;const c=!!y.part,h=T0(e,y),g=i(e,o,h);if(!kt(u)||u==="")return new Intl.DateTimeFormat(h,f).format(m);let d={},p,v=null;const b="datetime format";for(let C=0;C<g.length&&(p=g[C],d=s[p]||{},v=d[u],!zt(v));C++)A0(e,u,p,x,b);if(!zt(v)||!kt(p))return r?Qd:u;let w=`${p}__${u}`;Gd(f)||(w=`${w}__${JSON.stringify(f)}`);let E=l.get(w);return E||(E=new Intl.DateTimeFormat(p,Js({},v,f)),l.set(w,E)),c?E.formatToParts(m):E.format(m)}const Cv=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function bu(...e){const[t,s,r,o]=e,n=gs();let i=gs(),l;if(kt(t)){const u=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw cr(za.INVALID_ISO_DATE_ARGUMENT);const m=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();l=new Date(m);try{l.toISOString()}catch{throw cr(za.INVALID_ISO_DATE_ARGUMENT)}}else if(g$(t)){if(isNaN(t.getTime()))throw cr(za.INVALID_DATE_ARGUMENT);l=t}else if(Ps(t))l=t;else throw cr(za.INVALID_ARGUMENT);return kt(s)?n.key=s:zt(s)&&Object.keys(s).forEach(u=>{Cv.includes(u)?i[u]=s[u]:n[u]=s[u]}),kt(r)?n.locale=r:zt(r)&&(i=r),zt(o)&&(i=o),[n.key||"",l,n,i]}function Wg(e,t,s){const r=e;for(const o in s){const n=`${t}__${o}`;r.__datetimeFormatters.has(n)&&r.__datetimeFormatters.delete(n)}}function Kg(e,...t){const{numberFormats:s,unresolving:r,fallbackLocale:o,onWarn:n,localeFallbacker:i}=e,{__numberFormatters:l}=e,[u,m,y,f]=ku(...t),x=Qt(y.missingWarn)?y.missingWarn:e.missingWarn;Qt(y.fallbackWarn)?y.fallbackWarn:e.fallbackWarn;const c=!!y.part,h=T0(e,y),g=i(e,o,h);if(!kt(u)||u==="")return new Intl.NumberFormat(h,f).format(m);let d={},p,v=null;const b="number format";for(let C=0;C<g.length&&(p=g[C],d=s[p]||{},v=d[u],!zt(v));C++)A0(e,u,p,x,b);if(!zt(v)||!kt(p))return r?Qd:u;let w=`${p}__${u}`;Gd(f)||(w=`${w}__${JSON.stringify(f)}`);let E=l.get(w);return E||(E=new Intl.NumberFormat(p,Js({},v,f)),l.set(w,E)),c?E.formatToParts(m):E.format(m)}const Sv=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function ku(...e){const[t,s,r,o]=e,n=gs();let i=gs();if(!Ps(t))throw cr(za.INVALID_ARGUMENT);const l=t;return kt(s)?n.key=s:zt(s)&&Object.keys(s).forEach(u=>{Sv.includes(u)?i[u]=s[u]:n[u]=s[u]}),kt(r)?n.locale=r:zt(r)&&(i=r),zt(o)&&(i=o),[n.key||"",l,n,i]}function Yg(e,t,s){const r=e;for(const o in s){const n=`${t}__${o}`;r.__numberFormatters.has(n)&&r.__numberFormatters.delete(n)}}J$();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const zC="9.14.5";function WC(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ir().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ir().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ir().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ir().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ir().__INTLIFY_PROD_DEVTOOLS__=!1)}const KC=$C.__EXTEND_POINT__,wr=Jd(KC);wr(),wr(),wr(),wr(),wr(),wr(),wr(),wr(),wr();const Ev=za.__EXTEND_POINT__,ya=Jd(Ev),Ns={UNEXPECTED_RETURN_TYPE:Ev,INVALID_ARGUMENT:ya(),MUST_BE_CALL_SETUP_TOP:ya(),NOT_INSTALLED:ya(),NOT_AVAILABLE_IN_LEGACY_MODE:ya(),REQUIRED_VALUE:ya(),INVALID_VALUE:ya(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ya(),NOT_INSTALLED_WITH_PROVIDE:ya(),UNEXPECTED_ERROR:ya(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ya(),BRIDGE_SUPPORT_VUE_2_ONLY:ya(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ya(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ya(),__EXTEND_POINT__:ya()};function Ws(e,...t){return Vn(e,null,void 0)}const wu=$o("__translateVNode"),_u=$o("__datetimeParts"),$u=$o("__numberParts"),Tv=$o("__setPluralRules"),Av=$o("__injectWithOption"),Cu=$o("__dispose");function Ri(e){if(!ns(e)||hr(e))return e;for(const t in e)if(qa(e,t))if(!t.includes("."))ns(e[t])&&Ri(e[t]);else{const s=t.split("."),r=s.length-1;let o=e,n=!1;for(let i=0;i<r;i++){if(s[i]==="__proto__")throw new Error(`unsafe key: ${s[i]}`);if(s[i]in o||(o[s[i]]=gs()),!ns(o[s[i]])){n=!0;break}o=o[s[i]]}if(n||(hr(o)?gv.includes(s[r])||delete e[t]:(o[s[r]]=e[t],delete e[t])),!hr(o)){const i=o[s[r]];ns(i)&&Ri(i)}}return e}function Xd(e,t){const{messages:s,__i18n:r,messageResolver:o,flatJson:n}=t,i=zt(s)?s:bs(r)?gs():{[e]:gs()};if(bs(r)&&r.forEach(l=>{if("locale"in l&&"resource"in l){const{locale:u,resource:m}=l;u?(i[u]=i[u]||gs(),Wl(m,i[u])):Wl(m,i)}else kt(l)&&Wl(JSON.parse(l),i)}),o==null&&n)for(const l in i)qa(i,l)&&Ri(i[l]);return i}function Lv(e){return e.type}function Mv(e,t,s){let r=ns(t.messages)?t.messages:gs();"__i18nGlobal"in s&&(r=Xd(e.locale.value,{messages:r,__i18n:s.__i18nGlobal}));const o=Object.keys(r);o.length&&o.forEach(n=>{e.mergeLocaleMessage(n,r[n])});{if(ns(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(i=>{e.mergeDateTimeFormat(i,t.datetimeFormats[i])})}if(ns(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(i=>{e.mergeNumberFormat(i,t.numberFormats[i])})}}}function Gg(e){return L(ol,null,e,0)}const Jg="__INTLIFY_META__",Qg=()=>[],YC=()=>!1;let Xg=0;function Zg(e){return(t,s,r,o)=>e(s,r,mr()||void 0,o)}const GC=()=>{const e=mr();let t=null;return e&&(t=Lv(e)[Jg])?{[Jg]:t}:null};function L0(e={},t){const{__root:s,__injectWithOption:r}=e,o=s===void 0,n=e.flatJson,i=md?O:g0,l=!!e.translateExistCompatible;let u=Qt(e.inheritLocale)?e.inheritLocale:!0;const m=i(s&&u?s.locale.value:kt(e.locale)?e.locale:Mn),y=i(s&&u?s.fallbackLocale.value:kt(e.fallbackLocale)||bs(e.fallbackLocale)||zt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:m.value),f=i(Xd(m.value,e)),x=i(zt(e.datetimeFormats)?e.datetimeFormats:{[m.value]:{}}),c=i(zt(e.numberFormats)?e.numberFormats:{[m.value]:{}});let h=s?s.missingWarn:Qt(e.missingWarn)||fo(e.missingWarn)?e.missingWarn:!0,g=s?s.fallbackWarn:Qt(e.fallbackWarn)||fo(e.fallbackWarn)?e.fallbackWarn:!0,d=s?s.fallbackRoot:Qt(e.fallbackRoot)?e.fallbackRoot:!0,p=!!e.fallbackFormat,v=xs(e.missing)?e.missing:null,b=xs(e.missing)?Zg(e.missing):null,w=xs(e.postTranslation)?e.postTranslation:null,E=s?s.warnHtmlMessage:Qt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter;const T=s?s.modifiers:zt(e.modifiers)?e.modifiers:{};let P=e.pluralRules||s&&s.pluralRules,A;A=(()=>{o&&Vg(null);const pe={version:zC,locale:m.value,fallbackLocale:y.value,messages:f.value,modifiers:T,pluralRules:P,missing:b===null?void 0:b,missingWarn:h,fallbackWarn:g,fallbackFormat:p,unresolving:!0,postTranslation:w===null?void 0:w,warnHtmlMessage:E,escapeParameter:C,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};pe.datetimeFormats=x.value,pe.numberFormats=c.value,pe.__datetimeFormatters=zt(A)?A.__datetimeFormatters:void 0,pe.__numberFormatters=zt(A)?A.__numberFormatters:void 0;const ie=OC(pe);return o&&Vg(ie),ie})(),Qn(A,m.value,y.value);function V(){return[m.value,y.value,f.value,x.value,c.value]}const H=fe({get:()=>m.value,set:pe=>{m.value=pe,A.locale=m.value}}),R=fe({get:()=>y.value,set:pe=>{y.value=pe,A.fallbackLocale=y.value,Qn(A,m.value,pe)}}),M=fe(()=>f.value),B=fe(()=>x.value),W=fe(()=>c.value);function K(){return xs(w)?w:null}function Z(pe){w=pe,A.postTranslation=pe}function Te(){return v}function _e(pe){pe!==null&&(b=Zg(pe)),v=pe,A.missing=b}const ye=(pe,ie,Oe,nt,Fe,re)=>{V();let Y;try{__INTLIFY_PROD_DEVTOOLS__,o||(A.fallbackContext=s?IC():void 0),Y=pe(A)}finally{__INTLIFY_PROD_DEVTOOLS__,o||(A.fallbackContext=void 0)}if(Oe!=="translate exists"&&Ps(Y)&&Y===Qd||Oe==="translate exists"&&!Y){const[we,Ht]=ie();return s&&d?nt(s):Fe(we)}else{if(re(Y))return Y;throw Ws(Ns.UNEXPECTED_RETURN_TYPE)}};function z(...pe){return ye(ie=>Reflect.apply(qg,null,[ie,...pe]),()=>xu(...pe),"translate",ie=>Reflect.apply(ie.t,ie,[...pe]),ie=>ie,ie=>kt(ie))}function q(...pe){const[ie,Oe,nt]=pe;if(nt&&!ns(nt))throw Ws(Ns.INVALID_ARGUMENT);return z(ie,Oe,Js({resolvedMessage:!0},nt||{}))}function X(...pe){return ye(ie=>Reflect.apply(zg,null,[ie,...pe]),()=>bu(...pe),"datetime format",ie=>Reflect.apply(ie.d,ie,[...pe]),()=>Rg,ie=>kt(ie))}function se(...pe){return ye(ie=>Reflect.apply(Kg,null,[ie,...pe]),()=>ku(...pe),"number format",ie=>Reflect.apply(ie.n,ie,[...pe]),()=>Rg,ie=>kt(ie))}function Ae(pe){return pe.map(ie=>kt(ie)||Ps(ie)||Qt(ie)?Gg(String(ie)):ie)}const Le={normalize:Ae,interpolate:pe=>pe,type:"vnode"};function Re(...pe){return ye(ie=>{let Oe;const nt=ie;try{nt.processor=Le,Oe=Reflect.apply(qg,null,[nt,...pe])}finally{nt.processor=null}return Oe},()=>xu(...pe),"translate",ie=>ie[wu](...pe),ie=>[Gg(ie)],ie=>bs(ie))}function Ze(...pe){return ye(ie=>Reflect.apply(Kg,null,[ie,...pe]),()=>ku(...pe),"number format",ie=>ie[$u](...pe),Qg,ie=>kt(ie)||bs(ie))}function We(...pe){return ye(ie=>Reflect.apply(zg,null,[ie,...pe]),()=>bu(...pe),"datetime format",ie=>ie[_u](...pe),Qg,ie=>kt(ie)||bs(ie))}function ae(pe){P=pe,A.pluralRules=P}function ge(pe,ie){return ye(()=>{if(!pe)return!1;const Oe=kt(ie)?ie:m.value,nt=ue(Oe),Fe=A.messageResolver(nt,pe);return l?Fe!=null:hr(Fe)||Pa(Fe)||kt(Fe)},()=>[pe],"translate exists",Oe=>Reflect.apply(Oe.te,Oe,[pe,ie]),YC,Oe=>Qt(Oe))}function ne(pe){let ie=null;const Oe=mv(A,y.value,m.value);for(let nt=0;nt<Oe.length;nt++){const Fe=f.value[Oe[nt]]||{},re=A.messageResolver(Fe,pe);if(re!=null){ie=re;break}}return ie}function ee(pe){const ie=ne(pe);return ie??(s?s.tm(pe)||{}:{})}function ue(pe){return f.value[pe]||{}}function he(pe,ie){if(n){const Oe={[pe]:ie};for(const nt in Oe)qa(Oe,nt)&&Ri(Oe[nt]);ie=Oe[pe]}f.value[pe]=ie,A.messages=f.value}function Ce(pe,ie){f.value[pe]=f.value[pe]||{};const Oe={[pe]:ie};if(n)for(const nt in Oe)qa(Oe,nt)&&Ri(Oe[nt]);ie=Oe[pe],Wl(ie,f.value[pe]),A.messages=f.value}function J(pe){return x.value[pe]||{}}function D(pe,ie){x.value[pe]=ie,A.datetimeFormats=x.value,Wg(A,pe,ie)}function N(pe,ie){x.value[pe]=Js(x.value[pe]||{},ie),A.datetimeFormats=x.value,Wg(A,pe,ie)}function U(pe){return c.value[pe]||{}}function Q(pe,ie){c.value[pe]=ie,A.numberFormats=c.value,Yg(A,pe,ie)}function Ge(pe,ie){c.value[pe]=Js(c.value[pe]||{},ie),A.numberFormats=c.value,Yg(A,pe,ie)}Xg++,s&&md&&(Et(s.locale,pe=>{u&&(m.value=pe,A.locale=pe,Qn(A,m.value,y.value))}),Et(s.fallbackLocale,pe=>{u&&(y.value=pe,A.fallbackLocale=pe,Qn(A,m.value,y.value))}));const He={id:Xg,locale:H,fallbackLocale:R,get inheritLocale(){return u},set inheritLocale(pe){u=pe,pe&&s&&(m.value=s.locale.value,y.value=s.fallbackLocale.value,Qn(A,m.value,y.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:M,get modifiers(){return T},get pluralRules(){return P||{}},get isGlobal(){return o},get missingWarn(){return h},set missingWarn(pe){h=pe,A.missingWarn=h},get fallbackWarn(){return g},set fallbackWarn(pe){g=pe,A.fallbackWarn=g},get fallbackRoot(){return d},set fallbackRoot(pe){d=pe},get fallbackFormat(){return p},set fallbackFormat(pe){p=pe,A.fallbackFormat=p},get warnHtmlMessage(){return E},set warnHtmlMessage(pe){E=pe,A.warnHtmlMessage=pe},get escapeParameter(){return C},set escapeParameter(pe){C=pe,A.escapeParameter=pe},t:z,getLocaleMessage:ue,setLocaleMessage:he,mergeLocaleMessage:Ce,getPostTranslationHandler:K,setPostTranslationHandler:Z,getMissingHandler:Te,setMissingHandler:_e,[Tv]:ae};return He.datetimeFormats=B,He.numberFormats=W,He.rt=q,He.te=ge,He.tm=ee,He.d=X,He.n=se,He.getDateTimeFormat=J,He.setDateTimeFormat=D,He.mergeDateTimeFormat=N,He.getNumberFormat=U,He.setNumberFormat=Q,He.mergeNumberFormat=Ge,He[Av]=r,He[wu]=Re,He[_u]=We,He[$u]=Ze,He}function JC(e){const t=kt(e.locale)?e.locale:Mn,s=kt(e.fallbackLocale)||bs(e.fallbackLocale)||zt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=xs(e.missing)?e.missing:void 0,o=Qt(e.silentTranslationWarn)||fo(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,n=Qt(e.silentFallbackWarn)||fo(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,i=Qt(e.fallbackRoot)?e.fallbackRoot:!0,l=!!e.formatFallbackMessages,u=zt(e.modifiers)?e.modifiers:{},m=e.pluralizationRules,y=xs(e.postTranslation)?e.postTranslation:void 0,f=kt(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,x=!!e.escapeParameterHtml,c=Qt(e.sync)?e.sync:!0;let h=e.messages;if(zt(e.sharedMessages)){const C=e.sharedMessages;h=Object.keys(C).reduce((P,A)=>{const j=P[A]||(P[A]={});return Js(j,C[A]),P},h||{})}const{__i18n:g,__root:d,__injectWithOption:p}=e,v=e.datetimeFormats,b=e.numberFormats,w=e.flatJson,E=e.translateExistCompatible;return{locale:t,fallbackLocale:s,messages:h,flatJson:w,datetimeFormats:v,numberFormats:b,missing:r,missingWarn:o,fallbackWarn:n,fallbackRoot:i,fallbackFormat:l,modifiers:u,pluralRules:m,postTranslation:y,warnHtmlMessage:f,escapeParameter:x,messageResolver:e.messageResolver,inheritLocale:c,translateExistCompatible:E,__i18n:g,__root:d,__injectWithOption:p}}function Su(e={},t){{const s=L0(JC(e)),{__extender:r}=e,o={id:s.id,get locale(){return s.locale.value},set locale(n){s.locale.value=n},get fallbackLocale(){return s.fallbackLocale.value},set fallbackLocale(n){s.fallbackLocale.value=n},get messages(){return s.messages.value},get datetimeFormats(){return s.datetimeFormats.value},get numberFormats(){return s.numberFormats.value},get availableLocales(){return s.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(n){},get missing(){return s.getMissingHandler()},set missing(n){s.setMissingHandler(n)},get silentTranslationWarn(){return Qt(s.missingWarn)?!s.missingWarn:s.missingWarn},set silentTranslationWarn(n){s.missingWarn=Qt(n)?!n:n},get silentFallbackWarn(){return Qt(s.fallbackWarn)?!s.fallbackWarn:s.fallbackWarn},set silentFallbackWarn(n){s.fallbackWarn=Qt(n)?!n:n},get modifiers(){return s.modifiers},get formatFallbackMessages(){return s.fallbackFormat},set formatFallbackMessages(n){s.fallbackFormat=n},get postTranslation(){return s.getPostTranslationHandler()},set postTranslation(n){s.setPostTranslationHandler(n)},get sync(){return s.inheritLocale},set sync(n){s.inheritLocale=n},get warnHtmlInMessage(){return s.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){s.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return s.escapeParameter},set escapeParameterHtml(n){s.escapeParameter=n},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(n){},get pluralizationRules(){return s.pluralRules||{}},__composer:s,t(...n){const[i,l,u]=n,m={};let y=null,f=null;if(!kt(i))throw Ws(Ns.INVALID_ARGUMENT);const x=i;return kt(l)?m.locale=l:bs(l)?y=l:zt(l)&&(f=l),bs(u)?y=u:zt(u)&&(f=u),Reflect.apply(s.t,s,[x,y||f||{},m])},rt(...n){return Reflect.apply(s.rt,s,[...n])},tc(...n){const[i,l,u]=n,m={plural:1};let y=null,f=null;if(!kt(i))throw Ws(Ns.INVALID_ARGUMENT);const x=i;return kt(l)?m.locale=l:Ps(l)?m.plural=l:bs(l)?y=l:zt(l)&&(f=l),kt(u)?m.locale=u:bs(u)?y=u:zt(u)&&(f=u),Reflect.apply(s.t,s,[x,y||f||{},m])},te(n,i){return s.te(n,i)},tm(n){return s.tm(n)},getLocaleMessage(n){return s.getLocaleMessage(n)},setLocaleMessage(n,i){s.setLocaleMessage(n,i)},mergeLocaleMessage(n,i){s.mergeLocaleMessage(n,i)},d(...n){return Reflect.apply(s.d,s,[...n])},getDateTimeFormat(n){return s.getDateTimeFormat(n)},setDateTimeFormat(n,i){s.setDateTimeFormat(n,i)},mergeDateTimeFormat(n,i){s.mergeDateTimeFormat(n,i)},n(...n){return Reflect.apply(s.n,s,[...n])},getNumberFormat(n){return s.getNumberFormat(n)},setNumberFormat(n,i){s.setNumberFormat(n,i)},mergeNumberFormat(n,i){s.mergeNumberFormat(n,i)},getChoiceIndex(n,i){return-1}};return o.__extender=r,o}}const M0={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function QC({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,o)=>[...r,...o.type===Qe?o.children:[o]],[]):t.reduce((s,r)=>{const o=e[r];return o&&(s[r]=o()),s},gs())}function Pv(e){return Qe}const XC=yr({name:"i18n-t",props:Js({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Ps(e)||!isNaN(e)}},M0),setup(e,t){const{slots:s,attrs:r}=t,o=e.i18n||fa({useScope:e.scope,__useComponent:!0});return()=>{const n=Object.keys(s).filter(f=>f!=="_"),i=gs();e.locale&&(i.locale=e.locale),e.plural!==void 0&&(i.plural=kt(e.plural)?+e.plural:e.plural);const l=QC(t,n),u=o[wu](e.keypath,l,i),m=Js(gs(),r),y=kt(e.tag)||ns(e.tag)?e.tag:Pv();return as(y,m,u)}}}),ep=XC;function ZC(e){return bs(e)&&!kt(e[0])}function Dv(e,t,s,r){const{slots:o,attrs:n}=t;return()=>{const i={part:!0};let l=gs();e.locale&&(i.locale=e.locale),kt(e.format)?i.key=e.format:ns(e.format)&&(kt(e.format.key)&&(i.key=e.format.key),l=Object.keys(e.format).reduce((x,c)=>s.includes(c)?Js(gs(),x,{[c]:e.format[c]}):x,gs()));const u=r(e.value,i,l);let m=[i.key];bs(u)?m=u.map((x,c)=>{const h=o[x.type],g=h?h({[x.type]:x.value,index:c,parts:u}):[x.value];return ZC(g)&&(g[0].key=`${x.type}-${c}`),g}):kt(u)&&(m=[u]);const y=Js(gs(),n),f=kt(e.tag)||ns(e.tag)?e.tag:Pv();return as(f,y,m)}}const eS=yr({name:"i18n-n",props:Js({value:{type:Number,required:!0},format:{type:[String,Object]}},M0),setup(e,t){const s=e.i18n||fa({useScope:e.scope,__useComponent:!0});return Dv(e,t,Sv,(...r)=>s[$u](...r))}}),tp=eS,tS=yr({name:"i18n-d",props:Js({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},M0),setup(e,t){const s=e.i18n||fa({useScope:e.scope,__useComponent:!0});return Dv(e,t,Cv,(...r)=>s[_u](...r))}}),sp=tS;function sS(e,t){const s=e;if(e.mode==="composition")return s.__getInstance(t)||e.global;{const r=s.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function aS(e){const t=i=>{const{instance:l,modifiers:u,value:m}=i;if(!l||!l.$)throw Ws(Ns.UNEXPECTED_ERROR);const y=sS(e,l.$),f=ap(m);return[Reflect.apply(y.t,y,[...rp(f)]),y]};return{created:(i,l)=>{const[u,m]=t(l);md&&e.global===m&&(i.__i18nWatcher=Et(m.locale,()=>{l.instance&&l.instance.$forceUpdate()})),i.__composer=m,i.textContent=u},unmounted:i=>{md&&i.__i18nWatcher&&(i.__i18nWatcher(),i.__i18nWatcher=void 0,delete i.__i18nWatcher),i.__composer&&(i.__composer=void 0,delete i.__composer)},beforeUpdate:(i,{value:l})=>{if(i.__composer){const u=i.__composer,m=ap(l);i.textContent=Reflect.apply(u.t,u,[...rp(m)])}},getSSRProps:i=>{const[l]=t(i);return{textContent:l}}}}function ap(e){if(kt(e))return{path:e};if(zt(e)){if(!("path"in e))throw Ws(Ns.REQUIRED_VALUE,"path");return e}else throw Ws(Ns.INVALID_VALUE)}function rp(e){const{path:t,locale:s,args:r,choice:o,plural:n}=e,i={},l=r||{};return kt(s)&&(i.locale=s),Ps(o)&&(i.plural=o),Ps(n)&&(i.plural=n),[t,l,i]}function rS(e,t,...s){const r=zt(s[0])?s[0]:{},o=!!r.useI18nComponentName;(Qt(r.globalInstall)?r.globalInstall:!0)&&([o?"i18n":ep.name,"I18nT"].forEach(i=>e.component(i,ep)),[tp.name,"I18nN"].forEach(i=>e.component(i,tp)),[sp.name,"I18nD"].forEach(i=>e.component(i,sp))),e.directive("t",aS(t))}function oS(e,t,s){return{beforeCreate(){const r=mr();if(!r)throw Ws(Ns.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const n=o.i18n;if(o.__i18n&&(n.__i18n=o.__i18n),n.__root=t,this===this.$root)this.$i18n=op(e,n);else{n.__injectWithOption=!0,n.__extender=s.__vueI18nExtend,this.$i18n=Su(n);const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}}else if(o.__i18n)if(this===this.$root)this.$i18n=op(e,o);else{this.$i18n=Su({__i18n:o.__i18n,__injectWithOption:!0,__extender:s.__vueI18nExtend,__root:t});const n=this.$i18n;n.__extender&&(n.__disposer=n.__extender(this.$i18n))}else this.$i18n=e;o.__i18nGlobal&&Mv(t,o,o),this.$t=(...n)=>this.$i18n.t(...n),this.$rt=(...n)=>this.$i18n.rt(...n),this.$tc=(...n)=>this.$i18n.tc(...n),this.$te=(n,i)=>this.$i18n.te(n,i),this.$d=(...n)=>this.$i18n.d(...n),this.$n=(...n)=>this.$i18n.n(...n),this.$tm=n=>this.$i18n.tm(n),s.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=mr();if(!r)throw Ws(Ns.UNEXPECTED_ERROR);const o=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,o.__disposer&&(o.__disposer(),delete o.__disposer,delete o.__extender),s.__deleteInstance(r),delete this.$i18n}}}function op(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Tv](t.pluralizationRules||e.pluralizationRules);const s=Xd(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(s).forEach(r=>e.mergeLocaleMessage(r,s[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const nS=$o("global-vue-i18n");function iS(e={},t){const s=__VUE_I18N_LEGACY_API__&&Qt(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=Qt(e.globalInjection)?e.globalInjection:!0,o=__VUE_I18N_LEGACY_API__&&s?!!e.allowComposition:!0,n=new Map,[i,l]=lS(e,s),u=$o("");function m(x){return n.get(x)||null}function y(x,c){n.set(x,c)}function f(x){n.delete(x)}{const x={get mode(){return __VUE_I18N_LEGACY_API__&&s?"legacy":"composition"},get allowComposition(){return o},async install(c,...h){if(c.__VUE_I18N_SYMBOL__=u,c.provide(c.__VUE_I18N_SYMBOL__,x),zt(h[0])){const p=h[0];x.__composerExtend=p.__composerExtend,x.__vueI18nExtend=p.__vueI18nExtend}let g=null;!s&&r&&(g=yS(c,x.global)),__VUE_I18N_FULL_INSTALL__&&rS(c,x,...h),__VUE_I18N_LEGACY_API__&&s&&c.mixin(oS(l,l.__composer,x));const d=c.unmount;c.unmount=()=>{g&&g(),x.dispose(),d()}},get global(){return l},dispose(){i.stop()},__instances:n,__getInstance:m,__setInstance:y,__deleteInstance:f};return x}}function fa(e={}){const t=mr();if(t==null)throw Ws(Ns.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Ws(Ns.NOT_INSTALLED);const s=dS(t),r=uS(s),o=Lv(t),n=cS(e,o);if(__VUE_I18N_LEGACY_API__&&s.mode==="legacy"&&!e.__useComponent){if(!s.allowComposition)throw Ws(Ns.NOT_AVAILABLE_IN_LEGACY_MODE);return mS(t,n,r,e)}if(n==="global")return Mv(r,e,o),r;if(n==="parent"){let u=hS(s,t,e.__useComponent);return u==null&&(u=r),u}const i=s;let l=i.__getInstance(t);if(l==null){const u=Js({},e);"__i18n"in o&&(u.__i18n=o.__i18n),r&&(u.__root=r),l=L0(u),i.__composerExtend&&(l[Cu]=i.__composerExtend(l)),pS(i,t,l),i.__setInstance(t,l)}return l}function lS(e,t,s){const r=r0();{const o=__VUE_I18N_LEGACY_API__&&t?r.run(()=>Su(e)):r.run(()=>L0(e));if(o==null)throw Ws(Ns.UNEXPECTED_ERROR);return[r,o]}}function dS(e){{const t=ia(e.isCE?nS:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Ws(e.isCE?Ns.NOT_INSTALLED_WITH_PROVIDE:Ns.UNEXPECTED_ERROR);return t}}function cS(e,t){return Gd(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function uS(e){return e.mode==="composition"?e.global:e.global.__composer}function hS(e,t,s=!1){let r=null;const o=t.root;let n=gS(t,s);for(;n!=null;){const i=e;if(e.mode==="composition")r=i.__getInstance(n);else if(__VUE_I18N_LEGACY_API__){const l=i.__getInstance(n);l!=null&&(r=l.__composer,s&&r&&!r[Av]&&(r=null))}if(r!=null||o===n)break;n=n.parent}return r}function gS(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function pS(e,t,s){Ot(()=>{},t),Ea(()=>{const r=s;e.__deleteInstance(t);const o=r[Cu];o&&(o(),delete r[Cu])},t)}function mS(e,t,s,r={}){const o=t==="local",n=g0(null);if(o&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw Ws(Ns.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const i=Qt(r.inheritLocale)?r.inheritLocale:!kt(r.locale),l=O(!o||i?s.locale.value:kt(r.locale)?r.locale:Mn),u=O(!o||i?s.fallbackLocale.value:kt(r.fallbackLocale)||bs(r.fallbackLocale)||zt(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:l.value),m=O(Xd(l.value,r)),y=O(zt(r.datetimeFormats)?r.datetimeFormats:{[l.value]:{}}),f=O(zt(r.numberFormats)?r.numberFormats:{[l.value]:{}}),x=o?s.missingWarn:Qt(r.missingWarn)||fo(r.missingWarn)?r.missingWarn:!0,c=o?s.fallbackWarn:Qt(r.fallbackWarn)||fo(r.fallbackWarn)?r.fallbackWarn:!0,h=o?s.fallbackRoot:Qt(r.fallbackRoot)?r.fallbackRoot:!0,g=!!r.fallbackFormat,d=xs(r.missing)?r.missing:null,p=xs(r.postTranslation)?r.postTranslation:null,v=o?s.warnHtmlMessage:Qt(r.warnHtmlMessage)?r.warnHtmlMessage:!0,b=!!r.escapeParameter,w=o?s.modifiers:zt(r.modifiers)?r.modifiers:{},E=r.pluralRules||o&&s.pluralRules;function C(){return[l.value,u.value,m.value,y.value,f.value]}const T=fe({get:()=>n.value?n.value.locale.value:l.value,set:ne=>{n.value&&(n.value.locale.value=ne),l.value=ne}}),P=fe({get:()=>n.value?n.value.fallbackLocale.value:u.value,set:ne=>{n.value&&(n.value.fallbackLocale.value=ne),u.value=ne}}),A=fe(()=>n.value?n.value.messages.value:m.value),j=fe(()=>y.value),V=fe(()=>f.value);function H(){return n.value?n.value.getPostTranslationHandler():p}function R(ne){n.value&&n.value.setPostTranslationHandler(ne)}function M(){return n.value?n.value.getMissingHandler():d}function B(ne){n.value&&n.value.setMissingHandler(ne)}function W(ne){return C(),ne()}function K(...ne){return n.value?W(()=>Reflect.apply(n.value.t,null,[...ne])):W(()=>"")}function Z(...ne){return n.value?Reflect.apply(n.value.rt,null,[...ne]):""}function Te(...ne){return n.value?W(()=>Reflect.apply(n.value.d,null,[...ne])):W(()=>"")}function _e(...ne){return n.value?W(()=>Reflect.apply(n.value.n,null,[...ne])):W(()=>"")}function ye(ne){return n.value?n.value.tm(ne):{}}function z(ne,ee){return n.value?n.value.te(ne,ee):!1}function q(ne){return n.value?n.value.getLocaleMessage(ne):{}}function X(ne,ee){n.value&&(n.value.setLocaleMessage(ne,ee),m.value[ne]=ee)}function se(ne,ee){n.value&&n.value.mergeLocaleMessage(ne,ee)}function Ae(ne){return n.value?n.value.getDateTimeFormat(ne):{}}function me(ne,ee){n.value&&(n.value.setDateTimeFormat(ne,ee),y.value[ne]=ee)}function Le(ne,ee){n.value&&n.value.mergeDateTimeFormat(ne,ee)}function Re(ne){return n.value?n.value.getNumberFormat(ne):{}}function Ze(ne,ee){n.value&&(n.value.setNumberFormat(ne,ee),f.value[ne]=ee)}function We(ne,ee){n.value&&n.value.mergeNumberFormat(ne,ee)}const ae={get id(){return n.value?n.value.id:-1},locale:T,fallbackLocale:P,messages:A,datetimeFormats:j,numberFormats:V,get inheritLocale(){return n.value?n.value.inheritLocale:i},set inheritLocale(ne){n.value&&(n.value.inheritLocale=ne)},get availableLocales(){return n.value?n.value.availableLocales:Object.keys(m.value)},get modifiers(){return n.value?n.value.modifiers:w},get pluralRules(){return n.value?n.value.pluralRules:E},get isGlobal(){return n.value?n.value.isGlobal:!1},get missingWarn(){return n.value?n.value.missingWarn:x},set missingWarn(ne){n.value&&(n.value.missingWarn=ne)},get fallbackWarn(){return n.value?n.value.fallbackWarn:c},set fallbackWarn(ne){n.value&&(n.value.missingWarn=ne)},get fallbackRoot(){return n.value?n.value.fallbackRoot:h},set fallbackRoot(ne){n.value&&(n.value.fallbackRoot=ne)},get fallbackFormat(){return n.value?n.value.fallbackFormat:g},set fallbackFormat(ne){n.value&&(n.value.fallbackFormat=ne)},get warnHtmlMessage(){return n.value?n.value.warnHtmlMessage:v},set warnHtmlMessage(ne){n.value&&(n.value.warnHtmlMessage=ne)},get escapeParameter(){return n.value?n.value.escapeParameter:b},set escapeParameter(ne){n.value&&(n.value.escapeParameter=ne)},t:K,getPostTranslationHandler:H,setPostTranslationHandler:R,getMissingHandler:M,setMissingHandler:B,rt:Z,d:Te,n:_e,tm:ye,te:z,getLocaleMessage:q,setLocaleMessage:X,mergeLocaleMessage:se,getDateTimeFormat:Ae,setDateTimeFormat:me,mergeDateTimeFormat:Le,getNumberFormat:Re,setNumberFormat:Ze,mergeNumberFormat:We};function ge(ne){ne.locale.value=l.value,ne.fallbackLocale.value=u.value,Object.keys(m.value).forEach(ee=>{ne.mergeLocaleMessage(ee,m.value[ee])}),Object.keys(y.value).forEach(ee=>{ne.mergeDateTimeFormat(ee,y.value[ee])}),Object.keys(f.value).forEach(ee=>{ne.mergeNumberFormat(ee,f.value[ee])}),ne.escapeParameter=b,ne.fallbackFormat=g,ne.fallbackRoot=h,ne.fallbackWarn=c,ne.missingWarn=x,ne.warnHtmlMessage=v}return ay(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw Ws(Ns.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const ne=n.value=e.proxy.$i18n.__composer;t==="global"?(l.value=ne.locale.value,u.value=ne.fallbackLocale.value,m.value=ne.messages.value,y.value=ne.datetimeFormats.value,f.value=ne.numberFormats.value):o&&ge(ne)}),ae}const fS=["locale","fallbackLocale","availableLocales"],np=["t","rt","d","n","tm","te"];function yS(e,t){const s=Object.create(null);return fS.forEach(o=>{const n=Object.getOwnPropertyDescriptor(t,o);if(!n)throw Ws(Ns.UNEXPECTED_ERROR);const i=Ms(n.value)?{get(){return n.value.value},set(l){n.value.value=l}}:{get(){return n.get&&n.get()}};Object.defineProperty(s,o,i)}),e.config.globalProperties.$i18n=s,np.forEach(o=>{const n=Object.getOwnPropertyDescriptor(t,o);if(!n||!n.value)throw Ws(Ns.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${o}`,n)}),()=>{delete e.config.globalProperties.$i18n,np.forEach(o=>{delete e.config.globalProperties[`$${o}`]})}}WC();__INTLIFY_JIT_COMPILATION__?Ng(VC):Ng(NC);LC(cC);MC(mv);if(__INTLIFY_PROD_DEVTOOLS__){const e=Ir();e.__INTLIFY__=!0,xC(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}function Eu(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"})])}function vS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function ji(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function sn(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function Ur(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function xS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function Ni(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"})])}function Vi(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})])}function Iv(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})])}function Ov(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"})])}function Lc(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function Tu(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})])}function Xn(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"})])}function Bn(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"})])}function bS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})])}function Pn(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function kS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function Fs(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Eo(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function wS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m18.75 4.5-7.5 7.5 7.5 7.5m-6-15L5.25 12l7.5 7.5"})])}function _S(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m5.25 4.5 7.5 7.5-7.5 7.5m6-15 7.5 7.5-7.5 7.5"})])}function Au(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function $S(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function CS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function Fv(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function SS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})])}function yd(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})])}function qr(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ES(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 7.5-2.25-1.313M21 7.5v2.25m0-2.25-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3 2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75 2.25-1.313M12 21.75V19.5m0 2.25-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25"})])}function Ra(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"})])}function Rv(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function TS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}function an(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function AS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function yo(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function Ta(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function jv(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})])}function Nv(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})])}function Vv(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})])}function LS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function MS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function Bi(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})])}function Un(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function vd(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function Bv(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})])}function P0(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"})])}function Bs(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function PS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function Yo(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})])}function la(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function oi(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"})])}function D0(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"})])}function Ui(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})])}function Lu(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function DS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})])}function Uv(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})])}function I0(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 6h.008v.008H6V6Z"})])}function Ks(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function IS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"})])}function Hv(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})])}function ip(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}function OS(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function xd(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function O0(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})])}function il(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ll(e,t){return $(),S("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}function FS(e,t,s){let r=O(s==null?void 0:s.value),o=fe(()=>e.value!==void 0);return[fe(()=>o.value?e.value:r.value),function(n){return o.value||(r.value=n),t==null?void 0:t(n)}]}var lp;let RS=Symbol("headlessui.useid"),jS=0;const F0=(lp=Jk)!=null?lp:function(){return ia(RS,()=>`${++jS}`)()};function Is(e){var t;if(e==null||e.value==null)return null;let s=(t=e.value.$el)!=null?t:e.value;return s instanceof Node?s:null}function Ya(e,t,...s){if(e in t){let o=t[e];return typeof o=="function"?o(...s):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ya),r}var NS=Object.defineProperty,VS=(e,t,s)=>t in e?NS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,dp=(e,t,s)=>(VS(e,typeof t!="symbol"?t+"":t,s),s);let BS=class{constructor(){dp(this,"current",this.detect()),dp(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},R0=new BS;function US(e){if(R0.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=Is(e);if(t)return t.ownerDocument}return document}let cp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var HS=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(HS||{}),qS=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(qS||{}),zS=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(zS||{}),j0=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(j0||{});function qv(e,t=0){var s;return e===((s=US(e))==null?void 0:s.body)?!1:Ya(t,{0(){return e.matches(cp)},1(){let r=e;for(;r!==null;){if(r.matches(cp))return!0;r=r.parentElement}return!1}})}var WS=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(WS||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function KS(e,t=s=>s){return e.slice().sort((s,r)=>{let o=t(s),n=t(r);if(o===null||n===null)return 0;let i=o.compareDocumentPosition(n);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function YS(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function GS(){return/Android/gi.test(window.navigator.userAgent)}function JS(){return YS()||GS()}function _l(e,t,s){R0.isServer||Ud(r=>{document.addEventListener(e,t,s),r(()=>document.removeEventListener(e,t,s))})}function QS(e,t,s){R0.isServer||Ud(r=>{window.addEventListener(e,t,s),r(()=>window.removeEventListener(e,t,s))})}function XS(e,t,s=fe(()=>!0)){function r(n,i){if(!s.value||n.defaultPrevented)return;let l=i(n);if(l===null||!l.getRootNode().contains(l))return;let u=function m(y){return typeof y=="function"?m(y()):Array.isArray(y)||y instanceof Set?y:[y]}(e);for(let m of u){if(m===null)continue;let y=m instanceof HTMLElement?m:Is(m);if(y!=null&&y.contains(l)||n.composed&&n.composedPath().includes(y))return}return!qv(l,j0.Loose)&&l.tabIndex!==-1&&n.preventDefault(),t(n,l)}let o=O(null);_l("pointerdown",n=>{var i,l;s.value&&(o.value=((l=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:l[0])||n.target)},!0),_l("mousedown",n=>{var i,l;s.value&&(o.value=((l=(i=n.composedPath)==null?void 0:i.call(n))==null?void 0:l[0])||n.target)},!0),_l("click",n=>{JS()||o.value&&(r(n,()=>o.value),o.value=null)},!0),_l("touchend",n=>r(n,()=>n.target instanceof HTMLElement?n.target:null),!0),QS("blur",n=>r(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function up(e,t){if(e)return e;let s=t??"button";if(typeof s=="string"&&s.toLowerCase()==="button")return"button"}function ZS(e,t){let s=O(up(e.value.type,e.value.as));return Ot(()=>{s.value=up(e.value.type,e.value.as)}),Ud(()=>{var r;s.value||Is(t)&&Is(t)instanceof HTMLButtonElement&&!((r=Is(t))!=null&&r.hasAttribute("type"))&&(s.value="button")}),s}function hp(e){return[e.screenX,e.screenY]}function e6(){let e=O([-1,-1]);return{wasMoved(t){let s=hp(t);return e.value[0]===s[0]&&e.value[1]===s[1]?!1:(e.value=s,!0)},update(t){e.value=hp(t)}}}var Mu=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Mu||{}),t6=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(t6||{});function dl({visible:e=!0,features:t=0,ourProps:s,theirProps:r,...o}){var n;let i=Wv(r,s),l=Object.assign(o,{props:i});if(e||t&2&&i.static)return Mc(l);if(t&1){let u=(n=i.unmount)==null||n?0:1;return Ya(u,{0(){return null},1(){return Mc({...o,props:{...i,hidden:!0,style:{display:"none"}}})}})}return Mc(l)}function Mc({props:e,attrs:t,slots:s,slot:r,name:o}){var n,i;let{as:l,...u}=Kv(e,["unmount","static"]),m=(n=s.default)==null?void 0:n.call(s,r),y={};if(r){let f=!1,x=[];for(let[c,h]of Object.entries(r))typeof h=="boolean"&&(f=!0),h===!0&&x.push(c);f&&(y["data-headlessui-state"]=x.join(" "))}if(l==="template"){if(m=zv(m??[]),Object.keys(u).length>0||Object.keys(t).length>0){let[f,...x]=m??[];if(!a6(f)||x.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${o} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(t)).map(g=>g.trim()).filter((g,d,p)=>p.indexOf(g)===d).sort((g,d)=>g.localeCompare(d)).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let c=Wv((i=f.props)!=null?i:{},u,y),h=Br(f,c,!0);for(let g in c)g.startsWith("on")&&(h.props||(h.props={}),h.props[g]=c[g]);return h}return Array.isArray(m)&&m.length===1?m[0]:m}return as(l,Object.assign({},u,y),{default:()=>m})}function zv(e){return e.flatMap(t=>t.type===Qe?zv(t.children):[t])}function Wv(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},s={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(s[o]!=null||(s[o]=[]),s[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(s).map(r=>[r,void 0])));for(let r in s)Object.assign(t,{[r](o,...n){let i=s[r];for(let l of i){if(o instanceof Event&&o.defaultPrevented)return;l(o,...n)}}});return t}function s6(e){let t=Object.assign({},e);for(let s in t)t[s]===void 0&&delete t[s];return t}function Kv(e,t=[]){let s=Object.assign({},e);for(let r of t)r in s&&delete s[r];return s}function a6(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var Yv=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Yv||{});let r6=yr({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:s}){return()=>{var r;let{features:o,...n}=e,i={"aria-hidden":(o&2)===2?!0:(r=n["aria-hidden"])!=null?r:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return dl({ourProps:i,theirProps:n,slot:{},attrs:s,slots:t,name:"Hidden"})}}}),Gv=Symbol("Context");var Hi=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Hi||{});function o6(){return ia(Gv,null)}function n6(e){wn(Gv,e)}var Hs=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Hs||{});function i6(e){throw new Error("Unexpected object: "+e)}var ma=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ma||{});function l6(e,t){let s=t.resolveItems();if(s.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let n=0;n<s.length;++n)if(!t.resolveDisabled(s[n],n,s))return n;return r}case 1:{o===-1&&(o=s.length);for(let n=o-1;n>=0;--n)if(!t.resolveDisabled(s[n],n,s))return n;return r}case 2:{for(let n=o+1;n<s.length;++n)if(!t.resolveDisabled(s[n],n,s))return n;return r}case 3:{for(let n=s.length-1;n>=0;--n)if(!t.resolveDisabled(s[n],n,s))return n;return r}case 4:{for(let n=0;n<s.length;++n)if(t.resolveId(s[n],n,s)===e.id)return n;return r}case 5:return null;default:i6(e)}}function Jv(e={},t=null,s=[]){for(let[r,o]of Object.entries(e))Xv(s,Qv(t,r),o);return s}function Qv(e,t){return e?e+"["+t+"]":t}function Xv(e,t,s){if(Array.isArray(s))for(let[r,o]of s.entries())Xv(e,Qv(t,r.toString()),o);else s instanceof Date?e.push([t,s.toISOString()]):typeof s=="boolean"?e.push([t,s?"1":"0"]):typeof s=="string"?e.push([t,s]):typeof s=="number"?e.push([t,`${s}`]):s==null?e.push([t,""]):Jv(s,t,e)}let gp=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function pp(e){var t,s;let r=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return r;let n=!1;for(let l of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),n=!0;let i=n?(s=o.innerText)!=null?s:"":r;return gp.test(i)&&(i=i.replace(gp,"")),i}function d6(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let s=e.getAttribute("aria-labelledby");if(s){let r=s.split(" ").map(o=>{let n=document.getElementById(o);if(n){let i=n.getAttribute("aria-label");return typeof i=="string"?i.trim():pp(n).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return pp(e).trim()}function c6(e){let t=O(""),s=O("");return()=>{let r=Is(e);if(!r)return"";let o=r.innerText;if(t.value===o)return s.value;let n=d6(r).trim().toLowerCase();return t.value=o,s.value=n,n}}function u6(e,t){return e===t}var h6=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(h6||{}),g6=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(g6||{}),p6=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(p6||{});function m6(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Zv=Symbol("ListboxContext");function Zd(e){let t=ia(Zv,null);if(t===null){let s=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Zd),s}return t}let ex=yr({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>u6},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:s,emit:r}){let o=O(1),n=O(null),i=O(null),l=O(null),u=O([]),m=O(""),y=O(null),f=O(1);function x(b=w=>w){let w=y.value!==null?u.value[y.value]:null,E=KS(b(u.value.slice()),T=>Is(T.dataRef.domRef)),C=w?E.indexOf(w):null;return C===-1&&(C=null),{options:E,activeOptionIndex:C}}let c=fe(()=>e.multiple?1:0),[h,g]=FS(fe(()=>e.modelValue),b=>r("update:modelValue",b),fe(()=>e.defaultValue)),d=fe(()=>h.value===void 0?Ya(c.value,{1:[],0:void 0}):h.value),p={listboxState:o,value:d,mode:c,compare(b,w){if(typeof e.by=="string"){let E=e.by;return(b==null?void 0:b[E])===(w==null?void 0:w[E])}return e.by(b,w)},orientation:fe(()=>e.horizontal?"horizontal":"vertical"),labelRef:n,buttonRef:i,optionsRef:l,disabled:fe(()=>e.disabled),options:u,searchQuery:m,activeOptionIndex:y,activationTrigger:f,closeListbox(){e.disabled||o.value!==1&&(o.value=1,y.value=null)},openListbox(){e.disabled||o.value!==0&&(o.value=0)},goToOption(b,w,E){if(e.disabled||o.value===1)return;let C=x(),T=l6(b===ma.Specific?{focus:ma.Specific,id:w}:{focus:b},{resolveItems:()=>C.options,resolveActiveIndex:()=>C.activeOptionIndex,resolveId:P=>P.id,resolveDisabled:P=>P.dataRef.disabled});m.value="",y.value=T,f.value=E??1,u.value=C.options},search(b){if(e.disabled||o.value===1)return;let w=m.value!==""?0:1;m.value+=b.toLowerCase();let E=(y.value!==null?u.value.slice(y.value+w).concat(u.value.slice(0,y.value+w)):u.value).find(T=>T.dataRef.textValue.startsWith(m.value)&&!T.dataRef.disabled),C=E?u.value.indexOf(E):-1;C===-1||C===y.value||(y.value=C,f.value=1)},clearSearch(){e.disabled||o.value!==1&&m.value!==""&&(m.value="")},registerOption(b,w){let E=x(C=>[...C,{id:b,dataRef:w}]);u.value=E.options,y.value=E.activeOptionIndex},unregisterOption(b){let w=x(E=>{let C=E.findIndex(T=>T.id===b);return C!==-1&&E.splice(C,1),E});u.value=w.options,y.value=w.activeOptionIndex,f.value=1},theirOnChange(b){e.disabled||g(b)},select(b){e.disabled||g(Ya(c.value,{0:()=>b,1:()=>{let w=qt(p.value.value).slice(),E=qt(b),C=w.findIndex(T=>p.compare(E,qt(T)));return C===-1?w.push(E):w.splice(C,1),w}}))}};XS([i,l],(b,w)=>{var E;p.closeListbox(),qv(w,j0.Loose)||(b.preventDefault(),(E=Is(i))==null||E.focus())},fe(()=>o.value===0)),wn(Zv,p),n6(fe(()=>Ya(o.value,{0:Hi.Open,1:Hi.Closed})));let v=fe(()=>{var b;return(b=Is(i))==null?void 0:b.closest("form")});return Ot(()=>{Et([v],()=>{if(!v.value||e.defaultValue===void 0)return;function b(){p.theirOnChange(e.defaultValue)}return v.value.addEventListener("reset",b),()=>{var w;(w=v.value)==null||w.removeEventListener("reset",b)}},{immediate:!0})}),()=>{let{name:b,modelValue:w,disabled:E,form:C,...T}=e,P={open:o.value===0,disabled:E,value:d.value};return as(Qe,[...b!=null&&d.value!=null?Jv({[b]:d.value}).map(([A,j])=>as(r6,s6({features:Yv.Hidden,key:A,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:C,disabled:E,name:A,value:j}))):[],dl({ourProps:{},theirProps:{...s,...Kv(T,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:P,slots:t,attrs:s,name:"Listbox"})])}}}),tx=yr({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:s,expose:r}){var o;let n=(o=e.id)!=null?o:`headlessui-listbox-button-${F0()}`,i=Zd("ListboxButton");r({el:i.buttonRef,$el:i.buttonRef});function l(f){switch(f.key){case Hs.Space:case Hs.Enter:case Hs.ArrowDown:f.preventDefault(),i.openListbox(),zs(()=>{var x;(x=Is(i.optionsRef))==null||x.focus({preventScroll:!0}),i.value.value||i.goToOption(ma.First)});break;case Hs.ArrowUp:f.preventDefault(),i.openListbox(),zs(()=>{var x;(x=Is(i.optionsRef))==null||x.focus({preventScroll:!0}),i.value.value||i.goToOption(ma.Last)});break}}function u(f){switch(f.key){case Hs.Space:f.preventDefault();break}}function m(f){i.disabled.value||(i.listboxState.value===0?(i.closeListbox(),zs(()=>{var x;return(x=Is(i.buttonRef))==null?void 0:x.focus({preventScroll:!0})})):(f.preventDefault(),i.openListbox(),m6(()=>{var x;return(x=Is(i.optionsRef))==null?void 0:x.focus({preventScroll:!0})})))}let y=ZS(fe(()=>({as:e.as,type:t.type})),i.buttonRef);return()=>{var f,x;let c={open:i.listboxState.value===0,disabled:i.disabled.value,value:i.value.value},{...h}=e,g={ref:i.buttonRef,id:n,type:y.value,"aria-haspopup":"listbox","aria-controls":(f=Is(i.optionsRef))==null?void 0:f.id,"aria-expanded":i.listboxState.value===0,"aria-labelledby":i.labelRef.value?[(x=Is(i.labelRef))==null?void 0:x.id,n].join(" "):void 0,disabled:i.disabled.value===!0?!0:void 0,onKeydown:l,onKeyup:u,onClick:m};return dl({ourProps:g,theirProps:h,slot:c,attrs:t,slots:s,name:"ListboxButton"})}}}),sx=yr({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:s,expose:r}){var o;let n=(o=e.id)!=null?o:`headlessui-listbox-options-${F0()}`,i=Zd("ListboxOptions"),l=O(null);r({el:i.optionsRef,$el:i.optionsRef});function u(f){switch(l.value&&clearTimeout(l.value),f.key){case Hs.Space:if(i.searchQuery.value!=="")return f.preventDefault(),f.stopPropagation(),i.search(f.key);case Hs.Enter:if(f.preventDefault(),f.stopPropagation(),i.activeOptionIndex.value!==null){let x=i.options.value[i.activeOptionIndex.value];i.select(x.dataRef.value)}i.mode.value===0&&(i.closeListbox(),zs(()=>{var x;return(x=Is(i.buttonRef))==null?void 0:x.focus({preventScroll:!0})}));break;case Ya(i.orientation.value,{vertical:Hs.ArrowDown,horizontal:Hs.ArrowRight}):return f.preventDefault(),f.stopPropagation(),i.goToOption(ma.Next);case Ya(i.orientation.value,{vertical:Hs.ArrowUp,horizontal:Hs.ArrowLeft}):return f.preventDefault(),f.stopPropagation(),i.goToOption(ma.Previous);case Hs.Home:case Hs.PageUp:return f.preventDefault(),f.stopPropagation(),i.goToOption(ma.First);case Hs.End:case Hs.PageDown:return f.preventDefault(),f.stopPropagation(),i.goToOption(ma.Last);case Hs.Escape:f.preventDefault(),f.stopPropagation(),i.closeListbox(),zs(()=>{var x;return(x=Is(i.buttonRef))==null?void 0:x.focus({preventScroll:!0})});break;case Hs.Tab:f.preventDefault(),f.stopPropagation();break;default:f.key.length===1&&(i.search(f.key),l.value=setTimeout(()=>i.clearSearch(),350));break}}let m=o6(),y=fe(()=>m!==null?(m.value&Hi.Open)===Hi.Open:i.listboxState.value===0);return()=>{var f,x;let c={open:i.listboxState.value===0},{...h}=e,g={"aria-activedescendant":i.activeOptionIndex.value===null||(f=i.options.value[i.activeOptionIndex.value])==null?void 0:f.id,"aria-multiselectable":i.mode.value===1?!0:void 0,"aria-labelledby":(x=Is(i.buttonRef))==null?void 0:x.id,"aria-orientation":i.orientation.value,id:n,onKeydown:u,role:"listbox",tabIndex:0,ref:i.optionsRef};return dl({ourProps:g,theirProps:h,slot:c,attrs:t,slots:s,features:Mu.RenderStrategy|Mu.Static,visible:y.value,name:"ListboxOptions"})}}}),bd=yr({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:s,expose:r}){var o;let n=(o=e.id)!=null?o:`headlessui-listbox-option-${F0()}`,i=Zd("ListboxOption"),l=O(null);r({el:l,$el:l});let u=fe(()=>i.activeOptionIndex.value!==null?i.options.value[i.activeOptionIndex.value].id===n:!1),m=fe(()=>Ya(i.mode.value,{0:()=>i.compare(qt(i.value.value),qt(e.value)),1:()=>qt(i.value.value).some(b=>i.compare(qt(b),qt(e.value)))})),y=fe(()=>Ya(i.mode.value,{1:()=>{var b;let w=qt(i.value.value);return((b=i.options.value.find(E=>w.some(C=>i.compare(qt(C),qt(E.dataRef.value)))))==null?void 0:b.id)===n},0:()=>m.value})),f=c6(l),x=fe(()=>({disabled:e.disabled,value:e.value,get textValue(){return f()},domRef:l}));Ot(()=>i.registerOption(n,x)),Ea(()=>i.unregisterOption(n)),Ot(()=>{Et([i.listboxState,m],()=>{i.listboxState.value===0&&m.value&&Ya(i.mode.value,{1:()=>{y.value&&i.goToOption(ma.Specific,n)},0:()=>{i.goToOption(ma.Specific,n)}})},{immediate:!0})}),Ud(()=>{i.listboxState.value===0&&u.value&&i.activationTrigger.value!==0&&zs(()=>{var b,w;return(w=(b=Is(l))==null?void 0:b.scrollIntoView)==null?void 0:w.call(b,{block:"nearest"})})});function c(b){if(e.disabled)return b.preventDefault();i.select(e.value),i.mode.value===0&&(i.closeListbox(),zs(()=>{var w;return(w=Is(i.buttonRef))==null?void 0:w.focus({preventScroll:!0})}))}function h(){if(e.disabled)return i.goToOption(ma.Nothing);i.goToOption(ma.Specific,n)}let g=e6();function d(b){g.update(b)}function p(b){g.wasMoved(b)&&(e.disabled||u.value||i.goToOption(ma.Specific,n,0))}function v(b){g.wasMoved(b)&&(e.disabled||u.value&&i.goToOption(ma.Nothing))}return()=>{let{disabled:b}=e,w={active:u.value,selected:m.value,disabled:b},{value:E,disabled:C,...T}=e,P={id:n,ref:l,role:"option",tabIndex:b===!0?void 0:-1,"aria-disabled":b===!0?!0:void 0,"aria-selected":m.value,disabled:void 0,onClick:c,onFocus:h,onPointerenter:d,onMouseenter:d,onPointermove:p,onMousemove:p,onPointerleave:v,onMouseleave:v};return dl({ourProps:P,theirProps:T,slot:w,attrs:s,slots:t,name:"ListboxOption"})}}});const f6={class:"relative"},y6={class:"relative"},v6=["src","alt"],x6=["title"],b6={class:"hidden lg:block text-left"},k6={class:"text-sm font-semibold text-gray-900 dark:text-white"},w6={class:"text-xs text-gray-500 dark:text-gray-400"},_6={class:"p-4 border-b border-gray-100 dark:border-gray-700"},$6={class:"flex items-center gap-3"},C6=["src","alt"],S6={class:"flex-1"},E6={class:"font-semibold text-gray-900 dark:text-white"},T6={class:"text-sm text-gray-500 dark:text-gray-400"},A6={class:"flex items-center gap-2 mt-1"},L6={class:"p-2 space-y-1"},M6={key:0,class:"px-2 py-2"},P6={class:"px-2 mb-2"},D6={class:"flex items-center justify-between"},I6={key:0,class:"flex items-center gap-1"},O6={class:"px-2 space-y-1"},F6=["onClick","disabled"],R6={class:"flex-1 text-left font-medium truncate"},j6=["disabled"],N6={key:1,class:"w-4 h-4 animate-spin rounded-full border-2 border-red-600 border-t-transparent"},V6={key:2,class:"ml-auto text-xs text-red-400 bg-red-50 dark:bg-red-900/20 px-1.5 py-0.5 rounded"},mp="https://ui-avatars.com/api/?name=User&size=200&background=ef4444&color=fff&bold=true",B6={__name:"SimpleUserDropdown",setup(e){const t=vr(),s=Qs(),r=O(!1),o=O(!1),n=O(!1),i=O(null),l=O(!1),u=async()=>{if(!l.value){l.value=!0;try{const E=await Tt("/profile");E.success&&(i.value=E.data,s.user={...s.user,...E.data},localStorage.setItem("user",JSON.stringify(s.user)))}catch(E){console.error("Failed to load profile:",E),i.value=s.user}finally{l.value=!1}}},m=fe(()=>{var E,C;return((E=i.value)==null?void 0:E.name)||((C=s.user)==null?void 0:C.name)||"User"}),y=fe(()=>{var E,C;return((E=i.value)==null?void 0:E.email)||((C=s.user)==null?void 0:C.email)||"user@example.com"}),f=fe(()=>{var C,T,P,A,j,V,H;if(s.roleActive)return s.roleActive.name;if((C=i.value)!=null&&C.active_role)return i.value.active_role.name;const E=((P=(T=s.user)==null?void 0:T.active_role)==null?void 0:P.name)||((A=s.user)==null?void 0:A.role)||((H=(V=(j=s.user)==null?void 0:j.roles)==null?void 0:V[0])==null?void 0:H.name);return E?E.charAt(0).toUpperCase()+E.slice(1):"User"}),x=fe(()=>{var E,C,T,P;return((E=i.value)==null?void 0:E.avatar_url)||((C=s.user)==null?void 0:C.avatar_url)||((T=s.user)==null?void 0:T.avatar)||((P=s.user)==null?void 0:P.profile_photo_url)||mp}),c=fe(()=>{var E,C;return((E=i.value)==null?void 0:E.status)||((C=s.user)==null?void 0:C.status)||"active"}),h=E=>{E.target.src=mp},g=()=>{n.value=!n.value},d=()=>{n.value=!1},p=async()=>{if(!r.value){r.value=!0;try{await s.logout(),d(),t.push({name:"login"})}catch(E){console.error("Logout error:",E),d(),t.push({name:"login"})}finally{r.value=!1}}},v=async E=>{var C;if(!o.value){o.value=!0;try{const P=await(await fetch("/api/auth/set-role",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${s.token}`,"X-CSRF-TOKEN":((C=document.querySelector('meta[name="csrf-token"]'))==null?void 0:C.getAttribute("content"))||""},body:JSON.stringify({role_id:E.id})})).json();P.success?(d(),window.location.reload()):console.error("Failed to switch role:",P.message)}catch(T){console.error("Error switching role:",T)}finally{o.value=!1}}},b=E=>{E.target.closest(".relative")||d()},w=E=>{if(E.metaKey||E.ctrlKey)switch(E.key){case"p":E.preventDefault(),t.push({name:"Profile"}),d();break;case",":E.preventDefault(),t.push({name:"Settings"}),d();break;case"q":E.preventDefault(),p();break}E.key==="Escape"&&d()};return Ot(()=>{u(),document.addEventListener("click",b),document.addEventListener("keydown",w)}),Ea(()=>{document.removeEventListener("click",b),document.removeEventListener("keydown",w)}),(E,C)=>{const T=pr("router-link");return $(),S("div",f6,[a("button",{onClick:g,class:"flex items-center gap-3 p-2 hover:bg-gray-100 rounded-xl transition-all duration-200 dark:hover:bg-gray-700 group"},[a("div",y6,[a("img",{class:"w-8 h-8 rounded-lg object-cover ring-2 ring-gray-200 dark:ring-gray-700 group-hover:ring-red-500 transition-all duration-200",src:x.value,alt:m.value,onError:h},null,40,v6),a("div",{class:Ee([{"bg-green-500":c.value==="active","bg-gray-400":c.value!=="active"},"absolute -bottom-0.5 -right-0.5 w-3 h-3 border-2 border-white dark:border-gray-800 rounded-full"]),title:c.value==="active"?"Active":"Inactive"},null,10,x6)]),a("div",b6,[a("p",k6,k(m.value),1),a("p",w6,k(f.value),1)]),L(F(Au),{class:Ee(["w-4 h-4 text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-300 transition-all duration-200",n.value?"rotate-180":""])},null,8,["class"])]),L(ko,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:le(()=>[rt(a("div",{class:"absolute right-0 mt-2 w-64 origin-top-right bg-white shadow-xl rounded-2xl border border-gray-200 p-2 dark:bg-gray-800 dark:border-gray-700 z-50",onClick:d},[a("div",_6,[a("div",$6,[a("img",{class:"w-12 h-12 rounded-xl object-cover",src:x.value,alt:m.value,onError:h},null,40,C6),a("div",S6,[a("p",E6,k(m.value),1),a("p",T6,k(y.value),1),a("div",A6,[a("div",{class:Ee([{"bg-green-500":c.value==="active","bg-gray-400":c.value!=="active"},"w-2 h-2 rounded-full"])},null,2),a("span",{class:Ee([{"text-green-600 dark:text-green-400":c.value==="active","text-gray-500 dark:text-gray-400":c.value!=="active"},"text-xs"])},k(c.value==="active"?"Active":"Inactive"),3)])])])]),a("div",L6,[L(T,{to:{name:"Profile"},onClick:d,class:"flex items-center gap-3 p-3 rounded-xl text-sm text-gray-700 hover:bg-gray-100 transition-colors duration-200 dark:text-gray-300 dark:hover:bg-gray-700 group"},{default:le(()=>[L(F(OS),{class:"w-4 h-4 group-hover:text-red-500 transition-colors"}),C[0]||(C[0]=a("span",null,"My Profile",-1)),C[1]||(C[1]=a("kbd",{class:"ml-auto text-xs text-gray-400 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded"},"P",-1))]),_:1}),F(s).roles&&F(s).roles.length>1?($(),S("div",M6,[a("div",P6,[a("div",D6,[C[3]||(C[3]=a("span",{class:"text-xs font-medium text-gray-500 dark:text-gray-400"},"Role",-1)),o.value?($(),S("div",I6,[...C[2]||(C[2]=[a("div",{class:"w-3 h-3 animate-spin rounded-full border-2 border-gray-300 border-t-gray-600 dark:border-gray-500 dark:border-t-gray-300"},null,-1),a("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Switching...",-1)])])):G("",!0)])]),a("div",O6,[($(!0),S(Qe,null,ot(F(s).roles,P=>{var A,j;return $(),S("button",{key:P.id,onClick:V=>v(P),disabled:o.value,class:Ee(["w-full flex items-center gap-2 p-2 rounded-md text-sm transition-all duration-200 group","disabled:opacity-50 disabled:cursor-not-allowed",P.id===((A=F(s).roleActive)==null?void 0:A.id)?"bg-red-500 text-white shadow-sm":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"])},[L(F(Ui),{class:"w-4 h-4 flex-shrink-0"}),a("span",R6,k(P.name),1),P.id===((j=F(s).roleActive)==null?void 0:j.id)?($(),it(F(Eo),{key:0,class:"w-4 h-4 flex-shrink-0"})):G("",!0)],10,F6)}),128))])])):G("",!0),C[4]||(C[4]=a("div",{class:"border-t border-gray-100 dark:border-gray-700 my-2"},null,-1)),a("button",{onClick:p,disabled:r.value,class:"w-full flex items-center gap-3 p-3 rounded-xl text-sm text-red-600 hover:bg-red-50 transition-colors duration-200 dark:text-red-400 dark:hover:bg-red-900/20 group disabled:opacity-50 disabled:cursor-not-allowed"},[r.value?($(),S("div",N6)):($(),it(F(xS),{key:0,class:"w-4 h-4 group-hover:text-red-700 dark:group-hover:text-red-300 transition-colors"})),a("span",null,k(r.value?"Signing Out...":"Sign Out"),1),r.value?G("",!0):($(),S("kbd",V6,"Q"))],8,j6)])],512),[[Or,n.value]])]),_:1})])}}},U6={class:"sticky top-0 inset-x-0 z-[48] w-full bg-white/95 backdrop-blur-sm border-b border-gray-200 dark:bg-gray-800/95 dark:border-gray-700 shadow-sm"},H6={class:"flex items-center justify-between w-full mx-auto px-6 py-4","aria-label":"Global"},q6={class:"flex items-center gap-4"},z6={class:"text-2xl font-bold text-gray-900 dark:text-white"},W6={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},K6={class:"flex items-center gap-4"},Y6={class:"py-1"},G6={__name:"Navbar",props:{pageTitle:{type:String,default:"Dashboard"},pageDescription:{type:String,default:""}},emits:["search"],setup(e,{emit:t}){wo();const s=_o(),r=O(""),o=O(!1),n=O(null),{locale:i}=fa(),l=t;Et(r,f=>{l("search",f)});const u=()=>{o.value=!o.value},m=f=>{i.value=f,o.value=!1,localStorage.setItem("language",f)},y=f=>{n.value&&!n.value.contains(f.target)&&(o.value=!1)};return Ot(()=>{document.addEventListener("click",y);const f=localStorage.getItem("language");f&&(f==="en"||f==="id")&&(i.value=f)}),Ea(()=>{document.removeEventListener("click",y)}),(f,x)=>($(),S("header",U6,[a("nav",H6,[a("div",q6,[a("div",null,[a("h1",z6,k(e.pageTitle),1),e.pageDescription?($(),S("p",W6,k(e.pageDescription),1)):G("",!0)])]),a("div",K6,[a("div",{class:"relative hidden lg:block",ref_key:"languageDropdownContainer",ref:n},[a("button",{onClick:Bt(u,["stop"]),type:"button",class:"p-2 text-gray-500 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-700",title:"Select Language"},[L(F(Vv),{class:"w-5 h-5"})]),L(ko,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:le(()=>[o.value?($(),S("div",{key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 z-50",onClick:x[2]||(x[2]=Bt(()=>{},["stop"]))},[a("div",Y6,[a("button",{onClick:x[0]||(x[0]=c=>m("id")),class:Ee(["w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors duration-200 flex items-center gap-2 first:rounded-t-xl",{"bg-primary-50 text-primary-700 dark:bg-primary-900 dark:text-primary-300":F(i)==="id"}])},[...x[4]||(x[4]=[a("span",{class:"text-lg"},"",-1),a("span",null,"Bahasa Indonesia",-1)])],2),a("button",{onClick:x[1]||(x[1]=c=>m("en")),class:Ee(["w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors duration-200 flex items-center gap-2 last:rounded-b-xl",{"bg-primary-50 text-primary-700 dark:bg-primary-900 dark:text-primary-300":F(i)==="en"}])},[...x[5]||(x[5]=[a("span",{class:"text-lg"},"",-1),a("span",null,"English",-1)])],2)])])):G("",!0)]),_:1})],512),a("button",{onClick:x[3]||(x[3]=(...c)=>F(s).toggleTheme&&F(s).toggleTheme(...c)),type:"button",class:"hidden lg:flex p-2 text-gray-500 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-700",title:"Toggle Theme"},[F(s).isDark?($(),it(F(Uv),{key:1,class:"w-5 h-5"})):($(),it(F(Bv),{key:0,class:"w-5 h-5"}))]),L(B6)])])]))}},J6={class:"min-h-screen bg-gray-50 dark:bg-gray-900 overflow-x-hidden"},Q6={class:"flex items-center justify-between px-6 pt-7 pb-5 border-b border-gray-100 dark:border-gray-700"},X6={class:"flex items-center gap-3 text-xl font-bold dark:text-white group",href:"#","aria-label":"Brand"},Z6={key:0,class:"w-10 h-10 rounded-lg flex items-center justify-center overflow-hidden group-hover:scale-105 transition-all duration-200"},e8=["src","alt"],t8={class:"w-10 h-10 bg-gradient-to-br from-primary-400 to-primary-600 rounded-lg flex items-center justify-center group-hover:from-primary-500 group-hover:to-primary-700 transition-all duration-200"},s8={key:1,class:"w-10 h-10 bg-gradient-to-br from-primary-400 to-primary-600 rounded-lg flex items-center justify-center group-hover:from-primary-500 group-hover:to-primary-700 transition-all duration-200"},a8={key:2,class:"bg-gradient-to-r from-primary-500 to-primary-600 bg-clip-text text-transparent dark:from-primary-400 dark:to-primary-500 transition-opacity duration-300"},r8=["title"],o8={class:"px-6 py-4 transition-all duration-300"},n8={class:"relative"},i8={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},l8=["placeholder"],d8={class:"px-6 pb-6 flex-1 overflow-y-auto transition-all duration-300 max-h-[calc(100vh-250px)]"},c8={class:"space-y-8"},u8={key:0},h8={key:0,class:"mb-3 text-xs font-semibold text-gray-500 uppercase tracking-wider dark:text-gray-400 transition-opacity duration-300"},g8={class:"space-y-1"},p8={key:0,class:"transition-opacity duration-300"},m8={key:1},f8={key:0,class:"mb-3 text-xs font-semibold text-gray-500 uppercase tracking-wider dark:text-gray-400 transition-opacity duration-300"},y8={class:"space-y-1"},v8={key:0,class:"transition-opacity duration-300"},x8={key:2},b8={key:0,class:"mb-3 text-xs font-semibold text-gray-500 uppercase tracking-wider dark:text-gray-400 transition-opacity duration-300"},k8={class:"space-y-1"},w8={key:0,class:"transition-opacity duration-300"},_8={key:3},$8={key:0,class:"mb-3 text-xs font-semibold text-gray-500 uppercase tracking-wider dark:text-gray-400 transition-opacity duration-300"},C8={class:"space-y-1"},S8={key:0,class:"transition-opacity duration-300"},E8={key:4},T8={key:0,class:"mb-3 text-xs font-semibold text-gray-500 uppercase tracking-wider dark:text-gray-400 transition-opacity duration-300"},A8={class:"space-y-1"},L8={key:0,class:"transition-opacity duration-300"},M8={class:"px-6 py-4 border-t border-gray-100 dark:border-gray-700 transition-all duration-300 mt-auto"},P8={key:0,class:"mb-3"},D8={key:0,class:"transition-opacity duration-300"},I8={class:"sticky top-0 inset-x-0 z-20 bg-white/95 backdrop-blur-sm border-b border-gray-200 px-4 sm:px-6 md:px-8 lg:hidden dark:bg-gray-800/95 dark:border-gray-700"},O8={class:"flex items-center justify-between py-4"},F8={type:"button",class:"p-2 text-gray-500 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-700","data-hs-overlay":"#application-sidebar","aria-controls":"application-sidebar","aria-label":"Toggle navigation"},R8={class:"flex items-center gap-2 text-lg font-bold dark:text-white",href:"#"},j8={class:"w-7 h-7 bg-gradient-to-br from-primary-400 to-primary-600 rounded-md flex items-center justify-center"},N8={class:"flex items-center gap-2"},V8={class:"relative"},B8=["title"],U8={class:"py-1"},H8={class:"p-6 min-h-screen"},q8={class:"bg-white border-t border-gray-200 dark:bg-gray-800 dark:border-gray-700"},z8={class:"px-6 py-6"},W8={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},K8={class:"flex flex-col gap-2"},Y8={class:"flex items-center gap-4"},G8={key:0,class:"w-10 h-10 rounded-md flex items-center justify-center overflow-hidden"},J8=["src","alt"],Q8={class:"w-10 h-10 bg-gradient-to-br from-primary-400 to-primary-600 rounded-md flex items-center justify-center"},X8={key:1,class:"w-6 h-6 bg-gradient-to-br from-primary-400 to-primary-600 rounded-md flex items-center justify-center"},Z8={class:"flex items-center gap-3"},e7={class:"font-semibold text-gray-900 dark:text-white"},t7={class:"text-sm text-gray-600 dark:text-gray-400"},s7={class:"text-xs text-gray-500 dark:text-gray-500 mt-0"},a7={class:"flex items-center gap-6"},r7={class:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 transition-colors duration-200"},o7={__name:"DashboardLayout",setup(e){const t=wo();vr();const s=_o(),r=Qs(),o=d$(),{t:n,locale:i}=fa(),l=O(""),u=O(!0),m=O(!1),y=O(!1),f=O(!1),x=O(!1),c=()=>{m.value=window.innerWidth<1024},h={main:{title:"sidebar.main",items:[{text:"sidebar.dashboard",route:"/",routeName:"Dashboard",icon:LS,permission:"view-dashboard"}]},accountingManagement:{title:"sidebar.accountingManagement",items:[{text:"sidebar.journalEntries",route:"/journal-entries",routeName:"journal-entries.index",icon:Tu,permission:"view-journal"},{text:"sidebar.coa",route:"/chart-of-accounts",routeName:"coa.index",icon:yd,permission:"view-coa"},{text:"sidebar.neracaLajur",route:"/reports/neraca-lajur",routeName:"reports.neraca-lajur",icon:TS,permission:"view-neraca-lajur"},{text:"sidebar.neraca",route:"/reports/neraca",routeName:"reports.neraca",icon:an,permission:"view-neraca"},{text:"sidebar.labaRugi",route:"/reports/laba-rugi",routeName:"reports.laba-rugi",icon:Pn,permission:"view-laba-rugi"},{text:"sidebar.perubahanModal",route:"/reports/perubahan-modal",routeName:"reports.perubahan-modal",icon:Rv,permission:"view-perubahan-modal"},{text:"sidebar.arusKas",route:"/reports/arus-kas",routeName:"reports.arus-kas",icon:Ov,permission:"view-arus-kas"}]},warehouseManagement:{title:"sidebar.warehouseManagement",items:[{text:"sidebar.products",route:"/products",routeName:"products.index",icon:I0,permission:"view-products"},{text:"sidebar.locations",route:"/locations",routeName:"locations.index",icon:vd,permission:"view-locations"},{text:"sidebar.stockMasuk",route:"/stock-masuk",routeName:"stock-masuk.index",icon:ji,permission:"view-stock-masuk"},{text:"sidebar.mutasi",route:"/mutasi",routeName:"mutasi.index",icon:Iv,permission:"view-mutasi"},{text:"sidebar.adjustment",route:"/adjustment",routeName:"adjustment.index",icon:Eu,permission:"view-adjustment"},{text:"sidebar.stockopname",route:"/stockopname",routeName:"stockopname.index",icon:yd,permission:"view-stockopname"},{text:"sidebar.bukuStock",route:"/buku-stock",routeName:"buku-stock.index",icon:Tu,permission:"view-buku-stock"}]},userManagement:{title:"sidebar.userManagement",items:[{text:"sidebar.users",route:"/users",routeName:"Users",icon:xd,permission:"view-users"},{text:"sidebar.roles",route:"/roles",routeName:"Roles",icon:Ui,permission:"view-roles"},{text:"sidebar.permissions",route:"/permissions",routeName:"Permissions",icon:Bi,permission:"view-permissions"}]},salesManagement:{title:"sidebar.salesManagement",items:[{text:"sidebar.sales",route:"/sales",routeName:"sales.index",icon:Lu,permission:"view-sale"},{text:"sidebar.customers",route:"/customers",routeName:"customers.index",icon:xd,permission:"view-customer"}]}},g=fe(()=>{var V,H;return((H=(V=r.roleActive)==null?void 0:V.permissions)==null?void 0:H.map(R=>R.name))||[]}),d=V=>V?g.value.includes(V):!0,p=fe(()=>{try{const V={};return Object.keys(h).forEach(H=>{const R=h[H],M=R.items.filter(B=>{if(!d(B.permission))return!1;if(!l.value||!l.value.trim())return!0;const W=l.value.toLowerCase().trim();try{return n(B.text).toLowerCase().includes(W)}catch(K){return console.error("Translation error for:",B.text,K),!1}});V[H]={...R,items:M}}),V}catch(V){return console.error("Error in filteredMenuSections:",V),h}}),v=()=>{u.value=!u.value},b=()=>{const H={Dashboard:"header.dashboard",Users:"header.users",Roles:"header.roles",Permissions:"header.permissions",settings:"header.settings","journal-entries.index":"header.journalEntries","coa.index":"header.coa","reports.neraca-lajur":"header.neracaLajur","reports.neraca":"header.neraca","reports.laba-rugi":"header.labaRugi","reports.perubahan-modal":"header.perubahanModal","reports.arus-kas":"header.arusKas","locations.index":"header.locations","stock-masuk.index":"header.stockMasuk","mutasi.index":"header.mutasi","adjustment.index":"header.adjustment","stockopname.index":"header.stockopname","buku-stock.index":"header.bukuStock","sales.index":"header.sales","products.index":"header.products"}[t.name]||"header.dashboard";return n(H)},w=()=>({Dashboard:"Welcome back! Here's what's happening with your business.",Profile:"Manage your account settings and preferences.",Settings:"Configure your application settings.",Users:"Manage user accounts and permissions.",Analytics:"View detailed analytics and reports.",Products:"Manage your product catalog.",Orders:"Track and manage customer orders."})[t.name]||"Welcome to your dashboard",E=V=>{l.value=V,console.log("Search query:",V)},C=()=>{console.log("Sidebar search query:",l.value)},T=V=>{i.value=V,y.value=!1,localStorage.setItem("language",V)},P=()=>{var H;const V=(H=o.settings)==null?void 0:H.logo_sistem;if(V){let R=document.querySelector("link[rel~='icon']");R||(R=document.createElement("link"),R.rel="icon",document.head.appendChild(R)),R.href=`storage/logo/${V}`}},A=()=>{var H;const V=(H=o.settings)==null?void 0:H.nama_sistem;document.title=V?`${V} - Admin Panel`:"Admin Panel - Laravel Vue"},j=async()=>{!r.user&&r.token&&t.name!=="Dashboard"&&await r.checkAuth()};return Ot(async()=>{await j(),await o.fetchSettings(),f.value=!1,x.value=!1,P(),A(),c(),window.addEventListener("resize",c);const V=localStorage.getItem("language");V&&(V==="en"||V==="id")&&(i.value=V),document.addEventListener("click",H=>{const R=H.target,M=document.querySelector(".language-dropdown"),B=document.querySelector(".language-button");!(B!=null&&B.contains(R))&&!(M!=null&&M.contains(R))&&(y.value=!1)}),Et(()=>{var H;return(H=o.settings)==null?void 0:H.logo_sistem},H=>{H&&P()}),Et(()=>{var H;return(H=o.settings)==null?void 0:H.nama_sistem},H=>{A()})}),(V,H)=>{var B,W,K,Z,Te,_e,ye,z;const R=pr("router-link"),M=pr("router-view");return $(),S("div",J6,[a("div",{class:Ee(["hs-overlay hs-overlay-open:translate-x-0 transition-all duration-300 transform fixed top-0 start-0 bottom-0 z-[60] bg-white dark:bg-gray-800 border-e border-gray-200 dark:border-gray-700 hs-overlay-backdrop-open:bg-gray-900/20 dark:hs-overlay-backdrop-open:bg-black/30 lg:block lg:end-auto lg:bottom-0 shadow-xl flex flex-col overflow-hidden",u.value?"":"-translate-x-full",u.value?"w-72 translate-x-0":""]),id:"application-sidebar"},[a("div",Q6,[a("a",X6,[(B=F(o).settings)!=null&&B.logo_sistem?($(),S("div",Z6,[rt(a("img",{src:`storage/logo/${F(o).settings.logo_sistem}`,alt:((W=F(o).settings)==null?void 0:W.nama_sistem)||"Logo",class:"w-full h-full object-contain",onError:H[0]||(H[0]=q=>x.value=!0)},null,40,e8),[[Or,!x.value]]),rt(a("div",t8,[L(F(Xn),{class:"w-7 h-7 text-white"})],512),[[Or,x.value]])])):($(),S("div",s8,[L(F(Xn),{class:"w-7 h-7 text-white"})])),u.value?($(),S("span",a8,k(((K=F(o).settings)==null?void 0:K.nama_sistem)||"AdminPanel"),1)):G("",!0)]),a("button",{onClick:v,class:"p-2 text-gray-500 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-700",title:u.value?V.$t("sidebar.hideSidebar"):V.$t("sidebar.showSidebar")},[u.value?($(),it(F(ll),{key:0,class:"w-5 h-5"})):($(),it(F(Lc),{key:1,class:"w-5 h-5"}))],8,r8)]),a("div",o8,[a("div",n8,[a("div",i8,[L(F(Un),{class:"w-4 h-4 text-gray-400"})]),rt(a("input",{"onUpdate:modelValue":H[1]||(H[1]=q=>l.value=q),onInput:C,type:"text",class:"w-full pl-10 pr-4 py-2.5 text-sm border border-gray-200 rounded-xl bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400 dark:focus:ring-primary-400 transition-all duration-200",placeholder:V.$t("sidebar.search")},null,40,l8),[[It,l.value]])])]),a("nav",d8,[a("div",c8,[p.value.main.items.length>0?($(),S("div",u8,[u.value?($(),S("h3",h8,k(V.$t(p.value.main.title)),1)):G("",!0),a("ul",g8,[($(!0),S(Qe,null,ot(p.value.main.items,q=>($(),S("li",{key:q.route,class:"relative group"},[L(R,{to:q.route,class:Ee(["group flex items-center gap-x-3 py-3 px-3 text-sm font-medium rounded-xl transition-all duration-300 overflow-hidden",V.$route.name===q.routeName?"bg-gradient-to-r from-primary-400 to-primary-600 text-white shadow-lg shadow-primary-500/25":"text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"])},{default:le(()=>[($(),it(Pr(q.icon),{class:Ee(["w-5 h-5 transition-transform duration-200 group-hover:scale-110 flex-shrink-0",V.$route.name===q.routeName?"text-white":"text-gray-500 dark:text-gray-400"])},null,8,["class"])),u.value?($(),S("span",p8,k(V.$t(q.text)),1)):G("",!0)]),_:2},1032,["to","class"])]))),128))])])):G("",!0),p.value.salesManagement.items.length>0?($(),S("div",m8,[u.value?($(),S("h3",f8,k(V.$t(p.value.salesManagement.title)),1)):G("",!0),a("ul",y8,[($(!0),S(Qe,null,ot(p.value.salesManagement.items,q=>($(),S("li",{key:q.route,class:"relative group"},[L(R,{to:q.route,class:Ee(["group flex items-center gap-x-3 py-3 px-3 text-sm font-medium rounded-xl transition-all duration-300 overflow-hidden",V.$route.name===q.routeName?"bg-gradient-to-r from-primary-400 to-primary-600 text-white shadow-lg shadow-primary-500/25":"text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"])},{default:le(()=>[($(),it(Pr(q.icon),{class:Ee(["w-5 h-5 transition-transform duration-200 group-hover:scale-110 flex-shrink-0",V.$route.name===q.routeName?"text-white":"text-gray-500 dark:text-gray-400"])},null,8,["class"])),u.value?($(),S("span",v8,k(V.$t(q.text)),1)):G("",!0)]),_:2},1032,["to","class"])]))),128))])])):G("",!0),p.value.warehouseManagement.items.length>0?($(),S("div",x8,[u.value?($(),S("h3",b8,k(V.$t(p.value.warehouseManagement.title)),1)):G("",!0),a("ul",k8,[($(!0),S(Qe,null,ot(p.value.warehouseManagement.items,q=>($(),S("li",{key:q.route,class:"relative group"},[L(R,{to:q.route,class:Ee(["group flex items-center gap-x-3 py-3 px-3 text-sm font-medium rounded-xl transition-all duration-300 overflow-hidden",V.$route.name===q.routeName?"bg-gradient-to-r from-primary-400 to-primary-600 text-white shadow-lg shadow-primary-500/25":"text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"])},{default:le(()=>[($(),it(Pr(q.icon),{class:Ee(["w-5 h-5 transition-transform duration-200 group-hover:scale-110 flex-shrink-0",V.$route.name===q.routeName?"text-white":"text-gray-500 dark:text-gray-400"])},null,8,["class"])),u.value?($(),S("span",w8,k(V.$t(q.text)),1)):G("",!0)]),_:2},1032,["to","class"])]))),128))])])):G("",!0),p.value.accountingManagement.items.length>0?($(),S("div",_8,[u.value?($(),S("h3",$8,k(V.$t(p.value.accountingManagement.title)),1)):G("",!0),a("ul",C8,[($(!0),S(Qe,null,ot(p.value.accountingManagement.items,q=>($(),S("li",{key:q.route,class:"relative group"},[L(R,{to:q.route,class:Ee(["group flex items-center gap-x-3 py-3 px-3 text-sm font-medium rounded-xl transition-all duration-300 overflow-hidden",V.$route.name===q.routeName?"bg-gradient-to-r from-primary-400 to-primary-600 text-white shadow-lg shadow-primary-500/25":"text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"])},{default:le(()=>[($(),it(Pr(q.icon),{class:Ee(["w-5 h-5 transition-transform duration-200 group-hover:scale-110 flex-shrink-0",V.$route.name===q.routeName?"text-white":"text-gray-500 dark:text-gray-400"])},null,8,["class"])),u.value?($(),S("span",S8,k(V.$t(q.text)),1)):G("",!0)]),_:2},1032,["to","class"])]))),128))])])):G("",!0),p.value.userManagement.items.length>0?($(),S("div",E8,[u.value?($(),S("h3",T8,k(V.$t(p.value.userManagement.title)),1)):G("",!0),a("ul",A8,[($(!0),S(Qe,null,ot(p.value.userManagement.items,q=>($(),S("li",{key:q.route,class:"relative group"},[L(R,{to:q.route,class:Ee(["group flex items-center gap-x-3 py-3 px-3 text-sm font-medium rounded-xl transition-all duration-300 overflow-hidden",V.$route.name===q.routeName?"bg-gradient-to-r from-primary-400 to-primary-600 text-white shadow-lg shadow-primary-500/25":"text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"])},{default:le(()=>[($(),it(Pr(q.icon),{class:Ee(["w-5 h-5 transition-transform duration-200 group-hover:scale-110 flex-shrink-0",V.$route.name===q.routeName?"text-white":"text-gray-500 dark:text-gray-400"])},null,8,["class"])),u.value?($(),S("span",L8,k(V.$t(q.text)),1)):G("",!0)]),_:2},1032,["to","class"])]))),128))])])):G("",!0)])]),a("div",M8,[d("view-settings")?($(),S("div",P8,[L(R,{to:"/settings",class:Ee(["group flex items-center gap-x-3 py-3 px-3 text-sm font-medium rounded-xl transition-all duration-300 overflow-hidden",V.$route.name==="Settings"?"bg-gradient-to-r from-primary-400 to-primary-600 text-white shadow-lg shadow-primary-500/25":"text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white"])},{default:le(()=>[L(F(Eu),{class:Ee(["w-5 h-5 transition-transform duration-200 group-hover:scale-110 flex-shrink-0",V.$route.name==="Settings"?"text-white":"text-gray-500 dark:text-gray-400"])},null,8,["class"]),u.value?($(),S("span",D8,k(V.$t("sidebar.settings")),1)):G("",!0)]),_:1},8,["class"])])):G("",!0),G("",!0)])],2),a("div",{class:Ee(["w-full transition-all duration-300",u.value?"lg:ps-72":"lg:ps-0"])},[u.value?G("",!0):($(),S("button",{key:0,onClick:v,class:"fixed top-4 left-4 z-50 lg:flex hidden p-2 bg-white dark:bg-gray-800 text-gray-500 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-700 shadow-lg border border-gray-200 dark:border-gray-700",title:"Show Sidebar"},[L(F(Lc),{class:"w-5 h-5"})])),a("div",I8,[a("div",O8,[a("button",F8,[H[9]||(H[9]=a("span",{class:"sr-only"},"Toggle Navigation",-1)),L(F(Lc),{class:"w-5 h-5"})]),a("a",R8,[a("div",j8,[L(F(Xn),{class:"w-5 h-5 text-white"})]),H[10]||(H[10]=a("span",{class:"bg-gradient-to-r from-primary-500 to-primary-600 bg-clip-text text-transparent dark:from-primary-400 dark:to-primary-500"},"AdminPanel",-1))]),a("div",N8,[a("div",V8,[a("button",{onClick:H[2]||(H[2]=q=>y.value=!y.value),type:"button",class:"language-button p-2 text-gray-500 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-700",title:V.$t("language.select")},[L(F(Vv),{class:"w-5 h-5"})],8,B8),y.value?($(),S("div",{key:0,class:"language-dropdown absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",onClick:H[5]||(H[5]=Bt(()=>{},["stop"]))},[a("div",U8,[a("button",{onClick:H[3]||(H[3]=q=>T("id")),class:Ee(["w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors duration-200",{"bg-primary-50 text-primary-700 dark:bg-primary-900 dark:text-primary-300":F(i)==="id"}])},"  "+k(V.$t("language.indonesian")),3),a("button",{onClick:H[4]||(H[4]=q=>T("en")),class:Ee(["w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors duration-200",{"bg-primary-50 text-primary-700 dark:bg-primary-900 dark:text-primary-300":F(i)==="en"}])},"  "+k(V.$t("language.english")),3)])])):G("",!0)]),a("button",{onClick:H[6]||(H[6]=(...q)=>F(s).toggleTheme&&F(s).toggleTheme(...q)),type:"button",class:"p-2 text-gray-500 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-700"},[F(s).isDark?($(),it(F(Uv),{key:1,class:"w-5 h-5"})):($(),it(F(Bv),{key:0,class:"w-5 h-5"}))])])])]),L(G6,{"page-title":b(),"page-description":w(),onSearch:E},null,8,["page-title","page-description"]),a("main",H8,[L(M)]),L(By),a("footer",q8,[a("div",z8,[a("div",W8,[a("div",K8,[a("div",Y8,[(Z=F(o).settings)!=null&&Z.logo_sistem?($(),S("div",G8,[rt(a("img",{src:`storage/logo/${F(o).settings.logo_sistem}`,alt:((Te=F(o).settings)==null?void 0:Te.nama_sistem)||"Logo",class:"w-full h-full object-contain",onError:H[7]||(H[7]=q=>f.value=!0)},null,40,J8),[[Or,!f.value]]),rt(a("div",Q8,[L(F(Xn),{class:"w-4 h-4 text-white"})],512),[[Or,f.value]])])):($(),S("div",X8,[L(F(Xn),{class:"w-4 h-4 text-white"})])),a("div",null,[a("div",Z8,[a("span",e7,k(((_e=F(o).settings)==null?void 0:_e.nama_sistem)||"AdminPanel"),1),H[11]||(H[11]=a("div",{class:"h-4 w-px bg-gray-300 dark:bg-gray-600"},null,-1)),a("p",t7,k(((ye=F(o).settings)==null?void 0:ye.nama_perusahaan)||"Nama Perusahaan"),1)]),a("p",s7,k(((z=F(o).settings)==null?void 0:z.alamat_lengkap)||"Alamat Perusahaan"),1)])])]),a("div",a7,[a("span",r7,k(V.$t("footer.version"))+" 1.0.0 ",1)])])])])],2)])}}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function cl(e){return e+.5|0}const ro=(e,t,s)=>Math.max(Math.min(e,s),t);function ni(e){return ro(cl(e*2.55),0,255)}function ho(e){return ro(cl(e*255),0,255)}function Ar(e){return ro(cl(e/2.55)/100,0,1)}function fp(e){return ro(cl(e*100),0,100)}const La={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pu=[..."0123456789ABCDEF"],n7=e=>Pu[e&15],i7=e=>Pu[(e&240)>>4]+Pu[e&15],$l=e=>(e&240)>>4===(e&15),l7=e=>$l(e.r)&&$l(e.g)&&$l(e.b)&&$l(e.a);function d7(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&La[e[1]]*17,g:255&La[e[2]]*17,b:255&La[e[3]]*17,a:t===5?La[e[4]]*17:255}:(t===7||t===9)&&(s={r:La[e[1]]<<4|La[e[2]],g:La[e[3]]<<4|La[e[4]],b:La[e[5]]<<4|La[e[6]],a:t===9?La[e[7]]<<4|La[e[8]]:255})),s}const c7=(e,t)=>e<255?t(e):"";function u7(e){var t=l7(e)?n7:i7;return e?"#"+t(e.r)+t(e.g)+t(e.b)+c7(e.a,t):void 0}const h7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ax(e,t,s){const r=t*Math.min(s,1-s),o=(n,i=(n+e/30)%12)=>s-r*Math.max(Math.min(i-3,9-i,1),-1);return[o(0),o(8),o(4)]}function g7(e,t,s){const r=(o,n=(o+e/60)%6)=>s-s*t*Math.max(Math.min(n,4-n,1),0);return[r(5),r(3),r(1)]}function p7(e,t,s){const r=ax(e,1,.5);let o;for(t+s>1&&(o=1/(t+s),t*=o,s*=o),o=0;o<3;o++)r[o]*=1-t-s,r[o]+=t;return r}function m7(e,t,s,r,o){return e===o?(t-s)/r+(t<s?6:0):t===o?(s-e)/r+2:(e-t)/r+4}function N0(e){const s=e.r/255,r=e.g/255,o=e.b/255,n=Math.max(s,r,o),i=Math.min(s,r,o),l=(n+i)/2;let u,m,y;return n!==i&&(y=n-i,m=l>.5?y/(2-n-i):y/(n+i),u=m7(s,r,o,y,n),u=u*60+.5),[u|0,m||0,l]}function V0(e,t,s,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,r)).map(ho)}function B0(e,t,s){return V0(ax,e,t,s)}function f7(e,t,s){return V0(p7,e,t,s)}function y7(e,t,s){return V0(g7,e,t,s)}function rx(e){return(e%360+360)%360}function v7(e){const t=h7.exec(e);let s=255,r;if(!t)return;t[5]!==r&&(s=t[6]?ni(+t[5]):ho(+t[5]));const o=rx(+t[2]),n=+t[3]/100,i=+t[4]/100;return t[1]==="hwb"?r=f7(o,n,i):t[1]==="hsv"?r=y7(o,n,i):r=B0(o,n,i),{r:r[0],g:r[1],b:r[2],a:s}}function x7(e,t){var s=N0(e);s[0]=rx(s[0]+t),s=B0(s),e.r=s[0],e.g=s[1],e.b=s[2]}function b7(e){if(!e)return;const t=N0(e),s=t[0],r=fp(t[1]),o=fp(t[2]);return e.a<255?`hsla(${s}, ${r}%, ${o}%, ${Ar(e.a)})`:`hsl(${s}, ${r}%, ${o}%)`}const yp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function k7(){const e={},t=Object.keys(vp),s=Object.keys(yp);let r,o,n,i,l;for(r=0;r<t.length;r++){for(i=l=t[r],o=0;o<s.length;o++)n=s[o],l=l.replace(n,yp[n]);n=parseInt(vp[i],16),e[l]=[n>>16&255,n>>8&255,n&255]}return e}let Cl;function w7(e){Cl||(Cl=k7(),Cl.transparent=[0,0,0,0]);const t=Cl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const _7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $7(e){const t=_7.exec(e);let s=255,r,o,n;if(t){if(t[7]!==r){const i=+t[7];s=t[8]?ni(i):ro(i*255,0,255)}return r=+t[1],o=+t[3],n=+t[5],r=255&(t[2]?ni(r):ro(r,0,255)),o=255&(t[4]?ni(o):ro(o,0,255)),n=255&(t[6]?ni(n):ro(n,0,255)),{r,g:o,b:n,a:s}}}function C7(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ar(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Pc=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,dn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function S7(e,t,s){const r=dn(Ar(e.r)),o=dn(Ar(e.g)),n=dn(Ar(e.b));return{r:ho(Pc(r+s*(dn(Ar(t.r))-r))),g:ho(Pc(o+s*(dn(Ar(t.g))-o))),b:ho(Pc(n+s*(dn(Ar(t.b))-n))),a:e.a+s*(t.a-e.a)}}function Sl(e,t,s){if(e){let r=N0(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*s,t===0?360:1)),r=B0(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function ox(e,t){return e&&Object.assign(t||{},e)}function xp(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ho(e[3]))):(t=ox(e,{r:0,g:0,b:0,a:1}),t.a=ho(t.a)),t}function E7(e){return e.charAt(0)==="r"?$7(e):v7(e)}class qi{constructor(t){if(t instanceof qi)return t;const s=typeof t;let r;s==="object"?r=xp(t):s==="string"&&(r=d7(t)||w7(t)||E7(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=ox(this._rgb);return t&&(t.a=Ar(t.a)),t}set rgb(t){this._rgb=xp(t)}rgbString(){return this._valid?C7(this._rgb):void 0}hexString(){return this._valid?u7(this._rgb):void 0}hslString(){return this._valid?b7(this._rgb):void 0}mix(t,s){if(t){const r=this.rgb,o=t.rgb;let n;const i=s===n?.5:s,l=2*i-1,u=r.a-o.a,m=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;n=1-m,r.r=255&m*r.r+n*o.r+.5,r.g=255&m*r.g+n*o.g+.5,r.b=255&m*r.b+n*o.b+.5,r.a=i*r.a+(1-i)*o.a,this.rgb=r}return this}interpolate(t,s){return t&&(this._rgb=S7(this._rgb,t._rgb,s)),this}clone(){return new qi(this.rgb)}alpha(t){return this._rgb.a=ho(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=cl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Sl(this._rgb,2,t),this}darken(t){return Sl(this._rgb,2,-t),this}saturate(t){return Sl(this._rgb,1,t),this}desaturate(t){return Sl(this._rgb,1,-t),this}rotate(t){return x7(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function _r(){}const T7=(()=>{let e=0;return()=>e++})();function Zt(e){return e==null}function Cs(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function es(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ls(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function _a(e,t){return Ls(e)?e:t}function Wt(e,t){return typeof e>"u"?t:e}const A7=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,nx=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function vs(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function cs(e,t,s,r){let o,n,i;if(Cs(e))for(n=e.length,o=0;o<n;o++)t.call(s,e[o],o);else if(es(e))for(i=Object.keys(e),n=i.length,o=0;o<n;o++)t.call(s,e[i[o]],i[o])}function kd(e,t){let s,r,o,n;if(!e||!t||e.length!==t.length)return!1;for(s=0,r=e.length;s<r;++s)if(o=e[s],n=t[s],o.datasetIndex!==n.datasetIndex||o.index!==n.index)return!1;return!0}function wd(e){if(Cs(e))return e.map(wd);if(es(e)){const t=Object.create(null),s=Object.keys(e),r=s.length;let o=0;for(;o<r;++o)t[s[o]]=wd(e[s[o]]);return t}return e}function ix(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function L7(e,t,s,r){if(!ix(e))return;const o=t[e],n=s[e];es(o)&&es(n)?zi(o,n,r):t[e]=wd(n)}function zi(e,t,s){const r=Cs(t)?t:[t],o=r.length;if(!es(e))return e;s=s||{};const n=s.merger||L7;let i;for(let l=0;l<o;++l){if(i=r[l],!es(i))continue;const u=Object.keys(i);for(let m=0,y=u.length;m<y;++m)n(u[m],e,i,s)}return e}function wi(e,t){return zi(e,t,{merger:M7})}function M7(e,t,s){if(!ix(e))return;const r=t[e],o=s[e];es(r)&&es(o)?wi(r,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=wd(o))}const bp={"":e=>e,x:e=>e.x,y:e=>e.y};function P7(e){const t=e.split("."),s=[];let r="";for(const o of t)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(s.push(r),r="");return s}function D7(e){const t=P7(e);return s=>{for(const r of t){if(r==="")break;s=s&&s[r]}return s}}function vo(e,t){return(bp[t]||(bp[t]=D7(t)))(e)}function U0(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Wi=e=>typeof e<"u",xo=e=>typeof e=="function",kp=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function I7(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const os=Math.PI,ks=2*os,O7=ks+os,_d=Number.POSITIVE_INFINITY,F7=os/180,Ds=os/2,Io=os/4,wp=os*2/3,oo=Math.log10,gr=Math.sign;function _i(e,t,s){return Math.abs(e-t)<s}function _p(e){const t=Math.round(e);e=_i(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(oo(e))),r=e/s;return(r<=1?1:r<=2?2:r<=5?5:10)*s}function R7(e){const t=[],s=Math.sqrt(e);let r;for(r=1;r<s;r++)e%r===0&&(t.push(r),t.push(e/r));return s===(s|0)&&t.push(s),t.sort((o,n)=>o-n).pop(),t}function j7(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Dn(e){return!j7(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function N7(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function lx(e,t,s){let r,o,n;for(r=0,o=e.length;r<o;r++)n=e[r][s],isNaN(n)||(t.min=Math.min(t.min,n),t.max=Math.max(t.max,n))}function Wa(e){return e*(os/180)}function H0(e){return e*(180/os)}function $p(e){if(!Ls(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function dx(e,t){const s=t.x-e.x,r=t.y-e.y,o=Math.sqrt(s*s+r*r);let n=Math.atan2(r,s);return n<-.5*os&&(n+=ks),{angle:n,distance:o}}function Du(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function V7(e,t){return(e-t+O7)%ks-os}function ta(e){return(e%ks+ks)%ks}function Ki(e,t,s,r){const o=ta(e),n=ta(t),i=ta(s),l=ta(n-o),u=ta(i-o),m=ta(o-n),y=ta(o-i);return o===n||o===i||r&&n===i||l>u&&m<y}function qs(e,t,s){return Math.max(t,Math.min(s,e))}function B7(e){return qs(e,-32768,32767)}function Fr(e,t,s,r=1e-6){return e>=Math.min(t,s)-r&&e<=Math.max(t,s)+r}function q0(e,t,s){s=s||(i=>e[i]<t);let r=e.length-1,o=0,n;for(;r-o>1;)n=o+r>>1,s(n)?o=n:r=n;return{lo:o,hi:r}}const Rr=(e,t,s,r)=>q0(e,s,r?o=>{const n=e[o][t];return n<s||n===s&&e[o+1][t]===s}:o=>e[o][t]<s),U7=(e,t,s)=>q0(e,s,r=>e[r][t]>=s);function H7(e,t,s){let r=0,o=e.length;for(;r<o&&e[r]<t;)r++;for(;o>r&&e[o-1]>s;)o--;return r>0||o<e.length?e.slice(r,o):e}const cx=["push","pop","shift","splice","unshift"];function q7(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),cx.forEach(s=>{const r="_onData"+U0(s),o=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...n){const i=o.apply(this,n);return e._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...n)}),i}})})}function Cp(e,t){const s=e._chartjs;if(!s)return;const r=s.listeners,o=r.indexOf(t);o!==-1&&r.splice(o,1),!(r.length>0)&&(cx.forEach(n=>{delete e[n]}),delete e._chartjs)}function ux(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const hx=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function gx(e,t){let s=[],r=!1;return function(...o){s=o,r||(r=!0,hx.call(window,()=>{r=!1,e.apply(t,s)}))}}function z7(e,t){let s;return function(...r){return t?(clearTimeout(s),s=setTimeout(e,t,r)):e.apply(this,r),t}}const z0=e=>e==="start"?"left":e==="end"?"right":"center",Zs=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,W7=(e,t,s,r)=>e===(r?"left":"right")?s:e==="center"?(t+s)/2:t;function px(e,t,s){const r=t.length;let o=0,n=r;if(e._sorted){const{iScale:i,vScale:l,_parsed:u}=e,m=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,y=i.axis,{min:f,max:x,minDefined:c,maxDefined:h}=i.getUserBounds();if(c){if(o=Math.min(Rr(u,y,f).lo,s?r:Rr(t,y,i.getPixelForValue(f)).lo),m){const g=u.slice(0,o+1).reverse().findIndex(d=>!Zt(d[l.axis]));o-=Math.max(0,g)}o=qs(o,0,r-1)}if(h){let g=Math.max(Rr(u,i.axis,x,!0).hi+1,s?0:Rr(t,y,i.getPixelForValue(x),!0).hi+1);if(m){const d=u.slice(g-1).findIndex(p=>!Zt(p[l.axis]));g+=Math.max(0,d)}n=qs(g,o,r)-o}else n=r-o}return{start:o,count:n}}function mx(e){const{xScale:t,yScale:s,_scaleRanges:r}=e,o={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!r)return e._scaleRanges=o,!0;const n=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==s.min||r.ymax!==s.max;return Object.assign(r,o),n}const El=e=>e===0||e===1,Sp=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ks/s)),Ep=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*ks/s)+1,$i={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ds)+1,easeOutSine:e=>Math.sin(e*Ds),easeInOutSine:e=>-.5*(Math.cos(os*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>El(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>El(e)?e:Sp(e,.075,.3),easeOutElastic:e=>El(e)?e:Ep(e,.075,.3),easeInOutElastic(e){return El(e)?e:e<.5?.5*Sp(e*2,.1125,.45):.5+.5*Ep(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-$i.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?$i.easeInBounce(e*2)*.5:$i.easeOutBounce(e*2-1)*.5+.5};function W0(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Tp(e){return W0(e)?e:new qi(e)}function Dc(e){return W0(e)?e:new qi(e).saturate(.5).darken(.1).hexString()}const K7=["x","y","borderWidth","radius","tension"],Y7=["color","borderColor","backgroundColor"];function G7(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Y7},numbers:{type:"number",properties:K7}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function J7(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ap=new Map;function Q7(e,t){t=t||{};const s=e+JSON.stringify(t);let r=Ap.get(s);return r||(r=new Intl.NumberFormat(e,t),Ap.set(s,r)),r}function ul(e,t,s){return Q7(t,s).format(e)}const fx={values(e){return Cs(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const r=this.chart.options.locale;let o,n=e;if(s.length>1){const m=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(m<1e-4||m>1e15)&&(o="scientific"),n=X7(e,s)}const i=oo(Math.abs(n)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),u={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),ul(e,r,u)},logarithmic(e,t,s){if(e===0)return"0";const r=s[t].significand||e/Math.pow(10,Math.floor(oo(e)));return[1,2,3,5,10,15].includes(r)||t>.8*s.length?fx.numeric.call(this,e,t,s):""}};function X7(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var ec={formatters:fx};function Z7(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ec.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const en=Object.create(null),Iu=Object.create(null);function Ci(e,t){if(!t)return e;const s=t.split(".");for(let r=0,o=s.length;r<o;++r){const n=s[r];e=e[n]||(e[n]=Object.create(null))}return e}function Ic(e,t,s){return typeof t=="string"?zi(Ci(e,t),s):zi(Ci(e,""),t)}class e9{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>Dc(o.backgroundColor),this.hoverBorderColor=(r,o)=>Dc(o.borderColor),this.hoverColor=(r,o)=>Dc(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return Ic(this,t,s)}get(t){return Ci(this,t)}describe(t,s){return Ic(Iu,t,s)}override(t,s){return Ic(en,t,s)}route(t,s,r,o){const n=Ci(this,t),i=Ci(this,r),l="_"+s;Object.defineProperties(n,{[l]:{value:n[s],writable:!0},[s]:{enumerable:!0,get(){const u=this[l],m=i[o];return es(u)?Object.assign({},m,u):Wt(u,m)},set(u){this[l]=u}}})}apply(t){t.forEach(s=>s(this))}}var Ss=new e9({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[G7,J7,Z7]);function t9(e){return!e||Zt(e.size)||Zt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function $d(e,t,s,r,o){let n=t[o];return n||(n=t[o]=e.measureText(o).width,s.push(o)),n>r&&(r=n),r}function s9(e,t,s,r){r=r||{};let o=r.data=r.data||{},n=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(o=r.data={},n=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let i=0;const l=s.length;let u,m,y,f,x;for(u=0;u<l;u++)if(f=s[u],f!=null&&!Cs(f))i=$d(e,o,n,i,f);else if(Cs(f))for(m=0,y=f.length;m<y;m++)x=f[m],x!=null&&!Cs(x)&&(i=$d(e,o,n,i,x));e.restore();const c=n.length/2;if(c>s.length){for(u=0;u<c;u++)delete o[n[u]];n.splice(0,c)}return i}function Oo(e,t,s){const r=e.currentDevicePixelRatio,o=s!==0?Math.max(s/2,.5):0;return Math.round((t-o)*r)/r+o}function Lp(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ou(e,t,s,r){yx(e,t,s,r,null)}function yx(e,t,s,r,o){let n,i,l,u,m,y,f,x;const c=t.pointStyle,h=t.rotation,g=t.radius;let d=(h||0)*F7;if(c&&typeof c=="object"&&(n=c.toString(),n==="[object HTMLImageElement]"||n==="[object HTMLCanvasElement]")){e.save(),e.translate(s,r),e.rotate(d),e.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),c){default:o?e.ellipse(s,r,o/2,g,0,0,ks):e.arc(s,r,g,0,ks),e.closePath();break;case"triangle":y=o?o/2:g,e.moveTo(s+Math.sin(d)*y,r-Math.cos(d)*g),d+=wp,e.lineTo(s+Math.sin(d)*y,r-Math.cos(d)*g),d+=wp,e.lineTo(s+Math.sin(d)*y,r-Math.cos(d)*g),e.closePath();break;case"rectRounded":m=g*.516,u=g-m,i=Math.cos(d+Io)*u,f=Math.cos(d+Io)*(o?o/2-m:u),l=Math.sin(d+Io)*u,x=Math.sin(d+Io)*(o?o/2-m:u),e.arc(s-f,r-l,m,d-os,d-Ds),e.arc(s+x,r-i,m,d-Ds,d),e.arc(s+f,r+l,m,d,d+Ds),e.arc(s-x,r+i,m,d+Ds,d+os),e.closePath();break;case"rect":if(!h){u=Math.SQRT1_2*g,y=o?o/2:u,e.rect(s-y,r-u,2*y,2*u);break}d+=Io;case"rectRot":f=Math.cos(d)*(o?o/2:g),i=Math.cos(d)*g,l=Math.sin(d)*g,x=Math.sin(d)*(o?o/2:g),e.moveTo(s-f,r-l),e.lineTo(s+x,r-i),e.lineTo(s+f,r+l),e.lineTo(s-x,r+i),e.closePath();break;case"crossRot":d+=Io;case"cross":f=Math.cos(d)*(o?o/2:g),i=Math.cos(d)*g,l=Math.sin(d)*g,x=Math.sin(d)*(o?o/2:g),e.moveTo(s-f,r-l),e.lineTo(s+f,r+l),e.moveTo(s+x,r-i),e.lineTo(s-x,r+i);break;case"star":f=Math.cos(d)*(o?o/2:g),i=Math.cos(d)*g,l=Math.sin(d)*g,x=Math.sin(d)*(o?o/2:g),e.moveTo(s-f,r-l),e.lineTo(s+f,r+l),e.moveTo(s+x,r-i),e.lineTo(s-x,r+i),d+=Io,f=Math.cos(d)*(o?o/2:g),i=Math.cos(d)*g,l=Math.sin(d)*g,x=Math.sin(d)*(o?o/2:g),e.moveTo(s-f,r-l),e.lineTo(s+f,r+l),e.moveTo(s+x,r-i),e.lineTo(s-x,r+i);break;case"line":i=o?o/2:Math.cos(d)*g,l=Math.sin(d)*g,e.moveTo(s-i,r-l),e.lineTo(s+i,r+l);break;case"dash":e.moveTo(s,r),e.lineTo(s+Math.cos(d)*(o?o/2:g),r+Math.sin(d)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function jr(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function tc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function sc(e){e.restore()}function a9(e,t,s,r,o){if(!t)return e.lineTo(s.x,s.y);if(o==="middle"){const n=(t.x+s.x)/2;e.lineTo(n,t.y),e.lineTo(n,s.y)}else o==="after"!=!!r?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function r9(e,t,s,r){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?s.cp2x:s.cp1x,r?s.cp2y:s.cp1y,s.x,s.y)}function o9(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Zt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function n9(e,t,s,r,o){if(o.strikethrough||o.underline){const n=e.measureText(r),i=t-n.actualBoundingBoxLeft,l=t+n.actualBoundingBoxRight,u=s-n.actualBoundingBoxAscent,m=s+n.actualBoundingBoxDescent,y=o.strikethrough?(u+m)/2:m;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(i,y),e.lineTo(l,y),e.stroke()}}function i9(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function tn(e,t,s,r,o,n={}){const i=Cs(t)?t:[t],l=n.strokeWidth>0&&n.strokeColor!=="";let u,m;for(e.save(),e.font=o.string,o9(e,n),u=0;u<i.length;++u)m=i[u],n.backdrop&&i9(e,n.backdrop),l&&(n.strokeColor&&(e.strokeStyle=n.strokeColor),Zt(n.strokeWidth)||(e.lineWidth=n.strokeWidth),e.strokeText(m,s,r,n.maxWidth)),e.fillText(m,s,r,n.maxWidth),n9(e,s,r,m,n),r+=Number(o.lineHeight);e.restore()}function Yi(e,t){const{x:s,y:r,w:o,h:n,radius:i}=t;e.arc(s+i.topLeft,r+i.topLeft,i.topLeft,1.5*os,os,!0),e.lineTo(s,r+n-i.bottomLeft),e.arc(s+i.bottomLeft,r+n-i.bottomLeft,i.bottomLeft,os,Ds,!0),e.lineTo(s+o-i.bottomRight,r+n),e.arc(s+o-i.bottomRight,r+n-i.bottomRight,i.bottomRight,Ds,0,!0),e.lineTo(s+o,r+i.topRight),e.arc(s+o-i.topRight,r+i.topRight,i.topRight,0,-Ds,!0),e.lineTo(s+i.topLeft,r)}const l9=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,d9=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function c9(e,t){const s=(""+e).match(l9);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const u9=e=>+e||0;function K0(e,t){const s={},r=es(t),o=r?Object.keys(t):t,n=es(e)?r?i=>Wt(e[i],e[t[i]]):i=>e[i]:()=>e;for(const i of o)s[i]=u9(n(i));return s}function vx(e){return K0(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Go(e){return K0(e,["topLeft","topRight","bottomLeft","bottomRight"])}function da(e){const t=vx(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function js(e,t){e=e||{},t=t||Ss.font;let s=Wt(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let r=Wt(e.style,t.style);r&&!(""+r).match(d9)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:Wt(e.family,t.family),lineHeight:c9(Wt(e.lineHeight,t.lineHeight),s),size:s,style:r,weight:Wt(e.weight,t.weight),string:""};return o.string=t9(o),o}function ii(e,t,s,r){let o,n,i;for(o=0,n=e.length;o<n;++o)if(i=e[o],i!==void 0&&i!==void 0)return i}function h9(e,t,s){const{min:r,max:o}=e,n=nx(t,(o-r)/2),i=(l,u)=>s&&l===0?0:l+u;return{min:i(r,-Math.abs(n)),max:i(o,n)}}function To(e,t){return Object.assign(Object.create(e),t)}function Y0(e,t=[""],s,r,o=()=>e[0]){const n=s||e;typeof r>"u"&&(r=wx("_fallback",e));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:r,_getTarget:o,override:l=>Y0([l,...e],t,n,r)};return new Proxy(i,{deleteProperty(l,u){return delete l[u],delete l._keys,delete e[0][u],!0},get(l,u){return bx(l,u,()=>b9(u,t,e,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,u){return Pp(l).includes(u)},ownKeys(l){return Pp(l)},set(l,u,m){const y=l._storage||(l._storage=o());return l[u]=y[u]=m,delete l._keys,!0}})}function In(e,t,s,r){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:xx(e,r),setContext:n=>In(e,n,s,r),override:n=>In(e.override(n),t,s,r)};return new Proxy(o,{deleteProperty(n,i){return delete n[i],delete e[i],!0},get(n,i,l){return bx(n,i,()=>p9(n,i,l))},getOwnPropertyDescriptor(n,i){return n._descriptors.allKeys?Reflect.has(e,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,i)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(n,i){return Reflect.has(e,i)},ownKeys(){return Reflect.ownKeys(e)},set(n,i,l){return e[i]=l,delete n[i],!0}})}function xx(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:r=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:s,indexable:r,isScriptable:xo(s)?s:()=>s,isIndexable:xo(r)?r:()=>r}}const g9=(e,t)=>e?e+U0(t):t,G0=(e,t)=>es(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function bx(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=s();return e[t]=r,r}function p9(e,t,s){const{_proxy:r,_context:o,_subProxy:n,_descriptors:i}=e;let l=r[t];return xo(l)&&i.isScriptable(t)&&(l=m9(t,l,e,s)),Cs(l)&&l.length&&(l=f9(t,l,e,i.isIndexable)),G0(t,l)&&(l=In(l,o,n&&n[t],i)),l}function m9(e,t,s,r){const{_proxy:o,_context:n,_subProxy:i,_stack:l}=s;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let u=t(n,i||r);return l.delete(e),G0(e,u)&&(u=J0(o._scopes,o,e,u)),u}function f9(e,t,s,r){const{_proxy:o,_context:n,_subProxy:i,_descriptors:l}=s;if(typeof n.index<"u"&&r(e))return t[n.index%t.length];if(es(t[0])){const u=t,m=o._scopes.filter(y=>y!==u);t=[];for(const y of u){const f=J0(m,o,e,y);t.push(In(f,n,i&&i[e],l))}}return t}function kx(e,t,s){return xo(e)?e(t,s):e}const y9=(e,t)=>e===!0?t:typeof e=="string"?vo(t,e):void 0;function v9(e,t,s,r,o){for(const n of t){const i=y9(s,n);if(i){e.add(i);const l=kx(i._fallback,s,o);if(typeof l<"u"&&l!==s&&l!==r)return l}else if(i===!1&&typeof r<"u"&&s!==r)return null}return!1}function J0(e,t,s,r){const o=t._rootScopes,n=kx(t._fallback,s,r),i=[...e,...o],l=new Set;l.add(r);let u=Mp(l,i,s,n||s,r);return u===null||typeof n<"u"&&n!==s&&(u=Mp(l,i,n,u,r),u===null)?!1:Y0(Array.from(l),[""],o,n,()=>x9(t,s,r))}function Mp(e,t,s,r,o){for(;s;)s=v9(e,t,s,r,o);return s}function x9(e,t,s){const r=e._getTarget();t in r||(r[t]={});const o=r[t];return Cs(o)&&es(s)?s:o||{}}function b9(e,t,s,r){let o;for(const n of t)if(o=wx(g9(n,e),s),typeof o<"u")return G0(e,o)?J0(s,r,e,o):o}function wx(e,t){for(const s of t){if(!s)continue;const r=s[e];if(typeof r<"u")return r}}function Pp(e){let t=e._keys;return t||(t=e._keys=k9(e._scopes)),t}function k9(e){const t=new Set;for(const s of e)for(const r of Object.keys(s).filter(o=>!o.startsWith("_")))t.add(r);return Array.from(t)}function _x(e,t,s,r){const{iScale:o}=e,{key:n="r"}=this._parsing,i=new Array(r);let l,u,m,y;for(l=0,u=r;l<u;++l)m=l+s,y=t[m],i[l]={r:o.parse(vo(y,n),m)};return i}const w9=Number.EPSILON||1e-14,On=(e,t)=>t<e.length&&!e[t].skip&&e[t],$x=e=>e==="x"?"y":"x";function _9(e,t,s,r){const o=e.skip?t:e,n=t,i=s.skip?t:s,l=Du(n,o),u=Du(i,n);let m=l/(l+u),y=u/(l+u);m=isNaN(m)?0:m,y=isNaN(y)?0:y;const f=r*m,x=r*y;return{previous:{x:n.x-f*(i.x-o.x),y:n.y-f*(i.y-o.y)},next:{x:n.x+x*(i.x-o.x),y:n.y+x*(i.y-o.y)}}}function $9(e,t,s){const r=e.length;let o,n,i,l,u,m=On(e,0);for(let y=0;y<r-1;++y)if(u=m,m=On(e,y+1),!(!u||!m)){if(_i(t[y],0,w9)){s[y]=s[y+1]=0;continue}o=s[y]/t[y],n=s[y+1]/t[y],l=Math.pow(o,2)+Math.pow(n,2),!(l<=9)&&(i=3/Math.sqrt(l),s[y]=o*i*t[y],s[y+1]=n*i*t[y])}}function C9(e,t,s="x"){const r=$x(s),o=e.length;let n,i,l,u=On(e,0);for(let m=0;m<o;++m){if(i=l,l=u,u=On(e,m+1),!l)continue;const y=l[s],f=l[r];i&&(n=(y-i[s])/3,l[`cp1${s}`]=y-n,l[`cp1${r}`]=f-n*t[m]),u&&(n=(u[s]-y)/3,l[`cp2${s}`]=y+n,l[`cp2${r}`]=f+n*t[m])}}function S9(e,t="x"){const s=$x(t),r=e.length,o=Array(r).fill(0),n=Array(r);let i,l,u,m=On(e,0);for(i=0;i<r;++i)if(l=u,u=m,m=On(e,i+1),!!u){if(m){const y=m[t]-u[t];o[i]=y!==0?(m[s]-u[s])/y:0}n[i]=l?m?gr(o[i-1])!==gr(o[i])?0:(o[i-1]+o[i])/2:o[i-1]:o[i]}$9(e,o,n),C9(e,n,t)}function Tl(e,t,s){return Math.max(Math.min(e,s),t)}function E9(e,t){let s,r,o,n,i,l=jr(e[0],t);for(s=0,r=e.length;s<r;++s)i=n,n=l,l=s<r-1&&jr(e[s+1],t),n&&(o=e[s],i&&(o.cp1x=Tl(o.cp1x,t.left,t.right),o.cp1y=Tl(o.cp1y,t.top,t.bottom)),l&&(o.cp2x=Tl(o.cp2x,t.left,t.right),o.cp2y=Tl(o.cp2y,t.top,t.bottom)))}function T9(e,t,s,r,o){let n,i,l,u;if(t.spanGaps&&(e=e.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")S9(e,o);else{let m=r?e[e.length-1]:e[0];for(n=0,i=e.length;n<i;++n)l=e[n],u=_9(m,l,e[Math.min(n+1,i-(r?0:1))%i],t.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,m=l}t.capBezierPoints&&E9(e,s)}function Q0(){return typeof window<"u"&&typeof document<"u"}function X0(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Cd(e,t,s){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[s])):r=e,r}const ac=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function A9(e,t){return ac(e).getPropertyValue(t)}const L9=["top","right","bottom","left"];function Jo(e,t,s){const r={};s=s?"-"+s:"";for(let o=0;o<4;o++){const n=L9[o];r[n]=parseFloat(e[t+"-"+n+s])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const M9=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function P9(e,t){const s=e.touches,r=s&&s.length?s[0]:e,{offsetX:o,offsetY:n}=r;let i=!1,l,u;if(M9(o,n,e.target))l=o,u=n;else{const m=t.getBoundingClientRect();l=r.clientX-m.left,u=r.clientY-m.top,i=!0}return{x:l,y:u,box:i}}function No(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:r}=t,o=ac(s),n=o.boxSizing==="border-box",i=Jo(o,"padding"),l=Jo(o,"border","width"),{x:u,y:m,box:y}=P9(e,s),f=i.left+(y&&l.left),x=i.top+(y&&l.top);let{width:c,height:h}=t;return n&&(c-=i.width+l.width,h-=i.height+l.height),{x:Math.round((u-f)/c*s.width/r),y:Math.round((m-x)/h*s.height/r)}}function D9(e,t,s){let r,o;if(t===void 0||s===void 0){const n=e&&X0(e);if(!n)t=e.clientWidth,s=e.clientHeight;else{const i=n.getBoundingClientRect(),l=ac(n),u=Jo(l,"border","width"),m=Jo(l,"padding");t=i.width-m.width-u.width,s=i.height-m.height-u.height,r=Cd(l.maxWidth,n,"clientWidth"),o=Cd(l.maxHeight,n,"clientHeight")}}return{width:t,height:s,maxWidth:r||_d,maxHeight:o||_d}}const no=e=>Math.round(e*10)/10;function I9(e,t,s,r){const o=ac(e),n=Jo(o,"margin"),i=Cd(o.maxWidth,e,"clientWidth")||_d,l=Cd(o.maxHeight,e,"clientHeight")||_d,u=D9(e,t,s);let{width:m,height:y}=u;if(o.boxSizing==="content-box"){const x=Jo(o,"border","width"),c=Jo(o,"padding");m-=c.width+x.width,y-=c.height+x.height}return m=Math.max(0,m-n.width),y=Math.max(0,r?m/r:y-n.height),m=no(Math.min(m,i,u.maxWidth)),y=no(Math.min(y,l,u.maxHeight)),m&&!y&&(y=no(m/2)),(t!==void 0||s!==void 0)&&r&&u.height&&y>u.height&&(y=u.height,m=no(Math.floor(y*r))),{width:m,height:y}}function Dp(e,t,s){const r=t||1,o=no(e.height*r),n=no(e.width*r);e.height=no(e.height),e.width=no(e.width);const i=e.canvas;return i.style&&(s||!i.style.height&&!i.style.width)&&(i.style.height=`${e.height}px`,i.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||i.height!==o||i.width!==n?(e.currentDevicePixelRatio=r,i.height=o,i.width=n,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const O9=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Q0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Ip(e,t){const s=A9(e,t),r=s&&s.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Vo(e,t,s,r){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function F9(e,t,s,r){return{x:e.x+s*(t.x-e.x),y:r==="middle"?s<.5?e.y:t.y:r==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function R9(e,t,s,r){const o={x:e.cp2x,y:e.cp2y},n={x:t.cp1x,y:t.cp1y},i=Vo(e,o,s),l=Vo(o,n,s),u=Vo(n,t,s),m=Vo(i,l,s),y=Vo(l,u,s);return Vo(m,y,s)}const j9=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,r){return s-r},leftForLtr(s,r){return s-r}}},N9=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function _n(e,t,s){return e?j9(t,s):N9()}function Cx(e,t){let s,r;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,r=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Sx(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ex(e){return e==="angle"?{between:Ki,compare:V7,normalize:ta}:{between:Fr,compare:(t,s)=>t-s,normalize:t=>t}}function Op({start:e,end:t,count:s,loop:r,style:o}){return{start:e%s,end:t%s,loop:r&&(t-e+1)%s===0,style:o}}function V9(e,t,s){const{property:r,start:o,end:n}=s,{between:i,normalize:l}=Ex(r),u=t.length;let{start:m,end:y,loop:f}=e,x,c;if(f){for(m+=u,y+=u,x=0,c=u;x<c&&i(l(t[m%u][r]),o,n);++x)m--,y--;m%=u,y%=u}return y<m&&(y+=u),{start:m,end:y,loop:f,style:e.style}}function Tx(e,t,s){if(!s)return[e];const{property:r,start:o,end:n}=s,i=t.length,{compare:l,between:u,normalize:m}=Ex(r),{start:y,end:f,loop:x,style:c}=V9(e,t,s),h=[];let g=!1,d=null,p,v,b;const w=()=>u(o,b,p)&&l(o,b)!==0,E=()=>l(n,p)===0||u(n,b,p),C=()=>g||w(),T=()=>!g||E();for(let P=y,A=y;P<=f;++P)v=t[P%i],!v.skip&&(p=m(v[r]),p!==b&&(g=u(p,o,n),d===null&&C()&&(d=l(p,o)===0?P:A),d!==null&&T()&&(h.push(Op({start:d,end:P,loop:x,count:i,style:c})),d=null),A=P,b=p));return d!==null&&h.push(Op({start:d,end:f,loop:x,count:i,style:c})),h}function Ax(e,t){const s=[],r=e.segments;for(let o=0;o<r.length;o++){const n=Tx(r[o],e.points,t);n.length&&s.push(...n)}return s}function B9(e,t,s,r){let o=0,n=t-1;if(s&&!r)for(;o<t&&!e[o].skip;)o++;for(;o<t&&e[o].skip;)o++;for(o%=t,s&&(n+=o);n>o&&e[n%t].skip;)n--;return n%=t,{start:o,end:n}}function U9(e,t,s,r){const o=e.length,n=[];let i=t,l=e[t],u;for(u=t+1;u<=s;++u){const m=e[u%o];m.skip||m.stop?l.skip||(r=!1,n.push({start:t%o,end:(u-1)%o,loop:r}),t=i=m.stop?u:null):(i=u,l.skip&&(t=u)),l=m}return i!==null&&n.push({start:t%o,end:i%o,loop:r}),n}function H9(e,t){const s=e.points,r=e.options.spanGaps,o=s.length;if(!o)return[];const n=!!e._loop,{start:i,end:l}=B9(s,o,n,r);if(r===!0)return Fp(e,[{start:i,end:l,loop:n}],s,t);const u=l<i?l+o:l,m=!!e._fullLoop&&i===0&&l===o-1;return Fp(e,U9(s,i,u,m),s,t)}function Fp(e,t,s,r){return!r||!r.setContext||!s?t:q9(e,t,s,r)}function q9(e,t,s,r){const o=e._chart.getContext(),n=Rp(e.options),{_datasetIndex:i,options:{spanGaps:l}}=e,u=s.length,m=[];let y=n,f=t[0].start,x=f;function c(h,g,d,p){const v=l?-1:1;if(h!==g){for(h+=u;s[h%u].skip;)h-=v;for(;s[g%u].skip;)g+=v;h%u!==g%u&&(m.push({start:h%u,end:g%u,loop:d,style:p}),y=p,f=g%u)}}for(const h of t){f=l?f:h.start;let g=s[f%u],d;for(x=f+1;x<=h.end;x++){const p=s[x%u];d=Rp(r.setContext(To(o,{type:"segment",p0:g,p1:p,p0DataIndex:(x-1)%u,p1DataIndex:x%u,datasetIndex:i}))),z9(d,y)&&c(f,x-1,h.loop,y),g=p,y=d}f<x-1&&c(f,x-1,h.loop,y)}return m}function Rp(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function z9(e,t){if(!t)return!1;const s=[],r=function(o,n){return W0(n)?(s.includes(n)||s.push(n),s.indexOf(n)):n};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Al(e,t,s){return e.options.clip?e[s]:t[s]}function W9(e,t){const{xScale:s,yScale:r}=e;return s&&r?{left:Al(s,t,"left"),right:Al(s,t,"right"),top:Al(r,t,"top"),bottom:Al(r,t,"bottom")}:t}function Lx(e,t){const s=t._clip;if(s.disabled)return!1;const r=W9(t,e.chartArea);return{left:s.left===!1?0:r.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:r.right+(s.right===!0?0:s.right),top:s.top===!1?0:r.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:r.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class K9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,r,o){const n=s.listeners[o],i=s.duration;n.forEach(l=>l({chart:t,initial:s.initial,numSteps:i,currentStep:Math.min(r-s.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=hx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const n=r.items;let i=n.length-1,l=!1,u;for(;i>=0;--i)u=n[i],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(t),l=!0):(n[i]=n[n.length-1],n.pop());l&&(o.draw(),this._notify(o,r,t,"progress")),n.length||(r.running=!1,this._notify(o,r,t,"complete"),r.initial=!1),s+=n.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let r=s.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,r)),r}listen(t,s,r){this._getAnims(t).listeners[s].push(r)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const r=s.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Cr=new K9;const jp="transparent",Y9={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const r=Tp(e||jp),o=r.valid&&Tp(t||jp);return o&&o.valid?o.mix(r,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class G9{constructor(t,s,r,o){const n=s[r];o=ii([t.to,o,n,t.from]);const i=ii([t.from,n,o]);this._active=!0,this._fn=t.fn||Y9[t.type||typeof i],this._easing=$i[t.easing]||$i.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=r,this._from=i,this._to=o,this._promises=void 0}active(){return this._active}update(t,s,r){if(this._active){this._notify(!1);const o=this._target[this._prop],n=r-this._start,i=this._duration-n;this._start=r,this._duration=Math.floor(Math.max(i,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=ii([t.to,s,o,t.from]),this._from=ii([t.from,o,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,r=this._duration,o=this._prop,n=this._from,i=this._loop,l=this._to;let u;if(this._active=n!==l&&(i||s<r),!this._active){this._target[o]=l,this._notify(!0);return}if(s<0){this._target[o]=n;return}u=s/r%2,u=i&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[o]=this._fn(n,l,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,r)=>{t.push({res:s,rej:r})})}_notify(t){const s=t?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][s]()}}class Mx{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!es(t))return;const s=Object.keys(Ss.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const n=t[o];if(!es(n))return;const i={};for(const l of s)i[l]=n[l];(Cs(n.properties)&&n.properties||[o]).forEach(l=>{(l===o||!r.has(l))&&r.set(l,i)})})}_animateOptions(t,s){const r=s.options,o=Q9(t,r);if(!o)return[];const n=this._createAnimations(o,r);return r.$shared&&J9(t.options.$animations,r).then(()=>{t.options=r},()=>{}),n}_createAnimations(t,s){const r=this._properties,o=[],n=t.$animations||(t.$animations={}),i=Object.keys(s),l=Date.now();let u;for(u=i.length-1;u>=0;--u){const m=i[u];if(m.charAt(0)==="$")continue;if(m==="options"){o.push(...this._animateOptions(t,s));continue}const y=s[m];let f=n[m];const x=r.get(m);if(f)if(x&&f.active()){f.update(x,y,l);continue}else f.cancel();if(!x||!x.duration){t[m]=y;continue}n[m]=f=new G9(x,t,m,y),o.push(f)}return o}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const r=this._createAnimations(t,s);if(r.length)return Cr.add(this._chart,r),!0}}function J9(e,t){const s=[],r=Object.keys(t);for(let o=0;o<r.length;o++){const n=e[r[o]];n&&n.active()&&s.push(n.wait())}return Promise.all(s)}function Q9(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Np(e,t){const s=e&&e.options||{},r=s.reverse,o=s.min===void 0?t:0,n=s.max===void 0?t:0;return{start:r?n:o,end:r?o:n}}function X9(e,t,s){if(s===!1)return!1;const r=Np(e,s),o=Np(t,s);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function Z9(e){let t,s,r,o;return es(e)?(t=e.top,s=e.right,r=e.bottom,o=e.left):t=s=r=o=e,{top:t,right:s,bottom:r,left:o,disabled:e===!1}}function Px(e,t){const s=[],r=e._getSortedDatasetMetas(t);let o,n;for(o=0,n=r.length;o<n;++o)s.push(r[o].index);return s}function Vp(e,t,s,r={}){const o=e.keys,n=r.mode==="single";let i,l,u,m;if(t===null)return;let y=!1;for(i=0,l=o.length;i<l;++i){if(u=+o[i],u===s){if(y=!0,r.all)continue;break}m=e.values[u],Ls(m)&&(n||t===0||gr(t)===gr(m))&&(t+=m)}return!y&&!r.all?0:t}function eE(e,t){const{iScale:s,vScale:r}=t,o=s.axis==="x"?"x":"y",n=r.axis==="x"?"x":"y",i=Object.keys(e),l=new Array(i.length);let u,m,y;for(u=0,m=i.length;u<m;++u)y=i[u],l[u]={[o]:y,[n]:e[y]};return l}function Oc(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function tE(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function sE(e){const{min:t,max:s,minDefined:r,maxDefined:o}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:o?s:Number.POSITIVE_INFINITY}}function aE(e,t,s){const r=e[t]||(e[t]={});return r[s]||(r[s]={})}function Bp(e,t,s,r){for(const o of t.getMatchingVisibleMetas(r).reverse()){const n=e[o.index];if(s&&n>0||!s&&n<0)return o.index}return null}function Up(e,t){const{chart:s,_cachedMeta:r}=e,o=s._stacks||(s._stacks={}),{iScale:n,vScale:i,index:l}=r,u=n.axis,m=i.axis,y=tE(n,i,r),f=t.length;let x;for(let c=0;c<f;++c){const h=t[c],{[u]:g,[m]:d}=h,p=h._stacks||(h._stacks={});x=p[m]=aE(o,y,g),x[l]=d,x._top=Bp(x,i,!0,r.type),x._bottom=Bp(x,i,!1,r.type);const v=x._visualValues||(x._visualValues={});v[l]=d}}function Fc(e,t){const s=e.scales;return Object.keys(s).filter(r=>s[r].axis===t).shift()}function rE(e,t){return To(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function oE(e,t,s){return To(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Zn(e,t){const s=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const o of t){const n=o._stacks;if(!n||n[r]===void 0||n[r][s]===void 0)return;delete n[r][s],n[r]._visualValues!==void 0&&n[r]._visualValues[s]!==void 0&&delete n[r]._visualValues[s]}}}const Rc=e=>e==="reset"||e==="none",Hp=(e,t)=>t?e:Object.assign({},e),nE=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:Px(s,!0),values:null};class Ga{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Oc(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Zn(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,r=this.getDataset(),o=(f,x,c,h)=>f==="x"?x:f==="r"?h:c,n=s.xAxisID=Wt(r.xAxisID,Fc(t,"x")),i=s.yAxisID=Wt(r.yAxisID,Fc(t,"y")),l=s.rAxisID=Wt(r.rAxisID,Fc(t,"r")),u=s.indexAxis,m=s.iAxisID=o(u,n,i,l),y=s.vAxisID=o(u,i,n,l);s.xScale=this.getScaleForId(n),s.yScale=this.getScaleForId(i),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(m),s.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Cp(this._data,this),t._stacked&&Zn(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),r=this._data;if(es(s)){const o=this._cachedMeta;this._data=eE(s,o)}else if(r!==s){if(r){Cp(r,this);const o=this._cachedMeta;Zn(o),o._parsed=[]}s&&Object.isExtensible(s)&&q7(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const n=s._stacked;s._stacked=Oc(s.vScale,s),s.stack!==r.stack&&(o=!0,Zn(s),s.stack=r.stack),this._resyncElements(t),(o||n!==s._stacked)&&(Up(this,s._parsed),s._stacked=Oc(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:r,_data:o}=this,{iScale:n,_stacked:i}=r,l=n.axis;let u=t===0&&s===o.length?!0:r._sorted,m=t>0&&r._parsed[t-1],y,f,x;if(this._parsing===!1)r._parsed=o,r._sorted=!0,x=o;else{Cs(o[t])?x=this.parseArrayData(r,o,t,s):es(o[t])?x=this.parseObjectData(r,o,t,s):x=this.parsePrimitiveData(r,o,t,s);const c=()=>f[l]===null||m&&f[l]<m[l];for(y=0;y<s;++y)r._parsed[y+t]=f=x[y],u&&(c()&&(u=!1),m=f);r._sorted=u}i&&Up(this,x)}parsePrimitiveData(t,s,r,o){const{iScale:n,vScale:i}=t,l=n.axis,u=i.axis,m=n.getLabels(),y=n===i,f=new Array(o);let x,c,h;for(x=0,c=o;x<c;++x)h=x+r,f[x]={[l]:y||n.parse(m[h],h),[u]:i.parse(s[h],h)};return f}parseArrayData(t,s,r,o){const{xScale:n,yScale:i}=t,l=new Array(o);let u,m,y,f;for(u=0,m=o;u<m;++u)y=u+r,f=s[y],l[u]={x:n.parse(f[0],y),y:i.parse(f[1],y)};return l}parseObjectData(t,s,r,o){const{xScale:n,yScale:i}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,m=new Array(o);let y,f,x,c;for(y=0,f=o;y<f;++y)x=y+r,c=s[x],m[y]={x:n.parse(vo(c,l),x),y:i.parse(vo(c,u),x)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,r){const o=this.chart,n=this._cachedMeta,i=s[t.axis],l={keys:Px(o,!0),values:s._stacks[t.axis]._visualValues};return Vp(l,i,n.index,{mode:r})}updateRangeFromParsed(t,s,r,o){const n=r[s.axis];let i=n===null?NaN:n;const l=o&&r._stacks[s.axis];o&&l&&(o.values=l,i=Vp(o,n,this._cachedMeta.index)),t.min=Math.min(t.min,i),t.max=Math.max(t.max,i)}getMinMax(t,s){const r=this._cachedMeta,o=r._parsed,n=r._sorted&&t===r.iScale,i=o.length,l=this._getOtherScale(t),u=nE(s,r,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:f}=sE(l);let x,c;function h(){c=o[x];const g=c[l.axis];return!Ls(c[t.axis])||y>g||f<g}for(x=0;x<i&&!(!h()&&(this.updateRangeFromParsed(m,t,c,u),n));++x);if(n){for(x=i-1;x>=0;--x)if(!h()){this.updateRangeFromParsed(m,t,c,u);break}}return m}getAllParsedValues(t){const s=this._cachedMeta._parsed,r=[];let o,n,i;for(o=0,n=s.length;o<n;++o)i=s[o][t.axis],Ls(i)&&r.push(i);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,r=s.iScale,o=s.vScale,n=this.getParsed(t);return{label:r?""+r.getLabelForValue(n[r.axis]):"",value:o?""+o.getLabelForValue(n[o.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=Z9(Wt(this.options.clip,X9(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,r=this._cachedMeta,o=r.data||[],n=s.chartArea,i=[],l=this._drawStart||0,u=this._drawCount||o.length-l,m=this.options.drawActiveElementsOnTop;let y;for(r.dataset&&r.dataset.draw(t,n,l,u),y=l;y<l+u;++y){const f=o[y];f.hidden||(f.active&&m?i.push(f):f.draw(t,n))}for(y=0;y<i.length;++y)i[y].draw(t,n)}getStyle(t,s){const r=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,s,r){const o=this.getDataset();let n;if(t>=0&&t<this._cachedMeta.data.length){const i=this._cachedMeta.data[t];n=i.$context||(i.$context=oE(this.getContext(),t,i)),n.parsed=this.getParsed(t),n.raw=o.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=rE(this.chart.getContext(),this.index)),n.dataset=o,n.index=n.datasetIndex=this.index;return n.active=!!s,n.mode=r,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",r){const o=s==="active",n=this._cachedDataOpts,i=t+"-"+s,l=n[i],u=this.enableOptionSharing&&Wi(r);if(l)return Hp(l,u);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),f=o?[`${t}Hover`,"hover",t,""]:[t,""],x=m.getOptionScopes(this.getDataset(),y),c=Object.keys(Ss.elements[t]),h=()=>this.getContext(r,o,s),g=m.resolveNamedOptions(x,c,h,f);return g.$shared&&(g.$shared=u,n[i]=Object.freeze(Hp(g,u))),g}_resolveAnimations(t,s,r){const o=this.chart,n=this._cachedDataOpts,i=`animation-${s}`,l=n[i];if(l)return l;let u;if(o.options.animation!==!1){const y=this.chart.config,f=y.datasetAnimationScopeKeys(this._type,s),x=y.getOptionScopes(this.getDataset(),f);u=y.createResolver(x,this.getContext(t,r,s))}const m=new Mx(o,u&&u.animations);return u&&u._cacheable&&(n[i]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||Rc(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const r=this.resolveDataElementOptions(t,s),o=this._sharedOptions,n=this.getSharedOptions(r),i=this.includeOptions(s,n)||n!==o;return this.updateSharedOptions(n,s,r),{sharedOptions:n,includeOptions:i}}updateElement(t,s,r,o){Rc(o)?Object.assign(t,r):this._resolveAnimations(s,o).update(t,r)}updateSharedOptions(t,s,r){t&&!Rc(s)&&this._resolveAnimations(void 0,s).update(t,r)}_setStyle(t,s,r,o){t.active=o;const n=this.getStyle(s,o);this._resolveAnimations(s,r,o).update(t,{options:!o&&this.getSharedOptions(n)||n})}removeHoverStyle(t,s,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,s,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,r=this._cachedMeta.data;for(const[l,u,m]of this._syncList)this[l](u,m);this._syncList=[];const o=r.length,n=s.length,i=Math.min(n,o);i&&this.parse(0,i),n>o?this._insertElements(o,n-o,t):n<o&&this._removeElements(n,o-n)}_insertElements(t,s,r=!0){const o=this._cachedMeta,n=o.data,i=t+s;let l;const u=m=>{for(m.length+=s,l=m.length-1;l>=i;l--)m[l]=m[l-s]};for(u(n),l=t;l<i;++l)n[l]=new this.dataElementType;this._parsing&&u(o._parsed),this.parse(t,s),r&&this.updateElements(n,t,s,"reset")}updateElements(t,s,r,o){}_removeElements(t,s){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(t,s);r._stacked&&Zn(r,o)}r.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,r,o]=t;this[s](r,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}pt(Ga,"defaults",{}),pt(Ga,"datasetElementType",null),pt(Ga,"dataElementType",null);function iE(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let r=[];for(let o=0,n=s.length;o<n;o++)r=r.concat(s[o].controller.getAllParsedValues(e));e._cache.$bar=ux(r.sort((o,n)=>o-n))}return e._cache.$bar}function lE(e){const t=e.iScale,s=iE(t,e.type);let r=t._length,o,n,i,l;const u=()=>{i===32767||i===-32768||(Wi(l)&&(r=Math.min(r,Math.abs(i-l)||r)),l=i)};for(o=0,n=s.length;o<n;++o)i=t.getPixelForValue(s[o]),u();for(l=void 0,o=0,n=t.ticks.length;o<n;++o)i=t.getPixelForTick(o),u();return r}function dE(e,t,s,r){const o=s.barThickness;let n,i;return Zt(o)?(n=t.min*s.categoryPercentage,i=s.barPercentage):(n=o*r,i=1),{chunk:n/r,ratio:i,start:t.pixels[e]-n/2}}function cE(e,t,s,r){const o=t.pixels,n=o[e];let i=e>0?o[e-1]:null,l=e<o.length-1?o[e+1]:null;const u=s.categoryPercentage;i===null&&(i=n-(l===null?t.end-t.start:l-n)),l===null&&(l=n+n-i);const m=n-(n-Math.min(i,l))/2*u;return{chunk:Math.abs(l-i)/2*u/r,ratio:s.barPercentage,start:m}}function uE(e,t,s,r){const o=s.parse(e[0],r),n=s.parse(e[1],r),i=Math.min(o,n),l=Math.max(o,n);let u=i,m=l;Math.abs(i)>Math.abs(l)&&(u=l,m=i),t[s.axis]=m,t._custom={barStart:u,barEnd:m,start:o,end:n,min:i,max:l}}function Dx(e,t,s,r){return Cs(e)?uE(e,t,s,r):t[s.axis]=s.parse(e,r),t}function qp(e,t,s,r){const o=e.iScale,n=e.vScale,i=o.getLabels(),l=o===n,u=[];let m,y,f,x;for(m=s,y=s+r;m<y;++m)x=t[m],f={},f[o.axis]=l||o.parse(i[m],m),u.push(Dx(x,f,n,m));return u}function jc(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function hE(e,t,s){return e!==0?gr(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function gE(e){let t,s,r,o,n;return e.horizontal?(t=e.base>e.x,s="left",r="right"):(t=e.base<e.y,s="bottom",r="top"),t?(o="end",n="start"):(o="start",n="end"),{start:s,end:r,reverse:t,top:o,bottom:n}}function pE(e,t,s,r){let o=t.borderSkipped;const n={};if(!o){e.borderSkipped=n;return}if(o===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:u,top:m,bottom:y}=gE(e);o==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===r?o=m:(s._bottom||0)===r?o=y:(n[zp(y,i,l,u)]=!0,o=m)),n[zp(o,i,l,u)]=!0,e.borderSkipped=n}function zp(e,t,s,r){return r?(e=mE(e,t,s),e=Wp(e,s,t)):e=Wp(e,t,s),e}function mE(e,t,s){return e===t?s:e===s?t:e}function Wp(e,t,s){return e==="start"?t:e==="end"?s:e}function fE(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class Kl extends Ga{parsePrimitiveData(t,s,r,o){return qp(t,s,r,o)}parseArrayData(t,s,r,o){return qp(t,s,r,o)}parseObjectData(t,s,r,o){const{iScale:n,vScale:i}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,m=n.axis==="x"?l:u,y=i.axis==="x"?l:u,f=[];let x,c,h,g;for(x=r,c=r+o;x<c;++x)g=s[x],h={},h[n.axis]=n.parse(vo(g,m),x),f.push(Dx(vo(g,y),h,i,x));return f}updateRangeFromParsed(t,s,r,o){super.updateRangeFromParsed(t,s,r,o);const n=r._custom;n&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:r,vScale:o}=s,n=this.getParsed(t),i=n._custom,l=jc(i)?"["+i.start+", "+i.end+"]":""+o.getLabelForValue(n[o.axis]);return{label:""+r.getLabelForValue(n[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,r,o){const n=o==="reset",{index:i,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),m=l.isHorizontal(),y=this._getRuler(),{sharedOptions:f,includeOptions:x}=this._getSharedOptions(s,o);for(let c=s;c<s+r;c++){const h=this.getParsed(c),g=n||Zt(h[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(c),d=this._calculateBarIndexPixels(c,y),p=(h._stacks||{})[l.axis],v={horizontal:m,base:g.base,enableBorderRadius:!p||jc(h._custom)||i===p._top||i===p._bottom,x:m?g.head:d.center,y:m?d.center:g.head,height:m?d.size:Math.abs(g.size),width:m?Math.abs(g.size):d.size};x&&(v.options=f||this.resolveDataElementOptions(c,t[c].active?"active":o));const b=v.options||t[c].options;pE(v,b,p,i),fE(v,b,y.ratio),this.updateElement(t[c],c,v,o)}}_getStacks(t,s){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),n=r.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(s),u=l&&l[r.axis],m=y=>{const f=y._parsed.find(c=>c[r.axis]===u),x=f&&f[y.vScale.axis];if(Zt(x)||isNaN(x))return!0};for(const y of o)if(!(s!==void 0&&m(y))&&((n===!1||i.indexOf(y.stack)===-1||n===void 0&&y.stack===void 0)&&i.push(y.stack),y.index===t))break;return i.length||i.push(void 0),i}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===s).shift()}_getAxis(){const t={},s=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Wt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,s)]=!0;return Object.keys(t)}_getStackIndex(t,s,r){const o=this._getStacks(t,r),n=s!==void 0?o.indexOf(s):-1;return n===-1?o.length-1:n}_getRuler(){const t=this.options,s=this._cachedMeta,r=s.iScale,o=[];let n,i;for(n=0,i=s.data.length;n<i;++n)o.push(r.getPixelForValue(this.getParsed(n)[r.axis],n));const l=t.barThickness;return{min:l||lE(s),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:r,index:o},options:{base:n,minBarLength:i}}=this,l=n||0,u=this.getParsed(t),m=u._custom,y=jc(m);let f=u[s.axis],x=0,c=r?this.applyStack(s,u,r):f,h,g;c!==f&&(x=c-f,c=f),y&&(f=m.barStart,c=m.barEnd-m.barStart,f!==0&&gr(f)!==gr(m.barEnd)&&(x=0),x+=f);const d=!Zt(n)&&!y?n:x;let p=s.getPixelForValue(d);if(this.chart.getDataVisibility(t)?h=s.getPixelForValue(x+c):h=p,g=h-p,Math.abs(g)<i){g=hE(g,s,l)*i,f===l&&(p-=g/2);const v=s.getPixelForDecimal(0),b=s.getPixelForDecimal(1),w=Math.min(v,b),E=Math.max(v,b);p=Math.max(Math.min(p,E),w),h=p+g,r&&!y&&(u._stacks[s.axis]._visualValues[o]=s.getValueForPixel(h)-s.getValueForPixel(p))}if(p===s.getPixelForValue(l)){const v=gr(g)*s.getLineWidthForValue(l)/2;p+=v,g-=v}return{size:g,base:p,head:h,center:h+g/2}}_calculateBarIndexPixels(t,s){const r=s.scale,o=this.options,n=o.skipNull,i=Wt(o.maxBarThickness,1/0);let l,u;const m=this._getAxisCount();if(s.grouped){const y=n?this._getStackCount(t):s.stackCount,f=o.barThickness==="flex"?cE(t,s,o,y*m):dE(t,s,o,y*m),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,c=this._getAxis().indexOf(Wt(x,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,n?t:void 0)+c;l=f.start+f.chunk*h+f.chunk/2,u=Math.min(i,f.chunk*f.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),u=Math.min(i,s.min*s.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const t=this._cachedMeta,s=t.vScale,r=t.data,o=r.length;let n=0;for(;n<o;++n)this.getParsed(n)[s.axis]!==null&&!r[n].hidden&&r[n].draw(this._ctx)}}pt(Kl,"id","bar"),pt(Kl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),pt(Kl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Yl extends Ga{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,s,r,o){const n=super.parsePrimitiveData(t,s,r,o);for(let i=0;i<n.length;i++)n[i]._custom=this.resolveDataElementOptions(i+r).radius;return n}parseArrayData(t,s,r,o){const n=super.parseArrayData(t,s,r,o);for(let i=0;i<n.length;i++){const l=s[r+i];n[i]._custom=Wt(l[2],this.resolveDataElementOptions(i+r).radius)}return n}parseObjectData(t,s,r,o){const n=super.parseObjectData(t,s,r,o);for(let i=0;i<n.length;i++){const l=s[r+i];n[i]._custom=Wt(l&&l.r&&+l.r,this.resolveDataElementOptions(i+r).radius)}return n}getMaxOverflow(){const t=this._cachedMeta.data;let s=0;for(let r=t.length-1;r>=0;--r)s=Math.max(s,t[r].size(this.resolveDataElementOptions(r))/2);return s>0&&s}getLabelAndValue(t){const s=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:n}=s,i=this.getParsed(t),l=o.getLabelForValue(i.x),u=n.getLabelForValue(i.y),m=i._custom;return{label:r[t]||"",value:"("+l+", "+u+(m?", "+m:"")+")"}}update(t){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,t)}updateElements(t,s,r,o){const n=o==="reset",{iScale:i,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:m}=this._getSharedOptions(s,o),y=i.axis,f=l.axis;for(let x=s;x<s+r;x++){const c=t[x],h=!n&&this.getParsed(x),g={},d=g[y]=n?i.getPixelForDecimal(.5):i.getPixelForValue(h[y]),p=g[f]=n?l.getBasePixel():l.getPixelForValue(h[f]);g.skip=isNaN(d)||isNaN(p),m&&(g.options=u||this.resolveDataElementOptions(x,c.active?"active":o),n&&(g.options.radius=0)),this.updateElement(c,x,g,o)}}resolveDataElementOptions(t,s){const r=this.getParsed(t);let o=super.resolveDataElementOptions(t,s);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const n=o.radius;return s!=="active"&&(o.radius=0),o.radius+=Wt(r&&r._custom,n),o}}pt(Yl,"id","bubble"),pt(Yl,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),pt(Yl,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function yE(e,t,s){let r=1,o=1,n=0,i=0;if(t<ks){const l=e,u=l+t,m=Math.cos(l),y=Math.sin(l),f=Math.cos(u),x=Math.sin(u),c=(b,w,E)=>Ki(b,l,u,!0)?1:Math.max(w,w*s,E,E*s),h=(b,w,E)=>Ki(b,l,u,!0)?-1:Math.min(w,w*s,E,E*s),g=c(0,m,f),d=c(Ds,y,x),p=h(os,m,f),v=h(os+Ds,y,x);r=(g-p)/2,o=(d-v)/2,n=-(g+p)/2,i=-(d+v)/2}return{ratioX:r,ratioY:o,offsetX:n,offsetY:i}}class qo extends Ga{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let n=u=>+r[u];if(es(r[t])){const{key:u="value"}=this._parsing;n=m=>+vo(r[m],u)}let i,l;for(i=t,l=t+s;i<l;++i)o._parsed[i]=n(i)}}_getRotation(){return Wa(this.options.rotation-90)}_getCircumference(){return Wa(this.options.circumference)}_getRotationExtents(){let t=ks,s=-ks;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,n=o._getRotation(),i=o._getCircumference();t=Math.min(t,n),s=Math.max(s,n+i)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:r}=s,o=this._cachedMeta,n=o.data,i=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-i)/2,0),u=Math.min(A7(this.options.cutout,l),1),m=this._getRingWeight(this.index),{circumference:y,rotation:f}=this._getRotationExtents(),{ratioX:x,ratioY:c,offsetX:h,offsetY:g}=yE(f,y,u),d=(r.width-i)/x,p=(r.height-i)/c,v=Math.max(Math.min(d,p)/2,0),b=nx(this.options.radius,v),w=Math.max(b*u,0),E=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=h*b,this.offsetY=g*b,o.total=this.calculateTotal(),this.outerRadius=b-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*m,0),this.updateElements(n,0,n.length,t)}_circumference(t,s){const r=this.options,o=this._cachedMeta,n=this._getCircumference();return s&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*n/ks)}updateElements(t,s,r,o){const n=o==="reset",i=this.chart,l=i.chartArea,m=i.options.animation,y=(l.left+l.right)/2,f=(l.top+l.bottom)/2,x=n&&m.animateScale,c=x?0:this.innerRadius,h=x?0:this.outerRadius,{sharedOptions:g,includeOptions:d}=this._getSharedOptions(s,o);let p=this._getRotation(),v;for(v=0;v<s;++v)p+=this._circumference(v,n);for(v=s;v<s+r;++v){const b=this._circumference(v,n),w=t[v],E={x:y+this.offsetX,y:f+this.offsetY,startAngle:p,endAngle:p+b,circumference:b,outerRadius:h,innerRadius:c};d&&(E.options=g||this.resolveDataElementOptions(v,w.active?"active":o)),p+=b,this.updateElement(w,v,E,o)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let r=0,o;for(o=0;o<s.length;o++){const n=t._parsed[o];n!==null&&!isNaN(n)&&this.chart.getDataVisibility(o)&&!s[o].hidden&&(r+=Math.abs(n))}return r}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?ks*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,r=this.chart,o=r.data.labels||[],n=ul(s._parsed[t],r.options.locale);return{label:o[t]||"",value:n}}getMaxBorderWidth(t){let s=0;const r=this.chart;let o,n,i,l,u;if(!t){for(o=0,n=r.data.datasets.length;o<n;++o)if(r.isDatasetVisible(o)){i=r.getDatasetMeta(o),t=i.data,l=i.controller;break}}if(!t)return 0;for(o=0,n=t.length;o<n;++o)u=l.resolveDataElementOptions(o),u.borderAlign!=="inner"&&(s=Math.max(s,u.borderWidth||0,u.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let r=0,o=t.length;r<o;++r){const n=this.resolveDataElementOptions(r);s=Math.max(s,n.offset||0,n.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(s+=this._getRingWeight(r));return s}_getRingWeight(t){return Math.max(Wt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}pt(qo,"id","doughnut"),pt(qo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),pt(qo,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),pt(qo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data,{labels:{pointStyle:r,textAlign:o,color:n,useBorderRadius:i,borderRadius:l}}=t.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((u,m)=>{const f=t.getDatasetMeta(0).controller.getStyle(m);return{text:u,fillStyle:f.backgroundColor,fontColor:n,hidden:!t.getDataVisibility(m),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:o,pointStyle:r,borderRadius:i&&(l||f.borderRadius),index:m}}):[]}},onClick(t,s,r){r.chart.toggleDataVisibility(s.index),r.chart.update()}}}});class Gl extends Ga{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:r,data:o=[],_dataset:n}=s,i=this.chart._animationsDisabled;let{start:l,count:u}=px(s,o,i);this._drawStart=l,this._drawCount=u,mx(s)&&(l=0,u=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!n._decimated,r.points=o;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:m},t),this.updateElements(o,l,u,t)}updateElements(t,s,r,o){const n=o==="reset",{iScale:i,vScale:l,_stacked:u,_dataset:m}=this._cachedMeta,{sharedOptions:y,includeOptions:f}=this._getSharedOptions(s,o),x=i.axis,c=l.axis,{spanGaps:h,segment:g}=this.options,d=Dn(h)?h:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||n||o==="none",v=s+r,b=t.length;let w=s>0&&this.getParsed(s-1);for(let E=0;E<b;++E){const C=t[E],T=p?C:{};if(E<s||E>=v){T.skip=!0;continue}const P=this.getParsed(E),A=Zt(P[c]),j=T[x]=i.getPixelForValue(P[x],E),V=T[c]=n||A?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,P,u):P[c],E);T.skip=isNaN(j)||isNaN(V)||A,T.stop=E>0&&Math.abs(P[x]-w[x])>d,g&&(T.parsed=P,T.raw=m.data[E]),f&&(T.options=y||this.resolveDataElementOptions(E,C.active?"active":o)),p||this.updateElement(C,E,T,o),w=P}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,r=s.options&&s.options.borderWidth||0,o=t.data||[];if(!o.length)return r;const n=o[0].size(this.resolveDataElementOptions(0)),i=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,n,i)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}pt(Gl,"id","line"),pt(Gl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),pt(Gl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Si extends Ga{constructor(t,s){super(t,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const s=this._cachedMeta,r=this.chart,o=r.data.labels||[],n=ul(s._parsed[t].r,r.options.locale);return{label:o[t]||"",value:n}}parseObjectData(t,s,r,o){return _x.bind(this)(t,s,r,o)}update(t){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,t)}getMinMax(){const t=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,o)=>{const n=this.getParsed(o).r;!isNaN(n)&&this.chart.getDataVisibility(o)&&(n<s.min&&(s.min=n),n>s.max&&(s.max=n))}),s}_updateRadius(){const t=this.chart,s=t.chartArea,r=t.options,o=Math.min(s.right-s.left,s.bottom-s.top),n=Math.max(o/2,0),i=Math.max(r.cutoutPercentage?n/100*r.cutoutPercentage:1,0),l=(n-i)/t.getVisibleDatasetCount();this.outerRadius=n-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,s,r,o){const n=o==="reset",i=this.chart,u=i.options.animation,m=this._cachedMeta.rScale,y=m.xCenter,f=m.yCenter,x=m.getIndexAngle(0)-.5*os;let c=x,h;const g=360/this.countVisibleElements();for(h=0;h<s;++h)c+=this._computeAngle(h,o,g);for(h=s;h<s+r;h++){const d=t[h];let p=c,v=c+this._computeAngle(h,o,g),b=i.getDataVisibility(h)?m.getDistanceFromCenterForValue(this.getParsed(h).r):0;c=v,n&&(u.animateScale&&(b=0),u.animateRotate&&(p=v=x));const w={x:y,y:f,innerRadius:0,outerRadius:b,startAngle:p,endAngle:v,options:this.resolveDataElementOptions(h,d.active?"active":o)};this.updateElement(d,h,w,o)}}countVisibleElements(){const t=this._cachedMeta;let s=0;return t.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&s++}),s}_computeAngle(t,s,r){return this.chart.getDataVisibility(t)?Wa(this.resolveDataElementOptions(t,s).angle||r):0}}pt(Si,"id","polarArea"),pt(Si,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),pt(Si,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:r,color:o}}=t.legend.options;return s.labels.map((n,i)=>{const u=t.getDatasetMeta(0).controller.getStyle(i);return{text:n,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:o,lineWidth:u.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,s,r){r.chart.toggleDataVisibility(s.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Fu extends qo{}pt(Fu,"id","pie"),pt(Fu,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Jl extends Ga{getLabelAndValue(t){const s=this._cachedMeta.vScale,r=this.getParsed(t);return{label:s.getLabels()[t],value:""+s.getLabelForValue(r[s.axis])}}parseObjectData(t,s,r,o){return _x.bind(this)(t,s,r,o)}update(t){const s=this._cachedMeta,r=s.dataset,o=s.data||[],n=s.iScale.getLabels();if(r.points=o,t!=="resize"){const i=this.resolveDatasetElementOptions(t);this.options.showLine||(i.borderWidth=0);const l={_loop:!0,_fullLoop:n.length===o.length,options:i};this.updateElement(r,void 0,l,t)}this.updateElements(o,0,o.length,t)}updateElements(t,s,r,o){const n=this._cachedMeta.rScale,i=o==="reset";for(let l=s;l<s+r;l++){const u=t[l],m=this.resolveDataElementOptions(l,u.active?"active":o),y=n.getPointPositionForValue(l,this.getParsed(l).r),f=i?n.xCenter:y.x,x=i?n.yCenter:y.y,c={x:f,y:x,angle:y.angle,skip:isNaN(f)||isNaN(x),options:m};this.updateElement(u,l,c,o)}}}pt(Jl,"id","radar"),pt(Jl,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),pt(Jl,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ql extends Ga{getLabelAndValue(t){const s=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:n}=s,i=this.getParsed(t),l=o.getLabelForValue(i.x),u=n.getLabelForValue(i.y);return{label:r[t]||"",value:"("+l+", "+u+")"}}update(t){const s=this._cachedMeta,{data:r=[]}=s,o=this.chart._animationsDisabled;let{start:n,count:i}=px(s,r,o);if(this._drawStart=n,this._drawCount=i,mx(s)&&(n=0,i=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:u}=s;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=r;const m=this.resolveDatasetElementOptions(t);m.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:m},t)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(r,n,i,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,s,r,o){const n=o==="reset",{iScale:i,vScale:l,_stacked:u,_dataset:m}=this._cachedMeta,y=this.resolveDataElementOptions(s,o),f=this.getSharedOptions(y),x=this.includeOptions(o,f),c=i.axis,h=l.axis,{spanGaps:g,segment:d}=this.options,p=Dn(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||n||o==="none";let b=s>0&&this.getParsed(s-1);for(let w=s;w<s+r;++w){const E=t[w],C=this.getParsed(w),T=v?E:{},P=Zt(C[h]),A=T[c]=i.getPixelForValue(C[c],w),j=T[h]=n||P?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,C,u):C[h],w);T.skip=isNaN(A)||isNaN(j)||P,T.stop=w>0&&Math.abs(C[c]-b[c])>p,d&&(T.parsed=C,T.raw=m.data[w]),x&&(T.options=f||this.resolveDataElementOptions(w,E.active?"active":o)),v||this.updateElement(E,w,T,o),b=C}this.updateSharedOptions(f,o,y)}getMaxOverflow(){const t=this._cachedMeta,s=t.data||[];if(!this.options.showLine){let l=0;for(let u=s.length-1;u>=0;--u)l=Math.max(l,s[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const r=t.dataset,o=r.options&&r.options.borderWidth||0;if(!s.length)return o;const n=s[0].size(this.resolveDataElementOptions(0)),i=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(o,n,i)/2}}pt(Ql,"id","scatter"),pt(Ql,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),pt(Ql,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var vE=Object.freeze({__proto__:null,BarController:Kl,BubbleController:Yl,DoughnutController:qo,LineController:Gl,PieController:Fu,PolarAreaController:Si,RadarController:Jl,ScatterController:Ql});function Fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Z0{constructor(t){pt(this,"options");this.options=t||{}}static override(t){Object.assign(Z0.prototype,t)}init(){}formats(){return Fo()}parse(){return Fo()}format(){return Fo()}add(){return Fo()}diff(){return Fo()}startOf(){return Fo()}endOf(){return Fo()}}var xE={_date:Z0};function bE(e,t,s,r){const{controller:o,data:n,_sorted:i}=e,l=o._cachedMeta.iScale,u=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&i&&n.length){const m=l._reversePixels?U7:Rr;if(r){if(o._sharedOptions){const y=n[0],f=typeof y.getRange=="function"&&y.getRange(t);if(f){const x=m(n,t,s-f),c=m(n,t,s+f);return{lo:x.lo,hi:c.hi}}}}else{const y=m(n,t,s);if(u){const{vScale:f}=o._cachedMeta,{_parsed:x}=e,c=x.slice(0,y.lo+1).reverse().findIndex(g=>!Zt(g[f.axis]));y.lo-=Math.max(0,c);const h=x.slice(y.hi).findIndex(g=>!Zt(g[f.axis]));y.hi+=Math.max(0,h)}return y}}return{lo:0,hi:n.length-1}}function rc(e,t,s,r,o){const n=e.getSortedVisibleDatasetMetas(),i=s[t];for(let l=0,u=n.length;l<u;++l){const{index:m,data:y}=n[l],{lo:f,hi:x}=bE(n[l],t,i,o);for(let c=f;c<=x;++c){const h=y[c];h.skip||r(h,m,c)}}}function kE(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(r,o){const n=t?Math.abs(r.x-o.x):0,i=s?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(i,2))}}function Nc(e,t,s,r,o){const n=[];return!o&&!e.isPointInArea(t)||rc(e,s,t,function(l,u,m){!o&&!jr(l,e.chartArea,0)||l.inRange(t.x,t.y,r)&&n.push({element:l,datasetIndex:u,index:m})},!0),n}function wE(e,t,s,r){let o=[];function n(i,l,u){const{startAngle:m,endAngle:y}=i.getProps(["startAngle","endAngle"],r),{angle:f}=dx(i,{x:t.x,y:t.y});Ki(f,m,y)&&o.push({element:i,datasetIndex:l,index:u})}return rc(e,s,t,n),o}function _E(e,t,s,r,o,n){let i=[];const l=kE(s);let u=Number.POSITIVE_INFINITY;function m(y,f,x){const c=y.inRange(t.x,t.y,o);if(r&&!c)return;const h=y.getCenterPoint(o);if(!(!!n||e.isPointInArea(h))&&!c)return;const d=l(t,h);d<u?(i=[{element:y,datasetIndex:f,index:x}],u=d):d===u&&i.push({element:y,datasetIndex:f,index:x})}return rc(e,s,t,m),i}function Vc(e,t,s,r,o,n){return!n&&!e.isPointInArea(t)?[]:s==="r"&&!r?wE(e,t,s,o):_E(e,t,s,r,o,n)}function Kp(e,t,s,r,o){const n=[],i=s==="x"?"inXRange":"inYRange";let l=!1;return rc(e,s,t,(u,m,y)=>{u[i]&&u[i](t[s],o)&&(n.push({element:u,datasetIndex:m,index:y}),l=l||u.inRange(t.x,t.y,o))}),r&&!l?[]:n}var $E={modes:{index(e,t,s,r){const o=No(t,e),n=s.axis||"x",i=s.includeInvisible||!1,l=s.intersect?Nc(e,o,n,r,i):Vc(e,o,n,!1,r,i),u=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(m=>{const y=l[0].index,f=m.data[y];f&&!f.skip&&u.push({element:f,datasetIndex:m.index,index:y})}),u):[]},dataset(e,t,s,r){const o=No(t,e),n=s.axis||"xy",i=s.includeInvisible||!1;let l=s.intersect?Nc(e,o,n,r,i):Vc(e,o,n,!1,r,i);if(l.length>0){const u=l[0].datasetIndex,m=e.getDatasetMeta(u).data;l=[];for(let y=0;y<m.length;++y)l.push({element:m[y],datasetIndex:u,index:y})}return l},point(e,t,s,r){const o=No(t,e),n=s.axis||"xy",i=s.includeInvisible||!1;return Nc(e,o,n,r,i)},nearest(e,t,s,r){const o=No(t,e),n=s.axis||"xy",i=s.includeInvisible||!1;return Vc(e,o,n,s.intersect,r,i)},x(e,t,s,r){const o=No(t,e);return Kp(e,o,"x",s.intersect,r)},y(e,t,s,r){const o=No(t,e);return Kp(e,o,"y",s.intersect,r)}}};const Ix=["left","top","right","bottom"];function ei(e,t){return e.filter(s=>s.pos===t)}function Yp(e,t){return e.filter(s=>Ix.indexOf(s.pos)===-1&&s.box.axis===t)}function ti(e,t){return e.sort((s,r)=>{const o=t?r:s,n=t?s:r;return o.weight===n.weight?o.index-n.index:o.weight-n.weight})}function CE(e){const t=[];let s,r,o,n,i,l;for(s=0,r=(e||[]).length;s<r;++s)o=e[s],{position:n,options:{stack:i,stackWeight:l=1}}=o,t.push({index:s,box:o,pos:n,horizontal:o.isHorizontal(),weight:o.weight,stack:i&&n+i,stackWeight:l});return t}function SE(e){const t={};for(const s of e){const{stack:r,pos:o,stackWeight:n}=s;if(!r||!Ix.includes(o))continue;const i=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=n}return t}function EE(e,t){const s=SE(e),{vBoxMaxWidth:r,hBoxMaxHeight:o}=t;let n,i,l;for(n=0,i=e.length;n<i;++n){l=e[n];const{fullSize:u}=l.box,m=s[l.stack],y=m&&l.stackWeight/m.weight;l.horizontal?(l.width=y?y*r:u&&t.availableWidth,l.height=o):(l.width=r,l.height=y?y*o:u&&t.availableHeight)}return s}function TE(e){const t=CE(e),s=ti(t.filter(m=>m.box.fullSize),!0),r=ti(ei(t,"left"),!0),o=ti(ei(t,"right")),n=ti(ei(t,"top"),!0),i=ti(ei(t,"bottom")),l=Yp(t,"x"),u=Yp(t,"y");return{fullSize:s,leftAndTop:r.concat(n),rightAndBottom:o.concat(u).concat(i).concat(l),chartArea:ei(t,"chartArea"),vertical:r.concat(o).concat(u),horizontal:n.concat(i).concat(l)}}function Gp(e,t,s,r){return Math.max(e[s],t[s])+Math.max(e[r],t[r])}function Ox(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function AE(e,t,s,r){const{pos:o,box:n}=s,i=e.maxPadding;if(!es(o)){s.size&&(e[o]-=s.size);const f=r[s.stack]||{size:0,count:1};f.size=Math.max(f.size,s.horizontal?n.height:n.width),s.size=f.size/f.count,e[o]+=s.size}n.getPadding&&Ox(i,n.getPadding());const l=Math.max(0,t.outerWidth-Gp(i,e,"left","right")),u=Math.max(0,t.outerHeight-Gp(i,e,"top","bottom")),m=l!==e.w,y=u!==e.h;return e.w=l,e.h=u,s.horizontal?{same:m,other:y}:{same:y,other:m}}function LE(e){const t=e.maxPadding;function s(r){const o=Math.max(t[r]-e[r],0);return e[r]+=o,o}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function ME(e,t){const s=t.maxPadding;function r(o){const n={left:0,top:0,right:0,bottom:0};return o.forEach(i=>{n[i]=Math.max(t[i],s[i])}),n}return r(e?["left","right"]:["top","bottom"])}function li(e,t,s,r){const o=[];let n,i,l,u,m,y;for(n=0,i=e.length,m=0;n<i;++n){l=e[n],u=l.box,u.update(l.width||t.w,l.height||t.h,ME(l.horizontal,t));const{same:f,other:x}=AE(t,s,l,r);m|=f&&o.length,y=y||x,u.fullSize||o.push(l)}return m&&li(o,t,s,r)||y}function Ll(e,t,s,r,o){e.top=s,e.left=t,e.right=t+r,e.bottom=s+o,e.width=r,e.height=o}function Jp(e,t,s,r){const o=s.padding;let{x:n,y:i}=t;for(const l of e){const u=l.box,m=r[l.stack]||{placed:0,weight:1},y=l.stackWeight/m.weight||1;if(l.horizontal){const f=t.w*y,x=m.size||u.height;Wi(m.start)&&(i=m.start),u.fullSize?Ll(u,o.left,i,s.outerWidth-o.right-o.left,x):Ll(u,t.left+m.placed,i,f,x),m.start=i,m.placed+=f,i=u.bottom}else{const f=t.h*y,x=m.size||u.width;Wi(m.start)&&(n=m.start),u.fullSize?Ll(u,n,o.top,x,s.outerHeight-o.bottom-o.top):Ll(u,n,t.top+m.placed,x,f),m.start=n,m.placed+=f,n=u.right}}t.x=n,t.y=i}var na={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,r){if(!e)return;const o=da(e.options.layout.padding),n=Math.max(t-o.width,0),i=Math.max(s-o.height,0),l=TE(e.boxes),u=l.vertical,m=l.horizontal;cs(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const y=u.reduce((g,d)=>d.box.options&&d.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:s,padding:o,availableWidth:n,availableHeight:i,vBoxMaxWidth:n/2/y,hBoxMaxHeight:i/2}),x=Object.assign({},o);Ox(x,da(r));const c=Object.assign({maxPadding:x,w:n,h:i,x:o.left,y:o.top},o),h=EE(u.concat(m),f);li(l.fullSize,c,f,h),li(u,c,f,h),li(m,c,f,h)&&li(u,c,f,h),LE(c),Jp(l.leftAndTop,c,f,h),c.x+=c.w,c.y+=c.h,Jp(l.rightAndBottom,c,f,h),e.chartArea={left:c.left,top:c.top,right:c.left+c.w,bottom:c.top+c.h,height:c.h,width:c.w},cs(l.chartArea,g=>{const d=g.box;Object.assign(d,e.chartArea),d.update(c.w,c.h,{left:0,top:0,right:0,bottom:0})})}};class Fx{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,r){}removeEventListener(t,s,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,r,o){return s=Math.max(0,s||t.width),r=r||t.height,{width:s,height:Math.max(0,o?Math.floor(s/o):r)}}isAttached(t){return!0}updateConfig(t){}}class PE extends Fx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Xl="$chartjs",DE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qp=e=>e===null||e==="";function IE(e,t){const s=e.style,r=e.getAttribute("height"),o=e.getAttribute("width");if(e[Xl]={initial:{height:r,width:o,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Qp(o)){const n=Ip(e,"width");n!==void 0&&(e.width=n)}if(Qp(r))if(e.style.height==="")e.height=e.width/(t||2);else{const n=Ip(e,"height");n!==void 0&&(e.height=n)}return e}const Rx=O9?{passive:!0}:!1;function OE(e,t,s){e&&e.addEventListener(t,s,Rx)}function FE(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,Rx)}function RE(e,t){const s=DE[e.type]||e.type,{x:r,y:o}=No(e,t);return{type:s,chart:t,native:e,x:r!==void 0?r:null,y:o!==void 0?o:null}}function Sd(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function jE(e,t,s){const r=e.canvas,o=new MutationObserver(n=>{let i=!1;for(const l of n)i=i||Sd(l.addedNodes,r),i=i&&!Sd(l.removedNodes,r);i&&s()});return o.observe(document,{childList:!0,subtree:!0}),o}function NE(e,t,s){const r=e.canvas,o=new MutationObserver(n=>{let i=!1;for(const l of n)i=i||Sd(l.removedNodes,r),i=i&&!Sd(l.addedNodes,r);i&&s()});return o.observe(document,{childList:!0,subtree:!0}),o}const Gi=new Map;let Xp=0;function jx(){const e=window.devicePixelRatio;e!==Xp&&(Xp=e,Gi.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function VE(e,t){Gi.size||window.addEventListener("resize",jx),Gi.set(e,t)}function BE(e){Gi.delete(e),Gi.size||window.removeEventListener("resize",jx)}function UE(e,t,s){const r=e.canvas,o=r&&X0(r);if(!o)return;const n=gx((l,u)=>{const m=o.clientWidth;s(l,u),m<o.clientWidth&&s()},window),i=new ResizeObserver(l=>{const u=l[0],m=u.contentRect.width,y=u.contentRect.height;m===0&&y===0||n(m,y)});return i.observe(o),VE(e,n),i}function Bc(e,t,s){s&&s.disconnect(),t==="resize"&&BE(e)}function HE(e,t,s){const r=e.canvas,o=gx(n=>{e.ctx!==null&&s(RE(n,e))},e);return OE(r,t,o),o}class qE extends Fx{acquireContext(t,s){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(IE(t,s),r):null}releaseContext(t){const s=t.canvas;if(!s[Xl])return!1;const r=s[Xl].initial;["height","width"].forEach(n=>{const i=r[n];Zt(i)?s.removeAttribute(n):s.setAttribute(n,i)});const o=r.style||{};return Object.keys(o).forEach(n=>{s.style[n]=o[n]}),s.width=s.width,delete s[Xl],!0}addEventListener(t,s,r){this.removeEventListener(t,s);const o=t.$proxies||(t.$proxies={}),i={attach:jE,detach:NE,resize:UE}[s]||HE;o[s]=i(t,s,r)}removeEventListener(t,s){const r=t.$proxies||(t.$proxies={}),o=r[s];if(!o)return;({attach:Bc,detach:Bc,resize:Bc}[s]||FE)(t,s,o),r[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,r,o){return I9(t,s,r,o)}isAttached(t){const s=t&&X0(t);return!!(s&&s.isConnected)}}function zE(e){return!Q0()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?PE:qE}var Rl;let zr=(Rl=class{constructor(){pt(this,"x");pt(this,"y");pt(this,"active",!1);pt(this,"options");pt(this,"$animations")}tooltipPosition(t){const{x:s,y:r}=this.getProps(["x","y"],t);return{x:s,y:r}}hasValue(){return Dn(this.x)&&Dn(this.y)}getProps(t,s){const r=this.$animations;if(!s||!r)return this;const o={};return t.forEach(n=>{o[n]=r[n]&&r[n].active()?r[n]._to:this[n]}),o}},pt(Rl,"defaults",{}),pt(Rl,"defaultRoutes"),Rl);function WE(e,t){const s=e.options.ticks,r=KE(e),o=Math.min(s.maxTicksLimit||r,r),n=s.major.enabled?GE(t):[],i=n.length,l=n[0],u=n[i-1],m=[];if(i>o)return JE(t,m,n,i/o),m;const y=YE(n,t,o);if(i>0){let f,x;const c=i>1?Math.round((u-l)/(i-1)):null;for(Ml(t,m,y,Zt(c)?0:l-c,l),f=0,x=i-1;f<x;f++)Ml(t,m,y,n[f],n[f+1]);return Ml(t,m,y,u,Zt(c)?t.length:u+c),m}return Ml(t,m,y),m}function KE(e){const t=e.options.offset,s=e._tickSize(),r=e._length/s+(t?0:1),o=e._maxLength/s;return Math.floor(Math.min(r,o))}function YE(e,t,s){const r=QE(e),o=t.length/s;if(!r)return Math.max(o,1);const n=R7(r);for(let i=0,l=n.length-1;i<l;i++){const u=n[i];if(u>o)return u}return Math.max(o,1)}function GE(e){const t=[];let s,r;for(s=0,r=e.length;s<r;s++)e[s].major&&t.push(s);return t}function JE(e,t,s,r){let o=0,n=s[0],i;for(r=Math.ceil(r),i=0;i<e.length;i++)i===n&&(t.push(e[i]),o++,n=s[o*r])}function Ml(e,t,s,r,o){const n=Wt(r,0),i=Math.min(Wt(o,e.length),e.length);let l=0,u,m,y;for(s=Math.ceil(s),o&&(u=o-r,s=u/Math.floor(u/s)),y=n;y<0;)l++,y=Math.round(n+l*s);for(m=Math.max(n,0);m<i;m++)m===y&&(t.push(e[m]),l++,y=Math.round(n+l*s))}function QE(e){const t=e.length;let s,r;if(t<2)return!1;for(r=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==r)return!1;return r}const XE=e=>e==="left"?"right":e==="right"?"left":e,Zp=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,em=(e,t)=>Math.min(t||e,e);function tm(e,t){const s=[],r=e.length/t,o=e.length;let n=0;for(;n<o;n+=r)s.push(e[Math.floor(n)]);return s}function ZE(e,t,s){const r=e.ticks.length,o=Math.min(t,r-1),n=e._startPixel,i=e._endPixel,l=1e-6;let u=e.getPixelForTick(o),m;if(!(s&&(r===1?m=Math.max(u-n,i-u):t===0?m=(e.getPixelForTick(1)-u)/2:m=(u-e.getPixelForTick(o-1))/2,u+=o<t?m:-m,u<n-l||u>i+l)))return u}function eT(e,t){cs(e,s=>{const r=s.gc,o=r.length/2;let n;if(o>t){for(n=0;n<o;++n)delete s.data[r[n]];r.splice(0,o)}})}function si(e){return e.drawTicks?e.tickLength:0}function sm(e,t){if(!e.display)return 0;const s=js(e.font,t),r=da(e.padding);return(Cs(e.text)?e.text.length:1)*s.lineHeight+r.height}function tT(e,t){return To(e,{scale:t,type:"scale"})}function sT(e,t,s){return To(e,{tick:s,index:t,type:"tick"})}function aT(e,t,s){let r=z0(e);return(s&&t!=="right"||!s&&t==="right")&&(r=XE(r)),r}function rT(e,t,s,r){const{top:o,left:n,bottom:i,right:l,chart:u}=e,{chartArea:m,scales:y}=u;let f=0,x,c,h;const g=i-o,d=l-n;if(e.isHorizontal()){if(c=Zs(r,n,l),es(s)){const p=Object.keys(s)[0],v=s[p];h=y[p].getPixelForValue(v)+g-t}else s==="center"?h=(m.bottom+m.top)/2+g-t:h=Zp(e,s,t);x=l-n}else{if(es(s)){const p=Object.keys(s)[0],v=s[p];c=y[p].getPixelForValue(v)-d+t}else s==="center"?c=(m.left+m.right)/2-d+t:c=Zp(e,s,t);h=Zs(r,i,o),f=s==="left"?-Ds:Ds}return{titleX:c,titleY:h,maxWidth:x,rotation:f}}class rn extends zr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:r,_suggestedMax:o}=this;return t=_a(t,Number.POSITIVE_INFINITY),s=_a(s,Number.NEGATIVE_INFINITY),r=_a(r,Number.POSITIVE_INFINITY),o=_a(o,Number.NEGATIVE_INFINITY),{min:_a(t,r),max:_a(s,o),minDefined:Ls(t),maxDefined:Ls(s)}}getMinMax(t){let{min:s,max:r,minDefined:o,maxDefined:n}=this.getUserBounds(),i;if(o&&n)return{min:s,max:r};const l=this.getMatchingVisibleMetas();for(let u=0,m=l.length;u<m;++u)i=l[u].controller.getMinMax(this,t),o||(s=Math.min(s,i.min)),n||(r=Math.max(r,i.max));return s=n&&s>r?r:s,r=o&&s>r?s:r,{min:_a(s,_a(r,s)),max:_a(r,_a(s,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vs(this.options.beforeUpdate,[this])}update(t,s,r){const{beginAtZero:o,grace:n,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=h9(this,n,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?tm(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=WE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,r;this.isHorizontal()?(s=this.left,r=this.right):(s=this.top,r=this.bottom,t=!t),this._startPixel=s,this._endPixel=r,this._reversePixels=t,this._length=r-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vs(this.options.afterUpdate,[this])}beforeSetDimensions(){vs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vs(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),vs(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let r,o,n;for(r=0,o=t.length;r<o;r++)n=t[r],n.label=vs(s.callback,[n.value,r,t],this)}afterTickToLabelConversion(){vs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,r=em(this.ticks.length,t.ticks.maxTicksLimit),o=s.minRotation||0,n=s.maxRotation;let i=o,l,u,m;if(!this._isVisible()||!s.display||o>=n||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const y=this._getLabelSizes(),f=y.widest.width,x=y.highest.height,c=qs(this.chart.width-f,0,this.maxWidth);l=t.offset?this.maxWidth/r:c/(r-1),f+6>l&&(l=c/(r-(t.offset?.5:1)),u=this.maxHeight-si(t.grid)-s.padding-sm(t.title,this.chart.options.font),m=Math.sqrt(f*f+x*x),i=H0(Math.min(Math.asin(qs((y.highest.height+6)/l,-1,1)),Math.asin(qs(u/m,-1,1))-Math.asin(qs(x/m,-1,1)))),i=Math.max(o,Math.min(n,i))),this.labelRotation=i}afterCalculateLabelRotation(){vs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vs(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:r,title:o,grid:n}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const u=sm(o,s.options.font);if(l?(t.width=this.maxWidth,t.height=si(n)+u):(t.height=this.maxHeight,t.width=si(n)+u),r.display&&this.ticks.length){const{first:m,last:y,widest:f,highest:x}=this._getLabelSizes(),c=r.padding*2,h=Wa(this.labelRotation),g=Math.cos(h),d=Math.sin(h);if(l){const p=r.mirror?0:d*f.width+g*x.height;t.height=Math.min(this.maxHeight,t.height+p+c)}else{const p=r.mirror?0:g*f.width+d*x.height;t.width=Math.min(this.maxWidth,t.width+p+c)}this._calculatePadding(m,y,d,g)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,r,o){const{ticks:{align:n,padding:i},position:l}=this.options,u=this.labelRotation!==0,m=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,c=0;u?m?(x=o*t.width,c=r*s.height):(x=r*t.height,c=o*s.width):n==="start"?c=s.width:n==="end"?x=t.width:n!=="inner"&&(x=t.width/2,c=s.width/2),this.paddingLeft=Math.max((x-y+i)*this.width/(this.width-y),0),this.paddingRight=Math.max((c-f+i)*this.width/(this.width-f),0)}else{let y=s.height/2,f=t.height/2;n==="start"?(y=0,f=t.height):n==="end"&&(y=s.height,f=0),this.paddingTop=y+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vs(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,r;for(s=0,r=t.length;s<r;s++)Zt(t[s].label)&&(t.splice(s,1),r--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let r=this.ticks;s<r.length&&(r=tm(r,s)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,r){const{ctx:o,_longestTextCache:n}=this,i=[],l=[],u=Math.floor(s/em(s,r));let m=0,y=0,f,x,c,h,g,d,p,v,b,w,E;for(f=0;f<s;f+=u){if(h=t[f].label,g=this._resolveTickFontOptions(f),o.font=d=g.string,p=n[d]=n[d]||{data:{},gc:[]},v=g.lineHeight,b=w=0,!Zt(h)&&!Cs(h))b=$d(o,p.data,p.gc,b,h),w=v;else if(Cs(h))for(x=0,c=h.length;x<c;++x)E=h[x],!Zt(E)&&!Cs(E)&&(b=$d(o,p.data,p.gc,b,E),w+=v);i.push(b),l.push(w),m=Math.max(b,m),y=Math.max(w,y)}eT(n,s);const C=i.indexOf(m),T=l.indexOf(y),P=A=>({width:i[A]||0,height:l[A]||0});return{first:P(0),last:P(s-1),widest:P(C),highest:P(T),widths:i,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return B7(this._alignToPixels?Oo(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const r=s[t];return r.$context||(r.$context=sT(this.getContext(),t,r))}return this.$context||(this.$context=tT(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Wa(this.labelRotation),r=Math.abs(Math.cos(s)),o=Math.abs(Math.sin(s)),n=this._getLabelSizes(),i=t.autoSkipPadding||0,l=n?n.widest.width+i:0,u=n?n.highest.height+i:0;return this.isHorizontal()?u*r>l*o?l/r:u/o:u*o<l*r?u/r:l/o}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,r=this.chart,o=this.options,{grid:n,position:i,border:l}=o,u=n.offset,m=this.isHorizontal(),f=this.ticks.length+(u?1:0),x=si(n),c=[],h=l.setContext(this.getContext()),g=h.display?h.width:0,d=g/2,p=function(W){return Oo(r,W,g)};let v,b,w,E,C,T,P,A,j,V,H,R;if(i==="top")v=p(this.bottom),T=this.bottom-x,A=v-d,V=p(t.top)+d,R=t.bottom;else if(i==="bottom")v=p(this.top),V=t.top,R=p(t.bottom)-d,T=v+d,A=this.top+x;else if(i==="left")v=p(this.right),C=this.right-x,P=v-d,j=p(t.left)+d,H=t.right;else if(i==="right")v=p(this.left),j=t.left,H=p(t.right)-d,C=v+d,P=this.left+x;else if(s==="x"){if(i==="center")v=p((t.top+t.bottom)/2+.5);else if(es(i)){const W=Object.keys(i)[0],K=i[W];v=p(this.chart.scales[W].getPixelForValue(K))}V=t.top,R=t.bottom,T=v+d,A=T+x}else if(s==="y"){if(i==="center")v=p((t.left+t.right)/2);else if(es(i)){const W=Object.keys(i)[0],K=i[W];v=p(this.chart.scales[W].getPixelForValue(K))}C=v-d,P=C-x,j=t.left,H=t.right}const M=Wt(o.ticks.maxTicksLimit,f),B=Math.max(1,Math.ceil(f/M));for(b=0;b<f;b+=B){const W=this.getContext(b),K=n.setContext(W),Z=l.setContext(W),Te=K.lineWidth,_e=K.color,ye=Z.dash||[],z=Z.dashOffset,q=K.tickWidth,X=K.tickColor,se=K.tickBorderDash||[],Ae=K.tickBorderDashOffset;w=ZE(this,b,u),w!==void 0&&(E=Oo(r,w,Te),m?C=P=j=H=E:T=A=V=R=E,c.push({tx1:C,ty1:T,tx2:P,ty2:A,x1:j,y1:V,x2:H,y2:R,width:Te,color:_e,borderDash:ye,borderDashOffset:z,tickWidth:q,tickColor:X,tickBorderDash:se,tickBorderDashOffset:Ae}))}return this._ticksLength=f,this._borderValue=v,c}_computeLabelItems(t){const s=this.axis,r=this.options,{position:o,ticks:n}=r,i=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:m,padding:y,mirror:f}=n,x=si(r.grid),c=x+y,h=f?-y:c,g=-Wa(this.labelRotation),d=[];let p,v,b,w,E,C,T,P,A,j,V,H,R="middle";if(o==="top")C=this.bottom-h,T=this._getXAxisLabelAlignment();else if(o==="bottom")C=this.top+h,T=this._getXAxisLabelAlignment();else if(o==="left"){const B=this._getYAxisLabelAlignment(x);T=B.textAlign,E=B.x}else if(o==="right"){const B=this._getYAxisLabelAlignment(x);T=B.textAlign,E=B.x}else if(s==="x"){if(o==="center")C=(t.top+t.bottom)/2+c;else if(es(o)){const B=Object.keys(o)[0],W=o[B];C=this.chart.scales[B].getPixelForValue(W)+c}T=this._getXAxisLabelAlignment()}else if(s==="y"){if(o==="center")E=(t.left+t.right)/2-c;else if(es(o)){const B=Object.keys(o)[0],W=o[B];E=this.chart.scales[B].getPixelForValue(W)}T=this._getYAxisLabelAlignment(x).textAlign}s==="y"&&(u==="start"?R="top":u==="end"&&(R="bottom"));const M=this._getLabelSizes();for(p=0,v=l.length;p<v;++p){b=l[p],w=b.label;const B=n.setContext(this.getContext(p));P=this.getPixelForTick(p)+n.labelOffset,A=this._resolveTickFontOptions(p),j=A.lineHeight,V=Cs(w)?w.length:1;const W=V/2,K=B.color,Z=B.textStrokeColor,Te=B.textStrokeWidth;let _e=T;i?(E=P,T==="inner"&&(p===v-1?_e=this.options.reverse?"left":"right":p===0?_e=this.options.reverse?"right":"left":_e="center"),o==="top"?m==="near"||g!==0?H=-V*j+j/2:m==="center"?H=-M.highest.height/2-W*j+j:H=-M.highest.height+j/2:m==="near"||g!==0?H=j/2:m==="center"?H=M.highest.height/2-W*j:H=M.highest.height-V*j,f&&(H*=-1),g!==0&&!B.showLabelBackdrop&&(E+=j/2*Math.sin(g))):(C=P,H=(1-V)*j/2);let ye;if(B.showLabelBackdrop){const z=da(B.backdropPadding),q=M.heights[p],X=M.widths[p];let se=H-z.top,Ae=0-z.left;switch(R){case"middle":se-=q/2;break;case"bottom":se-=q;break}switch(T){case"center":Ae-=X/2;break;case"right":Ae-=X;break;case"inner":p===v-1?Ae-=X:p>0&&(Ae-=X/2);break}ye={left:Ae,top:se,width:X+z.width,height:q+z.height,color:B.backdropColor}}d.push({label:w,font:A,textOffset:H,options:{rotation:g,color:K,strokeColor:Z,strokeWidth:Te,textAlign:_e,textBaseline:R,translation:[E,C],backdrop:ye}})}return d}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Wa(this.labelRotation))return t==="top"?"left":"right";let o="center";return s.align==="start"?o="left":s.align==="end"?o="right":s.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:r,mirror:o,padding:n}}=this.options,i=this._getLabelSizes(),l=t+n,u=i.widest.width;let m,y;return s==="left"?o?(y=this.right+n,r==="near"?m="left":r==="center"?(m="center",y+=u/2):(m="right",y+=u)):(y=this.right-l,r==="near"?m="right":r==="center"?(m="center",y-=u/2):(m="left",y=this.left)):s==="right"?o?(y=this.left+n,r==="near"?m="right":r==="center"?(m="center",y-=u/2):(m="left",y-=u)):(y=this.left+l,r==="near"?m="left":r==="center"?(m="center",y+=u/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:r,top:o,width:n,height:i}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(r,o,n,i),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const o=this.ticks.findIndex(n=>n.value===t);return o>=0?s.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const s=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let n,i;const l=(u,m,y)=>{!y.width||!y.color||(r.save(),r.lineWidth=y.width,r.strokeStyle=y.color,r.setLineDash(y.borderDash||[]),r.lineDashOffset=y.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(m.x,m.y),r.stroke(),r.restore())};if(s.display)for(n=0,i=o.length;n<i;++n){const u=o[n];s.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),s.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:r,grid:o}}=this,n=r.setContext(this.getContext()),i=r.display?n.width:0;if(!i)return;const l=o.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let m,y,f,x;this.isHorizontal()?(m=Oo(t,this.left,i)-i/2,y=Oo(t,this.right,l)+l/2,f=x=u):(f=Oo(t,this.top,i)-i/2,x=Oo(t,this.bottom,l)+l/2,m=y=u),s.save(),s.lineWidth=n.width,s.strokeStyle=n.color,s.beginPath(),s.moveTo(m,f),s.lineTo(y,x),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&tc(r,o);const n=this.getLabelItems(t);for(const i of n){const l=i.options,u=i.font,m=i.label,y=i.textOffset;tn(r,m,0,y,u,l)}o&&sc(r)}drawTitle(){const{ctx:t,options:{position:s,title:r,reverse:o}}=this;if(!r.display)return;const n=js(r.font),i=da(r.padding),l=r.align;let u=n.lineHeight/2;s==="bottom"||s==="center"||es(s)?(u+=i.bottom,Cs(r.text)&&(u+=n.lineHeight*(r.text.length-1))):u+=i.top;const{titleX:m,titleY:y,maxWidth:f,rotation:x}=rT(this,u,s,l);tn(t,r.text,0,0,n,{color:r.color,maxWidth:f,rotation:x,textAlign:aT(l,s,o),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,r=Wt(t.grid&&t.grid.z,-1),o=Wt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==rn.prototype.draw?[{z:s,draw:n=>{this.draw(n)}}]:[{z:r,draw:n=>{this.drawBackground(),this.drawGrid(n),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:s,draw:n=>{this.drawLabels(n)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let n,i;for(n=0,i=s.length;n<i;++n){const l=s[n];l[r]===this.id&&(!t||l.type===t)&&o.push(l)}return o}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return js(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Pl{constructor(t,s,r){this.type=t,this.scope=s,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let r;iT(s)&&(r=this.register(s));const o=this.items,n=t.id,i=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+t);return n in o||(o[n]=t,oT(t,i,r),this.override&&Ss.override(t.id,t.overrides)),i}get(t){return this.items[t]}unregister(t){const s=this.items,r=t.id,o=this.scope;r in s&&delete s[r],o&&r in Ss[o]&&(delete Ss[o][r],this.override&&delete en[r])}}function oT(e,t,s){const r=zi(Object.create(null),[s?Ss.get(s):{},Ss.get(t),e.defaults]);Ss.set(t,r),e.defaultRoutes&&nT(t,e.defaultRoutes),e.descriptors&&Ss.describe(t,e.descriptors)}function nT(e,t){Object.keys(t).forEach(s=>{const r=s.split("."),o=r.pop(),n=[e].concat(r).join("."),i=t[s].split("."),l=i.pop(),u=i.join(".");Ss.route(n,o,u,l)})}function iT(e){return"id"in e&&"defaults"in e}class lT{constructor(){this.controllers=new Pl(Ga,"datasets",!0),this.elements=new Pl(zr,"elements"),this.plugins=new Pl(Object,"plugins"),this.scales=new Pl(rn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,r){[...s].forEach(o=>{const n=r||this._getRegistryForType(o);r||n.isForType(o)||n===this.plugins&&o.id?this._exec(t,n,o):cs(o,i=>{const l=r||this._getRegistryForType(i);this._exec(t,l,i)})})}_exec(t,s,r){const o=U0(t);vs(r["before"+o],[],r),s[t](r),vs(r["after"+o],[],r)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const r=this._typedRegistries[s];if(r.isForType(t))return r}return this.plugins}_get(t,s,r){const o=s.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return o}}var nr=new lT;class dT{constructor(){this._init=void 0}notify(t,s,r,o){if(s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const n=o?this._descriptors(t).filter(o):this._descriptors(t),i=this._notify(n,t,s,r);return s==="afterDestroy"&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),i}_notify(t,s,r,o){o=o||{};for(const n of t){const i=n.plugin,l=i[r],u=[s,o,n.options];if(vs(l,u,i)===!1&&o.cancelable)return!1}return!0}invalidate(){Zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const r=t&&t.config,o=Wt(r.options&&r.options.plugins,{}),n=cT(r);return o===!1&&!s?[]:hT(t,n,o,s)}_notifyStateChanges(t){const s=this._oldCache||[],r=this._cache,o=(n,i)=>n.filter(l=>!i.some(u=>l.plugin.id===u.plugin.id));this._notify(o(s,r),t,"stop"),this._notify(o(r,s),t,"start")}}function cT(e){const t={},s=[],r=Object.keys(nr.plugins.items);for(let n=0;n<r.length;n++)s.push(nr.getPlugin(r[n]));const o=e.plugins||[];for(let n=0;n<o.length;n++){const i=o[n];s.indexOf(i)===-1&&(s.push(i),t[i.id]=!0)}return{plugins:s,localIds:t}}function uT(e,t){return!t&&e===!1?null:e===!0?{}:e}function hT(e,{plugins:t,localIds:s},r,o){const n=[],i=e.getContext();for(const l of t){const u=l.id,m=uT(r[u],o);m!==null&&n.push({plugin:l,options:gT(e.config,{plugin:l,local:s[u]},m,i)})}return n}function gT(e,{plugin:t,local:s},r,o){const n=e.pluginScopeKeys(t),i=e.getOptionScopes(r,n);return s&&t.defaults&&i.push(t.defaults),e.createResolver(i,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ru(e,t){const s=Ss.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function pT(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function mT(e,t){return e===t?"_index_":"_value_"}function am(e){if(e==="x"||e==="y"||e==="r")return e}function fT(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ju(e,...t){if(am(e))return e;for(const s of t){const r=s.axis||fT(s.position)||e.length>1&&am(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function rm(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function yT(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(s.length)return rm(e,"x",s[0])||rm(e,"y",s[0])}return{}}function vT(e,t){const s=en[e.type]||{scales:{}},r=t.scales||{},o=Ru(e.type,t),n=Object.create(null);return Object.keys(r).forEach(i=>{const l=r[i];if(!es(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const u=ju(i,l,yT(i,e),Ss.scales[l.type]),m=mT(u,o),y=s.scales||{};n[i]=wi(Object.create(null),[{axis:u},l,y[u],y[m]])}),e.data.datasets.forEach(i=>{const l=i.type||e.type,u=i.indexAxis||Ru(l,t),y=(en[l]||{}).scales||{};Object.keys(y).forEach(f=>{const x=pT(f,u),c=i[x+"AxisID"]||x;n[c]=n[c]||Object.create(null),wi(n[c],[{axis:x},r[c],y[f]])})}),Object.keys(n).forEach(i=>{const l=n[i];wi(l,[Ss.scales[l.type],Ss.scale])}),n}function Nx(e){const t=e.options||(e.options={});t.plugins=Wt(t.plugins,{}),t.scales=vT(e,t)}function Vx(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function xT(e){return e=e||{},e.data=Vx(e.data),Nx(e),e}const om=new Map,Bx=new Set;function Dl(e,t){let s=om.get(e);return s||(s=t(),om.set(e,s),Bx.add(s)),s}const ai=(e,t,s)=>{const r=vo(t,s);r!==void 0&&e.add(r)};class bT{constructor(t){this._config=xT(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Vx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Nx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Dl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return Dl(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return Dl(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,r=this.type;return Dl(`${r}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const r=this._scopeCache;let o=r.get(t);return(!o||s)&&(o=new Map,r.set(t,o)),o}getOptionScopes(t,s,r){const{options:o,type:n}=this,i=this._cachedScopes(t,r),l=i.get(s);if(l)return l;const u=new Set;s.forEach(y=>{t&&(u.add(t),y.forEach(f=>ai(u,t,f))),y.forEach(f=>ai(u,o,f)),y.forEach(f=>ai(u,en[n]||{},f)),y.forEach(f=>ai(u,Ss,f)),y.forEach(f=>ai(u,Iu,f))});const m=Array.from(u);return m.length===0&&m.push(Object.create(null)),Bx.has(s)&&i.set(s,m),m}chartOptionScopes(){const{options:t,type:s}=this;return[t,en[s]||{},Ss.datasets[s]||{},{type:s},Ss,Iu]}resolveNamedOptions(t,s,r,o=[""]){const n={$shared:!0},{resolver:i,subPrefixes:l}=nm(this._resolverCache,t,o);let u=i;if(wT(i,s)){n.$shared=!1,r=xo(r)?r():r;const m=this.createResolver(t,r,l);u=In(i,r,m)}for(const m of s)n[m]=u[m];return n}createResolver(t,s,r=[""],o){const{resolver:n}=nm(this._resolverCache,t,r);return es(s)?In(n,s,void 0,o):n}}function nm(e,t,s){let r=e.get(t);r||(r=new Map,e.set(t,r));const o=s.join();let n=r.get(o);return n||(n={resolver:Y0(t,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},r.set(o,n)),n}const kT=e=>es(e)&&Object.getOwnPropertyNames(e).some(t=>xo(e[t]));function wT(e,t){const{isScriptable:s,isIndexable:r}=xx(e);for(const o of t){const n=s(o),i=r(o),l=(i||n)&&e[o];if(n&&(xo(l)||kT(l))||i&&Cs(l))return!0}return!1}var _T="4.5.1";const $T=["top","bottom","left","right","chartArea"];function im(e,t){return e==="top"||e==="bottom"||$T.indexOf(e)===-1&&t==="x"}function lm(e,t){return function(s,r){return s[e]===r[e]?s[t]-r[t]:s[e]-r[e]}}function dm(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),vs(s&&s.onComplete,[e],t)}function CT(e){const t=e.chart,s=t.options.animation;vs(s&&s.onProgress,[e],t)}function Ux(e){return Q0()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Zl={},cm=e=>{const t=Ux(e);return Object.values(Zl).filter(s=>s.canvas===t).pop()};function ST(e,t,s){const r=Object.keys(e);for(const o of r){const n=+o;if(n>=t){const i=e[o];delete e[o],(s>0||n>t)&&(e[n+s]=i)}}}function ET(e,t,s,r){return!s||e.type==="mouseout"?null:r?t:e}class lr{static register(...t){nr.add(...t),um()}static unregister(...t){nr.remove(...t),um()}constructor(t,s){const r=this.config=new bT(s),o=Ux(t),n=cm(o);if(n)throw new Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");const i=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||zE(o)),this.platform.updateConfig(r);const l=this.platform.acquireContext(o,i.aspectRatio),u=l&&l.canvas,m=u&&u.height,y=u&&u.width;if(this.id=T7(),this.ctx=l,this.canvas=u,this.width=y,this.height=m,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=z7(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],Zl[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Cr.listen(this,"complete",dm),Cr.listen(this,"progress",CT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:r,height:o,_aspectRatio:n}=this;return Zt(t)?s&&n?n:o?r/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return nr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Dp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Lp(this.canvas,this.ctx),this}stop(){return Cr.stop(this),this}resize(t,s){Cr.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const r=this.options,o=this.canvas,n=r.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(o,t,s,n),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,Dp(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),vs(r.onResize,[this,i],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};cs(s,(r,o)=>{r.id=o})}buildOrUpdateScales(){const t=this.options,s=t.scales,r=this.scales,o=Object.keys(r).reduce((i,l)=>(i[l]=!1,i),{});let n=[];s&&(n=n.concat(Object.keys(s).map(i=>{const l=s[i],u=ju(i,l),m=u==="r",y=u==="x";return{options:l,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),cs(n,i=>{const l=i.options,u=l.id,m=ju(u,l),y=Wt(l.type,i.dtype);(l.position===void 0||im(l.position,m)!==im(i.dposition))&&(l.position=i.dposition),o[u]=!0;let f=null;if(u in r&&r[u].type===y)f=r[u];else{const x=nr.getScale(y);f=new x({id:u,type:y,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,t)}),cs(o,(i,l)=>{i||delete r[l]}),cs(r,i=>{na.configure(this,i,i.options),na.addBox(this,i)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,r=t.length;if(t.sort((o,n)=>o.index-n.index),r>s){for(let o=s;o<r;++o)this._destroyDatasetMeta(o);t.splice(s,r-s)}this._sortedMetasets=t.slice(0).sort(lm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((r,o)=>{s.filter(n=>n===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=s.length;r<o;r++){const n=s[r];let i=this.getDatasetMeta(r);const l=n.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(r),i=this.getDatasetMeta(r)),i.type=l,i.indexAxis=n.indexAxis||Ru(l,this.options),i.order=n.order||0,i.index=r,i.label=""+n.label,i.visible=this.isDatasetVisible(r),i.controller)i.controller.updateIndex(r),i.controller.linkScales();else{const u=nr.getController(l),{datasetElementType:m,dataElementType:y}=Ss.datasets[l];Object.assign(u,{dataElementType:nr.getElement(y),datasetElementType:m&&nr.getElement(m)}),i.controller=new u(this,r),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){cs(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const r=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:f}=this.getDatasetMeta(m),x=!o&&n.indexOf(f)===-1;f.buildOrUpdateElements(x),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=r.layout.autoPadding?i:0,this._updateLayout(i),o||cs(n,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(lm("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){cs(this.scales,t=>{na.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!kp(s,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:n}of s){const i=r==="_removeElements"?-n:n;ST(t,o,i)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,r=n=>new Set(t.filter(i=>i[0]===n).map((i,l)=>l+","+i.splice(1).join(","))),o=r(0);for(let n=1;n<s;n++)if(!kp(o,r(n)))return;return Array.from(o).map(n=>n.split(",")).map(n=>({method:n[1],start:+n[2],count:+n[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;na.update(this,this.width,this.height,t);const s=this.chartArea,r=s.width<=0||s.height<=0;this._layers=[],cs(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,n)=>{o._idx=n}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,r=this.data.datasets.length;s<r;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,r=this.data.datasets.length;s<r;++s)this._updateDataset(s,xo(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const r=this.getDatasetMeta(t),o={meta:r,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(s),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Cr.has(this)?this.attached&&!Cr.running(this)&&Cr.start(this):(this.draw(),dm({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,r=[];let o,n;for(o=0,n=s.length;o<n;++o){const i=s[o];(!t||i.visible)&&r.push(i)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,r={meta:t,index:t.index,cancelable:!0},o=Lx(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&tc(s,o),t.controller.draw(),o&&sc(s),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return jr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,r,o){const n=$E.modes[s];return typeof n=="function"?n(this,t,r,o):[]}getDatasetMeta(t){const s=this.data.datasets[t],r=this._metasets;let o=r.filter(n=>n&&n._dataset===s).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=To(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!s.hidden}setDatasetVisibility(t,s){const r=this.getDatasetMeta(t);r.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,r){const o=r?"show":"hide",n=this.getDatasetMeta(t),i=n.controller._resolveAnimations(void 0,o);Wi(s)?(n.data[s].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),i.update(n,{visible:r}),this.update(l=>l.datasetIndex===t?o:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),Cr.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Lp(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Zl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,r=(n,i)=>{s.addEventListener(this,n,i),t[n]=i},o=(n,i,l)=>{n.offsetX=i,n.offsetY=l,this._eventHandler(n)};cs(this.options.events,n=>r(n,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,r=(u,m)=>{s.addEventListener(this,u,m),t[u]=m},o=(u,m)=>{t[u]&&(s.removeEventListener(this,u,m),delete t[u])},n=(u,m)=>{this.canvas&&this.resize(u,m)};let i;const l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",n),r("detach",i)};i=()=>{this.attached=!1,o("resize",n),this._stop(),this._resize(0,0),r("attach",l)},s.isAttached(this.canvas)?l():i()}unbindEvents(){cs(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},cs(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,r){const o=r?"set":"remove";let n,i,l,u;for(s==="dataset"&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller["_"+o+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){i=t[l];const m=i&&this.getDatasetMeta(i.datasetIndex).controller;m&&m[o+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],r=t.map(({datasetIndex:n,index:i})=>{const l=this.getDatasetMeta(n);if(!l)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:l.data[i],index:i}});!kd(r,s)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,s))}notifyPlugins(t,s,r){return this._plugins.notify(this,t,s,r)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,r){const o=this.options.hover,n=(u,m)=>u.filter(y=>!m.some(f=>y.datasetIndex===f.datasetIndex&&y.index===f.index)),i=n(s,t),l=r?t:n(t,s);i.length&&this.updateHoverStyle(i,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(t,s){const r={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},o=i=>(i.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const n=this._handleEvent(t,s,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(n||r.changed)&&this.render(),this}_handleEvent(t,s,r){const{_active:o=[],options:n}=this,i=s,l=this._getActiveElements(t,o,r,i),u=I7(t),m=ET(t,this._lastEvent,r,u);r&&(this._lastEvent=null,vs(n.onHover,[t,l,this],this),u&&vs(n.onClick,[t,l,this],this));const y=!kd(l,o);return(y||s)&&(this._active=l,this._updateHoverStyles(l,o,s)),this._lastEvent=m,y}_getActiveElements(t,s,r,o){if(t.type==="mouseout")return[];if(!r)return s;const n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,o)}}pt(lr,"defaults",Ss),pt(lr,"instances",Zl),pt(lr,"overrides",en),pt(lr,"registry",nr),pt(lr,"version",_T),pt(lr,"getChart",cm);function um(){return cs(lr.instances,e=>e._plugins.invalidate())}function TT(e,t,s){const{startAngle:r,x:o,y:n,outerRadius:i,innerRadius:l,options:u}=t,{borderWidth:m,borderJoinStyle:y}=u,f=Math.min(m/i,ta(r-s));if(e.beginPath(),e.arc(o,n,i-m/2,r+f/2,s-f/2),l>0){const x=Math.min(m/l,ta(r-s));e.arc(o,n,l+m/2,s-x/2,r+x/2,!0)}else{const x=Math.min(m/2,i*ta(r-s));if(y==="round")e.arc(o,n,x,s-os/2,r+os/2,!0);else if(y==="bevel"){const c=2*x*x,h=-c*Math.cos(s+os/2)+o,g=-c*Math.sin(s+os/2)+n,d=c*Math.cos(r+os/2)+o,p=c*Math.sin(r+os/2)+n;e.lineTo(h,g),e.lineTo(d,p)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function AT(e,t,s){const{startAngle:r,pixelMargin:o,x:n,y:i,outerRadius:l,innerRadius:u}=t;let m=o/l;e.beginPath(),e.arc(n,i,l,r-m,s+m),u>o?(m=o/u,e.arc(n,i,u,s+m,r-m,!0)):e.arc(n,i,o,s+Ds,r-Ds),e.closePath(),e.clip()}function LT(e){return K0(e,["outerStart","outerEnd","innerStart","innerEnd"])}function MT(e,t,s,r){const o=LT(e.options.borderRadius),n=(s-t)/2,i=Math.min(n,r*t/2),l=u=>{const m=(s-Math.min(n,u))*r/2;return qs(u,0,Math.min(n,m))};return{outerStart:l(o.outerStart),outerEnd:l(o.outerEnd),innerStart:qs(o.innerStart,0,i),innerEnd:qs(o.innerEnd,0,i)}}function cn(e,t,s,r){return{x:s+e*Math.cos(t),y:r+e*Math.sin(t)}}function Ed(e,t,s,r,o,n){const{x:i,y:l,startAngle:u,pixelMargin:m,innerRadius:y}=t,f=Math.max(t.outerRadius+r+s-m,0),x=y>0?y+r+s+m:0;let c=0;const h=o-u;if(r){const B=y>0?y-r:0,W=f>0?f-r:0,K=(B+W)/2,Z=K!==0?h*K/(K+r):h;c=(h-Z)/2}const g=Math.max(.001,h*f-s/os)/f,d=(h-g)/2,p=u+d+c,v=o-d-c,{outerStart:b,outerEnd:w,innerStart:E,innerEnd:C}=MT(t,x,f,v-p),T=f-b,P=f-w,A=p+b/T,j=v-w/P,V=x+E,H=x+C,R=p+E/V,M=v-C/H;if(e.beginPath(),n){const B=(A+j)/2;if(e.arc(i,l,f,A,B),e.arc(i,l,f,B,j),w>0){const Te=cn(P,j,i,l);e.arc(Te.x,Te.y,w,j,v+Ds)}const W=cn(H,v,i,l);if(e.lineTo(W.x,W.y),C>0){const Te=cn(H,M,i,l);e.arc(Te.x,Te.y,C,v+Ds,M+Math.PI)}const K=(v-C/x+(p+E/x))/2;if(e.arc(i,l,x,v-C/x,K,!0),e.arc(i,l,x,K,p+E/x,!0),E>0){const Te=cn(V,R,i,l);e.arc(Te.x,Te.y,E,R+Math.PI,p-Ds)}const Z=cn(T,p,i,l);if(e.lineTo(Z.x,Z.y),b>0){const Te=cn(T,A,i,l);e.arc(Te.x,Te.y,b,p-Ds,A)}}else{e.moveTo(i,l);const B=Math.cos(A)*f+i,W=Math.sin(A)*f+l;e.lineTo(B,W);const K=Math.cos(j)*f+i,Z=Math.sin(j)*f+l;e.lineTo(K,Z)}e.closePath()}function PT(e,t,s,r,o){const{fullCircles:n,startAngle:i,circumference:l}=t;let u=t.endAngle;if(n){Ed(e,t,s,r,u,o);for(let m=0;m<n;++m)e.fill();isNaN(l)||(u=i+(l%ks||ks))}return Ed(e,t,s,r,u,o),e.fill(),u}function DT(e,t,s,r,o){const{fullCircles:n,startAngle:i,circumference:l,options:u}=t,{borderWidth:m,borderJoinStyle:y,borderDash:f,borderDashOffset:x,borderRadius:c}=u,h=u.borderAlign==="inner";if(!m)return;e.setLineDash(f||[]),e.lineDashOffset=x,h?(e.lineWidth=m*2,e.lineJoin=y||"round"):(e.lineWidth=m,e.lineJoin=y||"bevel");let g=t.endAngle;if(n){Ed(e,t,s,r,g,o);for(let d=0;d<n;++d)e.stroke();isNaN(l)||(g=i+(l%ks||ks))}h&&AT(e,t,g),u.selfJoin&&g-i>=os&&c===0&&y!=="miter"&&TT(e,t,g),n||(Ed(e,t,s,r,g,o),e.stroke())}class di extends zr{constructor(s){super();pt(this,"circumference");pt(this,"endAngle");pt(this,"fullCircles");pt(this,"innerRadius");pt(this,"outerRadius");pt(this,"pixelMargin");pt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,r,o){const n=this.getProps(["x","y"],o),{angle:i,distance:l}=dx(n,{x:s,y:r}),{startAngle:u,endAngle:m,innerRadius:y,outerRadius:f,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),c=(this.options.spacing+this.options.borderWidth)/2,h=Wt(x,m-u),g=Ki(i,u,m)&&u!==m,d=h>=ks||g,p=Fr(l,y+c,f+c);return d&&p}getCenterPoint(s){const{x:r,y:o,startAngle:n,endAngle:i,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:m,spacing:y}=this.options,f=(n+i)/2,x=(l+u+y+m)/2;return{x:r+Math.cos(f)*x,y:o+Math.sin(f)*x}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:r,circumference:o}=this,n=(r.offset||0)/4,i=(r.spacing||0)/2,l=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=o>ks?Math.floor(o/ks):0,o===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const u=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(u)*n,Math.sin(u)*n);const m=1-Math.sin(Math.min(os,o||0)),y=n*m;s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor,PT(s,this,y,i,l),DT(s,this,y,i,l),s.restore()}}pt(di,"id","arc"),pt(di,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),pt(di,"defaultRoutes",{backgroundColor:"backgroundColor"}),pt(di,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function Hx(e,t,s=t){e.lineCap=Wt(s.borderCapStyle,t.borderCapStyle),e.setLineDash(Wt(s.borderDash,t.borderDash)),e.lineDashOffset=Wt(s.borderDashOffset,t.borderDashOffset),e.lineJoin=Wt(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Wt(s.borderWidth,t.borderWidth),e.strokeStyle=Wt(s.borderColor,t.borderColor)}function IT(e,t,s){e.lineTo(s.x,s.y)}function OT(e){return e.stepped?a9:e.tension||e.cubicInterpolationMode==="monotone"?r9:IT}function qx(e,t,s={}){const r=e.length,{start:o=0,end:n=r-1}=s,{start:i,end:l}=t,u=Math.max(o,i),m=Math.min(n,l),y=o<i&&n<i||o>l&&n>l;return{count:r,start:u,loop:t.loop,ilen:m<u&&!y?r+m-u:m-u}}function FT(e,t,s,r){const{points:o,options:n}=t,{count:i,start:l,loop:u,ilen:m}=qx(o,s,r),y=OT(n);let{move:f=!0,reverse:x}=r||{},c,h,g;for(c=0;c<=m;++c)h=o[(l+(x?m-c:c))%i],!h.skip&&(f?(e.moveTo(h.x,h.y),f=!1):y(e,g,h,x,n.stepped),g=h);return u&&(h=o[(l+(x?m:0))%i],y(e,g,h,x,n.stepped)),!!u}function RT(e,t,s,r){const o=t.points,{count:n,start:i,ilen:l}=qx(o,s,r),{move:u=!0,reverse:m}=r||{};let y=0,f=0,x,c,h,g,d,p;const v=w=>(i+(m?l-w:w))%n,b=()=>{g!==d&&(e.lineTo(y,d),e.lineTo(y,g),e.lineTo(y,p))};for(u&&(c=o[v(0)],e.moveTo(c.x,c.y)),x=0;x<=l;++x){if(c=o[v(x)],c.skip)continue;const w=c.x,E=c.y,C=w|0;C===h?(E<g?g=E:E>d&&(d=E),y=(f*y+w)/++f):(b(),e.lineTo(w,E),h=C,f=0,g=d=E),p=E}b()}function Nu(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?RT:FT}function jT(e){return e.stepped?F9:e.tension||e.cubicInterpolationMode==="monotone"?R9:Vo}function NT(e,t,s,r){let o=t._path;o||(o=t._path=new Path2D,t.path(o,s,r)&&o.closePath()),Hx(e,t.options),e.stroke(o)}function VT(e,t,s,r){const{segments:o,options:n}=t,i=Nu(t);for(const l of o)Hx(e,n,l.style),e.beginPath(),i(e,t,l,{start:s,end:s+r-1})&&e.closePath(),e.stroke()}const BT=typeof Path2D=="function";function UT(e,t,s,r){BT&&!t.options.segment?NT(e,t,s,r):VT(e,t,s,r)}class io extends zr{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const o=r.spanGaps?this._loop:this._fullLoop;T9(this._points,r,t,o,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=H9(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,r=t.length;return r&&s[t[r-1].end]}interpolate(t,s){const r=this.options,o=t[s],n=this.points,i=Ax(this,{property:s,start:o,end:o});if(!i.length)return;const l=[],u=jT(r);let m,y;for(m=0,y=i.length;m<y;++m){const{start:f,end:x}=i[m],c=n[f],h=n[x];if(c===h){l.push(c);continue}const g=Math.abs((o-c[s])/(h[s]-c[s])),d=u(c,h,g,r.stepped);d[s]=t[s],l.push(d)}return l.length===1?l[0]:l}pathSegment(t,s,r){return Nu(this)(t,this,s,r)}path(t,s,r){const o=this.segments,n=Nu(this);let i=this._loop;s=s||0,r=r||this.points.length-s;for(const l of o)i&=n(t,this,l,{start:s,end:s+r-1});return!!i}draw(t,s,r,o){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),UT(t,this,r,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}pt(io,"id","line"),pt(io,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),pt(io,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),pt(io,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function hm(e,t,s,r){const o=e.options,{[s]:n}=e.getProps([s],r);return Math.abs(t-n)<o.radius+o.hitRadius}class ed extends zr{constructor(s){super();pt(this,"parsed");pt(this,"skip");pt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,r,o){const n=this.options,{x:i,y:l}=this.getProps(["x","y"],o);return Math.pow(s-i,2)+Math.pow(r-l,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(s,r){return hm(this,s,"x",r)}inYRange(s,r){return hm(this,s,"y",r)}getCenterPoint(s){const{x:r,y:o}=this.getProps(["x","y"],s);return{x:r,y:o}}size(s){s=s||this.options||{};let r=s.radius||0;r=Math.max(r,r&&s.hoverRadius||0);const o=r&&s.borderWidth||0;return(r+o)*2}draw(s,r){const o=this.options;this.skip||o.radius<.1||!jr(this,r,this.size(o)/2)||(s.strokeStyle=o.borderColor,s.lineWidth=o.borderWidth,s.fillStyle=o.backgroundColor,Ou(s,o,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}pt(ed,"id","point"),pt(ed,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),pt(ed,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function zx(e,t){const{x:s,y:r,base:o,width:n,height:i}=e.getProps(["x","y","base","width","height"],t);let l,u,m,y,f;return e.horizontal?(f=i/2,l=Math.min(s,o),u=Math.max(s,o),m=r-f,y=r+f):(f=n/2,l=s-f,u=s+f,m=Math.min(r,o),y=Math.max(r,o)),{left:l,top:m,right:u,bottom:y}}function lo(e,t,s,r){return e?0:qs(t,s,r)}function HT(e,t,s){const r=e.options.borderWidth,o=e.borderSkipped,n=vx(r);return{t:lo(o.top,n.top,0,s),r:lo(o.right,n.right,0,t),b:lo(o.bottom,n.bottom,0,s),l:lo(o.left,n.left,0,t)}}function qT(e,t,s){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,n=Go(o),i=Math.min(t,s),l=e.borderSkipped,u=r||es(o);return{topLeft:lo(!u||l.top||l.left,n.topLeft,0,i),topRight:lo(!u||l.top||l.right,n.topRight,0,i),bottomLeft:lo(!u||l.bottom||l.left,n.bottomLeft,0,i),bottomRight:lo(!u||l.bottom||l.right,n.bottomRight,0,i)}}function zT(e){const t=zx(e),s=t.right-t.left,r=t.bottom-t.top,o=HT(e,s/2,r/2),n=qT(e,s/2,r/2);return{outer:{x:t.left,y:t.top,w:s,h:r,radius:n},inner:{x:t.left+o.l,y:t.top+o.t,w:s-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,n.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(o.b,o.r))}}}}function Uc(e,t,s,r){const o=t===null,n=s===null,l=e&&!(o&&n)&&zx(e,r);return l&&(o||Fr(t,l.left,l.right))&&(n||Fr(s,l.top,l.bottom))}function WT(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function KT(e,t){e.rect(t.x,t.y,t.w,t.h)}function Hc(e,t,s={}){const r=e.x!==s.x?-t:0,o=e.y!==s.y?-t:0,n=(e.x+e.w!==s.x+s.w?t:0)-r,i=(e.y+e.h!==s.y+s.h?t:0)-o;return{x:e.x+r,y:e.y+o,w:e.w+n,h:e.h+i,radius:e.radius}}class td extends zr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:r,backgroundColor:o}}=this,{inner:n,outer:i}=zT(this),l=WT(i.radius)?Yi:KT;t.save(),(i.w!==n.w||i.h!==n.h)&&(t.beginPath(),l(t,Hc(i,s,n)),t.clip(),l(t,Hc(n,-s,i)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),l(t,Hc(n,s)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,s,r){return Uc(this,t,s,r)}inXRange(t,s){return Uc(this,t,null,s)}inYRange(t,s){return Uc(this,null,t,s)}getCenterPoint(t){const{x:s,y:r,base:o,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return{x:n?(s+o)/2:s,y:n?r:(r+o)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}pt(td,"id","bar"),pt(td,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),pt(td,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var YT=Object.freeze({__proto__:null,ArcElement:di,BarElement:td,LineElement:io,PointElement:ed});const Vu=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],gm=Vu.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Wx(e){return Vu[e%Vu.length]}function Kx(e){return gm[e%gm.length]}function GT(e,t){return e.borderColor=Wx(t),e.backgroundColor=Kx(t),++t}function JT(e,t){return e.backgroundColor=e.data.map(()=>Wx(t++)),t}function QT(e,t){return e.backgroundColor=e.data.map(()=>Kx(t++)),t}function XT(e){let t=0;return(s,r)=>{const o=e.getDatasetMeta(r).controller;o instanceof qo?t=JT(s,t):o instanceof Si?t=QT(s,t):o&&(t=GT(s,t))}}function pm(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function ZT(e){return e&&(e.borderColor||e.backgroundColor)}function eA(){return Ss.borderColor!=="rgba(0,0,0,0.1)"||Ss.backgroundColor!=="rgba(0,0,0,0.1)"}var tA={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,s){if(!s.enabled)return;const{data:{datasets:r},options:o}=e.config,{elements:n}=o,i=pm(r)||ZT(o)||n&&pm(n)||eA();if(!s.forceOverride&&i)return;const l=XT(e);r.forEach(l)}};function sA(e,t,s,r,o){const n=o.samples||r;if(n>=s)return e.slice(t,t+s);const i=[],l=(s-2)/(n-2);let u=0;const m=t+s-1;let y=t,f,x,c,h,g;for(i[u++]=e[y],f=0;f<n-2;f++){let d=0,p=0,v;const b=Math.floor((f+1)*l)+1+t,w=Math.min(Math.floor((f+2)*l)+1,s)+t,E=w-b;for(v=b;v<w;v++)d+=e[v].x,p+=e[v].y;d/=E,p/=E;const C=Math.floor(f*l)+1+t,T=Math.min(Math.floor((f+1)*l)+1,s)+t,{x:P,y:A}=e[y];for(c=h=-1,v=C;v<T;v++)h=.5*Math.abs((P-d)*(e[v].y-A)-(P-e[v].x)*(p-A)),h>c&&(c=h,x=e[v],g=v);i[u++]=x,y=g}return i[u++]=e[m],i}function aA(e,t,s,r){let o=0,n=0,i,l,u,m,y,f,x,c,h,g;const d=[],p=t+s-1,v=e[t].x,w=e[p].x-v;for(i=t;i<t+s;++i){l=e[i],u=(l.x-v)/w*r,m=l.y;const E=u|0;if(E===y)m<h?(h=m,f=i):m>g&&(g=m,x=i),o=(n*o+l.x)/++n;else{const C=i-1;if(!Zt(f)&&!Zt(x)){const T=Math.min(f,x),P=Math.max(f,x);T!==c&&T!==C&&d.push({...e[T],x:o}),P!==c&&P!==C&&d.push({...e[P],x:o})}i>0&&C!==c&&d.push(e[C]),d.push(l),y=E,n=0,h=g=m,f=x=c=i}}return d}function Yx(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function mm(e){e.data.datasets.forEach(t=>{Yx(t)})}function rA(e,t){const s=t.length;let r=0,o;const{iScale:n}=e,{min:i,max:l,minDefined:u,maxDefined:m}=n.getUserBounds();return u&&(r=qs(Rr(t,n.axis,i).lo,0,s-1)),m?o=qs(Rr(t,n.axis,l).hi+1,r,s)-r:o=s-r,{start:r,count:o}}var oA={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,s)=>{if(!s.enabled){mm(e);return}const r=e.width;e.data.datasets.forEach((o,n)=>{const{_data:i,indexAxis:l}=o,u=e.getDatasetMeta(n),m=i||o.data;if(ii([l,e.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const y=e.scales[u.xAxisID];if(y.type!=="linear"&&y.type!=="time"||e.options.parsing)return;let{start:f,count:x}=rA(u,m);const c=s.threshold||4*r;if(x<=c){Yx(o);return}Zt(i)&&(o._data=m,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let h;switch(s.algorithm){case"lttb":h=sA(m,f,x,r,s);break;case"min-max":h=aA(m,f,x,r);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}o._decimated=h})},destroy(e){mm(e)}};function nA(e,t,s){const r=e.segments,o=e.points,n=t.points,i=[];for(const l of r){let{start:u,end:m}=l;m=oc(u,m,o);const y=Bu(s,o[u],o[m],l.loop);if(!t.segments){i.push({source:l,target:y,start:o[u],end:o[m]});continue}const f=Ax(t,y);for(const x of f){const c=Bu(s,n[x.start],n[x.end],x.loop),h=Tx(l,o,c);for(const g of h)i.push({source:g,target:x,start:{[s]:fm(y,c,"start",Math.max)},end:{[s]:fm(y,c,"end",Math.min)}})}}return i}function Bu(e,t,s,r){if(r)return;let o=t[e],n=s[e];return e==="angle"&&(o=ta(o),n=ta(n)),{property:e,start:o,end:n}}function iA(e,t){const{x:s=null,y:r=null}=e||{},o=t.points,n=[];return t.segments.forEach(({start:i,end:l})=>{l=oc(i,l,o);const u=o[i],m=o[l];r!==null?(n.push({x:u.x,y:r}),n.push({x:m.x,y:r})):s!==null&&(n.push({x:s,y:u.y}),n.push({x:s,y:m.y}))}),n}function oc(e,t,s){for(;t>e;t--){const r=s[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function fm(e,t,s,r){return e&&t?r(e[s],t[s]):e?e[s]:t?t[s]:0}function Gx(e,t){let s=[],r=!1;return Cs(e)?(r=!0,s=e):s=iA(e,t),s.length?new io({points:s,options:{tension:0},_loop:r,_fullLoop:r}):null}function ym(e){return e&&e.fill!==!1}function lA(e,t,s){let o=e[t].fill;const n=[t];let i;if(!s)return o;for(;o!==!1&&n.indexOf(o)===-1;){if(!Ls(o))return o;if(i=e[o],!i)return!1;if(i.visible)return o;n.push(o),o=i.fill}return!1}function dA(e,t,s){const r=gA(e);if(es(r))return isNaN(r.value)?!1:r;let o=parseFloat(r);return Ls(o)&&Math.floor(o)===o?cA(r[0],t,o,s):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function cA(e,t,s,r){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=r?!1:s}function uA(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:es(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function hA(e,t,s){let r;return e==="start"?r=s:e==="end"?r=t.options.reverse?t.min:t.max:es(e)?r=e.value:r=t.getBaseValue(),r}function gA(e){const t=e.options,s=t.fill;let r=Wt(s&&s.target,s);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function pA(e){const{scale:t,index:s,line:r}=e,o=[],n=r.segments,i=r.points,l=mA(t,s);l.push(Gx({x:null,y:t.bottom},r));for(let u=0;u<n.length;u++){const m=n[u];for(let y=m.start;y<=m.end;y++)fA(o,i[y],l)}return new io({points:o,options:{}})}function mA(e,t){const s=[],r=e.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){const n=r[o];if(n.index===t)break;n.hidden||s.unshift(n.dataset)}return s}function fA(e,t,s){const r=[];for(let o=0;o<s.length;o++){const n=s[o],{first:i,last:l,point:u}=yA(n,t,"x");if(!(!u||i&&l)){if(i)r.unshift(u);else if(e.push(u),!l)break}}e.push(...r)}function yA(e,t,s){const r=e.interpolate(t,s);if(!r)return{};const o=r[s],n=e.segments,i=e.points;let l=!1,u=!1;for(let m=0;m<n.length;m++){const y=n[m],f=i[y.start][s],x=i[y.end][s];if(Fr(o,f,x)){l=o===f,u=o===x;break}}return{first:l,last:u,point:r}}class Jx{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,r){const{x:o,y:n,radius:i}=this;return s=s||{start:0,end:ks},t.arc(o,n,i,s.end,s.start,!0),!r.bounds}interpolate(t){const{x:s,y:r,radius:o}=this,n=t.angle;return{x:s+Math.cos(n)*o,y:r+Math.sin(n)*o,angle:n}}}function vA(e){const{chart:t,fill:s,line:r}=e;if(Ls(s))return xA(t,s);if(s==="stack")return pA(e);if(s==="shape")return!0;const o=bA(e);return o instanceof Jx?o:Gx(o,r)}function xA(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function bA(e){return(e.scale||{}).getPointPositionForValue?wA(e):kA(e)}function kA(e){const{scale:t={},fill:s}=e,r=uA(s,t);if(Ls(r)){const o=t.isHorizontal();return{x:o?r:null,y:o?null:r}}return null}function wA(e){const{scale:t,fill:s}=e,r=t.options,o=t.getLabels().length,n=r.reverse?t.max:t.min,i=hA(s,t,n),l=[];if(r.grid.circular){const u=t.getPointPositionForValue(0,n);return new Jx({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(i)})}for(let u=0;u<o;++u)l.push(t.getPointPositionForValue(u,i));return l}function qc(e,t,s){const r=vA(t),{chart:o,index:n,line:i,scale:l,axis:u}=t,m=i.options,y=m.fill,f=m.backgroundColor,{above:x=f,below:c=f}=y||{},h=o.getDatasetMeta(n),g=Lx(o,h);r&&i.points.length&&(tc(e,s),_A(e,{line:i,target:r,above:x,below:c,area:s,scale:l,axis:u,clip:g}),sc(e))}function _A(e,t){const{line:s,target:r,above:o,below:n,area:i,scale:l,clip:u}=t,m=s._loop?"angle":t.axis;e.save();let y=n;n!==o&&(m==="x"?(vm(e,r,i.top),zc(e,{line:s,target:r,color:o,scale:l,property:m,clip:u}),e.restore(),e.save(),vm(e,r,i.bottom)):m==="y"&&(xm(e,r,i.left),zc(e,{line:s,target:r,color:n,scale:l,property:m,clip:u}),e.restore(),e.save(),xm(e,r,i.right),y=o)),zc(e,{line:s,target:r,color:y,scale:l,property:m,clip:u}),e.restore()}function vm(e,t,s){const{segments:r,points:o}=t;let n=!0,i=!1;e.beginPath();for(const l of r){const{start:u,end:m}=l,y=o[u],f=o[oc(u,m,o)];n?(e.moveTo(y.x,y.y),n=!1):(e.lineTo(y.x,s),e.lineTo(y.x,y.y)),i=!!t.pathSegment(e,l,{move:i}),i?e.closePath():e.lineTo(f.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function xm(e,t,s){const{segments:r,points:o}=t;let n=!0,i=!1;e.beginPath();for(const l of r){const{start:u,end:m}=l,y=o[u],f=o[oc(u,m,o)];n?(e.moveTo(y.x,y.y),n=!1):(e.lineTo(s,y.y),e.lineTo(y.x,y.y)),i=!!t.pathSegment(e,l,{move:i}),i?e.closePath():e.lineTo(s,f.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function zc(e,t){const{line:s,target:r,property:o,color:n,scale:i,clip:l}=t,u=nA(s,r,o);for(const{source:m,target:y,start:f,end:x}of u){const{style:{backgroundColor:c=n}={}}=m,h=r!==!0;e.save(),e.fillStyle=c,$A(e,i,l,h&&Bu(o,f,x)),e.beginPath();const g=!!s.pathSegment(e,m);let d;if(h){g?e.closePath():bm(e,r,x,o);const p=!!r.pathSegment(e,y,{move:g,reverse:!0});d=g&&p,d||bm(e,r,f,o)}e.closePath(),e.fill(d?"evenodd":"nonzero"),e.restore()}}function $A(e,t,s,r){const o=t.chart.chartArea,{property:n,start:i,end:l}=r||{};if(n==="x"||n==="y"){let u,m,y,f;n==="x"?(u=i,m=o.top,y=l,f=o.bottom):(u=o.left,m=i,y=o.right,f=l),e.beginPath(),s&&(u=Math.max(u,s.left),y=Math.min(y,s.right),m=Math.max(m,s.top),f=Math.min(f,s.bottom)),e.rect(u,m,y-u,f-m),e.clip()}}function bm(e,t,s,r){const o=t.interpolate(s,r);o&&e.lineTo(o.x,o.y)}var CA={id:"filler",afterDatasetsUpdate(e,t,s){const r=(e.data.datasets||[]).length,o=[];let n,i,l,u;for(i=0;i<r;++i)n=e.getDatasetMeta(i),l=n.dataset,u=null,l&&l.options&&l instanceof io&&(u={visible:e.isDatasetVisible(i),index:i,fill:dA(l,i,r),chart:e,axis:n.controller.options.indexAxis,scale:n.vScale,line:l}),n.$filler=u,o.push(u);for(i=0;i<r;++i)u=o[i],!(!u||u.fill===!1)&&(u.fill=lA(o,i,s.propagate))},beforeDraw(e,t,s){const r=s.drawTime==="beforeDraw",o=e.getSortedVisibleDatasetMetas(),n=e.chartArea;for(let i=o.length-1;i>=0;--i){const l=o[i].$filler;l&&(l.line.updateControlPoints(n,l.axis),r&&l.fill&&qc(e.ctx,l,n))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const r=e.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){const n=r[o].$filler;ym(n)&&qc(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,t,s){const r=t.meta.$filler;!ym(r)||s.drawTime!=="beforeDatasetDraw"||qc(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const km=(e,t)=>{let{boxHeight:s=t,boxWidth:r=t}=e;return e.usePointStyle&&(s=Math.min(s,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:s,itemHeight:Math.max(t,s)}},SA=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class wm extends zr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,r){this.maxWidth=t,this.maxHeight=s,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=vs(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(r=>t.filter(r,this.chart.data))),t.sort&&(s=s.sort((r,o)=>t.sort(r,o,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,o=js(r.font),n=o.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=km(r,n);let m,y;s.font=o.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(i,n,l,u)+10):(y=this.maxHeight,m=this._fitCols(i,o,l,u)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,s,r,o){const{ctx:n,maxWidth:i,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],m=this.lineWidths=[0],y=o+l;let f=t;n.textAlign="left",n.textBaseline="middle";let x=-1,c=-y;return this.legendItems.forEach((h,g)=>{const d=r+s/2+n.measureText(h.text).width;(g===0||m[m.length-1]+d+2*l>i)&&(f+=y,m[m.length-(g>0?0:1)]=0,c+=y,x++),u[g]={left:0,top:c,row:x,width:d,height:o},m[m.length-1]+=d+l}),f}_fitCols(t,s,r,o){const{ctx:n,maxHeight:i,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],m=this.columnSizes=[],y=i-t;let f=l,x=0,c=0,h=0,g=0;return this.legendItems.forEach((d,p)=>{const{itemWidth:v,itemHeight:b}=EA(r,s,n,d,o);p>0&&c+b+2*l>y&&(f+=x+l,m.push({width:x,height:c}),h+=x+l,g++,x=c=0),u[p]={left:h,top:c,col:g,width:v,height:b},x=Math.max(x,v),c+=b+l}),f+=x,m.push({width:x,height:c}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:r,labels:{padding:o},rtl:n}}=this,i=_n(n,this.left,this.width);if(this.isHorizontal()){let l=0,u=Zs(r,this.left+o,this.right-this.lineWidths[l]);for(const m of s)l!==m.row&&(l=m.row,u=Zs(r,this.left+o,this.right-this.lineWidths[l])),m.top+=this.top+t+o,m.left=i.leftForLtr(i.x(u),m.width),u+=m.width+o}else{let l=0,u=Zs(r,this.top+t+o,this.bottom-this.columnSizes[l].height);for(const m of s)m.col!==l&&(l=m.col,u=Zs(r,this.top+t+o,this.bottom-this.columnSizes[l].height)),m.top=u,m.left+=this.left+o,m.left=i.leftForLtr(i.x(m.left),m.width),u+=m.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;tc(t,this),this._draw(),sc(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:r,ctx:o}=this,{align:n,labels:i}=t,l=Ss.color,u=_n(t.rtl,this.left,this.width),m=js(i.font),{padding:y}=i,f=m.size,x=f/2;let c;this.drawTitle(),o.textAlign=u.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=m.string;const{boxWidth:h,boxHeight:g,itemHeight:d}=km(i,f),p=function(C,T,P){if(isNaN(h)||h<=0||isNaN(g)||g<0)return;o.save();const A=Wt(P.lineWidth,1);if(o.fillStyle=Wt(P.fillStyle,l),o.lineCap=Wt(P.lineCap,"butt"),o.lineDashOffset=Wt(P.lineDashOffset,0),o.lineJoin=Wt(P.lineJoin,"miter"),o.lineWidth=A,o.strokeStyle=Wt(P.strokeStyle,l),o.setLineDash(Wt(P.lineDash,[])),i.usePointStyle){const j={radius:g*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:A},V=u.xPlus(C,h/2),H=T+x;yx(o,j,V,H,i.pointStyleWidth&&h)}else{const j=T+Math.max((f-g)/2,0),V=u.leftForLtr(C,h),H=Go(P.borderRadius);o.beginPath(),Object.values(H).some(R=>R!==0)?Yi(o,{x:V,y:j,w:h,h:g,radius:H}):o.rect(V,j,h,g),o.fill(),A!==0&&o.stroke()}o.restore()},v=function(C,T,P){tn(o,P.text,C,T+d/2,m,{strikethrough:P.hidden,textAlign:u.textAlign(P.textAlign)})},b=this.isHorizontal(),w=this._computeTitleHeight();b?c={x:Zs(n,this.left+y,this.right-r[0]),y:this.top+y+w,line:0}:c={x:this.left+y,y:Zs(n,this.top+w+y,this.bottom-s[0].height),line:0},Cx(this.ctx,t.textDirection);const E=d+y;this.legendItems.forEach((C,T)=>{o.strokeStyle=C.fontColor,o.fillStyle=C.fontColor;const P=o.measureText(C.text).width,A=u.textAlign(C.textAlign||(C.textAlign=i.textAlign)),j=h+x+P;let V=c.x,H=c.y;u.setWidth(this.width),b?T>0&&V+j+y>this.right&&(H=c.y+=E,c.line++,V=c.x=Zs(n,this.left+y,this.right-r[c.line])):T>0&&H+E>this.bottom&&(V=c.x=V+s[c.line].width+y,c.line++,H=c.y=Zs(n,this.top+w+y,this.bottom-s[c.line].height));const R=u.x(V);if(p(R,H,C),V=W7(A,V+h+x,b?V+j:this.right,t.rtl),v(u.x(V),H,C),b)c.x+=j+y;else if(typeof C.text!="string"){const M=m.lineHeight;c.y+=Qx(C,M)+y}else c.y+=E}),Sx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,r=js(s.font),o=da(s.padding);if(!s.display)return;const n=_n(t.rtl,this.left,this.width),i=this.ctx,l=s.position,u=r.size/2,m=o.top+u;let y,f=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),y=this.top+m,f=Zs(t.align,f,this.right-x);else{const h=this.columnSizes.reduce((g,d)=>Math.max(g,d.height),0);y=m+Zs(t.align,this.top,this.bottom-h-t.labels.padding-this._computeTitleHeight())}const c=Zs(l,f,f+x);i.textAlign=n.textAlign(z0(l)),i.textBaseline="middle",i.strokeStyle=s.color,i.fillStyle=s.color,i.font=r.string,tn(i,s.text,c,y,r)}_computeTitleHeight(){const t=this.options.title,s=js(t.font),r=da(t.padding);return t.display?s.lineHeight+r.height:0}_getLegendItemAt(t,s){let r,o,n;if(Fr(t,this.left,this.right)&&Fr(s,this.top,this.bottom)){for(n=this.legendHitBoxes,r=0;r<n.length;++r)if(o=n[r],Fr(t,o.left,o.left+o.width)&&Fr(s,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(t){const s=this.options;if(!LA(t.type,s))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const o=this._hoveredItem,n=SA(o,r);o&&!n&&vs(s.onLeave,[t,o,this],this),this._hoveredItem=r,r&&!n&&vs(s.onHover,[t,r,this],this)}else r&&vs(s.onClick,[t,r,this],this)}}function EA(e,t,s,r,o){const n=TA(r,e,t,s),i=AA(o,r,t.lineHeight);return{itemWidth:n,itemHeight:i}}function TA(e,t,s,r){let o=e.text;return o&&typeof o!="string"&&(o=o.reduce((n,i)=>n.length>i.length?n:i)),t+s.size/2+r.measureText(o).width}function AA(e,t,s){let r=e;return typeof t.text!="string"&&(r=Qx(t,s)),r}function Qx(e,t){const s=e.text?e.text.length:0;return t*s}function LA(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var MA={id:"legend",_element:wm,start(e,t,s){const r=e.legend=new wm({ctx:e.ctx,options:s,chart:e});na.configure(e,r,s),na.addBox(e,r)},stop(e){na.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const r=e.legend;na.configure(e,r,s),r.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const r=t.datasetIndex,o=s.chart;o.isDatasetVisible(r)?(o.hide(r),t.hidden=!0):(o.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:r,textAlign:o,color:n,useBorderRadius:i,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const m=u.controller.getStyle(s?0:void 0),y=da(m.borderWidth);return{text:t[u.index].label,fillStyle:m.backgroundColor,fontColor:n,hidden:!u.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:r||m.pointStyle,rotation:m.rotation,textAlign:o||m.textAlign,borderRadius:i&&(l||m.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class eh extends zr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const o=Cs(r.text)?r.text.length:1;this._padding=da(r.padding);const n=o*js(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:r,bottom:o,right:n,options:i}=this,l=i.align;let u=0,m,y,f;return this.isHorizontal()?(y=Zs(l,r,n),f=s+t,m=n-r):(i.position==="left"?(y=r+t,f=Zs(l,o,s),u=os*-.5):(y=n-t,f=Zs(l,s,o),u=os*.5),m=o-s),{titleX:y,titleY:f,maxWidth:m,rotation:u}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const r=js(s.font),n=r.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:u,rotation:m}=this._drawArgs(n);tn(t,s.text,0,0,r,{color:s.color,maxWidth:u,rotation:m,textAlign:z0(s.align),textBaseline:"middle",translation:[i,l]})}}function PA(e,t){const s=new eh({ctx:e.ctx,options:t,chart:e});na.configure(e,s,t),na.addBox(e,s),e.titleBlock=s}var DA={id:"title",_element:eh,start(e,t,s){PA(e,s)},stop(e){const t=e.titleBlock;na.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const r=e.titleBlock;na.configure(e,r,s),r.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Il=new WeakMap;var IA={id:"subtitle",start(e,t,s){const r=new eh({ctx:e.ctx,options:s,chart:e});na.configure(e,r,s),na.addBox(e,r),Il.set(e,r)},stop(e){na.removeBox(e,Il.get(e)),Il.delete(e)},beforeUpdate(e,t,s){const r=Il.get(e);na.configure(e,r,s),r.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ci={average(e){if(!e.length)return!1;let t,s,r=new Set,o=0,n=0;for(t=0,s=e.length;t<s;++t){const l=e[t].element;if(l&&l.hasValue()){const u=l.tooltipPosition();r.add(u.x),o+=u.y,++n}}return n===0||r.size===0?!1:{x:[...r].reduce((l,u)=>l+u)/r.size,y:o/n}},nearest(e,t){if(!e.length)return!1;let s=t.x,r=t.y,o=Number.POSITIVE_INFINITY,n,i,l;for(n=0,i=e.length;n<i;++n){const u=e[n].element;if(u&&u.hasValue()){const m=u.getCenterPoint(),y=Du(t,m);y<o&&(o=y,l=u)}}if(l){const u=l.tooltipPosition();s=u.x,r=u.y}return{x:s,y:r}}};function rr(e,t){return t&&(Cs(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Sr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function OA(e,t){const{element:s,datasetIndex:r,index:o}=t,n=e.getDatasetMeta(r).controller,{label:i,value:l}=n.getLabelAndValue(o);return{chart:e,label:i,parsed:n.getParsed(o),raw:e.data.datasets[r].data[o],formattedValue:l,dataset:n.getDataset(),dataIndex:o,datasetIndex:r,element:s}}function _m(e,t){const s=e.chart.ctx,{body:r,footer:o,title:n}=e,{boxWidth:i,boxHeight:l}=t,u=js(t.bodyFont),m=js(t.titleFont),y=js(t.footerFont),f=n.length,x=o.length,c=r.length,h=da(t.padding);let g=h.height,d=0,p=r.reduce((w,E)=>w+E.before.length+E.lines.length+E.after.length,0);if(p+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*m.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),p){const w=t.displayColors?Math.max(l,u.lineHeight):u.lineHeight;g+=c*w+(p-c)*u.lineHeight+(p-1)*t.bodySpacing}x&&(g+=t.footerMarginTop+x*y.lineHeight+(x-1)*t.footerSpacing);let v=0;const b=function(w){d=Math.max(d,s.measureText(w).width+v)};return s.save(),s.font=m.string,cs(e.title,b),s.font=u.string,cs(e.beforeBody.concat(e.afterBody),b),v=t.displayColors?i+2+t.boxPadding:0,cs(r,w=>{cs(w.before,b),cs(w.lines,b),cs(w.after,b)}),v=0,s.font=y.string,cs(e.footer,b),s.restore(),d+=h.width,{width:d,height:g}}function FA(e,t){const{y:s,height:r}=t;return s<r/2?"top":s>e.height-r/2?"bottom":"center"}function RA(e,t,s,r){const{x:o,width:n}=r,i=s.caretSize+s.caretPadding;if(e==="left"&&o+n+i>t.width||e==="right"&&o-n-i<0)return!0}function jA(e,t,s,r){const{x:o,width:n}=s,{width:i,chartArea:{left:l,right:u}}=e;let m="center";return r==="center"?m=o<=(l+u)/2?"left":"right":o<=n/2?m="left":o>=i-n/2&&(m="right"),RA(m,e,t,s)&&(m="center"),m}function $m(e,t,s){const r=s.yAlign||t.yAlign||FA(e,s);return{xAlign:s.xAlign||t.xAlign||jA(e,t,s,r),yAlign:r}}function NA(e,t){let{x:s,width:r}=e;return t==="right"?s-=r:t==="center"&&(s-=r/2),s}function VA(e,t,s){let{y:r,height:o}=e;return t==="top"?r+=s:t==="bottom"?r-=o+s:r-=o/2,r}function Cm(e,t,s,r){const{caretSize:o,caretPadding:n,cornerRadius:i}=e,{xAlign:l,yAlign:u}=s,m=o+n,{topLeft:y,topRight:f,bottomLeft:x,bottomRight:c}=Go(i);let h=NA(t,l);const g=VA(t,u,m);return u==="center"?l==="left"?h+=m:l==="right"&&(h-=m):l==="left"?h-=Math.max(y,x)+o:l==="right"&&(h+=Math.max(f,c)+o),{x:qs(h,0,r.width-t.width),y:qs(g,0,r.height-t.height)}}function Ol(e,t,s){const r=da(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Sm(e){return rr([],Sr(e))}function BA(e,t,s){return To(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function Em(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Xx={beforeTitle:_r,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,r=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return s[t.dataIndex]}return""},afterTitle:_r,beforeBody:_r,beforeLabel:_r,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Zt(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:_r,afterBody:_r,beforeFooter:_r,footer:_r,afterFooter:_r};function va(e,t,s,r){const o=e[t].call(s,r);return typeof o>"u"?Xx[t].call(s,r):o}class Uu extends zr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&s.options.animation&&r.animations,n=new Mx(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=BA(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:r}=s,o=va(r,"beforeTitle",this,t),n=va(r,"title",this,t),i=va(r,"afterTitle",this,t);let l=[];return l=rr(l,Sr(o)),l=rr(l,Sr(n)),l=rr(l,Sr(i)),l}getBeforeBody(t,s){return Sm(va(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:r}=s,o=[];return cs(t,n=>{const i={before:[],lines:[],after:[]},l=Em(r,n);rr(i.before,Sr(va(l,"beforeLabel",this,n))),rr(i.lines,va(l,"label",this,n)),rr(i.after,Sr(va(l,"afterLabel",this,n))),o.push(i)}),o}getAfterBody(t,s){return Sm(va(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:r}=s,o=va(r,"beforeFooter",this,t),n=va(r,"footer",this,t),i=va(r,"afterFooter",this,t);let l=[];return l=rr(l,Sr(o)),l=rr(l,Sr(n)),l=rr(l,Sr(i)),l}_createItems(t){const s=this._active,r=this.chart.data,o=[],n=[],i=[];let l=[],u,m;for(u=0,m=s.length;u<m;++u)l.push(OA(this.chart,s[u]));return t.filter&&(l=l.filter((y,f,x)=>t.filter(y,f,x,r))),t.itemSort&&(l=l.sort((y,f)=>t.itemSort(y,f,r))),cs(l,y=>{const f=Em(t.callbacks,y);o.push(va(f,"labelColor",this,y)),n.push(va(f,"labelPointStyle",this,y)),i.push(va(f,"labelTextColor",this,y))}),this.labelColors=o,this.labelPointStyles=n,this.labelTextColors=i,this.dataPoints=l,l}update(t,s){const r=this.options.setContext(this.getContext()),o=this._active;let n,i=[];if(!o.length)this.opacity!==0&&(n={opacity:0});else{const l=ci[r.position].call(this,o,this._eventPosition);i=this._createItems(r),this.title=this.getTitle(i,r),this.beforeBody=this.getBeforeBody(i,r),this.body=this.getBody(i,r),this.afterBody=this.getAfterBody(i,r),this.footer=this.getFooter(i,r);const u=this._size=_m(this,r),m=Object.assign({},l,u),y=$m(this.chart,r,m),f=Cm(r,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,n={opacity:1,x:f.x,y:f.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,r,o){const n=this.getCaretPosition(t,r,o);s.lineTo(n.x1,n.y1),s.lineTo(n.x2,n.y2),s.lineTo(n.x3,n.y3)}getCaretPosition(t,s,r){const{xAlign:o,yAlign:n}=this,{caretSize:i,cornerRadius:l}=r,{topLeft:u,topRight:m,bottomLeft:y,bottomRight:f}=Go(l),{x,y:c}=t,{width:h,height:g}=s;let d,p,v,b,w,E;return n==="center"?(w=c+g/2,o==="left"?(d=x,p=d-i,b=w+i,E=w-i):(d=x+h,p=d+i,b=w-i,E=w+i),v=d):(o==="left"?p=x+Math.max(u,y)+i:o==="right"?p=x+h-Math.max(m,f)-i:p=this.caretX,n==="top"?(b=c,w=b-i,d=p-i,v=p+i):(b=c+g,w=b+i,d=p+i,v=p-i),E=b),{x1:d,x2:p,x3:v,y1:b,y2:w,y3:E}}drawTitle(t,s,r){const o=this.title,n=o.length;let i,l,u;if(n){const m=_n(r.rtl,this.x,this.width);for(t.x=Ol(this,r.titleAlign,r),s.textAlign=m.textAlign(r.titleAlign),s.textBaseline="middle",i=js(r.titleFont),l=r.titleSpacing,s.fillStyle=r.titleColor,s.font=i.string,u=0;u<n;++u)s.fillText(o[u],m.x(t.x),t.y+i.lineHeight/2),t.y+=i.lineHeight+l,u+1===n&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,s,r,o,n){const i=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:m}=n,y=js(n.bodyFont),f=Ol(this,"left",n),x=o.x(f),c=u<y.lineHeight?(y.lineHeight-u)/2:0,h=s.y+c;if(n.usePointStyle){const g={radius:Math.min(m,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},d=o.leftForLtr(x,m)+m/2,p=h+u/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,Ou(t,g,d,p),t.strokeStyle=i.borderColor,t.fillStyle=i.backgroundColor,Ou(t,g,d,p)}else{t.lineWidth=es(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,t.strokeStyle=i.borderColor,t.setLineDash(i.borderDash||[]),t.lineDashOffset=i.borderDashOffset||0;const g=o.leftForLtr(x,m),d=o.leftForLtr(o.xPlus(x,1),m-2),p=Go(i.borderRadius);Object.values(p).some(v=>v!==0)?(t.beginPath(),t.fillStyle=n.multiKeyBackground,Yi(t,{x:g,y:h,w:m,h:u,radius:p}),t.fill(),t.stroke(),t.fillStyle=i.backgroundColor,t.beginPath(),Yi(t,{x:d,y:h+1,w:m-2,h:u-2,radius:p}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(g,h,m,u),t.strokeRect(g,h,m,u),t.fillStyle=i.backgroundColor,t.fillRect(d,h+1,m-2,u-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,s,r){const{body:o}=this,{bodySpacing:n,bodyAlign:i,displayColors:l,boxHeight:u,boxWidth:m,boxPadding:y}=r,f=js(r.bodyFont);let x=f.lineHeight,c=0;const h=_n(r.rtl,this.x,this.width),g=function(P){s.fillText(P,h.x(t.x+c),t.y+x/2),t.y+=x+n},d=h.textAlign(i);let p,v,b,w,E,C,T;for(s.textAlign=i,s.textBaseline="middle",s.font=f.string,t.x=Ol(this,d,r),s.fillStyle=r.bodyColor,cs(this.beforeBody,g),c=l&&d!=="right"?i==="center"?m/2+y:m+2+y:0,w=0,C=o.length;w<C;++w){for(p=o[w],v=this.labelTextColors[w],s.fillStyle=v,cs(p.before,g),b=p.lines,l&&b.length&&(this._drawColorBox(s,t,w,h,r),x=Math.max(f.lineHeight,u)),E=0,T=b.length;E<T;++E)g(b[E]),x=f.lineHeight;cs(p.after,g)}c=0,x=f.lineHeight,cs(this.afterBody,g),t.y-=n}drawFooter(t,s,r){const o=this.footer,n=o.length;let i,l;if(n){const u=_n(r.rtl,this.x,this.width);for(t.x=Ol(this,r.footerAlign,r),t.y+=r.footerMarginTop,s.textAlign=u.textAlign(r.footerAlign),s.textBaseline="middle",i=js(r.footerFont),s.fillStyle=r.footerColor,s.font=i.string,l=0;l<n;++l)s.fillText(o[l],u.x(t.x),t.y+i.lineHeight/2),t.y+=i.lineHeight+r.footerSpacing}}drawBackground(t,s,r,o){const{xAlign:n,yAlign:i}=this,{x:l,y:u}=t,{width:m,height:y}=r,{topLeft:f,topRight:x,bottomLeft:c,bottomRight:h}=Go(o.cornerRadius);s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor,s.lineWidth=o.borderWidth,s.beginPath(),s.moveTo(l+f,u),i==="top"&&this.drawCaret(t,s,r,o),s.lineTo(l+m-x,u),s.quadraticCurveTo(l+m,u,l+m,u+x),i==="center"&&n==="right"&&this.drawCaret(t,s,r,o),s.lineTo(l+m,u+y-h),s.quadraticCurveTo(l+m,u+y,l+m-h,u+y),i==="bottom"&&this.drawCaret(t,s,r,o),s.lineTo(l+c,u+y),s.quadraticCurveTo(l,u+y,l,u+y-c),i==="center"&&n==="left"&&this.drawCaret(t,s,r,o),s.lineTo(l,u+f),s.quadraticCurveTo(l,u,l+f,u),s.closePath(),s.fill(),o.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,r=this.$animations,o=r&&r.x,n=r&&r.y;if(o||n){const i=ci[t.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=_m(this,t),u=Object.assign({},i,this._size),m=$m(s,t,u),y=Cm(t,u,m,s);(o._to!==y.x||n._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(s);const o={width:this.width,height:this.height},n={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const i=da(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(n,t,o,s),Cx(t,s.textDirection),n.y+=i.top,this.drawTitle(n,t,s),this.drawBody(n,t,s),this.drawFooter(n,t,s),Sx(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const r=this._active,o=t.map(({datasetIndex:l,index:u})=>{const m=this.chart.getDatasetMeta(l);if(!m)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:m.data[u],index:u}}),n=!kd(r,o),i=this._positionChanged(o,s);(n||i)&&(this._active=o,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,r=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,n=this._active||[],i=this._getActiveElements(t,n,s,r),l=this._positionChanged(i,t),u=s||!kd(i,n)||l;return u&&(this._active=i,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),u}_getActiveElements(t,s,r,o){const n=this.options;if(t.type==="mouseout")return[];if(!o)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(t,n.mode,n,r);return n.reverse&&i.reverse(),i}_positionChanged(t,s){const{caretX:r,caretY:o,options:n}=this,i=ci[n.position].call(this,t,s);return i!==!1&&(r!==i.x||o!==i.y)}}pt(Uu,"positioners",ci);var UA={id:"tooltip",_element:Uu,positioners:ci,afterInit(e,t,s){s&&(e.tooltip=new Uu({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Xx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},HA=Object.freeze({__proto__:null,Colors:tA,Decimation:oA,Filler:CA,Legend:MA,SubTitle:IA,Title:DA,Tooltip:UA});const qA=(e,t,s,r)=>(typeof t=="string"?(s=e.push(t)-1,r.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function zA(e,t,s,r){const o=e.indexOf(t);if(o===-1)return qA(e,t,s,r);const n=e.lastIndexOf(t);return o!==n?s:o}const WA=(e,t)=>e===null?null:qs(Math.round(e),0,t);function Tm(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Hu extends rn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const r=this.getLabels();for(const{index:o,label:n}of s)r[o]===n&&r.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(Zt(t))return null;const r=this.getLabels();return s=isFinite(s)&&r[s]===t?s:zA(r,t,Wt(s,t),this._addedLabels),WA(s,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),s||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const t=this.min,s=this.max,r=this.options.offset,o=[];let n=this.getLabels();n=t===0&&s===n.length-1?n:n.slice(t,s+1),this._valueRange=Math.max(n.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let i=t;i<=s;i++)o.push({value:i});return o}getLabelForValue(t){return Tm.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}pt(Hu,"id","category"),pt(Hu,"defaults",{ticks:{callback:Tm}});function KA(e,t){const s=[],{bounds:o,step:n,min:i,max:l,precision:u,count:m,maxTicks:y,maxDigits:f,includeBounds:x}=e,c=n||1,h=y-1,{min:g,max:d}=t,p=!Zt(i),v=!Zt(l),b=!Zt(m),w=(d-g)/(f+1);let E=_p((d-g)/h/c)*c,C,T,P,A;if(E<1e-14&&!p&&!v)return[{value:g},{value:d}];A=Math.ceil(d/E)-Math.floor(g/E),A>h&&(E=_p(A*E/h/c)*c),Zt(u)||(C=Math.pow(10,u),E=Math.ceil(E*C)/C),o==="ticks"?(T=Math.floor(g/E)*E,P=Math.ceil(d/E)*E):(T=g,P=d),p&&v&&n&&N7((l-i)/n,E/1e3)?(A=Math.round(Math.min((l-i)/E,y)),E=(l-i)/A,T=i,P=l):b?(T=p?i:T,P=v?l:P,A=m-1,E=(P-T)/A):(A=(P-T)/E,_i(A,Math.round(A),E/1e3)?A=Math.round(A):A=Math.ceil(A));const j=Math.max($p(E),$p(T));C=Math.pow(10,Zt(u)?j:u),T=Math.round(T*C)/C,P=Math.round(P*C)/C;let V=0;for(p&&(x&&T!==i?(s.push({value:i}),T<i&&V++,_i(Math.round((T+V*E)*C)/C,i,Am(i,w,e))&&V++):T<i&&V++);V<A;++V){const H=Math.round((T+V*E)*C)/C;if(v&&H>l)break;s.push({value:H})}return v&&x&&P!==l?s.length&&_i(s[s.length-1].value,l,Am(l,w,e))?s[s.length-1].value=l:s.push({value:l}):(!v||P===l)&&s.push({value:P}),s}function Am(e,t,{horizontal:s,minRotation:r}){const o=Wa(r),n=(s?Math.sin(o):Math.cos(o))||.001,i=.75*t*(""+e).length;return Math.min(t/n,i)}class Td extends rn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return Zt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:r}=this.getUserBounds();let{min:o,max:n}=this;const i=u=>o=s?o:u,l=u=>n=r?n:u;if(t){const u=gr(o),m=gr(n);u<0&&m<0?l(0):u>0&&m>0&&i(0)}if(o===n){let u=n===0?1:Math.abs(n*.05);l(n+u),t||i(o-u)}this.min=o,this.max=n}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:r}=t,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),s=s||11),s&&(o=Math.min(s,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},n=this._range||this,i=KA(o,n);return t.bounds==="ticks"&&lx(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let s=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const o=(r-s)/Math.max(t.length-1,1)/2;s-=o,r+=o}this._startValue=s,this._endValue=r,this._valueRange=r-s}getLabelForValue(t){return ul(t,this.chart.options.locale,this.options.ticks.format)}}class qu extends Td{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Ls(t)?t:0,this.max=Ls(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,r=Wa(this.options.ticks.minRotation),o=(t?Math.sin(r):Math.cos(r))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,n.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}pt(qu,"id","linear"),pt(qu,"defaults",{ticks:{callback:ec.formatters.numeric}});const Ji=e=>Math.floor(oo(e)),Ro=(e,t)=>Math.pow(10,Ji(e)+t);function Lm(e){return e/Math.pow(10,Ji(e))===1}function Mm(e,t,s){const r=Math.pow(10,s),o=Math.floor(e/r);return Math.ceil(t/r)-o}function YA(e,t){const s=t-e;let r=Ji(s);for(;Mm(e,t,r)>10;)r++;for(;Mm(e,t,r)<10;)r--;return Math.min(r,Ji(e))}function GA(e,{min:t,max:s}){t=_a(e.min,t);const r=[],o=Ji(t);let n=YA(t,s),i=n<0?Math.pow(10,Math.abs(n)):1;const l=Math.pow(10,n),u=o>n?Math.pow(10,o):0,m=Math.round((t-u)*i)/i,y=Math.floor((t-u)/l/10)*l*10;let f=Math.floor((m-y)/Math.pow(10,n)),x=_a(e.min,Math.round((u+y+f*Math.pow(10,n))*i)/i);for(;x<s;)r.push({value:x,major:Lm(x),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(n++,f=2,i=n>=0?1:i),x=Math.round((u+y+f*Math.pow(10,n))*i)/i;const c=_a(e.max,x);return r.push({value:c,major:Lm(c),significand:f}),r}class zu extends rn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,s){const r=Td.prototype.parse.apply(this,[t,s]);if(r===0){this._zero=!0;return}return Ls(r)&&r>0?r:null}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Ls(t)?Math.max(0,t):null,this.max=Ls(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ls(this._userMin)&&(this.min=t===Ro(this.min,0)?Ro(this.min,-1):Ro(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let r=this.min,o=this.max;const n=l=>r=t?r:l,i=l=>o=s?o:l;r===o&&(r<=0?(n(1),i(10)):(n(Ro(r,-1)),i(Ro(o,1)))),r<=0&&n(Ro(o,-1)),o<=0&&i(Ro(r,1)),this.min=r,this.max=o}buildTicks(){const t=this.options,s={min:this._userMin,max:this._userMax},r=GA(s,this);return t.bounds==="ticks"&&lx(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return t===void 0?"0":ul(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=oo(t),this._valueRange=oo(this.max)-oo(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(oo(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const s=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+s*this._valueRange)}}pt(zu,"id","logarithmic"),pt(zu,"defaults",{ticks:{callback:ec.formatters.logarithmic,major:{enabled:!0}}});function Wu(e){const t=e.ticks;if(t.display&&e.display){const s=da(t.backdropPadding);return Wt(t.font&&t.font.size,Ss.font.size)+s.height}return 0}function JA(e,t,s){return s=Cs(s)?s:[s],{w:s9(e,t.string,s),h:s.length*t.lineHeight}}function Pm(e,t,s,r,o){return e===r||e===o?{start:t-s/2,end:t+s/2}:e<r||e>o?{start:t-s,end:t}:{start:t,end:t+s}}function QA(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),r=[],o=[],n=e._pointLabels.length,i=e.options.pointLabels,l=i.centerPointLabels?os/n:0;for(let u=0;u<n;u++){const m=i.setContext(e.getPointLabelContext(u));o[u]=m.padding;const y=e.getPointPosition(u,e.drawingArea+o[u],l),f=js(m.font),x=JA(e.ctx,f,e._pointLabels[u]);r[u]=x;const c=ta(e.getIndexAngle(u)+l),h=Math.round(H0(c)),g=Pm(h,y.x,x.w,0,180),d=Pm(h,y.y,x.h,90,270);XA(s,t,c,g,d)}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=tL(e,r,o)}function XA(e,t,s,r,o){const n=Math.abs(Math.sin(s)),i=Math.abs(Math.cos(s));let l=0,u=0;r.start<t.l?(l=(t.l-r.start)/n,e.l=Math.min(e.l,t.l-l)):r.end>t.r&&(l=(r.end-t.r)/n,e.r=Math.max(e.r,t.r+l)),o.start<t.t?(u=(t.t-o.start)/i,e.t=Math.min(e.t,t.t-u)):o.end>t.b&&(u=(o.end-t.b)/i,e.b=Math.max(e.b,t.b+u))}function ZA(e,t,s){const r=e.drawingArea,{extra:o,additionalAngle:n,padding:i,size:l}=s,u=e.getPointPosition(t,r+o+i,n),m=Math.round(H0(ta(u.angle+Ds))),y=rL(u.y,l.h,m),f=sL(m),x=aL(u.x,l.w,f);return{visible:!0,x:u.x,y,textAlign:f,left:x,top:y,right:x+l.w,bottom:y+l.h}}function eL(e,t){if(!t)return!0;const{left:s,top:r,right:o,bottom:n}=e;return!(jr({x:s,y:r},t)||jr({x:s,y:n},t)||jr({x:o,y:r},t)||jr({x:o,y:n},t))}function tL(e,t,s){const r=[],o=e._pointLabels.length,n=e.options,{centerPointLabels:i,display:l}=n.pointLabels,u={extra:Wu(n)/2,additionalAngle:i?os/o:0};let m;for(let y=0;y<o;y++){u.padding=s[y],u.size=t[y];const f=ZA(e,y,u);r.push(f),l==="auto"&&(f.visible=eL(f,m),f.visible&&(m=f))}return r}function sL(e){return e===0||e===180?"center":e<180?"left":"right"}function aL(e,t,s){return s==="right"?e-=t:s==="center"&&(e-=t/2),e}function rL(e,t,s){return s===90||s===270?e-=t/2:(s>270||s<90)&&(e-=t),e}function oL(e,t,s){const{left:r,top:o,right:n,bottom:i}=s,{backdropColor:l}=t;if(!Zt(l)){const u=Go(t.borderRadius),m=da(t.backdropPadding);e.fillStyle=l;const y=r-m.left,f=o-m.top,x=n-r+m.width,c=i-o+m.height;Object.values(u).some(h=>h!==0)?(e.beginPath(),Yi(e,{x:y,y:f,w:x,h:c,radius:u}),e.fill()):e.fillRect(y,f,x,c)}}function nL(e,t){const{ctx:s,options:{pointLabels:r}}=e;for(let o=t-1;o>=0;o--){const n=e._pointLabelItems[o];if(!n.visible)continue;const i=r.setContext(e.getPointLabelContext(o));oL(s,i,n);const l=js(i.font),{x:u,y:m,textAlign:y}=n;tn(s,e._pointLabels[o],u,m+l.lineHeight/2,l,{color:i.color,textAlign:y,textBaseline:"middle"})}}function Zx(e,t,s,r){const{ctx:o}=e;if(s)o.arc(e.xCenter,e.yCenter,t,0,ks);else{let n=e.getPointPosition(0,t);o.moveTo(n.x,n.y);for(let i=1;i<r;i++)n=e.getPointPosition(i,t),o.lineTo(n.x,n.y)}}function iL(e,t,s,r,o){const n=e.ctx,i=t.circular,{color:l,lineWidth:u}=t;!i&&!r||!l||!u||s<0||(n.save(),n.strokeStyle=l,n.lineWidth=u,n.setLineDash(o.dash||[]),n.lineDashOffset=o.dashOffset,n.beginPath(),Zx(e,s,i,r),n.closePath(),n.stroke(),n.restore())}function lL(e,t,s){return To(e,{label:s,index:t,type:"pointLabel"})}class ui extends Td{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=da(Wu(this.options)/2),s=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+s/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(s,r)/2)}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!1);this.min=Ls(t)&&!isNaN(t)?t:0,this.max=Ls(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Wu(this.options))}generateTickLabels(t){Td.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((s,r)=>{const o=vs(this.options.pointLabels.callback,[s,r],this);return o||o===0?o:""}).filter((s,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?QA(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,s,r,o){this.xCenter+=Math.floor((t-s)/2),this.yCenter+=Math.floor((r-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,s,r,o))}getIndexAngle(t){const s=ks/(this._pointLabels.length||1),r=this.options.startAngle||0;return ta(t*s+Wa(r))}getDistanceFromCenterForValue(t){if(Zt(t))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*s:(t-this.min)*s}getValueForDistanceFromCenter(t){if(Zt(t))return NaN;const s=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(t){const s=this._pointLabels||[];if(t>=0&&t<s.length){const r=s[t];return lL(this.getContext(),t,r)}}getPointPosition(t,s,r=0){const o=this.getIndexAngle(t)-Ds+r;return{x:Math.cos(o)*s+this.xCenter,y:Math.sin(o)*s+this.yCenter,angle:o}}getPointPositionForValue(t,s){return this.getPointPosition(t,this.getDistanceFromCenterForValue(s))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:s,top:r,right:o,bottom:n}=this._pointLabelItems[t];return{left:s,top:r,right:o,bottom:n}}drawBackground(){const{backgroundColor:t,grid:{circular:s}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),Zx(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,s=this.options,{angleLines:r,grid:o,border:n}=s,i=this._pointLabels.length;let l,u,m;if(s.pointLabels.display&&nL(this,i),o.display&&this.ticks.forEach((y,f)=>{if(f!==0||f===0&&this.min<0){u=this.getDistanceFromCenterForValue(y.value);const x=this.getContext(f),c=o.setContext(x),h=n.setContext(x);iL(this,c,u,i,h)}}),r.display){for(t.save(),l=i-1;l>=0;l--){const y=r.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:x}=y;!x||!f||(t.lineWidth=x,t.strokeStyle=f,t.setLineDash(y.borderDash),t.lineDashOffset=y.borderDashOffset,u=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),m=this.getPointPosition(l,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(m.x,m.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,s=this.options,r=s.ticks;if(!r.display)return;const o=this.getIndexAngle(0);let n,i;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,u)=>{if(u===0&&this.min>=0&&!s.reverse)return;const m=r.setContext(this.getContext(u)),y=js(m.font);if(n=this.getDistanceFromCenterForValue(this.ticks[u].value),m.showLabelBackdrop){t.font=y.string,i=t.measureText(l.label).width,t.fillStyle=m.backdropColor;const f=da(m.backdropPadding);t.fillRect(-i/2-f.left,-n-y.size/2-f.top,i+f.width,y.size+f.height)}tn(t,l.label,0,-n,y,{color:m.color,strokeColor:m.textStrokeColor,strokeWidth:m.textStrokeWidth})}),t.restore()}drawTitle(){}}pt(ui,"id","radialLinear"),pt(ui,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ec.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),pt(ui,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),pt(ui,"descriptors",{angleLines:{_fallback:"grid"}});const nc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xa=Object.keys(nc);function Dm(e,t){return e-t}function Im(e,t){if(Zt(t))return null;const s=e._adapter,{parser:r,round:o,isoWeekday:n}=e._parseOpts;let i=t;return typeof r=="function"&&(i=r(i)),Ls(i)||(i=typeof r=="string"?s.parse(i,r):s.parse(i)),i===null?null:(o&&(i=o==="week"&&(Dn(n)||n===!0)?s.startOf(i,"isoWeek",n):s.startOf(i,o)),+i)}function Om(e,t,s,r){const o=xa.length;for(let n=xa.indexOf(e);n<o-1;++n){const i=nc[xa[n]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((s-t)/(l*i.size))<=r)return xa[n]}return xa[o-1]}function dL(e,t,s,r,o){for(let n=xa.length-1;n>=xa.indexOf(s);n--){const i=xa[n];if(nc[i].common&&e._adapter.diff(o,r,i)>=t-1)return i}return xa[s?xa.indexOf(s):0]}function cL(e){for(let t=xa.indexOf(e)+1,s=xa.length;t<s;++t)if(nc[xa[t]].common)return xa[t]}function Fm(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:r,hi:o}=q0(s,t),n=s[r]>=t?s[r]:s[o];e[n]=!0}}function uL(e,t,s,r){const o=e._adapter,n=+o.startOf(t[0].value,r),i=t[t.length-1].value;let l,u;for(l=n;l<=i;l=+o.add(l,1,r))u=s[l],u>=0&&(t[u].major=!0);return t}function Rm(e,t,s){const r=[],o={},n=t.length;let i,l;for(i=0;i<n;++i)l=t[i],o[l]=i,r.push({value:l,major:!1});return n===0||!s?r:uL(e,r,o,s)}class Qi extends rn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const r=t.time||(t.time={}),o=this._adapter=new xE._date(t.adapters.date);o.init(s),wi(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:Im(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,r=t.time.unit||"day";let{min:o,max:n,minDefined:i,maxDefined:l}=this.getUserBounds();function u(m){!i&&!isNaN(m.min)&&(o=Math.min(o,m.min)),!l&&!isNaN(m.max)&&(n=Math.max(n,m.max))}(!i||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),o=Ls(o)&&!isNaN(o)?o:+s.startOf(Date.now(),r),n=Ls(n)&&!isNaN(n)?n:+s.endOf(Date.now(),r)+1,this.min=Math.min(o,n-1),this.max=Math.max(o+1,n)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],r=t[t.length-1]),{min:s,max:r}}buildTicks(){const t=this.options,s=t.time,r=t.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const n=this.min,i=this.max,l=H7(o,n,i);return this._unit=s.unit||(r.autoSkip?Om(s.minUnit,this.min,this.max,this._getLabelCapacity(n)):dL(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:cL(this._unit),this.initOffsets(o),t.reverse&&l.reverse(),Rm(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,r=0,o,n;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?s=1-o:s=(this.getDecimalForValue(t[1])-o)/2,n=this.getDecimalForValue(t[t.length-1]),t.length===1?r=n:r=(n-this.getDecimalForValue(t[t.length-2]))/2);const i=t.length<3?.5:.25;s=qs(s,0,i),r=qs(r,0,i),this._offsets={start:s,end:r,factor:1/(s+1+r)}}_generate(){const t=this._adapter,s=this.min,r=this.max,o=this.options,n=o.time,i=n.unit||Om(n.minUnit,s,r,this._getLabelCapacity(s)),l=Wt(o.ticks.stepSize,1),u=i==="week"?n.isoWeekday:!1,m=Dn(u)||u===!0,y={};let f=s,x,c;if(m&&(f=+t.startOf(f,"isoWeek",u)),f=+t.startOf(f,m?"day":i),t.diff(r,s,i)>1e5*l)throw new Error(s+" and "+r+" are too far apart with stepSize of "+l+" "+i);const h=o.ticks.source==="data"&&this.getDataTimestamps();for(x=f,c=0;x<r;x=+t.add(x,l,i),c++)Fm(y,x,h);return(x===r||o.bounds==="ticks"||c===1)&&Fm(y,x,h),Object.keys(y).sort(Dm).map(g=>+g)}getLabelForValue(t){const s=this._adapter,r=this.options.time;return r.tooltipFormat?s.format(t,r.tooltipFormat):s.format(t,r.displayFormats.datetime)}format(t,s){const o=this.options.time.displayFormats,n=this._unit,i=s||o[n];return this._adapter.format(t,i)}_tickFormatFunction(t,s,r,o){const n=this.options,i=n.ticks.callback;if(i)return vs(i,[t,s,r],this);const l=n.time.displayFormats,u=this._unit,m=this._majorUnit,y=u&&l[u],f=m&&l[m],x=r[s],c=m&&f&&x&&x.major;return this._adapter.format(t,o||(c?f:y))}generateTickLabels(t){let s,r,o;for(s=0,r=t.length;s<r;++s)o=t[s],o.label=this._tickFormatFunction(o.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+r)*s.factor)}getValueForPixel(t){const s=this._offsets,r=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,r=this.ctx.measureText(t).width,o=Wa(this.isHorizontal()?s.maxRotation:s.minRotation),n=Math.cos(o),i=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*n+l*i,h:r*i+l*n}}_getLabelCapacity(t){const s=this.options.time,r=s.displayFormats,o=r[s.unit]||r.millisecond,n=this._tickFormatFunction(t,0,Rm(this,[t],this._majorUnit),o),i=this._getLabelSize(n),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],s,r;if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(s=0,r=o.length;s<r;++s)t=t.concat(o[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,r;if(t.length)return t;const o=this.getLabels();for(s=0,r=o.length;s<r;++s)t.push(Im(this,o[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ux(t.sort(Dm))}}pt(Qi,"id","time"),pt(Qi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fl(e,t,s){let r=0,o=e.length-1,n,i,l,u;s?(t>=e[r].pos&&t<=e[o].pos&&({lo:r,hi:o}=Rr(e,"pos",t)),{pos:n,time:l}=e[r],{pos:i,time:u}=e[o]):(t>=e[r].time&&t<=e[o].time&&({lo:r,hi:o}=Rr(e,"time",t)),{time:n,pos:l}=e[r],{time:i,pos:u}=e[o]);const m=i-n;return m?l+(u-l)*(t-n)/m:l}class Ku extends Qi{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Fl(s,this.min),this._tableRange=Fl(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:r}=this,o=[],n=[];let i,l,u,m,y;for(i=0,l=t.length;i<l;++i)m=t[i],m>=s&&m<=r&&o.push(m);if(o.length<2)return[{time:s,pos:0},{time:r,pos:1}];for(i=0,l=o.length;i<l;++i)y=o[i+1],u=o[i-1],m=o[i],Math.round((y+u)/2)!==m&&n.push({time:m,pos:i/(l-1)});return n}_generate(){const t=this.min,s=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(s)||r.length===1)&&r.push(s),r.sort((o,n)=>o-n)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),r=this.getLabelTimestamps();return s.length&&r.length?t=this.normalize(s.concat(r)):t=s.length?s:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Fl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,r=this.getDecimalForPixel(t)/s.factor-s.end;return Fl(this._table,r*this._tableRange+this._minPos,!0)}}pt(Ku,"id","timeseries"),pt(Ku,"defaults",Qi.defaults);var hL=Object.freeze({__proto__:null,CategoryScale:Hu,LinearScale:qu,LogarithmicScale:zu,RadialLinearScale:ui,TimeScale:Qi,TimeSeriesScale:Ku});const gL=[vE,YT,HA,hL];lr.register(...gL);const pL={class:"space-y-6"},mL={class:"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 overflow-hidden shadow-lg rounded-lg border border-gray-200 dark:border-gray-700"},fL={class:"p-6"},yL={class:"flex items-center justify-between"},vL={class:"flex-1"},xL={class:"flex items-center space-x-4"},bL={class:"text-2xl font-bold text-white"},kL={class:"mt-1 text-sm text-blue-100"},wL={class:"flex items-center space-x-4"},_L={class:"hidden md:flex items-center space-x-6"},$L={class:"text-center"},CL={class:"text-lg font-bold text-white"},SL={class:"text-xs text-blue-100"},EL={class:"text-center"},TL={class:"text-lg font-bold text-white"},AL={class:"text-xs text-blue-100"},LL={class:"text-center"},ML={class:"text-lg font-bold text-white"},PL={class:"text-xs text-blue-100"},DL={class:"text-sm text-blue-100"},IL={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},OL={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow duration-300"},FL={class:"p-6"},RL={class:"flex items-center"},jL={class:"ml-4 w-0 flex-1"},NL={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},VL={class:"text-2xl font-bold text-gray-900 dark:text-white"},BL={key:0},UL={key:1},HL={class:"mt-4"},qL={class:"text-xs text-gray-500 dark:text-gray-400"},zL={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow duration-300"},WL={class:"p-6"},KL={class:"flex items-center"},YL={class:"ml-4 w-0 flex-1"},GL={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},JL={class:"text-2xl font-bold text-gray-900 dark:text-white"},QL={key:0},XL={key:1},ZL={class:"mt-4"},eM={class:"text-xs text-gray-500 dark:text-gray-400"},tM={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow duration-300"},sM={class:"p-6"},aM={class:"flex items-center"},rM={class:"ml-4 w-0 flex-1"},oM={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},nM={class:"text-2xl font-bold text-gray-900 dark:text-white"},iM={key:0},lM={key:1},dM={class:"mt-4"},cM={class:"text-xs text-gray-500 dark:text-gray-400"},uM={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow duration-300"},hM={class:"p-6"},gM={class:"flex items-center"},pM={class:"ml-4 w-0 flex-1"},mM={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},fM={class:"text-2xl font-bold text-gray-900 dark:text-white"},yM={key:0},vM={key:1},xM={class:"mt-4"},bM={class:"text-xs text-gray-500 dark:text-gray-400"},kM={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},wM={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},_M={class:"p-6"},$M={class:"flex items-center justify-between"},CM={class:"flex items-center"},SM={class:"ml-3"},EM={class:"text-sm font-medium text-gray-900 dark:text-white"},TM={class:"text-xs text-gray-500 dark:text-gray-400"},AM={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},LM={class:"p-6"},MM={class:"flex items-center justify-between"},PM={class:"flex items-center"},DM={class:"ml-3"},IM={class:"text-sm font-medium text-gray-900 dark:text-white"},OM={class:"text-xs text-gray-500 dark:text-gray-400"},FM={key:0,class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},RM={class:"p-6"},jM={class:"flex items-center justify-between"},NM={class:"flex items-center"},VM={class:"ml-3"},BM={class:"text-sm font-medium text-gray-900 dark:text-white"},UM={class:"text-xs text-gray-500 dark:text-gray-400"},HM={class:"grid grid-cols-1 xl:grid-cols-3 gap-6"},qM={class:"xl:col-span-2"},zM={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},WM={class:"p-6"},KM={class:"flex items-center justify-between mb-4"},YM={class:"text-lg font-medium text-gray-900 dark:text-white"},GM={class:"h-80"},JM={class:"space-y-6"},QM={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},XM={class:"p-6"},ZM={class:"flex items-center justify-between mb-4"},eP={class:"text-lg font-medium text-gray-900 dark:text-white"},tP={class:"h-64"},sP={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},aP={class:"p-6"},rP={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},oP={class:"grid grid-cols-2 gap-4"},nP=["onClick"],iP={class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lP=["d"],dP={class:"text-sm font-medium text-gray-900 dark:text-white text-center"},cP={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},uP={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},hP={class:"p-6"},gP={class:"flex items-center justify-between mb-4"},pP={class:"text-lg font-medium text-gray-900 dark:text-white"},mP={class:"space-y-4 max-h-96 overflow-y-auto"},fP={class:"flex-shrink-0"},yP={class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},vP={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"},xP={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 4V16m0 0L3 12m4 4l4-4m6-8v12m0 0l4-4m-4 4l-4-4"},bP={class:"flex-1 min-w-0"},kP={class:"text-sm font-medium text-gray-900 dark:text-white"},wP={class:"text-xs text-gray-500 dark:text-gray-400"},_P={class:"text-xs text-gray-500 dark:text-gray-400"},$P={class:"flex-shrink-0"},CP={key:0,class:"text-center text-gray-500 dark:text-gray-400 py-8"},SP={key:0,class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},EP={class:"p-6"},TP={class:"flex items-center justify-between mb-4"},AP={class:"text-lg font-medium text-gray-900 dark:text-white"},LP={class:"space-y-4 max-h-96 overflow-y-auto"},MP={class:"flex-shrink-0"},PP={class:"flex-1 min-w-0"},DP={class:"text-sm font-medium text-gray-900 dark:text-white"},IP={class:"text-xs text-gray-500 dark:text-gray-400"},OP={class:"text-xs text-gray-500 dark:text-gray-400"},FP={class:"flex-shrink-0"},RP={key:1,class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},jP={class:"p-6"},NP={class:"flex items-center justify-between mb-4"},VP={class:"text-lg font-medium text-gray-900 dark:text-white"},BP={class:"space-y-4 max-h-96 overflow-y-auto"},UP={class:"flex-shrink-0"},HP={class:"flex-1 min-w-0"},qP={class:"text-sm font-medium text-gray-900 dark:text-white"},zP={class:"text-xs text-gray-500 dark:text-gray-400"},WP={class:"flex-shrink-0"},KP={__name:"Dashboard",setup(e){const t=Qs(),s=Ut(),{t:r}=fa(),o=vr(),n=O(!0),i=O(!0),l=O(new Date);let u=null;const m=fe(()=>l.value.toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})),y=O({}),f=O({}),x=O({});let c=null,h=null;const g=O(null),d=O(null),p=fe(()=>{var M,B,W,K,Z,Te,_e,ye,z,q,X,se,Ae,me,Le;return{totalProducts:((M=y.value.products)==null?void 0:M.total)||0,activeProducts:((B=y.value.products)==null?void 0:B.active)||0,inactiveProducts:((W=y.value.products)==null?void 0:W.inactive)||0,totalCustomers:((K=y.value.customers)==null?void 0:K.total)||0,activeCustomers:((Z=y.value.customers)==null?void 0:Z.active)||0,totalStockTransactions:((Te=y.value.stock)==null?void 0:Te.total_transactions)||0,totalStockIn:((_e=y.value.stock)==null?void 0:_e.total_in)||0,totalStockOut:((ye=y.value.stock)==null?void 0:ye.total_out)||0,currentStock:((z=y.value.stock)==null?void 0:z.current_balance)||0,totalLocations:((q=y.value.locations)==null?void 0:q.total)||0,locationsWithStock:((X=y.value.locations)==null?void 0:X.with_stock)||0,totalCategories:((se=y.value.product_categories)==null?void 0:se.total)||0,totalWorkOrders:(Ae=y.value.work_orders)==null?void 0:Ae.total,totalUsers:(me=y.value.users)==null?void 0:me.total,totalRoles:(Le=y.value.roles)==null?void 0:Le.total}}),v=fe(()=>x.value.recent_stock_transactions||[]),b=fe(()=>x.value.recent_products||[]),w=fe(()=>x.value.recent_work_orders||[]),E=fe(()=>[{name:r("dashboard.addProduct"),action:"add-product",route:"/products",icon:"M12 4v16m8-8H4",color:"bg-purple-500"},{name:r("dashboard.stockIn"),action:"stock-in",route:"/stock-masuk",icon:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4",color:"bg-green-500"},{name:r("dashboard.stockMutation"),action:"stock-mutation",route:"/mutasi",icon:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",color:"bg-blue-500"},{name:r("dashboard.stockAdjustment"),action:"stock-adjustment",route:"/adjustment",icon:"M12 6v6m0 0v6m0-6h6m-6 0H6",color:"bg-yellow-500"},{name:r("dashboard.stockOpname"),action:"stock-opname",route:"/stockopname",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",color:"bg-indigo-500"},{name:r("dashboard.stockBook"),action:"stock-book",route:"/buku-stock",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",color:"bg-pink-500"}]),C=()=>{if(!g.value)return;c&&c.destroy();const M=g.value.getContext("2d"),B=f.value.stock_movement_trend||[],W=B.map(Te=>new Date(Te.month+"-01").toLocaleDateString("en-US",{month:"short",year:"2-digit"})),K=B.map(Te=>Te.total_in||0),Z=B.map(Te=>Te.total_out||0);c=new lr(M,{type:"line",data:{labels:W.length?W:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:r("dashboard.stockIn"),data:K.length?K:[100,150,120,180,200,170],borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0},{label:r("dashboard.stockOut"),data:Z.length?Z:[80,120,100,150,180,150],borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top"}},scales:{x:{display:!0,title:{display:!0,text:r("dashboard.month")}},y:{display:!0,title:{display:!0,text:r("dashboard.quantity")}}}}})},T=()=>{if(!d.value)return;h&&h.destroy();const M=d.value.getContext("2d"),B=f.value.products_by_category||[],W=B.map(Te=>Te.label),K=B.map(Te=>Te.value),Z=["rgb(59, 130, 246)","rgb(16, 185, 129)","rgb(139, 92, 246)","rgb(245, 158, 11)","rgb(239, 68, 68)","rgb(236, 72, 153)","rgb(20, 184, 166)","rgb(99, 102, 241)"];h=new lr(M,{type:"doughnut",data:{labels:W.length?W:[r("dashboard.noData")],datasets:[{data:K.length?K:[1],backgroundColor:Z,borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{boxWidth:12,padding:10}}}}})},P=async()=>{n.value=!0,i.value=!0;try{const M=await Tt("/dashboard/statistics");M.success&&(y.value=M.data);const B=await Tt("/dashboard/chart-data");B.success&&(f.value=B.data);const W=await Tt("/dashboard/recent-activity");W.success&&(x.value=W.data)}catch(M){console.error("Failed to load dashboard data:",M),s.error("Failed to load dashboard data")}finally{n.value=!1,i.value=!1}},A=M=>{if(!M)return"";const B=new Date(M),K=Math.floor((new Date-B)/1e3);return K<60?r("dashboard.justNow"):K<3600?`${Math.floor(K/60)} ${r("dashboard.minutesAgo")}`:K<86400?`${Math.floor(K/3600)} ${r("dashboard.hoursAgo")}`:`${Math.floor(K/86400)} ${r("dashboard.daysAgo")}`},j=M=>({draft:"bg-gray-500",pending:"bg-yellow-500",assigned:"bg-blue-500",in_progress:"bg-indigo-500",on_hold:"bg-orange-500",completed:"bg-green-500",cancelled:"bg-red-500"})[M]||"bg-gray-500",V=M=>({draft:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",assigned:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",in_progress:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",on_hold:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[M]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",H=M=>{const B=E.value.find(W=>W.action===M);B&&B.route&&o.push(B.route)},R=M=>{o.push(M)};return Ot(async()=>{await P(),zs(()=>{C(),T()}),u=setInterval(()=>{l.value=new Date},6e4);const M=setInterval(()=>{P()},3e5);Ea(()=>{u&&clearInterval(u),M&&clearInterval(M),c&&c.destroy(),h&&h.destroy()})}),Ea(()=>{u&&clearInterval(u)}),(M,B)=>{var W;return $(),S("div",pL,[a("div",mL,[a("div",fL,[a("div",yL,[a("div",vL,[a("div",xL,[B[3]||(B[3]=po('<div class="flex-shrink-0"><div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"></path></svg></div></div>',1)),a("div",null,[a("h1",bL,k(M.$t("dashboard.title")),1),a("p",kL,k(M.$t("dashboard.welcomeBack"))+", "+k(((W=F(t).user)==null?void 0:W.name)||"Admin")+"! "+k(M.$t("dashboard.businessOverview")),1)])])]),a("div",wL,[a("div",_L,[a("div",$L,[a("div",CL,k(p.value.totalProducts.toLocaleString()),1),a("div",SL,k(M.$t("dashboard.products")),1)]),a("div",EL,[a("div",TL,k(p.value.totalCustomers.toLocaleString()),1),a("div",AL,k(M.$t("dashboard.customers")),1)]),a("div",LL,[a("div",ML,k(p.value.currentStock.toLocaleString()),1),a("div",PL,k(M.$t("dashboard.stock")),1)])]),a("div",DL,k(m.value),1)])])])]),a("div",IL,[a("div",OL,[a("div",FL,[a("div",RL,[B[4]||(B[4]=a("div",{class:"flex-shrink-0"},[a("div",{class:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center"},[a("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m0-8v16"})])])],-1)),a("div",jL,[a("dl",null,[a("dt",NL,k(M.$t("dashboard.totalProducts")),1),a("dd",VL,[i.value?($(),S("span",BL,"...")):($(),S("span",UL,k(p.value.totalProducts.toLocaleString()),1))])])])]),a("div",HL,[a("div",qL,k(p.value.activeProducts||0)+" "+k(M.$t("dashboard.active"))+"  "+k(p.value.inactiveProducts||0)+" "+k(M.$t("dashboard.inactive")),1)])])]),a("div",zL,[a("div",WL,[a("div",KL,[B[5]||(B[5]=a("div",{class:"flex-shrink-0"},[a("div",{class:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center"},[a("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-3-3H5a3 3 0 00-3 3v2M5 5h14l1 12H4L5 9z"})])])],-1)),a("div",YL,[a("dl",null,[a("dt",GL,k(M.$t("dashboard.totalCustomers")),1),a("dd",JL,[i.value?($(),S("span",QL,"...")):($(),S("span",XL,k(p.value.totalCustomers.toLocaleString()),1))])])])]),a("div",ZL,[a("div",eM,k(p.value.activeCustomers||0)+" "+k(M.$t("dashboard.active")),1)])])]),a("div",tM,[a("div",sM,[a("div",aM,[B[6]||(B[6]=a("div",{class:"flex-shrink-0"},[a("div",{class:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center"},[a("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})])])],-1)),a("div",rM,[a("dl",null,[a("dt",oM,k(M.$t("dashboard.stockTransactions")),1),a("dd",nM,[i.value?($(),S("span",iM,"...")):($(),S("span",lM,k(p.value.totalStockTransactions.toLocaleString()),1))])])])]),a("div",dM,[a("div",cM,k(M.$t("dashboard.in"))+": "+k(p.value.totalStockIn.toLocaleString())+"  "+k(M.$t("dashboard.out"))+": "+k(p.value.totalStockOut.toLocaleString()),1)])])]),a("div",uM,[a("div",hM,[a("div",gM,[B[7]||(B[7]=a("div",{class:"flex-shrink-0"},[a("div",{class:"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center"},[a("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m0-8v16"})])])],-1)),a("div",pM,[a("dl",null,[a("dt",mM,k(M.$t("dashboard.currentStock")),1),a("dd",fM,[i.value?($(),S("span",yM,"...")):($(),S("span",vM,k(p.value.currentStock.toLocaleString()),1))])])])]),a("div",xM,[a("div",bM,k(p.value.locationsWithStock||0)+" "+k(M.$t("dashboard.locationsWithStock")),1)])])])]),a("div",kM,[a("div",wM,[a("div",_M,[a("div",$M,[a("div",CM,[B[8]||(B[8]=po('<div class="flex-shrink-0"><div class="w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div></div>',1)),a("div",SM,[a("h3",EM,k(M.$t("dashboard.totalLocations")),1),a("p",TM,k(p.value.totalLocations||0)+" "+k(M.$t("dashboard.locations")),1)])])])])]),a("div",AM,[a("div",LM,[a("div",MM,[a("div",PM,[B[9]||(B[9]=a("div",{class:"flex-shrink-0"},[a("div",{class:"w-8 h-8 bg-pink-500 rounded-lg flex items-center justify-center"},[a("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])])],-1)),a("div",DM,[a("h3",IM,k(M.$t("dashboard.productCategories")),1),a("p",OM,k(p.value.totalCategories||0)+" "+k(M.$t("dashboard.categories")),1)])])])])]),p.value.totalWorkOrders!==void 0?($(),S("div",FM,[a("div",RM,[a("div",jM,[a("div",NM,[B[10]||(B[10]=a("div",{class:"flex-shrink-0"},[a("div",{class:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center"},[a("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])])],-1)),a("div",VM,[a("h3",BM,k(M.$t("dashboard.workOrders")),1),a("p",UM,k(p.value.totalWorkOrders||0)+" "+k(M.$t("dashboard.total")),1)])])])])])):G("",!0)]),a("div",HM,[a("div",qM,[a("div",zM,[a("div",WM,[a("div",KM,[a("h3",YM,k(M.$t("dashboard.stockMovementTrend")),1)]),a("div",GM,[a("canvas",{ref_key:"stockChartRef",ref:g},null,512)])])])]),a("div",JM,[a("div",QM,[a("div",XM,[a("div",ZM,[a("h3",eP,k(M.$t("dashboard.productsByCategory")),1)]),a("div",tP,[a("canvas",{ref_key:"categoryChartRef",ref:d},null,512)])])]),a("div",sP,[a("div",aP,[a("h3",rP,k(M.$t("dashboard.quickActions")),1),a("div",oP,[($(!0),S(Qe,null,ot(E.value,K=>($(),S("button",{key:K.name,onClick:Z=>H(K.action),class:"flex flex-col items-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-200 hover:scale-105"},[a("div",{class:Ee(["w-12 h-12 rounded-lg flex items-center justify-center mb-3",K.color])},[($(),S("svg",iP,[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:K.icon},null,8,lP)]))],2),a("span",dP,k(K.name),1)],8,nP))),128))])])])])]),a("div",cP,[a("div",uP,[a("div",hP,[a("div",gP,[a("h3",pP,k(M.$t("dashboard.recentStockTransactions")),1),a("button",{onClick:B[0]||(B[0]=K=>R("/buku-stock")),class:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300"},k(M.$t("dashboard.viewAll")),1)]),a("div",mP,[($(!0),S(Qe,null,ot(v.value,K=>($(),S("div",{key:K.id,class:"flex items-start space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors"},[a("div",fP,[a("div",{class:Ee(["w-10 h-10 rounded-full flex items-center justify-center text-white",K.quantity_in>0?"bg-green-500":"bg-red-500"])},[($(),S("svg",yP,[K.quantity_in>0?($(),S("path",vP)):($(),S("path",xP))]))],2)]),a("div",bP,[a("p",kP,k(K.product_name),1),a("p",wP,k(K.transaction_type)+"  "+k(K.location_name),1),a("p",_P,k(A(K.transaction_date)),1)]),a("div",$P,[a("span",{class:Ee(["text-sm font-medium",K.quantity_in>0?"text-green-600":"text-red-600"])},k(K.quantity_in>0?"+":"")+k(K.quantity_in||K.quantity_out),3)])]))),128)),v.value.length===0?($(),S("div",CP,k(M.$t("dashboard.noRecentTransactions")),1)):G("",!0)])])]),b.value.length>0?($(),S("div",SP,[a("div",EP,[a("div",TP,[a("h3",AP,k(M.$t("dashboard.recentProducts")),1),a("button",{onClick:B[1]||(B[1]=K=>R("/products")),class:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300"},k(M.$t("dashboard.viewAll")),1)]),a("div",LP,[($(!0),S(Qe,null,ot(b.value,K=>($(),S("div",{key:K.id,class:"flex items-start space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors"},[a("div",MP,[a("div",{class:Ee(["w-10 h-10 rounded-full flex items-center justify-center text-white",K.is_active?"bg-purple-500":"bg-gray-500"])},[...B[11]||(B[11]=[a("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m0-8v16"})],-1)])],2)]),a("div",PP,[a("p",DP,k(K.product_name),1),a("p",IP,k(K.product_code),1),a("p",OP,k(A(K.created_at)),1)]),a("div",FP,[a("span",{class:Ee(["text-xs px-2 py-1 rounded-full",K.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},k(K.is_active?M.$t("dashboard.active"):M.$t("dashboard.inactive")),3)])]))),128))])])])):G("",!0),w.value.length>0?($(),S("div",RP,[a("div",jP,[a("div",NP,[a("h3",VP,k(M.$t("dashboard.recentWorkOrders")),1),a("button",{onClick:B[2]||(B[2]=K=>R("/work-orders")),class:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300"},k(M.$t("dashboard.viewAll")),1)]),a("div",BP,[($(!0),S(Qe,null,ot(w.value,K=>($(),S("div",{key:K.id,class:"flex items-start space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors"},[a("div",UP,[a("div",{class:Ee(["w-10 h-10 rounded-full flex items-center justify-center text-white",j(K.status)])},[...B[12]||(B[12]=[a("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)])],2)]),a("div",HP,[a("p",qP,k(K.title),1),a("p",zP,k(A(K.created_at)),1)]),a("div",WP,[a("span",{class:Ee(["text-xs px-2 py-1 rounded-full",V(K.status)])},k(K.status),3)])]))),128))])])])):G("",!0)])])}}},YP={class:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8"},GP={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},JP={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 mb-6 overflow-hidden"},QP={class:"px-6 pb-6"},XP={class:"flex items-end -mt-16 mb-4"},ZP={class:"relative"},eD=["src","alt"],tD={class:"ml-6 mb-2"},sD={class:"text-2xl font-bold text-gray-900 dark:text-white"},aD={class:"text-gray-600 dark:text-gray-400"},rD={class:"flex items-center mt-2 space-x-4"},oD={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},nD={class:"mb-6"},iD={class:"border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 rounded-t-xl"},lD={class:"-mb-px flex space-x-8 px-6","aria-label":"Tabs"},dD=["onClick"],cD={class:"bg-white dark:bg-gray-800 rounded-b-xl shadow-sm border border-gray-200 dark:border-gray-700"},uD={class:"p-6 space-y-6"},hD={class:"flex items-center space-x-6"},gD={class:"relative"},pD=["src"],mD={key:0,class:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-full"},fD={class:"text-white text-sm font-medium"},yD={class:"flex-1"},vD={class:"flex space-x-3"},xD={key:0,class:"mt-2 text-xs text-primary-600 dark:text-primary-400"},bD={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},kD={class:"relative"},wD={key:0,class:"mt-1 text-xs text-primary-600 dark:text-primary-400"},_D={class:"relative"},$D={key:0,class:"mt-1 text-xs text-primary-600 dark:text-primary-400"},CD={class:"relative"},SD=["max"],ED={key:0,class:"mt-1 text-xs text-primary-600 dark:text-primary-400"},TD={class:"relative"},AD={key:0,class:"mt-1 text-xs text-primary-600 dark:text-primary-400"},LD={class:"sm:col-span-2"},MD={class:"relative"},PD={key:0,class:"mt-1 text-xs text-primary-600 dark:text-primary-400"},DD={class:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 border-t border-gray-200 dark:border-gray-600 rounded-b-xl flex justify-between items-center"},ID={class:"text-sm text-gray-500 dark:text-gray-400"},OD={class:"flex space-x-3"},FD=["disabled"],RD={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},jD={key:1,class:"fas fa-save mr-2"},ND={class:"p-6 space-y-6"},VD={class:"grid grid-cols-1 gap-6 max-w-xl"},BD={class:"relative"},UD=["type"],HD={key:0,class:"mt-1 text-xs text-primary-600 dark:text-primary-400"},qD={class:"relative"},zD=["type"],WD={key:0,class:"mt-2"},KD={class:"flex items-center space-x-2"},YD={class:"flex-1 h-1.5 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden"},GD={key:1,class:"mt-1 text-xs text-primary-600 dark:text-primary-400"},JD={class:"relative"},QD=["type"],XD={key:0,class:"mt-1 text-xs text-primary-600 dark:text-primary-400"},ZD={class:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 border-t border-gray-200 dark:border-gray-600 rounded-b-xl flex justify-end"},eI=["disabled"],tI={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},sI={key:1,class:"fas fa-shield-alt mr-2"},aI={class:"p-6"},rI={class:"space-y-4"},oI={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 flex justify-between items-center"},nI={class:"text-sm text-gray-600 dark:text-gray-400"},iI={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 flex justify-between items-center"},lI={class:"text-sm text-gray-600 dark:text-gray-400"},dI={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},cI={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 flex justify-between items-center"},uI={class:"text-sm text-gray-600 dark:text-gray-400"},hI={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 flex justify-between items-center"},gI={class:"text-sm text-gray-600 dark:text-gray-400"},pI={key:0,class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 flex justify-between items-center"},mI={class:"text-sm text-gray-600 dark:text-gray-400"},jm="https://ui-avatars.com/api/?name=User&size=500&background=ef4444&color=fff&bold=true",fI={__name:"Profile",setup(e){const t=Qs(),s=Ut(),r=O("personal"),o=[{id:"personal",name:"Personal Info",icon:"fas fa-user"},{id:"security",name:"Security",icon:"fas fa-shield-alt"},{id:"account",name:"Account",icon:"fas fa-info-circle"}],n=O(!1),i=O(!1),l=O(null),u=O(""),m=O(""),y=O(0),f=O({}),x=O({}),c=O(!1),h=O(!1),g=O(!1),d=Es({id:"",name:"",email:"",date_of_birth:"",phone_number:"",address:"",avatar_url:"",status:"",email_verified_at:"",created_at:"",updated_at:"",active_role:null}),p=Es({name:"",email:"",date_of_birth:"",phone_number:"",address:"",avatar_url:""}),v=Es({currentPassword:"",newPassword:"",confirmPassword:""}),b=fe(()=>new Date().toISOString().split("T")[0]),w=fe(()=>{const R=v.newPassword;if(!R)return{percent:"0%",label:"",score:0};let M=0;R.length>=8&&(M+=25),R.length>=12&&(M+=25),/[a-z]/.test(R)&&/[A-Z]/.test(R)&&(M+=25),/\d/.test(R)&&(M+=25),/[^a-zA-Z\d]/.test(R)&&(M+=10),M=Math.min(M,100);let B="";return M<=25?B="Weak":M<=50?B="Fair":M<=75?B="Good":B="Strong",{percent:`${M}%`,label:B,score:M}}),E=fe(()=>{const R=w.value.score;return R<=25?"bg-primary-500":R<=50?"bg-yellow-500":R<=75?"bg-blue-500":"bg-green-500"}),C=fe(()=>{const R=w.value.score;return R<=25?"text-primary-600 dark:text-primary-400":R<=50?"text-yellow-600 dark:text-yellow-400":R<=75?"text-blue-600 dark:text-blue-400":"text-green-600 dark:text-green-400"}),T=R=>{if(!R)return"N/A";const M={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(R).toLocaleDateString("en-US",M)},P=async()=>{try{const R=await Tt("/profile");if(R.success){const M=R.data;Object.assign(d,M),p.name=M.name||"",p.email=M.email||"",p.date_of_birth=M.date_of_birth||"",p.phone_number=M.phone_number||"",p.address=M.address||"",p.avatar_url=M.avatar_url||""}}catch(R){console.error("Failed to load profile:",R),s.error("Failed to load profile data")}},A=R=>{const M=R.target.files[0];if(!M)return;if(u.value="",!["image/jpeg","image/jpg","image/png"].includes(M.type)){u.value="Please select a valid image file (JPG, PNG)";return}if(M.size>2*1024*1024){u.value="File size must be less than 2MB";return}const B=new FileReader;B.onload=W=>{m.value=W.target.result},B.readAsDataURL(M)},j=()=>{m.value="",u.value="",l.value&&(l.value.value="")},V=async()=>{var R,M,B,W,K;n.value=!0,f.value={},y.value=0;try{const Z=new FormData;Z.append("name",p.name),Z.append("email",p.email),Z.append("date_of_birth",p.date_of_birth||""),Z.append("phone_number",p.phone_number||""),Z.append("address",p.address||""),(R=l.value)!=null&&R.files[0]&&Z.append("avatar",l.value.files[0]);const Te=await Xt("/profile",Z,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:_e=>{y.value=Math.round(_e.loaded*100/_e.total)}});Te.success&&(t.user={...t.user,...Te.data},localStorage.setItem("user",JSON.stringify(t.user)),await P(),m.value="",l.value&&(l.value.value=""),s.success("Profile updated successfully"))}catch(Z){console.error("Failed to update profile:",Z),(B=(M=Z.response)==null?void 0:M.data)!=null&&B.errors&&(f.value=Z.response.data.errors),s.error(((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"Failed to update profile")}finally{n.value=!1,y.value=0}},H=async()=>{var R,M,B,W;if(v.newPassword!==v.confirmPassword){s.error("Passwords do not match");return}if(v.newPassword.length<8){s.error("Password must be at least 8 characters");return}i.value=!0,x.value={};try{(await Xt("/profile/password",{current_password:v.currentPassword,new_password:v.newPassword,new_password_confirmation:v.confirmPassword})).success&&(v.currentPassword="",v.newPassword="",v.confirmPassword="",s.success("Password changed successfully"))}catch(K){console.error("Failed to change password:",K),(M=(R=K.response)==null?void 0:R.data)!=null&&M.errors&&(x.value=K.response.data.errors),s.error(((W=(B=K.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to change password")}finally{i.value=!1}};return Ot(()=>{P()}),(R,M)=>{const B=pr("router-link");return $(),S("div",YP,[a("div",GP,[M[47]||(M[47]=a("div",{class:"mb-8"},[a("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"}," My Profile "),a("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Manage your account settings and preferences ")],-1)),a("div",JP,[M[12]||(M[12]=a("div",{class:"h-32 bg-gradient-to-r from-primary-500 to-pink-500"},null,-1)),a("div",QP,[a("div",XP,[a("div",ZP,[a("img",{src:d.avatar_url||jm,alt:d.name,class:"h-32 w-32 rounded-full border-4 border-white dark:border-gray-800 object-cover shadow-lg"},null,8,eD),a("div",{class:Ee(["absolute bottom-2 right-2 h-6 w-6 bg-green-500 border-2 border-white dark:border-gray-800 rounded-full",{"bg-green-500":d.status==="active","bg-gray-400":d.status!=="active"}])},null,2)]),a("div",tD,[a("h2",sD,k(d.name),1),a("p",aD,k(d.email),1),a("div",rD,[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":d.status==="active","bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200":d.status!=="active"}])},k(d.status),3),d.active_role?($(),S("span",oD,k(d.active_role.name),1)):G("",!0)])])])])]),a("div",nD,[a("div",iD,[a("nav",lD,[($(),S(Qe,null,ot(o,W=>a("button",{key:W.id,onClick:K=>r.value=W.id,class:Ee([r.value===W.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"])},[a("i",{class:Ee([W.icon,"mr-2"])},null,2),ke(" "+k(W.name),1)],10,dD)),64))])])]),a("div",cD,[rt(a("div",null,[a("form",{onSubmit:Bt(V,["prevent"])},[a("div",uD,[M[27]||(M[27]=a("div",null,[a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Personal Information "),a("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-6"}," Update your personal details and profile picture ")],-1)),a("div",null,[M[16]||(M[16]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Profile Photo ",-1)),a("div",hD,[a("div",gD,[a("img",{src:m.value||p.avatar_url||jm,alt:"Avatar preview",class:"h-24 w-24 rounded-full object-cover ring-4 ring-gray-100 dark:ring-gray-700"},null,8,pD),y.value>0&&y.value<100?($(),S("div",mD,[a("span",fD,k(y.value)+"% ",1)])):G("",!0)]),a("div",yD,[a("input",{type:"file",ref_key:"avatarInput",ref:l,onChange:A,accept:"image/jpeg,image/jpg,image/png",class:"hidden"},null,544),a("div",vD,[a("button",{type:"button",onClick:M[0]||(M[0]=W=>R.$refs.avatarInput.click()),class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-lg text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors"},[...M[13]||(M[13]=[a("i",{class:"fas fa-upload mr-2"},null,-1),ke(" Upload New ",-1)])]),m.value?($(),S("button",{key:0,type:"button",onClick:j,class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-lg text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors"},[...M[14]||(M[14]=[a("i",{class:"fas fa-times mr-2"},null,-1),ke(" Cancel ",-1)])])):G("",!0)]),M[15]||(M[15]=a("p",{class:"mt-2 text-xs text-gray-500 dark:text-gray-400"}," JPG, PNG up to 2MB. Image will be resized to 500x500px ",-1)),u.value?($(),S("p",xD,k(u.value),1)):G("",!0)])])]),a("div",bD,[a("div",null,[M[18]||(M[18]=a("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[ke(" Full Name "),a("span",{class:"text-primary-500"},"*")],-1)),a("div",kD,[M[17]||(M[17]=a("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[a("i",{class:"fas fa-user text-gray-400"})],-1)),rt(a("input",{type:"text",id:"name","onUpdate:modelValue":M[1]||(M[1]=W=>p.name=W),required:"",class:"pl-10 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors",placeholder:"Enter your full name"},null,512),[[It,p.name]])]),f.value.name?($(),S("p",wD,k(f.value.name[0]),1)):G("",!0)]),a("div",null,[M[20]||(M[20]=a("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[ke(" Email Address "),a("span",{class:"text-primary-500"},"*")],-1)),a("div",_D,[M[19]||(M[19]=a("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[a("i",{class:"fas fa-envelope text-gray-400"})],-1)),rt(a("input",{type:"email",id:"email","onUpdate:modelValue":M[2]||(M[2]=W=>p.email=W),required:"",class:"pl-10 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors",placeholder:"your.email@example.com"},null,512),[[It,p.email]])]),f.value.email?($(),S("p",$D,k(f.value.email[0]),1)):G("",!0)]),a("div",null,[M[22]||(M[22]=a("label",{for:"date_of_birth",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Date of Birth ",-1)),a("div",CD,[M[21]||(M[21]=a("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[a("i",{class:"fas fa-calendar text-gray-400"})],-1)),rt(a("input",{type:"date",id:"date_of_birth","onUpdate:modelValue":M[3]||(M[3]=W=>p.date_of_birth=W),max:b.value,class:"pl-10 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors"},null,8,SD),[[It,p.date_of_birth]])]),f.value.date_of_birth?($(),S("p",ED,k(f.value.date_of_birth[0]),1)):G("",!0)]),a("div",null,[M[24]||(M[24]=a("label",{for:"phone_number",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Phone Number ",-1)),a("div",TD,[M[23]||(M[23]=a("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[a("i",{class:"fas fa-phone text-gray-400"})],-1)),rt(a("input",{type:"tel",id:"phone_number","onUpdate:modelValue":M[4]||(M[4]=W=>p.phone_number=W),class:"pl-10 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors",placeholder:"+62 812 3456 7890"},null,512),[[It,p.phone_number]])]),f.value.phone_number?($(),S("p",AD,k(f.value.phone_number[0]),1)):G("",!0)]),a("div",LD,[M[26]||(M[26]=a("label",{for:"address",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Address ",-1)),a("div",MD,[M[25]||(M[25]=a("div",{class:"absolute top-3 left-0 pl-3 flex items-start pointer-events-none"},[a("i",{class:"fas fa-map-marker-alt text-gray-400"})],-1)),rt(a("textarea",{id:"address","onUpdate:modelValue":M[5]||(M[5]=W=>p.address=W),rows:"3",class:"pl-10 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors",placeholder:"Enter your complete address..."},null,512),[[It,p.address]])]),f.value.address?($(),S("p",PD,k(f.value.address[0]),1)):G("",!0)])])]),a("div",DD,[a("p",ID," Last updated: "+k(T(d.updated_at)),1),a("div",OD,[L(B,{to:"/dashboard",class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-lg text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors"},{default:le(()=>[...M[28]||(M[28]=[ke(" Cancel ",-1)])]),_:1}),a("button",{type:"submit",disabled:n.value,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[n.value?($(),S("svg",RD,[...M[29]||(M[29]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):($(),S("i",jD)),ke(" "+k(n.value?"Saving...":"Save Changes"),1)],8,FD)])])],32)],512),[[Or,r.value==="personal"]]),rt(a("div",null,[a("form",{onSubmit:Bt(H,["prevent"])},[a("div",ND,[M[36]||(M[36]=po('<div data-v-1c340542><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4" data-v-1c340542> Change Password </h3><p class="text-sm text-gray-600 dark:text-gray-400 mb-6" data-v-1c340542> Ensure your account is using a strong password to stay secure </p></div><div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4" data-v-1c340542><h4 class="text-sm font-medium text-blue-800 dark:text-blue-300 mb-2" data-v-1c340542> Password Requirements: </h4><ul class="text-xs text-blue-700 dark:text-blue-400 space-y-1" data-v-1c340542><li class="flex items-center" data-v-1c340542><i class="fas fa-check-circle mr-2" data-v-1c340542></i> At least 8 characters long </li><li class="flex items-center" data-v-1c340542><i class="fas fa-check-circle mr-2" data-v-1c340542></i> Contains uppercase and lowercase letters </li><li class="flex items-center" data-v-1c340542><i class="fas fa-check-circle mr-2" data-v-1c340542></i> Contains at least one number </li></ul></div>',2)),a("div",VD,[a("div",null,[M[31]||(M[31]=a("label",{for:"current-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[ke(" Current Password "),a("span",{class:"text-primary-500"},"*")],-1)),a("div",BD,[M[30]||(M[30]=a("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[a("i",{class:"fas fa-lock text-gray-400"})],-1)),rt(a("input",{type:c.value?"text":"password",id:"current-password","onUpdate:modelValue":M[6]||(M[6]=W=>v.currentPassword=W),required:"",class:"pl-10 pr-10 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors",placeholder:"Enter current password"},null,8,UD),[[xi,v.currentPassword]]),a("button",{type:"button",onClick:M[7]||(M[7]=W=>c.value=!c.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[a("i",{class:Ee(c.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),x.value.current_password?($(),S("p",HD,k(x.value.current_password[0]),1)):G("",!0)]),a("div",null,[M[33]||(M[33]=a("label",{for:"new-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[ke(" New Password "),a("span",{class:"text-primary-500"},"*")],-1)),a("div",qD,[M[32]||(M[32]=a("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[a("i",{class:"fas fa-key text-gray-400"})],-1)),rt(a("input",{type:h.value?"text":"password",id:"new-password","onUpdate:modelValue":M[8]||(M[8]=W=>v.newPassword=W),required:"",class:"pl-10 pr-10 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors",placeholder:"Enter new password"},null,8,zD),[[xi,v.newPassword]]),a("button",{type:"button",onClick:M[9]||(M[9]=W=>h.value=!h.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[a("i",{class:Ee(h.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),v.newPassword?($(),S("div",WD,[a("div",KD,[a("div",YD,[a("div",{class:Ee([E.value,"h-full transition-all duration-300"]),style:fs({width:w.value.percent})},null,6)]),a("span",{class:Ee([C.value,"text-xs font-medium"])},k(w.value.label),3)])])):G("",!0),x.value.new_password?($(),S("p",GD,k(x.value.new_password[0]),1)):G("",!0)]),a("div",null,[M[35]||(M[35]=a("label",{for:"confirm-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[ke(" Confirm New Password "),a("span",{class:"text-primary-500"},"*")],-1)),a("div",JD,[M[34]||(M[34]=a("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[a("i",{class:"fas fa-check-circle text-gray-400"})],-1)),rt(a("input",{type:g.value?"text":"password",id:"confirm-password","onUpdate:modelValue":M[10]||(M[10]=W=>v.confirmPassword=W),required:"",class:"pl-10 pr-10 block w-full border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 sm:text-sm transition-colors",placeholder:"Confirm new password"},null,8,QD),[[xi,v.confirmPassword]]),a("button",{type:"button",onClick:M[11]||(M[11]=W=>g.value=!g.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[a("i",{class:Ee(g.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),v.confirmPassword&&v.newPassword!==v.confirmPassword?($(),S("p",XD," Passwords do not match ")):G("",!0)])])]),a("div",ZD,[a("button",{type:"submit",disabled:i.value||v.newPassword!==v.confirmPassword,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[i.value?($(),S("svg",tI,[...M[37]||(M[37]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):($(),S("i",sI)),ke(" "+k(i.value?"Changing...":"Change Password"),1)],8,eI)])],32)],512),[[Or,r.value==="security"]]),rt(a("div",null,[a("div",aI,[M[45]||(M[45]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Account Information ",-1)),M[46]||(M[46]=a("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-6"}," View your account details and status ",-1)),a("div",rI,[a("div",oI,[a("div",null,[M[38]||(M[38]=a("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Account ID ",-1)),a("p",nI,k(d.id),1)])]),a("div",iI,[a("div",null,[M[39]||(M[39]=a("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Email Verification ",-1)),a("p",lI,k(d.email_verified_at?`Verified on ${T(d.email_verified_at)}`:"Not verified"),1)]),d.email_verified_at?($(),S("span",dI,[...M[40]||(M[40]=[a("i",{class:"fas fa-check-circle mr-1"},null,-1),ke(" Verified ",-1)])])):G("",!0)]),a("div",cI,[a("div",null,[M[41]||(M[41]=a("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Account Created ",-1)),a("p",uI,k(T(d.created_at)),1)])]),a("div",hI,[a("div",null,[M[42]||(M[42]=a("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Last Updated ",-1)),a("p",gI,k(T(d.updated_at)),1)])]),d.active_role?($(),S("div",pI,[a("div",null,[M[43]||(M[43]=a("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Active Role ",-1)),a("p",mI,k(d.active_role.name),1)]),M[44]||(M[44]=a("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}," Active ",-1))])):G("",!0)])])],512),[[Or,r.value==="account"]])])])])}}},yI=ja(fI,[["__scopeId","data-v-1c340542"]]),vI={class:"space-y-6"},xI={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg border border-gray-200 dark:border-gray-700"},bI={class:"p-6"},kI={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},wI={class:"lg:col-span-1"},_I={class:"space-y-4"},$I={key:0,class:"flex justify-center"},CI={class:"relative"},SI=["src"],EI={class:"flex justify-center"},TI={class:"cursor-pointer"},AI={class:"lg:col-span-2 space-y-6"},LI={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},MI={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},PI={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},DI={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},II={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},OI={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},FI={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},RI={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},jI={class:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700"},NI=["disabled"],VI={key:0,class:"flex items-center"},BI={key:1},UI={__name:"SystemSetting",setup(e){vr();const t=Ut(),s=O(!1),r=O(!0),o=Es({nama_sistem:"",deskripsi_sistem:"",nama_perusahaan:"",alamat_lengkap:"",email_perusahaan:"",nomor_telepon:"",footer_text:"",report_checker_name:"",report_approver_name:"",logo_sistem:null}),n=O({}),i=O({}),l=O(null),u=O(null);fe(()=>JSON.stringify(o)!==JSON.stringify({nama_sistem:n.value.nama_sistem||"",deskripsi_sistem:n.value.deskripsi_sistem||"",nama_perusahaan:n.value.nama_perusahaan||"",alamat_lengkap:n.value.alamat_lengkap||"",email_perusahaan:n.value.email_perusahaan||"",nomor_telepon:n.value.nomor_telepon||"",footer_text:n.value.footer_text||"",report_checker_name:n.value.report_checker_name||"",report_approver_name:n.value.report_approver_name||"",logo_sistem:null}));const m=async()=>{try{r.value=!0;const g=await Tt("/settings");g.success&&(n.value=g.data,Object.keys(o).forEach(d=>{d!=="logo_sistem"&&(o[d]=g.data[d]||"")}))}catch(g){console.error("Error fetching settings:",g),t.error("Gagal memuat pengaturan sistem")}finally{r.value=!1}},y=g=>{const d=g.target.files[0];if(d){if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(d.type)){t.error("Format file tidak didukung. Gunakan JPEG, PNG, JPG, atau GIF.");return}if(d.size>2*1024*1024){t.error("Ukuran file maksimal 2MB.");return}o.logo_sistem=d;const v=new FileReader;v.onload=b=>{l.value=b.target.result},v.readAsDataURL(d)}},f=()=>{o.logo_sistem=null,l.value=null,u.value&&(u.value.value="")},x=g=>g?`/storage/logo/${g}`:null,c=()=>{Object.keys(o).forEach(g=>{g!=="logo_sistem"?o[g]=n.value[g]||"":o[g]=null}),l.value=null,u.value&&(u.value.value=""),i.value={}},h=async()=>{var g,d,p;try{s.value=!0,i.value={},console.log("Form data before submit:",o);const v=new FormData;v.append("_method","PUT"),Object.keys(o).forEach(w=>{w!=="logo_sistem"&&o[w]!==null&&o[w]!==void 0&&(v.append(w,o[w]),console.log(`Adding ${w}:`,o[w]))}),o.logo_sistem&&(v.append("logo_sistem",o.logo_sistem),console.log("Adding logo file:",o.logo_sistem)),console.log("FormData contents:");for(let[w,E]of v.entries())console.log(w,E);const b=await Xt("/settings",v,{headers:{"Content-Type":"multipart/form-data"}});b.success&&(t.success("Pengaturan sistem berhasil diperbarui"),n.value=b.data,l.value=null,o.logo_sistem=null,u.value&&(u.value.value=""))}catch(v){console.error("Error updating settings:",v),((g=v.response)==null?void 0:g.status)===422&&((p=(d=v.response)==null?void 0:d.data)!=null&&p.errors)?(i.value=v.response.data.errors,t.error("Mohon perbaiki kesalahan pada form")):t.error("Gagal memperbarui pengaturan sistem")}finally{s.value=!1}};return Ot(()=>{m()}),(g,d)=>($(),S("div",vI,[d[24]||(d[24]=po('<div class="bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 overflow-hidden shadow-lg rounded-lg border border-gray-200 dark:border-gray-700"><div class="p-6"><div class="flex items-center justify-between"><div class="flex-1"><div class="flex items-center space-x-4"><div class="flex-shrink-0"><div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div></div><div><h1 class="text-2xl font-bold text-white"> Pengaturan Sistem </h1><p class="mt-1 text-sm text-blue-100"> Kelola informasi dasar dan pengaturan aplikasi </p></div></div></div></div></div></div>',1)),a("div",xI,[a("div",bI,[a("form",{onSubmit:Bt(h,["prevent"]),class:"space-y-6"},[a("div",kI,[a("div",wI,[d[12]||(d[12]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Logo Sistem ",-1)),a("div",_I,[o.logo_sistem||n.value.logo_sistem?($(),S("div",$I,[a("div",CI,[a("img",{src:l.value||x(n.value.logo_sistem),alt:"Logo Sistem",class:"w-32 h-32 object-contain border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700"},null,8,SI),a("button",{type:"button",onClick:f,class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-colors"},[...d[9]||(d[9]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):G("",!0),a("div",EI,[a("label",TI,[d[10]||(d[10]=a("div",{class:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-blue-400 dark:hover:border-blue-500 transition-colors bg-gray-50 dark:bg-gray-700"},[a("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),a("span",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},"Upload Logo")],-1)),a("input",{type:"file",ref_key:"logoInput",ref:u,onChange:y,accept:"image/*",class:"hidden"},null,544)])]),d[11]||(d[11]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 text-center"}," Format: JPEG, PNG, JPG, GIF. Maksimal 2MB ",-1))])]),a("div",AI,[a("div",null,[d[13]||(d[13]=a("label",{for:"nama_sistem",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[ke(" Nama Sistem "),a("span",{class:"text-red-500"},"*")],-1)),rt(a("input",{id:"nama_sistem","onUpdate:modelValue":d[0]||(d[0]=p=>o.nama_sistem=p),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Masukkan nama sistem"},null,512),[[It,o.nama_sistem]]),i.value.nama_sistem?($(),S("p",LI,k(i.value.nama_sistem[0]),1)):G("",!0)]),a("div",null,[d[14]||(d[14]=a("label",{for:"deskripsi_sistem",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[ke(" Deskripsi Sistem "),a("span",{class:"text-red-500"},"*")],-1)),rt(a("textarea",{id:"deskripsi_sistem","onUpdate:modelValue":d[1]||(d[1]=p=>o.deskripsi_sistem=p),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Masukkan deskripsi sistem"},null,512),[[It,o.deskripsi_sistem]]),i.value.deskripsi_sistem?($(),S("p",MI,k(i.value.deskripsi_sistem[0]),1)):G("",!0)]),a("div",null,[d[15]||(d[15]=a("label",{for:"nama_perusahaan",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[ke(" Nama Perusahaan "),a("span",{class:"text-red-500"},"*")],-1)),rt(a("input",{id:"nama_perusahaan","onUpdate:modelValue":d[2]||(d[2]=p=>o.nama_perusahaan=p),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Masukkan nama perusahaan"},null,512),[[It,o.nama_perusahaan]]),i.value.nama_perusahaan?($(),S("p",PI,k(i.value.nama_perusahaan[0]),1)):G("",!0)]),a("div",null,[d[16]||(d[16]=a("label",{for:"alamat_lengkap",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[ke(" Alamat Lengkap "),a("span",{class:"text-red-500"},"*")],-1)),rt(a("textarea",{id:"alamat_lengkap","onUpdate:modelValue":d[3]||(d[3]=p=>o.alamat_lengkap=p),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Masukkan alamat lengkap perusahaan"},null,512),[[It,o.alamat_lengkap]]),i.value.alamat_lengkap?($(),S("p",DI,k(i.value.alamat_lengkap[0]),1)):G("",!0)]),a("div",null,[d[17]||(d[17]=a("label",{for:"email_perusahaan",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[ke(" Email Perusahaan "),a("span",{class:"text-red-500"},"*")],-1)),rt(a("input",{id:"email_perusahaan","onUpdate:modelValue":d[4]||(d[4]=p=>o.email_perusahaan=p),type:"email",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Masukkan email perusahaan"},null,512),[[It,o.email_perusahaan]]),i.value.email_perusahaan?($(),S("p",II,k(i.value.email_perusahaan[0]),1)):G("",!0)]),a("div",null,[d[18]||(d[18]=a("label",{for:"nomor_telepon",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[ke(" Nomor Telepon "),a("span",{class:"text-red-500"},"*")],-1)),rt(a("input",{id:"nomor_telepon","onUpdate:modelValue":d[5]||(d[5]=p=>o.nomor_telepon=p),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Masukkan nomor telepon perusahaan"},null,512),[[It,o.nomor_telepon]]),i.value.nomor_telepon?($(),S("p",OI,k(i.value.nomor_telepon[0]),1)):G("",!0)]),a("div",null,[d[19]||(d[19]=a("label",{for:"footer_text",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Teks Footer ",-1)),rt(a("textarea",{id:"footer_text","onUpdate:modelValue":d[6]||(d[6]=p=>o.footer_text=p),rows:"2",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Masukkan teks footer (opsional)"},null,512),[[It,o.footer_text]]),d[20]||(d[20]=a("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Teks yang akan ditampilkan di footer aplikasi ",-1))]),a("div",null,[d[21]||(d[21]=a("label",{for:"report_checker_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Nama Pemeriksa Laporan ",-1)),rt(a("input",{id:"report_checker_name","onUpdate:modelValue":d[7]||(d[7]=p=>o.report_checker_name=p),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Masukkan nama pemeriksa laporan"},null,512),[[It,o.report_checker_name]]),i.value.report_checker_name?($(),S("p",FI,k(i.value.report_checker_name[0]),1)):G("",!0)]),a("div",null,[d[22]||(d[22]=a("label",{for:"report_approver_name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Nama Penyetuju Laporan ",-1)),rt(a("input",{id:"report_approver_name","onUpdate:modelValue":d[8]||(d[8]=p=>o.report_approver_name=p),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Masukkan nama penyetuju laporan"},null,512),[[It,o.report_approver_name]]),i.value.report_approver_name?($(),S("p",RI,k(i.value.report_approver_name[0]),1)):G("",!0)])])]),a("div",jI,[a("button",{type:"button",onClick:c,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"}," Reset "),a("button",{type:"submit",disabled:s.value,class:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[s.value?($(),S("span",VI,[...d[23]||(d[23]=[a("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ke(" Menyimpan... ",-1)])])):($(),S("span",BI,"Simpan Perubahan"))],8,NI)])],32)])])]))}},HI={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},qI={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},zI={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},WI={class:"text-lg font-semibold text-gray-900 dark:text-white"},KI={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},YI={class:"flex items-center gap-3"},GI=["disabled"],JI={class:"relative"},QI={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},XI=["placeholder"],ZI={key:1,class:"hs-dropdown relative inline-flex"},eO={id:"hs-dropdown-filter",type:"button",class:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},tO={class:"hs-dropdown-menu transition-all duration-200 hs-dropdown-open:opacity-100 opacity-0 hidden min-w-48 bg-white shadow-lg rounded-lg border border-gray-200 p-2 dark:bg-gray-800 dark:border-gray-700 mt-2"},sO={class:"overflow-x-auto"},aO={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},rO={class:"bg-gray-50 dark:bg-gray-700"},oO={key:0,class:"px-6 py-3 text-left"},nO={class:"flex items-center"},iO=["checked"],lO=["onClick"],dO={class:"flex items-center gap-2"},cO={key:0,class:"flex flex-col"},uO={key:1,class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400"},hO={class:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700"},gO={key:0},pO=["colspan"],mO={key:1},fO=["colspan"],yO={class:"flex flex-col items-center justify-center"},vO={class:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4"},xO={class:"text-sm font-medium text-gray-900 dark:text-white mb-1"},bO={class:"text-sm text-gray-500 dark:text-gray-400"},kO={key:0,class:"px-6 py-4"},wO={class:"flex items-center"},_O=["id","checked","onChange"],$O=["for"],CO={key:0,class:"flex items-center"},SO=["src","alt"],EO={key:0,class:"ml-3"},TO={class:"text-sm font-medium text-gray-900 dark:text-white"},AO={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},LO={key:2,class:"text-sm font-medium text-gray-900 dark:text-white"},MO={key:3,class:"text-sm text-gray-500 dark:text-gray-400"},PO={key:4,class:"text-sm text-gray-900 dark:text-white"},DO={key:1,class:"px-6 py-4 text-right text-sm font-medium"},IO={class:"flex items-center justify-end gap-2"},OO=["onClick","title"],FO={key:6,class:"text-xs"},RO=["onClick"],jO=["onClick"],NO={key:0,class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700"},VO={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},BO={class:"flex items-center gap-4"},UO={key:0,class:"text-sm text-gray-700 dark:text-gray-300"},HO={class:"text-sm text-gray-500 dark:text-gray-400"},qO={class:"flex items-center gap-2"},zO={class:"flex items-center gap-2"},WO=["value"],KO={class:"flex items-center gap-1"},YO=["disabled"],GO=["disabled"],JO={class:"flex items-center gap-1"},QO=["onClick"],XO=["disabled"],ZO=["disabled"],eF={__name:"DataTable",props:{title:{type:String,default:"Data Table"},description:{type:String,default:""},data:{type:Array,default:()=>[]},columns:{type:Array,required:!0},loading:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},showActions:{type:Boolean,default:!0},showAddButton:{type:Boolean,default:!0},addButtonText:{type:String,default:"Add New"},showFilters:{type:Boolean,default:!0},showExport:{type:Boolean,default:!0},showBulkActions:{type:Boolean,default:!0},searchPlaceholder:{type:String,default:"Search..."},emptyTitle:{type:String,default:"No data found"},emptyDescription:{type:String,default:"Get started by creating a new item."},itemKey:{type:String,default:"id"},showRefresh:{type:Boolean,default:!1},refreshLoading:{type:Boolean,default:!1},serverSidePagination:{type:Boolean,default:!1},pagination:{type:Object,default:()=>({current_page:1,per_page:10,total:0,last_page:1})},customActions:{type:Array,default:()=>[]}},emits:["add","edit","delete","bulk-action","export","selection-change","refresh","search","page-change","sort","custom-action"],setup(e,{emit:t}){const s=e,r=t,o=O(""),n=O(""),i=O("asc"),l=O([]),u=O(1),m=O(10),y=O([5,10,15,25,50,100]),f=O(!1),x=O(!1),c=fe(()=>{let M=s.columns.length;return s.selectable&&M++,s.showActions&&M++,M}),h=fe(()=>{if(s.serverSidePagination)return s.data;let M=[...s.data];if(o.value){const B=o.value.toLowerCase();M=M.filter(W=>s.columns.some(K=>{const Z=b(W,K.key);return Z&&Z.toString().toLowerCase().includes(B)}))}return n.value&&M.sort((B,W)=>{const K=b(B,n.value),Z=b(W,n.value);if(K==null)return 1;if(Z==null)return-1;let Te=0;return K>Z&&(Te=1),K<Z&&(Te=-1),i.value==="desc"?Te*-1:Te}),M}),g=fe(()=>s.serverSidePagination?s.pagination.last_page||1:Math.ceil(h.value.length/m.value)),d=fe(()=>{if(s.serverSidePagination)return s.data;const M=(u.value-1)*m.value,B=M+m.value;return h.value.slice(M,B)}),p=fe(()=>h.value.length>0&&l.value.length===h.value.length),v=fe(()=>{const M=[],B=g.value,W=u.value;if(B<=6){for(let K=1;K<=B;K++)M.push(K);return M}return M.push(1,2),W>4&&M.push("..."),W>2&&W<B-2&&M.push(W),W<B-3&&M.push("..."),M.push(B-2,B-1,B),M}),b=(M,B)=>B.split(".").reduce((W,K)=>W&&W[K],M),w=(M,B)=>b(M,s.itemKey)||B,E=M=>{n.value===M?i.value=i.value==="asc"?"desc":"asc":(n.value=M,i.value="asc"),f.value&&r("sort",M,i.value)},C=()=>{p.value?l.value=[]:l.value=h.value.map(M=>w(M))},T=M=>{const B=l.value.indexOf(M);B>-1?l.value.splice(B,1):l.value.push(M)},P=(M,B={})=>({...{active:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inactive:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},...B})[M]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",A=M=>M?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(M):"Rp 0",j=M=>M?new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",V=()=>{s.serverSidePagination&&r("search",o.value)},H=()=>{r("export",h.value)},R=(M,B)=>{r("custom-action",{action:M,item:B})};return Et(o,M=>{s.serverSidePagination||(u.value=1)}),Et(l,M=>{r("selection-change",M)},{deep:!0}),Et(m,()=>{s.serverSidePagination?f.value&&!x.value&&r("page-change",1,m.value):u.value=1}),Et(()=>s.pagination,M=>{s.serverSidePagination&&M&&(x.value=!0,u.value=M.current_page||1,m.value=M.per_page||10,f.value||(f.value=!0),zs(()=>{x.value=!1}))},{immediate:!0}),(M,B)=>($(),S("div",HI,[a("div",qI,[a("div",zI,[a("div",null,[a("h3",WI,k(e.title),1),e.description?($(),S("p",KI,k(e.description),1)):G("",!0)]),a("div",YI,[e.showRefresh?($(),S("button",{key:0,onClick:B[0]||(B[0]=W=>M.$emit("refresh")),disabled:e.refreshLoading,class:"inline-flex items-center justify-center w-10 h-10 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600",title:"Refresh data"},[L(F(Ur),{class:Ee(["w-4 h-4",e.refreshLoading?"animate-spin":""])},null,8,["class"])],8,GI)):G("",!0),a("div",JI,[a("div",QI,[L(F(Un),{class:"w-4 h-4 text-gray-400"})]),rt(a("input",{"onUpdate:modelValue":B[1]||(B[1]=W=>o.value=W),type:"text",class:"w-64 pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400",placeholder:e.searchPlaceholder,onKeyup:uu(V,["enter"])},null,40,XI),[[It,o.value]])]),e.showFilters?($(),S("div",ZI,[a("button",eO,[L(F(Nv),{class:"w-4 h-4"}),B[10]||(B[10]=ke(" Filter ",-1)),L(F(Au),{class:"w-4 h-4"})]),a("div",tO,[Sa(M.$slots,"filters",{},()=>[B[11]||(B[11]=a("div",{class:"p-2 text-sm text-gray-500 dark:text-gray-400"}," No filters available ",-1))],!0)])])):G("",!0),e.showExport?($(),S("button",{key:2,onClick:H,class:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},[L(F(sn),{class:"w-4 h-4"}),B[12]||(B[12]=ke(" Export ",-1))])):G("",!0),e.showAddButton?($(),S("button",{key:3,onClick:B[2]||(B[2]=W=>M.$emit("add")),class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[L(F(la),{class:"w-4 h-4"}),ke(" "+k(e.addButtonText),1)])):G("",!0)])])]),a("div",sO,[a("table",aO,[a("thead",rO,[a("tr",null,[e.selectable?($(),S("th",oO,[a("div",nO,[a("input",{id:"select-all",type:"checkbox",checked:p.value,onChange:C,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"},null,40,iO),B[13]||(B[13]=a("label",{for:"select-all",class:"sr-only"},"Select all",-1))])])):G("",!0),($(!0),S(Qe,null,ot(e.columns,W=>($(),S("th",{key:W.key,class:Ee(["px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",W.sortable?"cursor-pointer hover:text-gray-700 dark:hover:text-gray-300":""]),onClick:K=>W.sortable?E(W.key):null},[a("div",dO,[a("span",null,k(W.label),1),W.sortable?($(),S("div",cO,[L(F(SS),{class:Ee(["w-3 h-3",n.value===W.key&&i.value==="asc"?"text-blue-500":"text-gray-400"])},null,8,["class"]),L(F(Au),{class:Ee(["w-3 h-3 -mt-1",n.value===W.key&&i.value==="desc"?"text-blue-500":"text-gray-400"])},null,8,["class"])])):G("",!0)])],10,lO))),128)),e.showActions?($(),S("th",uO," Actions ")):G("",!0)])]),a("tbody",hO,[e.loading?($(),S("tr",gO,[a("td",{colspan:c.value,class:"px-6 py-12 text-center"},[...B[14]||(B[14]=[a("div",{class:"flex flex-col items-center justify-center"},[a("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mb-4"}),a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Loading... ")],-1)])],8,pO)])):h.value.length===0?($(),S("tr",mO,[a("td",{colspan:c.value,class:"px-6 py-12 text-center"},[a("div",yO,[a("div",vO,[L(F(AS),{class:"w-8 h-8 text-gray-400"})]),a("h3",xO,k(e.emptyTitle),1),a("p",bO,k(e.emptyDescription),1),e.showAddButton?($(),S("button",{key:0,type:"button",onClick:B[3]||(B[3]=Bt(W=>M.$emit("add"),["stop","prevent"])),class:"mt-4 inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"},[L(F(la),{class:"w-4 h-4"}),ke(" "+k(e.addButtonText),1)])):G("",!0)])],8,fO)])):($(!0),S(Qe,{key:2},ot(d.value,(W,K)=>($(),S("tr",{key:w(W,K),class:Ee(["hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",{"bg-blue-50 dark:bg-blue-900/20":l.value.includes(w(W,K))}])},[e.selectable?($(),S("td",kO,[a("div",wO,[a("input",{id:`select-${w(W,K)}`,type:"checkbox",checked:l.value.includes(w(W,K)),onChange:Z=>T(w(W,K)),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600"},null,40,_O),a("label",{for:`select-${w(W,K)}`,class:"sr-only"},"Select item",8,$O)])])):G("",!0),($(!0),S(Qe,null,ot(e.columns,Z=>($(),S("td",{key:Z.key,class:"px-6 py-4 whitespace-nowrap"},[Sa(M.$slots,`column-${Z.key}`,{item:W,value:b(W,Z.key),index:K},()=>[Z.type==="avatar"?($(),S("div",CO,[a("img",{class:"w-8 h-8 rounded-full object-cover",src:b(W,Z.key)||"https://via.placeholder.com/32",alt:b(W,Z.fallback||"name")||"Avatar"},null,8,SO),Z.showName?($(),S("div",EO,[a("p",TO,k(b(W,Z.nameKey||"name")),1),Z.emailKey?($(),S("p",AO,k(b(W,Z.emailKey)),1)):G("",!0)])):G("",!0)])):Z.type==="badge"?($(),S("span",{key:1,class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",P(b(W,Z.key),Z.badgeColors)])},k(Z.formatter?Z.formatter(b(W,Z.key),W):b(W,Z.key)),3)):Z.type==="currency"?($(),S("span",LO,k(A(b(W,Z.key))),1)):Z.type==="date"?($(),S("span",MO,k(j(b(W,Z.key))),1)):($(),S("span",PO,k(Z.formatter?Z.formatter(b(W,Z.key),W):b(W,Z.key)),1))],!0)]))),128)),e.showActions?($(),S("td",DO,[Sa(M.$slots,"actions",{item:W,index:K},()=>[a("div",IO,[($(!0),S(Qe,null,ot(e.customActions,Z=>($(),S(Qe,{key:Z.label},[!Z.condition||Z.condition(W)?($(),S("button",{key:0,type:"button",onClick:Bt(Te=>R(Z,W),["stop","prevent"]),class:Ee(["p-1.5 rounded-lg transition-colors duration-200",Z.class||"text-gray-400 hover:text-gray-600 hover:bg-gray-50 dark:text-gray-500 dark:hover:text-gray-300 dark:hover:bg-gray-700"]),title:Z.label},[Z.icon==="eye"?($(),it(F(Ta),{key:0,class:"w-4 h-4"})):Z.icon==="pencil"?($(),it(F(Bs),{key:1,class:"w-4 h-4"})):Z.icon==="trash"?($(),it(F(Ks),{key:2,class:"w-4 h-4"})):Z.icon==="check"?($(),it(F(Eo),{key:3,class:"w-4 h-4"})):Z.icon==="x"?($(),it(F(ll),{key:4,class:"w-4 h-4"})):Z.icon==="printer"?($(),it(F(oi),{key:5,class:"w-4 h-4"})):($(),S("span",FO,k(Z.label),1))],10,OO)):G("",!0)],64))),128)),e.customActions.length===0?($(),S("button",{key:0,type:"button",onClick:Bt(Z=>M.$emit("edit",W),["stop","prevent"]),class:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200 dark:hover:text-blue-400 dark:hover:bg-blue-900/20",title:"Edit"},[L(F(Bs),{class:"w-4 h-4"})],8,RO)):G("",!0),e.customActions.length===0?($(),S("button",{key:1,type:"button",onClick:Bt(Z=>M.$emit("delete",W),["stop","prevent"]),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete"},[L(F(Ks),{class:"w-4 h-4"})],8,jO)):G("",!0)])],!0)])):G("",!0)],2))),128))])])]),!e.loading&&(e.serverSidePagination?e.data.length>0:h.value.length>0)?($(),S("div",NO,[a("div",VO,[a("div",BO,[l.value.length>0?($(),S("div",UO,[ke(k(l.value.length)+" of "+k(e.serverSidePagination?e.data.length:h.value.length)+" selected ",1),e.showBulkActions?($(),S("button",{key:0,onClick:B[4]||(B[4]=W=>M.$emit("bulk-action",l.value)),class:"ml-2 text-blue-600 hover:text-blue-700 dark:text-blue-400"}," Bulk Actions ")):G("",!0)])):G("",!0),a("div",HO," Showing "+k(e.serverSidePagination?(e.pagination.current_page-1)*e.pagination.per_page+1:(u.value-1)*m.value+1)+" to "+k(e.serverSidePagination?Math.min(e.pagination.current_page*e.pagination.per_page,e.pagination.total):Math.min(u.value*m.value,h.value.length))+" of "+k(e.serverSidePagination?e.pagination.total:h.value.length)+" results ",1)]),a("div",qO,[a("div",zO,[B[15]||(B[15]=a("label",{class:"text-sm text-gray-500 dark:text-gray-400"},"Show:",-1)),rt(a("select",{"onUpdate:modelValue":B[5]||(B[5]=W=>m.value=W),class:"text-sm border border-gray-300 rounded-lg px-5 py-1 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[($(!0),S(Qe,null,ot(y.value,W=>($(),S("option",{key:W,value:W},k(W),9,WO))),128))],512),[[$s,m.value]])]),a("div",KO,[a("button",{onClick:B[6]||(B[6]=W=>e.serverSidePagination?M.$emit("page-change",1,m.value.value):u.value=1),disabled:u.value===1,class:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed dark:text-gray-500 dark:hover:text-gray-300",title:"First page"},[L(F(wS),{class:"w-4 h-4"})],8,YO),a("button",{onClick:B[7]||(B[7]=W=>e.serverSidePagination?M.$emit("page-change",u.value-1,m.value.value):u.value--),disabled:u.value===1,class:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed dark:text-gray-500 dark:hover:text-gray-300",title:"Previous page"},[L(F($S),{class:"w-4 h-4"})],8,GO),a("div",JO,[($(!0),S(Qe,null,ot(v.value,W=>($(),S("button",{key:W,onClick:K=>e.serverSidePagination?M.$emit("page-change",W,m.value.value):u.value=W,class:Ee(["px-3 py-1 text-sm rounded-lg transition-colors duration-200",W===u.value?"bg-blue-600 text-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-gray-300 dark:hover:bg-gray-700"])},k(W),11,QO))),128))]),a("button",{onClick:B[8]||(B[8]=W=>e.serverSidePagination?M.$emit("page-change",u.value+1,m.value.value):u.value++),disabled:u.value===g.value,class:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed dark:text-gray-500 dark:hover:text-gray-300",title:"Next page"},[L(F(CS),{class:"w-4 h-4"})],8,XO),a("button",{onClick:B[9]||(B[9]=W=>e.serverSidePagination?M.$emit("page-change",g.value,m.value.value):u.value=g.value),disabled:u.value===g.value,class:"p-2 text-gray-400 hover:text-gray-600 disabled:opacity-50 disabled:cursor-not-allowed dark:text-gray-500 dark:hover:text-gray-300",title:"Last page"},[L(F(_S),{class:"w-4 h-4"})],8,ZO)])])])])):G("",!0)]))}},Us=ja(eF,[["__scopeId","data-v-a6e04af2"]]),tF=["aria-labelledby","aria-describedby"],sF={class:"flex min-h-full items-center justify-center p-4 text-center"},aF={key:0,class:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-4 py-3"},rF={id:"modal-title",class:"text-lg font-medium text-gray-900 dark:text-white"},oF={class:"px-4 py-5 relative",style:{overflow:"visible"}},nF={key:1,class:"flex items-center justify-end gap-x-2 border-t border-gray-200 dark:border-gray-700 px-4 py-3"},Vt={__name:"Modal",props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:""},size:{type:String,default:"md",validator:e=>["sm","md","lg","xl","2xl","4xl","6xl","full"].includes(e)},closeOnBackdrop:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:t}){const s=e,r=t,o=fe(()=>({sm:"max-w-sm w-full mx-4",md:"max-w-md w-full mx-4",lg:"max-w-lg w-full mx-4",xl:"max-w-xl w-full mx-4","2xl":"max-w-2xl w-full mx-4","4xl":"max-w-4xl w-full mx-4","6xl":"max-w-6xl w-full mx-4",full:"w-full h-full m-0 rounded-none"})[s.size]),n=()=>{r("close")},i=l=>{const m=l.currentTarget.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),y=m[0],f=m[m.length-1];l.shiftKey?document.activeElement===y&&(f.focus(),l.preventDefault()):document.activeElement===f&&(y.focus(),l.preventDefault())};return(l,u)=>($(),it(Yf,{to:"body"},[e.isOpen?($(),S("div",{key:0,class:"fixed inset-0 z-[9999] overflow-y-auto",onKeydown:[uu(n,["esc"]),uu(i,["tab"])],role:"dialog","aria-modal":"true","aria-labelledby":e.title?"modal-title":void 0,"aria-describedby":e.title?void 0:"modal-description"},[a("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:u[0]||(u[0]=m=>e.closeOnBackdrop?n():null)}),a("div",sF,[a("div",{class:Ee(["relative w-full transform overflow-visible rounded-xl bg-white dark:bg-gray-800 text-left shadow-xl transition-all",o.value])},[e.title||l.$slots.header?($(),S("div",aF,[a("h3",rF,[Sa(l.$slots,"header",{},()=>[ke(k(e.title),1)])]),a("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-transparent bg-transparent text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:n},[...u[1]||(u[1]=[a("span",{class:"sr-only"},"Close",-1),a("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):G("",!0),a("div",oF,[Sa(l.$slots,"default")]),l.$slots.footer?($(),S("div",nF,[Sa(l.$slots,"footer",{close:n})])):G("",!0)],2)])],40,tF)):G("",!0)]))}},iF=["type","disabled"],lF={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ft={__name:"Button",props:{variant:{type:String,default:"primary",validator:e=>["primary","secondary","success","danger","warning","info","light","dark"].includes(e)},size:{type:String,default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)},outline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},type:{type:String,default:"button"}},setup(e){const t=e,s=fe(()=>{const r="inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",o={primary:t.outline?"text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white focus:ring-blue-500 dark:text-blue-400 dark:border-blue-400 dark:hover:text-blue-50":"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 dark:bg-blue-600 dark:hover:bg-blue-700",secondary:t.outline?"text-gray-600 border-gray-600 hover:bg-gray-600 hover:text-white focus:ring-gray-500 dark:text-gray-400 dark:border-gray-400 dark:hover:text-gray-50":"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500 dark:bg-gray-600 dark:hover:bg-gray-700",success:t.outline?"text-green-600 border-green-600 hover:bg-green-600 hover:text-white focus:ring-green-500 dark:text-green-400 dark:border-green-400 dark:hover:text-green-50":"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 dark:bg-green-600 dark:hover:bg-green-700",danger:t.outline?"text-red-600 border-red-600 hover:bg-red-600 hover:text-white focus:ring-red-500 dark:text-red-400 dark:border-red-400 dark:hover:text-red-50":"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 dark:bg-red-600 dark:hover:bg-red-700",warning:t.outline?"text-yellow-600 border-yellow-600 hover:bg-yellow-600 hover:text-white focus:ring-yellow-500 dark:text-yellow-400 dark:border-yellow-400 dark:hover:text-yellow-50":"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500 dark:bg-yellow-600 dark:hover:bg-yellow-700",info:t.outline?"text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white focus:ring-blue-500 dark:text-blue-400 dark:border-blue-400 dark:hover:text-blue-50":"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 dark:bg-blue-600 dark:hover:bg-blue-700",light:t.outline?"text-gray-800 border-gray-300 hover:bg-gray-100 focus:ring-gray-500 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-700":"bg-gray-100 text-gray-800 hover:bg-gray-200 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",dark:t.outline?"text-gray-900 border-gray-900 hover:bg-gray-900 hover:text-white focus:ring-gray-500 dark:text-gray-100 dark:border-gray-600 dark:hover:bg-gray-300":"bg-gray-900 text-white hover:bg-gray-800 focus:ring-gray-500 dark:bg-gray-800 dark:hover:bg-gray-700"},n={xs:"px-2.5 py-1.5 text-xs",sm:"px-3 py-2 text-sm",md:"px-4 py-3 text-sm",lg:"px-4 py-3 text-base",xl:"px-6 py-3.5 text-base"};return`${r} ${o[t.variant]} ${n[t.size]}`});return(r,o)=>($(),S("button",{type:e.type,class:Ee(s.value),disabled:e.disabled||e.loading,onClick:o[0]||(o[0]=n=>r.$emit("click",n))},[e.loading?($(),S("svg",lF,[...o[1]||(o[1]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):G("",!0),Sa(r.$slots,"default")],10,iF))}},dF={class:"space-y-6"},cF={class:"flex items-start space-x-4"},uF={class:"flex-1"},hF={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},gF={key:0,class:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3 border-l-4 border-red-500"},pF={class:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed"},mF={class:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},us={__name:"ConfirmationModal",props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:"Confirm Action"},message:{type:String,required:!0},description:{type:String,default:""},confirmText:{type:String,default:"Delete"},cancelText:{type:String,default:"Cancel"},loading:{type:Boolean,default:!1}},emits:["confirm","cancel","close"],setup(e,{emit:t}){const s=e,r=t;Ut();const o=O(!1),n=()=>{o.value||(o.value=!0,r("confirm"),setTimeout(()=>{o.value=!1},300))},i=()=>{s.loading||r("cancel")};return(l,u)=>($(),it(Vt,{"is-open":e.isOpen,onClose:i,size:"sm","close-on-backdrop":!e.loading},{header:le(()=>[ke(k(e.title),1)]),footer:le(()=>[a("div",mF,[L(ft,{onClick:i,variant:"secondary",disabled:e.loading,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(e.cancelText),1)]),_:1},8,["disabled"]),L(ft,{onClick:n,variant:"danger",loading:e.loading,disabled:e.loading,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(e.confirmText),1)]),_:1},8,["loading","disabled"])])]),default:le(()=>[a("div",dF,[a("div",cF,[u[0]||(u[0]=a("div",{class:"flex-shrink-0"},[a("div",{class:"w-12 h-12 bg-red-50 dark:bg-red-900/20 rounded-full flex items-center justify-center ring-4 ring-red-100 dark:ring-red-900/30 animate-pulse"},[a("svg",{class:"h-6 w-6 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])])],-1)),a("div",uF,[a("h3",hF,k(e.message),1),e.description?($(),S("div",gF,[a("p",pF,k(e.description),1)])):G("",!0)])])])]),_:1},8,["is-open","close-on-backdrop"]))}},fF={class:"relative"},yF=["type","value","placeholder","disabled"],vF={__name:"Input",props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},variant:{type:String,default:"default",validator:e=>["default","error"].includes(e)}},emits:["update:modelValue","blur","focus"],setup(e,{emit:t}){const s=e,r=fe(()=>{var u;const o="block w-full rounded-md border-gray-200 px-3 py-2 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:pointer-events-none disabled:opacity-50 dark:border-gray-600 dark:bg-gray-700 dark:text-white",n={sm:"px-2.5 py-1.5 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},i={default:"border-gray-200 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:focus:border-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500 dark:border-red-500"};return`${o} ${n[s.size]} ${i[s.variant]} ${(u=s.$slots)!=null&&u.icon?"pr-10":""}`});return(o,n)=>($(),S("div",fF,[a("input",{type:e.type,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,class:Ee(r.value),onInput:n[0]||(n[0]=i=>o.$emit("update:modelValue",i.target.value)),onBlur:n[1]||(n[1]=i=>o.$emit("blur",i)),onFocus:n[2]||(n[2]=i=>o.$emit("focus",i))},null,42,yF),Sa(o.$slots,"icon")]))}},xF={class:"space-y-2"},bF=["for"],kF={key:0,class:"text-red-500"},wF={class:"relative"},_F={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-3"},$F={key:1,class:"text-sm text-red-600 dark:text-red-400"},CF={key:2,class:"text-sm text-gray-500 dark:text-gray-400"},et={__name:"FormInput",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{type:String,default:"md"},error:{type:String,default:""},hint:{type:String,default:""},id:{type:String,default:""}},emits:["update:modelValue","change","blur","focus"],setup(e,{emit:t}){const s=e,r=t,o=fe({get:()=>s.modelValue,set:u=>{r("update:modelValue",u),r("change",u)}}),n=fe(()=>s.id||`input-${Math.random().toString(36).substr(2,9)}`),i=u=>{r("blur",u)},l=u=>{r("focus",u)};return(u,m)=>($(),S("div",xF,[e.label?($(),S("label",{key:0,for:n.value,class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},[ke(k(e.label)+" ",1),e.required?($(),S("span",kF,"*")):G("",!0)],8,bF)):G("",!0),a("div",wF,[L(vF,{id:n.value,modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=y=>o.value=y),type:e.type,placeholder:e.placeholder,disabled:e.disabled,size:e.size,variant:e.error?"error":"default",onBlur:i,onFocus:l},null,8,["id","modelValue","type","placeholder","disabled","size","variant"]),u.$slots.icon?($(),S("div",_F,[Sa(u.$slots,"icon")])):G("",!0)]),e.error?($(),S("p",$F,k(e.error),1)):G("",!0),e.hint&&!e.error?($(),S("p",CF,k(e.hint),1)):G("",!0)]))}},Nm={title:"Confirm Action",message:"Are you sure you want to proceed?",description:"",confirmText:"Confirm",cancelText:"Cancel"},Va=Nn("confirmationModal",{state:()=>({isOpen:!1,loading:!1,config:{...Nm},onConfirmCallback:null,onCancelCallback:null,onSuccessCallback:null,onErrorCallback:null}),actions:{showModal(e={}){if(typeof e!="object"||e===null){console.error("showModal: options must be an object");return}const t=(s,r)=>s!==void 0&&typeof s!="function"?(console.warn(`showModal: ${r} must be a function or undefined`),null):s||null;this.config={...Nm,...e},this.onConfirmCallback=t(e.onConfirm,"onConfirm"),this.onCancelCallback=t(e.onCancel,"onCancel"),this.onSuccessCallback=t(e.onSuccess,"onSuccess"),this.onErrorCallback=t(e.onError,"onError"),this.loading=!1,this.isOpen=!0},hideModal(){this.isOpen=!1,this.loading=!1,this.onConfirmCallback=null,this.onCancelCallback=null,this.onSuccessCallback=null,this.onErrorCallback=null},async handleConfirm(){var e,t;if(!this.onConfirmCallback){this.hideModal();return}this.loading=!0;try{const s=await this.onConfirmCallback();this.onSuccessCallback&&this.onSuccessCallback(s),this.hideModal()}catch(s){this.onErrorCallback?this.onErrorCallback(s):Ut().error(((t=(e=s.response)==null?void 0:e.data)==null?void 0:t.message)||s.message||"An error occurred during the operation"),this.loading=!1}},handleCancel(){this.onCancelCallback&&this.onCancelCallback(),this.hideModal()},handleClose(){this.hideModal()}}}),SF={class:"space-y-6"},EF={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},TF={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},AF={class:"flex items-center"},LF={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},MF={class:"ml-4"},PF={class:"text-2xl font-semibold text-gray-900 dark:text-white"},DF={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},IF={class:"flex items-center"},OF={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},FF={class:"ml-4"},RF={class:"text-2xl font-semibold text-gray-900 dark:text-white"},jF={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},NF={class:"flex items-center"},VF={class:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg"},BF={class:"ml-4"},UF={class:"text-2xl font-semibold text-gray-900 dark:text-white"},HF={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},qF={class:"flex items-center"},zF={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},WF={class:"ml-4"},KF={class:"text-2xl font-semibold text-gray-900 dark:text-white"},YF={class:"flex items-center"},GF=["src","alt"],JF={class:"ml-4"},QF={class:"text-sm font-medium text-gray-900 dark:text-white"},XF={class:"text-sm text-gray-500 dark:text-gray-400"},ZF={class:"space-y-1"},eR={key:0,class:"ml-1 text-xs"},tR={class:"flex items-center"},sR={class:"text-sm text-gray-900 dark:text-white capitalize"},aR={class:"flex items-center justify-end gap-2"},rR=["onClick"],oR=["onClick","title"],nR=["onClick"],iR=["onClick"],lR=["onClick"],dR={class:"p-3 space-y-4"},cR=["value"],uR={class:"flex space-x-2"},hR=["disabled"],gR={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},pR={class:"space-y-6"},mR={class:"flex justify-between items-center"},fR={class:"text-sm text-gray-500 dark:text-gray-400"},yR={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3"},vR={class:"flex items-center"},xR={class:"ml-3"},bR={class:"text-sm font-medium text-red-800 dark:text-red-200"},kR={class:"grid grid-cols-1 gap-3 max-h-96 overflow-y-auto"},wR={class:"flex items-center flex-1"},_R=["id","value"],$R=["for"],CR={class:"flex items-center justify-between"},SR={class:"font-medium text-gray-900 dark:text-white"},ER={class:"text-gray-500 dark:text-gray-400 ml-2"},TR={class:"flex items-center space-x-2"},AR={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},LR={key:1,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},MR={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},PR={class:"flex items-center ml-4"},DR=["id","value","disabled"],IR=["for"],OR={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3"},FR={class:"flex"},RR={class:"ml-3"},jR={class:"mt-2 text-sm text-red-700 dark:text-red-300 list-disc list-inside"},NR={class:"mt-6 flex justify-end space-x-3"},VR={class:"space-y-4"},BR={class:"flex justify-between items-center"},UR={class:"relative w-48"},HR=["value"],qR={class:"grid grid-cols-2 gap-4 max-h-96 overflow-y-auto"},zR=["id","value"],WR=["for"],KR={class:"text-gray-500"},YR={class:"mt-6 flex justify-end space-x-3"},GR={class:"space-y-5"},JR={key:0,class:"space-y-4"},QR={class:"grid grid-cols-1 gap-4 max-h-48 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg p-4"},XR={class:"flex items-center"},ZR=["id","value"],ej=["for"],tj={class:"font-medium text-gray-900 dark:text-white"},sj={class:"text-gray-500"},aj={class:"flex items-center"},rj=["id","value"],oj=["for"],nj={key:1,class:"space-y-4"},ij={class:"flex justify-between items-center mb-3"},lj={class:"relative w-48"},dj=["value"],cj={class:"grid grid-cols-2 gap-4 max-h-48 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg p-4"},uj=["id","value"],hj=["for"],gj={class:"text-gray-500"},pj={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},mj={key:0,class:"space-y-6"},fj={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},yj={class:"grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-2"},vj={class:"mt-1 text-sm text-gray-900 dark:text-white"},xj={class:"mt-1 text-sm text-gray-900 dark:text-white"},bj={class:"mt-1"},kj={class:"mt-1 text-sm text-gray-900 dark:text-white"},wj={class:"sm:col-span-2"},_j={class:"mt-1 text-sm text-gray-900 dark:text-white"},$j={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Cj={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},Sj={key:0,class:"grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-3"},Ej={class:"ml-2"},Tj={class:"text-sm font-medium text-gray-900 dark:text-white"},Aj={class:"text-xs text-gray-500 dark:text-gray-400"},Lj={key:0,class:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 ml-1"},Mj={key:1,class:"text-center py-8"},Pj={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Dj={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},Ij={key:0,class:"grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-3"},Oj={class:"ml-2"},Fj={class:"text-sm font-medium text-gray-900 dark:text-white"},Rj={class:"text-xs text-gray-500 dark:text-gray-400"},jj={key:1,class:"text-center py-8"},Nj={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Vj={class:"grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-3"},Bj={class:"text-center"},Uj={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},Hj={class:"text-center"},qj={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},zj={class:"text-center"},Wj={class:"mt-1 text-lg font-semibold"},Kj={__name:"Users",setup(e){const t=Ut(),s=Va(),r=O(!1),o=O(!1),n=O([]),i=O([]),l=O([]),u=O([]),m=O(!1),y=O(!1),f=O(!1),x=O(!1),c=O(!1),h=O(null),g=O([]),d=O([]),p=O(null),v=O(!1),b=O(!1),w=O(!1),E=O(""),C=O(""),T=O(""),P=O(!1),A=O({name:"",email:"",password:"",password_confirmation:""}),j=O({}),V=O({}),H=O([]),R=(Fe,re)=>{const Y=[];switch(Fe){case"name":!re||re.trim()===""?Y.push("Name is required"):re.length<2?Y.push("Name must be at least 2 characters"):re.length>255?Y.push("Name must be less than 255 characters"):/^[a-zA-Z\s]+$/.test(re.trim())||Y.push("Name can only contain letters and spaces");break;case"email":!re||re.trim()===""?Y.push("Email is required"):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(re)?re.length>255&&Y.push("Email must be less than 255 characters"):Y.push("Please enter a valid email address");break;case"password":m.value&&(!re||re.trim()===""?Y.push("Password is required"):re.length<8?Y.push("Password must be at least 8 characters"):/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(re)?re.length>255&&Y.push("Password must be less than 255 characters"):Y.push("Password must contain at least one uppercase letter, one lowercase letter, and one number"));break;case"password_confirmation":m.value&&(!re||re.trim()===""?Y.push("Password confirmation is required"):re!==A.value.password&&Y.push("Passwords do not match"));break}return Y},M=()=>{const Fe={};return Object.keys(A.value).forEach(re=>{const Y=R(re,A.value[re]);Y.length>0&&(Fe[re]=Y)}),j.value=Fe,Object.keys(Fe).length===0},B=Fe=>{V.value[Fe]=!0;const re=R(Fe,A.value[Fe]);j.value[Fe]=re},W=Fe=>V.value[Fe]&&j.value[Fe]?j.value[Fe][0]:"",K=()=>{g.value=l.value.map(Fe=>Fe.id),Te()},Z=()=>{g.value=[],p.value=null,Te()},Te=()=>{H.value=[],p.value&&!g.value.includes(p.value)&&H.value.push("The active role must be selected first"),p.value&&g.value.length>0&&!g.value.includes(p.value)&&(p.value=null)},_e=()=>{H.value=[],p.value&&!g.value.includes(p.value)&&(H.value.push("Cannot set an unselected role as active"),p.value=null)},ye=Fe=>l.value.find(re=>re.id===Fe),z=Fe=>{var re,Y;return((Y=(re=h.value)==null?void 0:re.roles)==null?void 0:Y.some(we=>we.id===Fe))||!1},q=Fe=>{var re,Y;return((Y=(re=h.value)==null?void 0:re.roles)==null?void 0:Y.some(we=>{var Ht;return we.id===Fe&&((Ht=we.pivot)==null?void 0:Ht.is_active)}))||!1},X=Fe=>Fe?new Date(Fe).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",se=[{key:"avatar",label:"User",sortable:!1},{key:"role",label:"Roles",sortable:!1},{key:"email",label:"Email",sortable:!0},{key:"created_at",label:"Created",type:"date",sortable:!0}],Ae=fe(()=>n.value.length),me=fe(()=>n.value.filter(Fe=>Fe.status==="active").length),Le=fe(()=>n.value.filter(Fe=>Fe.status==="pending").length),Re=fe(()=>{const Fe=new Date;return Fe.setMonth(Fe.getMonth()-1),n.value.filter(re=>new Date(re.createdAt)>Fe).length}),Ze=fe(()=>l.value.map(Fe=>({value:Fe.id,label:Fe.display_name}))),We=fe(()=>[...new Set(u.value.map(re=>re.group).filter(re=>re))].map(re=>({value:re,label:re}))),ae=fe(()=>E.value?u.value.filter(Fe=>Fe.group===E.value):u.value),ge=Fe=>({admin:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",manager:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",user:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"})[Fe]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",ne=Fe=>{var re;h.value=Fe,g.value=Fe.roles.map(Y=>Y.id),p.value=((re=Fe.roles.find(Y=>Y.pivot.is_active))==null?void 0:re.id)||null,x.value=!0},ee=Fe=>{h.value=Fe,d.value=Fe.permissions.map(re=>re.id),c.value=!0},ue=async()=>{var Fe;if(Te(),H.value.length>0){t.error("Please fix the validation errors before saving");return}b.value=!0;try{const re=g.value.map(we=>({id:we,is_active:we===p.value})),Y=await Xt(`users/${h.value.id}/roles`,{roles:re});if(Y.success){const we=g.value.length,Ht=p.value?(Fe=ye(p.value))==null?void 0:Fe.display_name:"None";t.success(`Successfully assigned ${we} role(s) to ${h.value.name}. Active role: ${Ht}`),N(),Oe()}else if(Y.errors){const we=Object.values(Y.errors).flat();t.error(we[0]||"Failed to update user roles")}else t.error(Y.message||"Failed to update user roles")}catch(re){console.error("Save user roles error:",re),t.error("Failed to update user roles. Please try again.")}finally{b.value=!1}},he=async()=>{w.value=!0;try{const Fe=await Xt(`users/${h.value.id}/permissions`,{permissions:d.value});Fe.success?(t.success("User permissions updated successfully"),N(),Oe()):t.error(Fe.message||"Failed to update user permissions")}catch(Fe){console.error("Save user permissions error:",Fe),t.error("Failed to update user permissions")}finally{w.value=!1}},Ce=async()=>{o.value=!0;try{await Oe(),t.success("Users data refreshed successfully")}catch(Fe){console.error("Refresh users error:",Fe),t.error("Failed to refresh users data")}finally{o.value=!1}},J=async()=>{P.value=!0;try{t.success("Filters applied successfully")}catch{t.error("Failed to apply filters")}finally{P.value=!1}},D=async()=>{if(!M()){t.error("Please fix the errors in the form");return}v.value=!0;try{const Fe=m.value?"users":`users/${h.value.id}`,re={...A.value},Y=m.value?await Xt(Fe,re):await Na(Fe,A.value);if(Y.success){const we=Y.data;if(m.value&&g.value.length>0){const Ht=g.value.map(je=>({id:je,is_active:je===p.value}));try{await Xt(`users/${we.id}/roles`,{roles:Ht})}catch(je){console.error("Failed to assign roles:",je),t.warning("User created but failed to assign some roles")}}if(m.value&&d.value.length>0)try{await Xt(`users/${we.id}/permissions`,{permissions:d.value})}catch(Ht){console.error("Failed to assign permissions:",Ht),t.warning("User created but failed to assign some permissions")}t.success(`User ${m.value?"created":"updated"} successfully`),N(),Oe()}else Y.errors?(j.value=Y.errors,t.error("Please check the form for errors")):t.error(Y.message||"Failed to save user")}catch(Fe){console.error("Save user error:",Fe),t.error("Failed to save user. Please try again.")}finally{v.value=!1}},N=()=>{m.value=!1,y.value=!1,f.value=!1,x.value=!1,c.value=!1,h.value=null,g.value=[],d.value=[],p.value=null,E.value="",A.value={name:"",email:"",password:"",password_confirmation:""},j.value={},V.value={},H.value=[]},U=()=>{m.value=!0},Q=Fe=>{h.value=Fe,A.value={name:Fe.name,email:Fe.email,password:"",password_confirmation:""},j.value={},V.value={},y.value=!0},Ge=Fe=>{s.showModal({title:"Delete User",message:`Are you sure you want to delete "${Fe.name}"?`,description:"This action cannot be undone. All associated roles and permissions will also be removed.",confirmText:"Delete User",cancelText:"Cancel",onConfirm:async()=>{const re=await Os(`users/${Fe.id}`);if(re.success)return t.success("User deleted successfully"),Oe(),re;throw new Error(re.message||"Failed to delete user")},onSuccess:re=>{console.log("User deleted successfully:",re)},onError:re=>{console.error("Failed to delete user:",re),t.error(re.message||"Failed to delete user")}})},He=Fe=>{if(Fe.length===0){t.warning("Please select users to perform bulk action");return}s.showModal({title:"Bulk Delete Users",message:`Are you sure you want to delete ${Fe.length} user(s)?`,description:"This action cannot be undone. All associated roles and permissions will also be removed.",confirmText:"Delete Users",cancelText:"Cancel",onConfirm:async()=>{try{const re=Fe.map(Y=>Os(`users/${Y.id}`));return await Promise.all(re),t.success(`${Fe.length} users deleted successfully`),Oe(),{success:!0}}catch{throw new Error("Failed to delete some users")}},onSuccess:re=>{console.log("Bulk delete completed:",re)},onError:re=>{console.error("Bulk delete failed:",re),t.error(re.message||"Failed to delete users")}})},pe=Fe=>{i.value=Fe,console.log("Selection changed:",Fe)},ie=async Fe=>{const Y=(Fe.status==="active"?"inactive":"active")==="active"?"activate":"deactivate";try{const we=await Xt(`users/${Fe.id}/toggle-status`);we.success?(t.success(`User ${Y}d successfully`),Oe()):t.error(we.message||`Failed to ${Y} user`)}catch(we){console.error("Toggle status error:",we),t.error(`Failed to ${Y} user`)}},Oe=async()=>{try{r.value=!0;const Fe=await Tt("users");Fe.success&&(n.value=Fe.data)}catch(Fe){console.error("Error loading users:",Fe),t.error("Failed to load users")}finally{r.value=!1}},nt=async()=>{try{const[Fe,re]=await Promise.all([Tt("roles"),Tt("permissions")]);Fe.success&&(l.value=Fe.data),re.success&&(u.value=re.data)}catch(Fe){console.error("Error loading roles and permissions:",Fe),t.error("Failed to load roles and permissions")}};return Ot(()=>{Oe(),nt()}),(Fe,re)=>($(),S("div",SF,[re[58]||(re[58]=a("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," User Management "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Manage your user accounts and permissions ")])],-1)),a("div",EF,[a("div",TF,[a("div",AF,[a("div",LF,[L(F(xd),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",MF,[re[19]||(re[19]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Users ",-1)),a("p",PF,k(Ae.value),1)])])]),a("div",DF,[a("div",IF,[a("div",OF,[L(F(Fs),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",FF,[re[20]||(re[20]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Active Users ",-1)),a("p",RF,k(me.value),1)])])]),a("div",jF,[a("div",NF,[a("div",VF,[L(F(qr),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),a("div",BF,[re[21]||(re[21]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Pending ",-1)),a("p",UF,k(Le.value),1)])])]),a("div",HF,[a("div",qF,[a("div",zF,[L(F(ip),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",WF,[re[22]||(re[22]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," New This Month ",-1)),a("p",KF,k(Re.value),1)])])])]),L(Us,{title:"Users",description:"A list of all users in your account including their name, title, email and role.",data:n.value,columns:se,loading:r.value,selectable:!0,"show-actions":!0,"show-add-button":!0,"add-button-text":"Create User","show-filters":!1,"show-bulk-actions":!0,"show-refresh":!0,"refresh-loading":o.value,"search-placeholder":"Search users...","empty-title":"No users found","empty-description":"Get started by adding your first user to the system.",onAdd:U,onEdit:Q,onDelete:Ge,onBulkAction:He,onSelectionChange:pe,onRefresh:Ce},{"column-avatar":le(({item:Y})=>[a("div",YF,[a("img",{class:"w-10 h-10 rounded-full object-cover ring-2 ring-gray-200 dark:ring-gray-700",src:Y.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(Y.name)}&background=6366f1&color=ffffff`,alt:Y.name},null,8,GF),a("div",JF,[a("p",QF,k(Y.name),1),a("p",XF,k(Y.email),1)])])]),"column-role":le(({item:Y})=>[a("div",ZF,[($(!0),S(Qe,null,ot(Y.roles,we=>($(),S("div",{key:we.id,class:"flex items-center gap-1"},[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",ge(we.name)])},[ke(k(we.display_name)+" ",1),we.pivot.is_active?($(),S("span",eR,"(Active)")):G("",!0)],2)]))),128))])]),"column-status":le(({item:Y})=>[a("div",tR,[a("div",{class:Ee(["w-2 h-2 rounded-full mr-2",Y.status==="active"||Y.status==="inactive"?"bg-red-500":"bg-yellow-500"])},null,2),a("span",sR,k(Y.status),1)])]),actions:le(({item:Y})=>[a("div",aR,[a("button",{onClick:we=>Q(Y),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Edit User"},[L(F(Bs),{class:"w-4 h-4"})],8,rR),a("button",{onClick:we=>ie(Y),class:Ee(["p-1.5 rounded-lg transition-colors duration-200",Y.status==="active"?"text-gray-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:text-orange-400 dark:hover:bg-orange-900/20":"text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:text-red-400 dark:hover:bg-red-900/20"]),title:Y.status==="active"?"Deactivate User":"Activate User"},[Y.status!=="active"?($(),it(F(Yo),{key:0,class:"w-4 h-4"})):($(),it(F(P0),{key:1,class:"w-4 h-4"}))],10,oR),a("button",{onClick:we=>ne(Y),class:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors duration-200 dark:hover:text-purple-400 dark:hover:bg-purple-900/20",title:"Manage Roles"},[L(F(ip),{class:"w-4 h-4"})],8,nR),a("button",{onClick:we=>ee(Y),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Manage Permissions"},[L(F(Fs),{class:"w-4 h-4"})],8,iR),a("button",{onClick:we=>Ge(Y),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete User"},[L(F(Ks),{class:"w-4 h-4"})],8,lR)])]),filters:le(()=>[a("div",dR,[a("div",null,[re[24]||(re[24]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Role ",-1)),rt(a("select",{"onUpdate:modelValue":re[0]||(re[0]=Y=>C.value=Y),class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"},[re[23]||(re[23]=a("option",{value:""},"All Roles",-1)),($(!0),S(Qe,null,ot(Ze.value,Y=>($(),S("option",{key:Y.value,value:Y.value},k(Y.label),9,cR))),128))],512),[[$s,C.value]])]),a("div",null,[re[26]||(re[26]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Status ",-1)),rt(a("select",{"onUpdate:modelValue":re[1]||(re[1]=Y=>T.value=Y),class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"},[...re[25]||(re[25]=[a("option",{value:""},"All Status",-1),a("option",{value:"active"},"Active",-1),a("option",{value:"inactive"},"Inactive",-1),a("option",{value:"pending"},"Pending",-1)])],512),[[$s,T.value]])]),a("div",uR,[a("button",{onClick:J,disabled:P.value,class:"flex-1 px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 focus:ring-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"},[P.value?($(),S("svg",gR,[...re[27]||(re[27]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):G("",!0),ke(" "+k(P.value?"Applying...":"Apply Filters"),1)],8,hR),a("button",{onClick:re[2]||(re[2]=Y=>{C.value="",T.value=""}),class:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 focus:ring-2 focus:ring-gray-500"}," Clear ")])])]),_:1},8,["data","loading","refresh-loading"]),L(Vt,{"is-open":x.value,onClose:N,size:"lg"},{title:le(()=>{var Y;return[ke(" Manage Roles for "+k((Y=h.value)==null?void 0:Y.name),1)]}),default:le(()=>{var Y;return[a("div",pR,[a("div",mR,[a("div",null,[re[28]||(re[28]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Available Roles ",-1)),a("p",fR,k(g.value.length)+" of "+k(l.value.length)+" roles selected ",1)]),a("div",{class:"flex space-x-2"},[a("button",{onClick:K,class:"px-3 py-1 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 dark:hover:bg-red-900/20 rounded"}," Select All "),a("button",{onClick:Z,class:"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900/20 rounded"}," Deselect All ")])]),p.value?($(),S("div",yR,[a("div",vR,[re[30]||(re[30]=a("div",{class:"flex-shrink-0"},[a("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),a("div",xR,[a("p",bR," Active Role: "+k((Y=ye(p.value))==null?void 0:Y.display_name),1),re[29]||(re[29]=a("p",{class:"text-sm text-red-600 dark:text-red-300"}," This role will be used for permission checks ",-1))])])])):G("",!0),a("div",kR,[($(!0),S(Qe,null,ot(l.value,we=>($(),S("div",{key:we.id,class:Ee(["flex items-center justify-between p-4 border rounded-lg transition-colors",g.value.includes(we.id)?"border-red-300 bg-red-50 dark:bg-red-900/20 dark:border-red-700":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"])},[a("div",wR,[rt(a("input",{id:"user-role-"+we.id,"onUpdate:modelValue":re[3]||(re[3]=Ht=>g.value=Ht),value:we.id,type:"checkbox",class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded",onChange:Te},null,40,_R),[[Da,g.value]]),a("label",{for:"user-role-"+we.id,class:"ml-3 block text-sm cursor-pointer flex-1"},[a("div",CR,[a("div",null,[a("span",SR,k(we.display_name),1),a("span",ER," ("+k(we.name)+") ",1)]),a("div",TR,[z(we.id)?($(),S("span",AR," Assigned ")):G("",!0),q(we.id)?($(),S("span",LR," Active ")):G("",!0)])]),a("p",MR,k(we.description||"No description available"),1)],8,$R)]),a("div",PR,[rt(a("input",{id:"active-role-"+we.id,"onUpdate:modelValue":re[4]||(re[4]=Ht=>p.value=Ht),value:we.id,disabled:!g.value.includes(we.id),type:"radio",name:"activeRole",class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 disabled:opacity-50",onChange:_e},null,40,DR),[[ao,p.value]]),a("label",{for:"active-role-"+we.id,class:Ee(["ml-2 block text-sm text-gray-700 dark:text-gray-300 cursor-pointer",{"opacity-50 cursor-not-allowed":!g.value.includes(we.id)}])}," Set as Active ",10,IR)])],2))),128))]),H.value.length>0?($(),S("div",OR,[a("div",FR,[re[32]||(re[32]=a("div",{class:"flex-shrink-0"},[a("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),a("div",RR,[re[31]||(re[31]=a("h3",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Please fix the following issues: ",-1)),a("ul",jR,[($(!0),S(Qe,null,ot(H.value,we=>($(),S("li",{key:we},k(we),1))),128))])])])])):G("",!0)]),a("div",NR,[L(ft,{onClick:N,variant:"secondary",disabled:b.value},{default:le(()=>[...re[33]||(re[33]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{onClick:ue,loading:b.value,disabled:b.value||H.value.length>0,class:"bg-red-600 hover:bg-red-700"},{default:le(()=>[...re[34]||(re[34]=[ke(" Save Roles ",-1)])]),_:1},8,["loading","disabled"])])]}),_:1},8,["is-open"]),L(Vt,{"is-open":c.value,onClose:N,size:"lg"},{title:le(()=>{var Y;return[ke(" Manage Direct Permissions for "+k((Y=h.value)==null?void 0:Y.name),1)]}),default:le(()=>[a("div",VR,[a("div",BR,[re[36]||(re[36]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Available Permissions ",-1)),a("div",UR,[rt(a("select",{"onUpdate:modelValue":re[5]||(re[5]=Y=>E.value=Y),"data-hs-select":`{
                              "hasSearch": true,
                              "searchPlaceholder": "Search groups...",
                              "searchClasses": "block w-full sm:text-sm border-gray-200 rounded-lg focus:border-red-500 focus:ring-red-500 before:absolute before:inset-0 before:z-1 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 py-1.5 sm:py-2 px-3",
                              "searchWrapperClasses": "bg-white p-2 -mx-1 sticky top-0 dark:bg-neutral-900",
                              "placeholder": "Filter by group",
                              "toggleTag": "<button type=\\"button\\" aria-expanded=\\"false\\"><span class=\\"me-2\\" data-icon></span><span class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></span></button>",
                              "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-3 ps-4 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-hidden focus:ring-2 focus:ring-red-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-hidden dark:focus:ring-1 dark:focus:ring-neutral-600",
                              "dropdownClasses": "mt-2 max-h-72 pb-1 px-1 space-y-0.5 z-20 w-full bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
                              "optionClasses": "py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
                              "optionTemplate": "<div><div class=\\"flex items-center\\"><div class=\\"me-2\\" data-icon></div><div class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></div></div></div>",
                              "extraMarkup": "<div class=\\"absolute top-1/2 end-3 -translate-y-1/2\\"><svg class=\\"shrink-0 size-3.5 text-gray-500 dark:text-neutral-500 \\" xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"><path d=\\"m7 15 5 5 5-5\\"/><path d=\\"m7 9 5-5 5 5\\"/></svg></div>"
                            }`,class:"hidden"},[re[35]||(re[35]=a("option",{value:""},"Filter by group",-1)),($(!0),S(Qe,null,ot(We.value,Y=>($(),S("option",{key:Y.value,value:Y.value,"data-hs-select-option":'{"icon": "<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>"}'},k(Y.label),9,HR))),128))],512),[[$s,E.value]])])]),a("div",qR,[($(!0),S(Qe,null,ot(ae.value,Y=>($(),S("div",{key:Y.id,class:"flex items-center"},[rt(a("input",{id:"user-perm-"+Y.id,"onUpdate:modelValue":re[6]||(re[6]=we=>d.value=we),value:Y.id,type:"checkbox",class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"},null,8,zR),[[Da,d.value]]),a("label",{for:"user-perm-"+Y.id,class:"ml-2 block text-sm text-gray-900 dark:text-white"},[ke(k(Y.display_name)+" ",1),a("span",KR,"("+k(Y.name)+")",1)],8,WR)]))),128))])]),a("div",YR,[L(ft,{onClick:N,variant:"secondary"},{default:le(()=>[...re[37]||(re[37]=[ke(" Cancel ",-1)])]),_:1}),L(ft,{onClick:he,loading:w.value},{default:le(()=>[...re[38]||(re[38]=[ke(" Save Permissions ",-1)])]),_:1},8,["loading"])])]),_:1},8,["is-open"]),L(Vt,{"is-open":m.value||y.value,onClose:N,size:"lg"},{title:le(()=>[ke(k(m.value?"Create User":"Edit User"),1)]),default:le(()=>[a("form",{onSubmit:Bt(D,["prevent"]),class:"space-y-6"},[a("div",GR,[re[39]||(re[39]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Basic Information ",-1)),L(et,{modelValue:A.value.name,"onUpdate:modelValue":re[7]||(re[7]=Y=>A.value.name=Y),label:"Name",placeholder:"Full Name",error:W("name"),required:"",onBlur:re[8]||(re[8]=Y=>B("name"))},null,8,["modelValue","error"]),L(et,{modelValue:A.value.email,"onUpdate:modelValue":re[9]||(re[9]=Y=>A.value.email=Y),label:"Email",type:"email",placeholder:"user@example.com",error:W("email"),required:"",onBlur:re[10]||(re[10]=Y=>B("email"))},null,8,["modelValue","error"]),m.value?($(),it(et,{key:0,modelValue:A.value.password,"onUpdate:modelValue":re[11]||(re[11]=Y=>A.value.password=Y),label:"Password",type:"password",placeholder:"Enter password (min 8 chars, 1 uppercase, 1 lowercase, 1 number)",error:W("password"),required:"",onBlur:re[12]||(re[12]=Y=>B("password"))},null,8,["modelValue","error"])):G("",!0),m.value?($(),it(et,{key:1,modelValue:A.value.password_confirmation,"onUpdate:modelValue":re[13]||(re[13]=Y=>A.value.password_confirmation=Y),label:"Confirm Password",type:"password",placeholder:"Confirm password",error:W("password_confirmation"),required:"",onBlur:re[14]||(re[14]=Y=>B("password_confirmation"))},null,8,["modelValue","error"])):G("",!0)]),m.value?($(),S("div",JR,[re[40]||(re[40]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Assign Roles ",-1)),a("div",QR,[($(!0),S(Qe,null,ot(l.value,Y=>($(),S("div",{key:Y.id,class:"flex items-center justify-between p-3 border border-gray-200 dark:border-gray-600 rounded-lg"},[a("div",XR,[rt(a("input",{id:"create-user-role-"+Y.id,"onUpdate:modelValue":re[15]||(re[15]=we=>g.value=we),value:Y.id,type:"checkbox",class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"},null,8,ZR),[[Da,g.value]]),a("label",{for:"create-user-role-"+Y.id,class:"ml-3 block text-sm"},[a("span",tj,k(Y.display_name),1),a("span",sj,"("+k(Y.name)+")",1)],8,ej)]),a("div",aj,[rt(a("input",{id:"create-active-role-"+Y.id,"onUpdate:modelValue":re[16]||(re[16]=we=>p.value=we),value:Y.id,type:"radio",name:"createActiveRole",class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"},null,8,rj),[[ao,p.value]]),a("label",{for:"create-active-role-"+Y.id,class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"}," Set as Active ",8,oj)])]))),128))])])):G("",!0),m.value?($(),S("div",nj,[re[42]||(re[42]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Assign Direct Permissions ",-1)),a("div",ij,[a("div",lj,[rt(a("select",{"onUpdate:modelValue":re[17]||(re[17]=Y=>E.value=Y),"data-hs-select":`{
                                  "hasSearch": true,
                                  "searchPlaceholder": "Search groups...",
                                  "searchClasses": "block w-full sm:text-sm border-gray-200 rounded-lg focus:border-red-500 focus:ring-red-500 before:absolute before:inset-0 before:z-1 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 py-1.5 sm:py-2 px-3",
                                  "searchWrapperClasses": "bg-white p-2 -mx-1 sticky top-0 dark:bg-neutral-900",
                                  "placeholder": "Filter by group",
                                  "toggleTag": "<button type=\\"button\\" aria-expanded=\\"false\\"><span class=\\"me-2\\" data-icon></span><span class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></span></button>",
                                  "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-3 ps-4 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-hidden focus:ring-2 focus:ring-red-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-hidden dark:focus:ring-1 dark:focus:ring-neutral-600",
                                  "dropdownClasses": "mt-2 max-h-72 pb-1 px-1 space-y-0.5 z-20 w-full bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
                                  "optionClasses": "py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
                                  "optionTemplate": "<div><div class=\\"flex items-center\\"><div class=\\"me-2\\" data-icon></div><div class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></div></div></div>",
                                  "extraMarkup": "<div class=\\"absolute top-1/2 end-3 -translate-y-1/2\\"><svg class=\\"shrink-0 size-3.5 text-gray-500 dark:text-neutral-500 \\" xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"><path d=\\"m7 15 5 5 5-5\\"/><path d=\\"m7 9 5-5 5 5\\"/></svg></div>"
                                }`,class:"hidden"},[re[41]||(re[41]=a("option",{value:""},"Filter by group",-1)),($(!0),S(Qe,null,ot(We.value,Y=>($(),S("option",{key:Y.value,value:Y.value,"data-hs-select-option":'{"icon": "<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>"}'},k(Y.label),9,dj))),128))],512),[[$s,E.value]])])]),a("div",cj,[($(!0),S(Qe,null,ot(ae.value,Y=>($(),S("div",{key:Y.id,class:"flex items-center"},[rt(a("input",{id:"create-user-perm-"+Y.id,"onUpdate:modelValue":re[18]||(re[18]=we=>d.value=we),value:Y.id,type:"checkbox",class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"},null,8,uj),[[Da,d.value]]),a("label",{for:"create-user-perm-"+Y.id,class:"ml-2 block text-sm text-gray-900 dark:text-white"},[ke(k(Y.display_name)+" ",1),a("span",gj,"("+k(Y.name)+")",1)],8,hj)]))),128))])])):G("",!0),a("div",pj,[L(ft,{onClick:N,variant:"secondary",disabled:v.value,class:"w-full sm:w-auto"},{default:le(()=>[...re[43]||(re[43]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:v.value,disabled:v.value,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(m.value?"Create User":"Update User"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]),L(Vt,{"is-open":f.value,onClose:N,size:"lg"},{title:le(()=>{var Y;return[ke(" User Details: "+k((Y=h.value)==null?void 0:Y.name),1)]}),default:le(()=>{var Y,we,Ht,je;return[h.value?($(),S("div",mj,[a("div",fj,[re[49]||(re[49]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Basic Information ",-1)),a("dl",yj,[a("div",null,[re[44]||(re[44]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Name ",-1)),a("dd",vj,k(h.value.name),1)]),a("div",null,[re[45]||(re[45]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Email ",-1)),a("dd",xj,k(h.value.email),1)]),a("div",null,[re[46]||(re[46]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Status ",-1)),a("dd",bj,[a("span",{class:Ee(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",(h.value.status==="active","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200")])},k(h.value.status==="active"?"Active":"Inactive"),3)])]),a("div",null,[re[47]||(re[47]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Created At ",-1)),a("dd",kj,k(X(h.value.created_at)),1)]),a("div",wj,[re[48]||(re[48]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Last Updated ",-1)),a("dd",_j,k(X(h.value.updated_at)),1)])])]),a("div",$j,[a("h3",Cj," Roles ("+k(((Y=h.value.roles)==null?void 0:Y.length)||0)+") ",1),h.value.roles&&h.value.roles.length>0?($(),S("div",Sj,[($(!0),S(Qe,null,ot(h.value.roles,de=>($(),S("div",{key:de.id,class:"flex items-center p-2 bg-white dark:bg-gray-600 rounded-md border border-gray-200 dark:border-gray-500"},[re[50]||(re[50]=a("div",{class:"flex-shrink-0"},[a("svg",{class:"h-4 w-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),a("div",Ej,[a("p",Tj,k(de.display_name),1),a("p",Aj,[ke(k(de.name)+" ",1),de.pivot.is_active?($(),S("span",Lj," Active ")):G("",!0)])])]))),128))])):($(),S("div",Mj,[...re[51]||(re[51]=[a("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),a("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," No roles assigned ",-1),a("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," This user doesn't have any roles assigned yet. ",-1)])]))]),a("div",Pj,[a("h3",Dj," Direct Permissions ("+k(((we=h.value.permissions)==null?void 0:we.length)||0)+") ",1),h.value.permissions&&h.value.permissions.length>0?($(),S("div",Ij,[($(!0),S(Qe,null,ot(h.value.permissions,de=>($(),S("div",{key:de.id,class:"flex items-center p-2 bg-white dark:bg-gray-600 rounded-md border border-gray-200 dark:border-gray-500"},[re[52]||(re[52]=a("div",{class:"flex-shrink-0"},[a("svg",{class:"h-4 w-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])],-1)),a("div",Oj,[a("p",Fj,k(de.display_name),1),a("p",Rj,k(de.name),1)])]))),128))])):($(),S("div",jj,[...re[53]||(re[53]=[a("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),a("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," No direct permissions ",-1),a("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," This user doesn't have any direct permissions assigned. ",-1)])]))]),a("div",Nj,[re[57]||(re[57]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Statistics ",-1)),a("dl",Vj,[a("div",Bj,[re[54]||(re[54]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Total Roles ",-1)),a("dd",Uj,k(((Ht=h.value.roles)==null?void 0:Ht.length)||0),1)]),a("div",Hj,[re[55]||(re[55]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Direct Permissions ",-1)),a("dd",qj,k(((je=h.value.permissions)==null?void 0:je.length)||0),1)]),a("div",zj,[re[56]||(re[56]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Account Status ",-1)),a("dd",Wj,[a("span",{class:Ee([(h.value.status==="active","text-red-600")])},k(h.value.status==="active"?"Active":"Inactive"),3)])])])])])):G("",!0)]}),_:1},8,["is-open"]),L(us,{"is-open":F(s).isOpen,title:F(s).config.title,message:F(s).config.message,description:F(s).config.description,"confirm-text":F(s).config.confirmText,"cancel-text":F(s).config.cancelText,loading:F(s).loading,onConfirm:F(s).handleConfirm,onCancel:F(s).handleCancel,onClose:F(s).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}},Yj={class:"space-y-6"},Gj={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Jj={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Qj={class:"flex items-center"},Xj={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},Zj={class:"ml-4"},eN={class:"text-2xl font-semibold text-gray-900 dark:text-white"},tN={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},sN={class:"flex items-center"},aN={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},rN={class:"ml-4"},oN={class:"text-2xl font-semibold text-gray-900 dark:text-white"},nN={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},iN={class:"flex items-center"},lN={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},dN={class:"ml-4"},cN={class:"text-2xl font-semibold text-gray-900 dark:text-white"},uN={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},hN={class:"flex items-center"},gN={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},pN={class:"ml-4"},mN={class:"text-2xl font-semibold text-gray-900 dark:text-white"},fN={class:"flex items-center"},yN={class:"w-8 h-8 bg-gradient-to-br from-red-500 to-red-600 rounded-lg flex items-center justify-center mr-3"},vN={class:"text-sm font-medium text-gray-900 dark:text-white"},xN={class:"text-sm text-gray-500 dark:text-gray-400"},bN={class:"flex items-center"},kN={class:"text-sm text-gray-900 dark:text-white capitalize"},wN={class:"flex items-center gap-2"},_N={class:"text-sm text-gray-900 dark:text-white"},$N={class:"flex items-center justify-end gap-2"},CN=["onClick"],SN=["onClick"],EN=["onClick"],TN=["onClick"],AN={class:"p-3 space-y-4"},LN={class:"flex space-x-2"},MN=["disabled"],PN={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},DN={class:"space-y-5"},IN={class:"flex items-center"},ON={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},FN={key:0,class:"space-y-6"},RN={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},jN={class:"grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-2"},NN={class:"mt-1 text-sm text-gray-900 dark:text-white"},VN={class:"mt-1 text-sm text-gray-900 dark:text-white"},BN={class:"mt-1"},UN={class:"mt-1 text-sm text-gray-900 dark:text-white"},HN={class:"sm:col-span-2"},qN={class:"mt-1 text-sm text-gray-900 dark:text-white"},zN={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},WN={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},KN={key:0,class:"grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-3"},YN={class:"ml-2"},GN={class:"text-sm font-medium text-gray-900 dark:text-white"},JN={class:"text-xs text-gray-500 dark:text-gray-400"},QN={key:1,class:"text-center py-8"},XN={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},ZN={class:"grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-3"},eV={class:"text-center"},tV={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},sV={class:"text-center"},aV={class:"mt-1 text-lg font-semibold"},rV={class:"text-center"},oV={class:"mt-1 text-sm text-gray-900 dark:text-white"},nV={class:"space-y-4"},iV={class:"flex justify-between items-center"},lV={class:"text-sm text-gray-500 dark:text-gray-400"},dV={class:"flex items-center gap-3 flex-wrap"},cV={class:"flex gap-2"},uV=["disabled"],hV=["disabled"],gV={class:"relative w-64"},pV={class:"relative w-48"},mV=["value"],fV={class:"grid grid-cols-2 gap-4 max-h-96 overflow-y-auto"},yV=["id","value"],vV=["for"],xV={class:"text-gray-900 dark:text-white font-medium"},bV={class:"text-gray-500 dark:text-gray-400 block text-xs"},kV={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 mt-1"},wV={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},_V={__name:"Roles",setup(e){const t=Ut(),s=Va(),r=O(!1),o=O(!1),n=O([]),i=O([]),l=O(!1),u=O(!1),m=O(!1),y=O(!1),f=O(null),x=O(!1),c=O(!1),h=O(""),g=O(""),d=O([]),p=O(""),v=O(!1),b=O({name:"",display_name:"",description:"",is_active:!0}),w=O({}),E=O({}),C=fe(()=>n.value.length),T=fe(()=>n.value.filter(ee=>ee.is_active).length),P=fe(()=>n.value.filter(ee=>!ee.is_active).length),A=fe(()=>n.value.filter(ee=>ee.permissions.length>0).length),j=fe(()=>[...new Set(i.value.map(ue=>ue.group).filter(ue=>ue))].map(ue=>({value:ue,label:ue}))),V=fe(()=>{let ee=i.value;if(h.value&&(ee=ee.filter(ue=>ue.group===h.value)),g.value){const ue=g.value.toLowerCase();ee=ee.filter(he=>he.display_name.toLowerCase().includes(ue)||he.name.toLowerCase().includes(ue))}return ee}),H=(ee,ue)=>{const he=[];switch(ee){case"name":!ue||ue.trim()===""?he.push("Role name is required"):ue.length<3?he.push("Role name must be at least 3 characters"):/^[a-zA-Z0-9_-]+$/.test(ue)||he.push("Role name can only contain letters, numbers, underscores, and hyphens");break;case"display_name":!ue||ue.trim()===""?he.push("Display name is required"):ue.length<3&&he.push("Display name must be at least 3 characters");break}return he},R=()=>{const ee={};return Object.keys(b.value).forEach(ue=>{const he=H(ue,b.value[ue]);he.length>0&&(ee[ue]=he)}),w.value=ee,Object.keys(ee).length===0},M=ee=>{E.value[ee]=!0;const ue=H(ee,b.value[ee]);w.value[ee]=ue},B=ee=>E.value[ee]&&w.value[ee]?w.value[ee][0]:"",W=async()=>{try{r.value=!0;const ee=await Tt("roles");ee.success&&(n.value=ee.data)}catch{t.error("Failed to fetch roles")}finally{r.value=!1}},K=async()=>{try{const ee=await Tt("permissions");ee.success&&(i.value=ee.data)}catch{t.error("Failed to fetch permissions")}},Z=()=>{l.value=!0},Te=ee=>{f.value=ee,b.value={name:ee.name,display_name:ee.display_name,description:ee.description,is_active:ee.is_active},w.value={},E.value={},u.value=!0},_e=ee=>{f.value=ee,m.value=!0},ye=async ee=>{try{i.value.length===0&&await K(),f.value=ee,d.value=ee.permissions.map(ue=>ue.id),h.value="",g.value="",y.value=!0}catch(ue){t.error("Failed to load permissions data"),console.error("Error loading permissions:",ue)}},z=ee=>{s.showModal({title:"Delete Role",message:`Are you sure you want to delete "${ee.display_name}"?`,description:"This action cannot be undone. All associated permissions will also be removed.",confirmText:"Delete Role",cancelText:"Cancel",onConfirm:async()=>{const ue=await Os(`roles/${ee.id}`);if(ue.success)return t.success("Role deleted successfully"),W(),ue;throw new Error(ue.message||"Failed to delete role")},onSuccess:ue=>{console.log("Role deleted successfully:",ue)},onError:ue=>{console.error("Failed to delete role:",ue),t.error(ue.message||"Failed to delete role")}})},q=ee=>{console.log("Bulk action for items:",ee)},X=ee=>{console.log("Export roles:",ee)},se=ee=>{console.log("Selection changed:",ee)},Ae=async()=>{o.value=!0;try{await W(),t.success("Roles data refreshed successfully")}catch(ee){console.error("Refresh roles error:",ee),t.error("Failed to refresh roles data")}finally{o.value=!1}},me=async()=>{v.value=!0;try{t.success("Filters applied successfully")}catch{t.error("Failed to apply filters")}finally{v.value=!1}},Le=async()=>{if(!R()){t.error("Please fix the errors in the form");return}x.value=!0;try{const ee=l.value?"roles":`roles/${f.value.id}`,ue=l.value?await Xt(ee,b.value):await Na(ee,b.value);ue.success?(t.success(`Role ${l.value?"created":"updated"} successfully`),ae(),W()):ue.errors?(w.value=ue.errors,t.error("Please check the form for errors")):t.error(ue.message||"Failed to save role")}catch(ee){console.error("Save role error:",ee),t.error("Failed to save role. Please try again.")}finally{x.value=!1}},Re=async()=>{var ee,ue,he;if(!f.value){t.error("No role selected");return}c.value=!0;try{const Ce=await Xt(`roles/${f.value.id}/permissions`,{permissions:d.value});if(Ce.success)t.success(`Permissions updated successfully for "${((ee=f.value)==null?void 0:ee.display_name)||"Role"}"`),ae(),await W();else if(Ce.errors){const J=Object.values(Ce.errors).flat();t.error(J[0]||"Failed to update permissions")}else t.error(Ce.message||"Failed to update permissions")}catch(Ce){console.error("Save permissions error:",Ce);const J=((he=(ue=Ce.response)==null?void 0:ue.data)==null?void 0:he.message)||Ce.message||"Failed to update permissions. Please try again.";t.error(J)}finally{c.value=!1}},Ze=()=>{const ee=V.value.map(ue=>ue.id);d.value=[...new Set([...d.value,...ee])]},We=()=>{const ee=V.value.map(ue=>ue.id);d.value=d.value.filter(ue=>!ee.includes(ue))},ae=()=>{l.value=!1,u.value=!1,m.value=!1,y.value=!1,f.value=null,b.value={name:"",display_name:"",description:"",is_active:!0},d.value=[],h.value="",g.value="",w.value={},E.value={}},ge=ee=>ee?new Date(ee).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ne=[{key:"name",label:"Role",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"permissions",label:"Permissions",sortable:!1},{key:"created_at",label:"Created",type:"date",sortable:!0}];return Ot(()=>{W(),K()}),(ee,ue)=>($(),S("div",Yj,[ue[42]||(ue[42]=a("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Role Management "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Manage roles and their permissions in your system ")])],-1)),a("div",Gj,[a("div",Jj,[a("div",Qj,[a("div",Xj,[L(F(Ui),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",Zj,[ue[13]||(ue[13]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Roles ",-1)),a("p",eN,k(C.value),1)])])]),a("div",tN,[a("div",sN,[a("div",aN,[L(F(Fs),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",rN,[ue[14]||(ue[14]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Active Roles ",-1)),a("p",oN,k(T.value),1)])])]),a("div",nN,[a("div",iN,[a("div",lN,[L(F(il),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",dN,[ue[15]||(ue[15]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Inactive Roles ",-1)),a("p",cN,k(P.value),1)])])]),a("div",uN,[a("div",hN,[a("div",gN,[L(F(Bi),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",pN,[ue[16]||(ue[16]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," With Permissions ",-1)),a("p",mN,k(A.value),1)])])])]),L(Us,{title:"Roles",description:"A list of all roles in your system including their permissions and status.",data:n.value,columns:ne,loading:r.value,selectable:!0,"show-actions":!0,"show-add-button":!0,"add-button-text":"Create Role","show-filters":!1,"show-export":!1,"show-bulk-actions":!0,"show-refresh":!0,"refresh-loading":o.value,"search-placeholder":"Search roles...","empty-title":"No roles found","empty-description":"Get started by creating your first role.",onAdd:Z,onEdit:Te,onDelete:z,onBulkAction:q,onExport:X,onSelectionChange:se,onRefresh:Ae},{"column-name":le(({item:he})=>[a("div",fN,[a("div",yN,[L(F(Ui),{class:"w-4 h-4 text-white"})]),a("div",null,[a("p",vN,k(he.display_name),1),a("p",xN,k(he.name),1)])])]),"column-status":le(({item:he})=>[a("div",bN,[a("div",{class:Ee(["w-2 h-2 rounded-full mr-2",(he.is_active,"bg-red-500")])},null,2),a("span",kN,k(he.is_active?"Active":"Inactive"),1)])]),"column-permissions":le(({item:he})=>[a("div",wN,[a("span",_N,k(he.permissions.length),1),ue[17]||(ue[17]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"}," permissions ",-1))])]),actions:le(({item:he})=>[a("div",$N,[a("button",{onClick:Ce=>_e(he),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"View Details"},[L(F(Ta),{class:"w-4 h-4"})],8,CN),a("button",{onClick:Ce=>Te(he),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Edit Role"},[L(F(Bs),{class:"w-4 h-4"})],8,SN),a("button",{onClick:Ce=>ye(he),class:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors duration-200 dark:hover:text-purple-400 dark:hover:bg-purple-900/20",title:"Manage Permissions"},[L(F(Bi),{class:"w-4 h-4"})],8,EN),a("button",{onClick:Ce=>z(he),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete Role"},[L(F(Ks),{class:"w-4 h-4"})],8,TN)])]),filters:le(()=>[a("div",AN,[a("div",null,[ue[19]||(ue[19]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Status ",-1)),rt(a("select",{"onUpdate:modelValue":ue[0]||(ue[0]=he=>p.value=he),class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"},[...ue[18]||(ue[18]=[a("option",{value:""},"All Status",-1),a("option",{value:"active"},"Active",-1),a("option",{value:"inactive"},"Inactive",-1)])],512),[[$s,p.value]])]),a("div",LN,[a("button",{onClick:me,disabled:v.value,class:"flex-1 px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 focus:ring-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"},[v.value?($(),S("svg",PN,[...ue[20]||(ue[20]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):G("",!0),ke(" "+k(v.value?"Applying...":"Apply Filters"),1)],8,MN),a("button",{onClick:ue[1]||(ue[1]=he=>p.value=""),class:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 focus:ring-2 focus:ring-gray-500"}," Clear ")])])]),_:1},8,["data","loading","refresh-loading"]),L(Vt,{"is-open":l.value||u.value,onClose:ae},{title:le(()=>[ke(k(l.value?"Create Role":"Edit Role"),1)]),default:le(()=>[a("form",{onSubmit:Bt(Le,["prevent"]),class:"space-y-6"},[a("div",DN,[L(et,{modelValue:b.value.name,"onUpdate:modelValue":ue[2]||(ue[2]=he=>b.value.name=he),label:"Name",placeholder:"role_name",error:B("name"),required:"",onBlur:ue[3]||(ue[3]=he=>M("name"))},null,8,["modelValue","error"]),L(et,{modelValue:b.value.display_name,"onUpdate:modelValue":ue[4]||(ue[4]=he=>b.value.display_name=he),label:"Display Name",placeholder:"Role Display Name",error:B("display_name"),required:"",onBlur:ue[5]||(ue[5]=he=>M("display_name"))},null,8,["modelValue","error"]),L(et,{modelValue:b.value.description,"onUpdate:modelValue":ue[6]||(ue[6]=he=>b.value.description=he),label:"Description",placeholder:"Role description",onBlur:ue[7]||(ue[7]=he=>M("description"))},null,8,["modelValue"]),a("div",IN,[rt(a("input",{id:"is_active","onUpdate:modelValue":ue[8]||(ue[8]=he=>b.value.is_active=he),type:"checkbox",class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded focus:ring-2"},null,512),[[Da,b.value.is_active]]),ue[21]||(ue[21]=a("label",{for:"is_active",class:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-200"}," Active ",-1))])]),a("div",ON,[L(ft,{onClick:ae,variant:"secondary",disabled:x.value,class:"w-full sm:w-auto"},{default:le(()=>[...ue[22]||(ue[22]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:x.value,disabled:x.value,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(l.value?"Create Role":"Update Role"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]),L(Vt,{"is-open":m.value,onClose:ae,size:"lg"},{title:le(()=>{var he;return[ke(" Role Details: "+k((he=f.value)==null?void 0:he.display_name),1)]}),default:le(()=>[f.value?($(),S("div",FN,[a("div",RN,[ue[28]||(ue[28]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Basic Information ",-1)),a("dl",jN,[a("div",null,[ue[23]||(ue[23]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Name ",-1)),a("dd",NN,k(f.value.name),1)]),a("div",null,[ue[24]||(ue[24]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Display Name ",-1)),a("dd",VN,k(f.value.display_name),1)]),a("div",null,[ue[25]||(ue[25]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Status ",-1)),a("dd",BN,[a("span",{class:Ee(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",(f.value.is_active,"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200")])},k(f.value.is_active?"Active":"Inactive"),3)])]),a("div",null,[ue[26]||(ue[26]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Created At ",-1)),a("dd",UN,k(ge(f.value.created_at)),1)]),a("div",HN,[ue[27]||(ue[27]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Description ",-1)),a("dd",qN,k(f.value.description||"No description provided"),1)])])]),a("div",zN,[a("h3",WN," Permissions ("+k(f.value.permissions.length)+") ",1),f.value.permissions.length>0?($(),S("div",KN,[($(!0),S(Qe,null,ot(f.value.permissions,he=>($(),S("div",{key:he.id,class:"flex items-center p-2 bg-white dark:bg-gray-600 rounded-md border border-gray-200 dark:border-gray-500"},[ue[29]||(ue[29]=a("div",{class:"flex-shrink-0"},[a("svg",{class:"h-4 w-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),a("div",YN,[a("p",GN,k(he.display_name),1),a("p",JN,k(he.name),1)])]))),128))])):($(),S("div",QN,[...ue[30]||(ue[30]=[a("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),a("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," No permissions assigned ",-1),a("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," This role doesn't have any permissions assigned yet. ",-1)])]))]),a("div",XN,[ue[34]||(ue[34]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Statistics ",-1)),a("dl",ZN,[a("div",eV,[ue[31]||(ue[31]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Total Permissions ",-1)),a("dd",tV,k(f.value.permissions.length),1)]),a("div",sV,[ue[32]||(ue[32]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Status ",-1)),a("dd",aV,[a("span",{class:Ee([(f.value.is_active,"text-red-600")])},k(f.value.is_active?"Active":"Inactive"),3)])]),a("div",rV,[ue[33]||(ue[33]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Last Updated ",-1)),a("dd",oV,k(ge(f.value.updated_at||f.value.created_at)),1)])])])])):G("",!0)]),_:1},8,["is-open"]),L(Vt,{"is-open":y.value,onClose:ae,size:"lg"},{title:le(()=>{var he;return[ke(" Manage Permissions for "+k((he=f.value)==null?void 0:he.display_name),1)]}),default:le(()=>[a("div",nV,[a("div",iV,[a("div",null,[ue[35]||(ue[35]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Available Permissions ",-1)),a("p",lV,k(d.value.length)+" of "+k(V.value.length)+" selected ",1)]),a("div",dV,[a("div",cV,[a("button",{onClick:Ze,class:"px-3 py-1.5 text-xs font-medium text-white bg-red-600 rounded hover:bg-red-700 focus:ring-2 focus:ring-red-500 disabled:opacity-50",disabled:V.value.length===0}," Check All ",8,uV),a("button",{onClick:We,class:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 rounded hover:bg-gray-200 focus:ring-2 focus:ring-gray-500 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",disabled:V.value.length===0}," Uncheck All ",8,hV)]),a("div",gV,[rt(a("input",{"onUpdate:modelValue":ue[9]||(ue[9]=he=>g.value=he),type:"text",placeholder:"Search permissions...",class:"w-full pl-10 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400"},null,512),[[It,g.value]]),ue[37]||(ue[37]=a("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),g.value?($(),S("button",{key:0,onClick:ue[10]||(ue[10]=he=>g.value=""),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[...ue[36]||(ue[36]=[a("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):G("",!0)]),a("div",pV,[ue[39]||(ue[39]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Filter by group ",-1)),rt(a("select",{"onUpdate:modelValue":ue[11]||(ue[11]=he=>h.value=he),"data-hs-select":`{
                                  "hasSearch": true,
                                  "searchPlaceholder": "Search groups...",
                                  "searchClasses": "block w-full sm:text-sm border-gray-200 rounded-lg focus:border-red-500 focus:ring-red-500 before:absolute before:inset-0 before:z-1 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 py-1.5 sm:py-2 px-3",
                                  "searchWrapperClasses": "bg-white p-2 -mx-1 sticky top-0 dark:bg-neutral-900",
                                  "placeholder": "All groups...",
                                  "toggleTag": "<button type=\\"button\\" aria-expanded=\\"false\\"><span class=\\"me-2\\" data-icon></span><span class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></span></button>",
                                  "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-3 ps-4 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-hidden focus:ring-2 focus:ring-red-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-hidden dark:focus:ring-1 dark:focus:ring-neutral-600",
                                  "dropdownClasses": "mt-2 max-h-72 pb-1 px-1 space-y-0.5 z-20 w-full bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
                                  "optionClasses": "py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
                                  "optionTemplate": "<div><div class=\\"flex items-center\\"><div class=\\"me-2\\" data-icon></div><div class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></div></div></div>",
                                  "extraMarkup": "<div class=\\"absolute top-1/2 end-3 -translate-y-1/2\\"><svg class=\\"shrink-0 size-3.5 text-gray-500 dark:text-neutral-500 \\" xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"><path d=\\"m7 15 5 5 5-5\\"/><path d=\\"m7 9 5-5 5 5\\"/></svg></div>"
                                }`,class:"hidden"},[ue[38]||(ue[38]=a("option",{value:""},"All groups",-1)),($(!0),S(Qe,null,ot(j.value,he=>($(),S("option",{key:he.value,value:he.value},k(he.label),9,mV))),128))],512),[[$s,h.value]])])])]),a("div",fV,[($(!0),S(Qe,null,ot(V.value,he=>($(),S("div",{key:he.id,class:Ee(["flex items-center p-2 rounded-md border",d.value.includes(he.id)?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-700":"bg-white dark:bg-gray-600 border-gray-200 dark:border-gray-500"])},[rt(a("input",{id:"perm-"+he.id,"onUpdate:modelValue":ue[12]||(ue[12]=Ce=>d.value=Ce),value:he.id,type:"checkbox",class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"},null,8,yV),[[Da,d.value]]),a("label",{for:"perm-"+he.id,class:"ml-2 block text-sm cursor-pointer flex-1"},[a("span",xV,k(he.display_name),1),a("span",bV,k(he.name),1),f.value.permissions.some(Ce=>Ce.id===he.id)?($(),S("span",kV," Currently Assigned ")):G("",!0)],8,vV)],2))),128))])]),a("div",wV,[L(ft,{onClick:ae,variant:"secondary",disabled:c.value,class:"w-full sm:w-auto"},{default:le(()=>[...ue[40]||(ue[40]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{onClick:Re,loading:c.value,disabled:c.value,class:"w-full sm:w-auto"},{default:le(()=>[...ue[41]||(ue[41]=[ke(" Save Permissions ",-1)])]),_:1},8,["loading","disabled"])])]),_:1},8,["is-open"]),L(us,{"is-open":F(s).isOpen,title:F(s).config.title,message:F(s).config.message,description:F(s).config.description,"confirm-text":F(s).config.confirmText,"cancel-text":F(s).config.cancelText,loading:F(s).loading,onConfirm:F(s).handleConfirm,onCancel:F(s).handleCancel,onClose:F(s).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}},$V={class:"space-y-6"},CV={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},SV={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},EV={class:"flex items-center"},TV={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},AV={class:"ml-4"},LV={class:"text-2xl font-semibold text-gray-900 dark:text-white"},MV={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},PV={class:"flex items-center"},DV={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},IV={class:"ml-4"},OV={class:"text-2xl font-semibold text-gray-900 dark:text-white"},FV={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},RV={class:"flex items-center"},jV={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},NV={class:"ml-4"},VV={class:"text-2xl font-semibold text-gray-900 dark:text-white"},BV={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},UV={class:"flex items-center"},HV={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},qV={class:"ml-4"},zV={class:"text-2xl font-semibold text-gray-900 dark:text-white"},WV={class:"flex items-center"},KV={class:"w-8 h-8 bg-gradient-to-br from-red-500 to-purple-600 rounded-lg flex items-center justify-center mr-3"},YV={class:"text-sm font-medium text-gray-900 dark:text-white"},GV={class:"text-sm text-gray-500 dark:text-gray-400"},JV={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},QV={class:"flex items-center"},XV={class:"text-sm text-gray-900 dark:text-white capitalize"},ZV={class:"flex items-center justify-end gap-2"},eB=["onClick"],tB=["onClick"],sB=["onClick"],aB={class:"p-3 space-y-4"},rB=["value"],oB={class:"flex space-x-2"},nB=["disabled"],iB={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},lB={class:"space-y-5"},dB={class:"flex items-center"},cB={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},uB={key:0,class:"space-y-6"},hB={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},gB={class:"grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-2"},pB={class:"mt-1 text-sm text-gray-900 dark:text-white"},mB={class:"mt-1 text-sm text-gray-900 dark:text-white"},fB={class:"mt-1"},yB={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},vB={class:"mt-1"},xB={class:"mt-1 text-sm text-gray-900 dark:text-white"},bB={class:"sm:col-span-2"},kB={class:"mt-1 text-sm text-gray-900 dark:text-white"},wB={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},_B={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},$B={key:0,class:"grid grid-cols-1 gap-2 sm:grid-cols-2 lg:grid-cols-3"},CB={class:"ml-2"},SB={class:"text-sm font-medium text-gray-900 dark:text-white"},EB={class:"text-xs text-gray-500 dark:text-gray-400"},TB={key:1,class:"text-center py-8"},AB={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},LB={class:"grid grid-cols-1 gap-x-4 gap-y-4 sm:grid-cols-3"},MB={class:"text-center"},PB={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},DB={class:"text-center"},IB={class:"mt-1 text-lg font-semibold"},OB={class:"text-center"},FB={class:"mt-1 text-sm text-gray-900 dark:text-white"},RB={__name:"Permissions",setup(e){const t=Ut(),s=Va(),r=O(!1),o=O(!1),n=O([]),i=O(!1),l=O(!1),u=O(!1),m=O(null),y=O(!1),f=O(""),x=O(""),c=O(!1),h=O({name:"",display_name:"",description:"",group:"",is_active:!0}),g=O({}),d=O({}),p=fe(()=>n.value.length),v=fe(()=>n.value.filter(X=>X.is_active).length),b=fe(()=>n.value.filter(X=>!X.is_active).length),w=fe(()=>n.value.filter(X=>X.roles&&X.roles.length>0).length),E=fe(()=>[...new Set(n.value.map(X=>X.group).filter(X=>X))]),C=(X,se)=>{const Ae=[];switch(X){case"name":!se||se.trim()===""?Ae.push("Permission name is required"):se.length<3?Ae.push("Permission name must be at least 3 characters"):/^[a-zA-Z0-9_-]+$/.test(se)||Ae.push("Permission name can only contain letters, numbers, underscores, and hyphens");break;case"display_name":!se||se.trim()===""?Ae.push("Display name is required"):se.length<3&&Ae.push("Display name must be at least 3 characters");break}return Ae},T=()=>{const X={};return Object.keys(h.value).forEach(se=>{const Ae=C(se,h.value[se]);Ae.length>0&&(X[se]=Ae)}),g.value=X,Object.keys(X).length===0},P=X=>{d.value[X]=!0;const se=C(X,h.value[X]);g.value[X]=se},A=X=>d.value[X]&&g.value[X]?g.value[X][0]:"",j=async()=>{try{r.value=!0;const X=await Tt("permissions");X.success&&(n.value=X.data)}catch{t.error("Failed to fetch permissions")}finally{r.value=!1}},V=()=>{i.value=!0},H=X=>{m.value=X,h.value={name:X.name,display_name:X.display_name,description:X.description,group:X.group,is_active:X.is_active},l.value=!0},R=X=>{m.value=X,u.value=!0},M=X=>{s.showModal({title:"Delete Permission",message:`Are you sure you want to delete "${X.display_name}"?`,description:"This action cannot be undone. All role assignments will also be removed.",confirmText:"Delete Permission",cancelText:"Cancel",onConfirm:async()=>{const se=await Os(`permissions/${X.id}`);if(se.success)return t.success("Permission deleted successfully"),j(),se;throw new Error(se.message||"Failed to delete permission")},onSuccess:se=>{console.log("Permission deleted successfully:",se)},onError:se=>{console.error("Failed to delete permission:",se),t.error(se.message||"Failed to delete permission")}})},B=X=>{if(X.length===0){t.warning("Please select permissions to perform bulk action");return}s.showModal({title:"Bulk Delete Permissions",message:`Are you sure you want to delete ${X.length} permission(s)?`,description:"This action cannot be undone. All role assignments will also be removed.",confirmText:"Delete Permissions",cancelText:"Cancel",onConfirm:async()=>{try{const se=X.map(Ae=>Os(`permissions/${Ae.id}`));return await Promise.all(se),t.success(`${X.length} permissions deleted successfully`),j(),{success:!0}}catch{throw new Error("Failed to delete some permissions")}},onSuccess:se=>{console.log("Bulk delete completed:",se)},onError:se=>{console.error("Bulk delete failed:",se),t.error(se.message||"Failed to delete permissions")}})},W=X=>{try{const Ae=[["Name","Display Name","Group","Description","Status","Created At"].join(","),...X.map(Ze=>[Ze.name,`"${Ze.display_name}"`,Ze.group||"",`"${Ze.description||""}"`,Ze.is_active?"Active":"Inactive",z(Ze.created_at)].join(","))].join(`
`),me=new Blob([Ae],{type:"text/csv;charset=utf-8;"}),Le=document.createElement("a"),Re=URL.createObjectURL(me);Le.setAttribute("href",Re),Le.setAttribute("download",`permissions_export_${new Date().toISOString().split("T")[0]}.csv`),Le.style.visibility="hidden",document.body.appendChild(Le),Le.click(),document.body.removeChild(Le),t.success("Permissions exported successfully")}catch(se){console.error("Export error:",se),t.error("Failed to export permissions")}},K=X=>{console.log("Selection changed:",X)},Z=async()=>{if(!T()){t.error("Please fix the errors in the form");return}y.value=!0;try{const X=i.value?"permissions":`permissions/${m.value.id}`,se=i.value?await Xt(X,h.value):await Na(X,h.value);se.success?(t.success(`Permission ${i.value?"created":"updated"} successfully`),ye(),j()):se.errors?(g.value=se.errors,t.error("Please check the form for errors")):t.error(se.message||"Failed to save permission")}catch(X){console.error("Save permission error:",X),t.error("Failed to save permission. Please try again.")}finally{y.value=!1}},Te=async()=>{o.value=!0;try{await j(),t.success("Permissions data refreshed successfully")}catch(X){console.error("Refresh permissions error:",X),t.error("Failed to refresh permissions data")}finally{o.value=!1}},_e=async()=>{c.value=!0;try{t.success("Filters applied successfully")}catch{t.error("Failed to apply filters")}finally{c.value=!1}},ye=()=>{i.value=!1,l.value=!1,u.value=!1,m.value=null,h.value={name:"",display_name:"",description:"",group:"",is_active:!0},g.value={},d.value={}},z=X=>X?new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",q=[{key:"name",label:"Permission",sortable:!0},{key:"group",label:"Group",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"created_at",label:"Created",type:"date",sortable:!0}];return Ot(()=>{j()}),(X,se)=>($(),S("div",$V,[se[36]||(se[36]=a("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Permission Management "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Manage permissions and their assignments in your system ")])],-1)),a("div",CV,[a("div",SV,[a("div",EV,[a("div",TV,[L(F(Bi),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",AV,[se[12]||(se[12]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Permissions ",-1)),a("p",LV,k(p.value),1)])])]),a("div",MV,[a("div",PV,[a("div",DV,[L(F(Fs),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",IV,[se[13]||(se[13]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Active Permissions ",-1)),a("p",OV,k(v.value),1)])])]),a("div",FV,[a("div",RV,[a("div",jV,[L(F(il),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",NV,[se[14]||(se[14]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Inactive Permissions ",-1)),a("p",VV,k(b.value),1)])])]),a("div",BV,[a("div",UV,[a("div",HV,[L(F(Ui),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",qV,[se[15]||(se[15]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Assigned to Roles ",-1)),a("p",zV,k(w.value),1)])])])]),L(Us,{title:"Permissions",description:"A list of all permissions in your system including their groups and status.",data:n.value,columns:q,loading:r.value,selectable:!0,"show-actions":!0,"show-add-button":!0,"add-button-text":"Create Permission","show-filters":!0,"show-export":!1,"show-bulk-actions":!0,"show-refresh":!0,"refresh-loading":o.value,"search-placeholder":"Search permissions...","empty-title":"No permissions found","empty-description":"Get started by creating your first permission.",onAdd:V,onEdit:H,onDelete:M,onBulkAction:B,onExport:W,onSelectionChange:K,onRefresh:Te},{"column-name":le(({item:Ae})=>[a("div",WV,[a("div",KV,[L(F(Bi),{class:"w-4 h-4 text-white"})]),a("div",null,[a("p",YV,k(Ae.display_name),1),a("p",GV,k(Ae.name),1)])])]),"column-group":le(({item:Ae})=>[a("span",JV,k(Ae.group||"No Group"),1)]),"column-status":le(({item:Ae})=>[a("div",QV,[a("div",{class:Ee(["w-2 h-2 rounded-full mr-2",(Ae.is_active,"bg-red-500")])},null,2),a("span",XV,k(Ae.is_active?"Active":"Inactive"),1)])]),actions:le(({item:Ae})=>[a("div",ZV,[a("button",{onClick:me=>R(Ae),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"View Details"},[L(F(Ta),{class:"w-4 h-4"})],8,eB),a("button",{onClick:me=>H(Ae),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Edit Permission"},[L(F(Bs),{class:"w-4 h-4"})],8,tB),a("button",{onClick:me=>M(Ae),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete Permission"},[L(F(Ks),{class:"w-4 h-4"})],8,sB)])]),filters:le(()=>[a("div",aB,[a("div",null,[se[17]||(se[17]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Group ",-1)),rt(a("select",{"onUpdate:modelValue":se[0]||(se[0]=Ae=>f.value=Ae),class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"},[se[16]||(se[16]=a("option",{value:""},"All Groups",-1)),($(!0),S(Qe,null,ot(E.value,Ae=>($(),S("option",{key:Ae,value:Ae},k(Ae),9,rB))),128))],512),[[$s,f.value]])]),a("div",null,[se[19]||(se[19]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Status ",-1)),rt(a("select",{"onUpdate:modelValue":se[1]||(se[1]=Ae=>x.value=Ae),class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"},[...se[18]||(se[18]=[a("option",{value:""},"All Status",-1),a("option",{value:"active"},"Active",-1),a("option",{value:"inactive"},"Inactive",-1)])],512),[[$s,x.value]])]),a("div",oB,[a("button",{onClick:_e,disabled:c.value,class:"flex-1 px-3 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 focus:ring-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed"},[c.value?($(),S("svg",iB,[...se[20]||(se[20]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):G("",!0),ke(" "+k(c.value?"Applying...":"Apply Filters"),1)],8,nB),a("button",{onClick:se[2]||(se[2]=Ae=>{f.value="",x.value=""}),class:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 focus:ring-2 focus:ring-gray-500"}," Clear ")])])]),_:1},8,["data","loading","refresh-loading"]),L(Vt,{"is-open":i.value||l.value,onClose:ye},{title:le(()=>[ke(k(i.value?"Create Permission":"Edit Permission"),1)]),default:le(()=>[a("form",{onSubmit:Bt(Z,["prevent"]),class:"space-y-6"},[a("div",lB,[L(et,{modelValue:h.value.name,"onUpdate:modelValue":se[3]||(se[3]=Ae=>h.value.name=Ae),label:"Name",placeholder:"permission_name",error:A("name"),required:"",onBlur:se[4]||(se[4]=Ae=>P("name"))},null,8,["modelValue","error"]),L(et,{modelValue:h.value.display_name,"onUpdate:modelValue":se[5]||(se[5]=Ae=>h.value.display_name=Ae),label:"Display Name",placeholder:"Permission Display Name",error:A("display_name"),required:"",onBlur:se[6]||(se[6]=Ae=>P("display_name"))},null,8,["modelValue","error"]),L(et,{modelValue:h.value.description,"onUpdate:modelValue":se[7]||(se[7]=Ae=>h.value.description=Ae),label:"Description",placeholder:"Permission description",onBlur:se[8]||(se[8]=Ae=>P("description"))},null,8,["modelValue"]),L(et,{modelValue:h.value.group,"onUpdate:modelValue":se[9]||(se[9]=Ae=>h.value.group=Ae),label:"Group",placeholder:"e.g., users, roles, products",onBlur:se[10]||(se[10]=Ae=>P("group"))},null,8,["modelValue"]),a("div",dB,[rt(a("input",{id:"perm_is_active","onUpdate:modelValue":se[11]||(se[11]=Ae=>h.value.is_active=Ae),type:"checkbox",class:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded focus:ring-2"},null,512),[[Da,h.value.is_active]]),se[21]||(se[21]=a("label",{for:"perm_is_active",class:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-200"}," Active ",-1))])]),a("div",cB,[L(ft,{onClick:ye,variant:"secondary",disabled:y.value,class:"w-full sm:w-auto"},{default:le(()=>[...se[22]||(se[22]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:y.value,disabled:y.value,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(i.value?"Create Permission":"Update Permission"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]),L(Vt,{"is-open":u.value,onClose:ye,size:"lg"},{title:le(()=>{var Ae;return[ke(" Permission Details: "+k((Ae=m.value)==null?void 0:Ae.display_name),1)]}),default:le(()=>{var Ae,me;return[m.value?($(),S("div",uB,[a("div",hB,[se[29]||(se[29]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Basic Information ",-1)),a("dl",gB,[a("div",null,[se[23]||(se[23]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Name ",-1)),a("dd",pB,k(m.value.name),1)]),a("div",null,[se[24]||(se[24]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Display Name ",-1)),a("dd",mB,k(m.value.display_name),1)]),a("div",null,[se[25]||(se[25]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Group ",-1)),a("dd",fB,[a("span",yB,k(m.value.group||"No Group"),1)])]),a("div",null,[se[26]||(se[26]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Status ",-1)),a("dd",vB,[a("span",{class:Ee(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",(m.value.is_active,"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200")])},k(m.value.is_active?"Active":"Inactive"),3)])]),a("div",null,[se[27]||(se[27]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Created At ",-1)),a("dd",xB,k(z(m.value.created_at)),1)]),a("div",bB,[se[28]||(se[28]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Description ",-1)),a("dd",kB,k(m.value.description||"No description provided"),1)])])]),a("div",wB,[a("h3",_B," Assigned Roles ("+k(((Ae=m.value.roles)==null?void 0:Ae.length)||0)+") ",1),m.value.roles&&m.value.roles.length>0?($(),S("div",$B,[($(!0),S(Qe,null,ot(m.value.roles,Le=>($(),S("div",{key:Le.id,class:"flex items-center p-2 bg-white dark:bg-gray-600 rounded-md border border-gray-200 dark:border-gray-500"},[se[30]||(se[30]=a("div",{class:"flex-shrink-0"},[a("svg",{class:"h-4 w-4 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),a("div",CB,[a("p",SB,k(Le.display_name),1),a("p",EB,k(Le.name),1)])]))),128))])):($(),S("div",TB,[...se[31]||(se[31]=[a("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1),a("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," No roles assigned ",-1),a("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," This permission is not assigned to any roles yet. ",-1)])]))]),a("div",AB,[se[35]||(se[35]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Statistics ",-1)),a("dl",LB,[a("div",MB,[se[32]||(se[32]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Total Roles ",-1)),a("dd",PB,k(((me=m.value.roles)==null?void 0:me.length)||0),1)]),a("div",DB,[se[33]||(se[33]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Status ",-1)),a("dd",IB,[a("span",{class:Ee([(m.value.is_active,"text-red-600")])},k(m.value.is_active?"Active":"Inactive"),3)])]),a("div",OB,[se[34]||(se[34]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Last Updated ",-1)),a("dd",FB,k(z(m.value.updated_at||m.value.created_at)),1)])])])])):G("",!0)]}),_:1},8,["is-open"]),L(us,{"is-open":F(s).isOpen,title:F(s).config.title,message:F(s).config.message,description:F(s).config.description,"confirm-text":F(s).config.confirmText,"cancel-text":F(s).config.cancelText,loading:F(s).loading,onConfirm:F(s).handleConfirm,onCancel:F(s).handleCancel,onClose:F(s).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}},jB={class:"relative"},NB=["value","placeholder","disabled","rows"],VB={__name:"Textarea",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},size:{type:String,default:"md",validator:e=>["sm","md","lg"].includes(e)},variant:{type:String,default:"default",validator:e=>["default","error"].includes(e)}},emits:["update:modelValue","blur","focus"],setup(e,{emit:t}){const s=e,r=fe(()=>{const o="block w-full rounded-md border-gray-200 resize-none focus:border-blue-500 focus:ring-blue-500 disabled:pointer-events-none disabled:opacity-50 dark:border-gray-600 dark:bg-gray-700 dark:text-white",n={sm:"px-2.5 py-1.5 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},i={default:"border-gray-200 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:focus:border-blue-500",error:"border-red-500 focus:border-red-500 focus:ring-red-500 dark:border-red-500"};return`${o} ${n[s.size]} ${i[s.variant]}`});return(o,n)=>($(),S("div",jB,[a("textarea",{value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,rows:e.rows,class:Ee(r.value),onInput:n[0]||(n[0]=i=>o.$emit("update:modelValue",i.target.value)),onBlur:n[1]||(n[1]=i=>o.$emit("blur",i)),onFocus:n[2]||(n[2]=i=>o.$emit("focus",i))},null,42,NB)]))}},BB={class:"space-y-2"},UB=["for"],HB={key:0,class:"text-red-500"},qB={key:1,class:"text-sm text-red-600 dark:text-red-400"},zB={key:2,class:"text-sm text-gray-500 dark:text-gray-400"},ws={__name:"FormTextarea",props:{modelValue:{type:String,default:""},label:{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},rows:{type:Number,default:3},size:{type:String,default:"md"},error:{type:String,default:""},hint:{type:String,default:""},id:{type:String,default:""}},emits:["update:modelValue","blur","focus"],setup(e,{emit:t}){const s=e,r=t,o=fe({get:()=>s.modelValue,set:u=>r("update:modelValue",u)}),n=fe(()=>s.id||`textarea-${Math.random().toString(36).substr(2,9)}`),i=u=>{r("blur",u)},l=u=>{r("focus",u)};return(u,m)=>($(),S("div",BB,[e.label?($(),S("label",{key:0,for:n.value,class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},[ke(k(e.label)+" ",1),e.required?($(),S("span",HB,"*")):G("",!0)],8,UB)):G("",!0),L(VB,{id:n.value,modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=y=>o.value=y),placeholder:e.placeholder,disabled:e.disabled,rows:e.rows,size:e.size,variant:e.error?"error":"default",onBlur:i,onFocus:l},null,8,["id","modelValue","placeholder","disabled","rows","size","variant"]),e.error?($(),S("p",qB,k(e.error),1)):G("",!0),e.hint&&!e.error?($(),S("p",zB,k(e.hint),1)):G("",!0)]))}},WB={class:"space-y-6"},KB={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},YB={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},GB={class:"flex items-center"},JB={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},QB={class:"ml-4"},XB={class:"text-2xl font-semibold text-gray-900 dark:text-white"},ZB={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},eU={class:"flex items-center"},tU={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},sU={class:"ml-4"},aU={class:"text-2xl font-semibold text-gray-900 dark:text-white"},rU={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},oU={class:"flex items-center"},nU={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},iU={class:"ml-4"},lU={class:"text-2xl font-semibold text-gray-900 dark:text-white"},dU={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},cU={class:"flex items-center"},uU={class:"p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg"},hU={class:"ml-4"},gU={class:"text-2xl font-semibold text-gray-900 dark:text-white"},pU={class:"flex items-center"},mU={class:"text-sm font-medium text-gray-900 dark:text-white"},fU={class:"text-xs text-gray-500 dark:text-gray-400"},yU={key:0,class:"flex items-center"},vU={class:"text-sm text-gray-900 dark:text-white"},xU={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},bU={class:"flex items-center"},kU={class:"text-sm text-gray-900 dark:text-white capitalize"},wU={class:"flex items-center justify-end gap-2"},_U=["onClick"],$U=["onClick","title"],CU=["onClick"],SU={class:"space-y-5"},EU={class:"grid grid-cols-2 gap-4"},TU={class:"relative"},AU=["value","data-hs-select-option"],LU={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},MU={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},PU={__name:"AssetCategories",setup(e){const t=Ut(),s=Va(),r=O(!1),o=O(!1),n=O([]),i=O([]),l=O([]),u=O(!1),m=O(!1),y=O(null),f=O(!1),x=O({name:"",code:"",description:"",color:"#6366F1",parent_id:null}),c=O({}),h=O({}),g=(_e,ye)=>{const z=[];switch(_e){case"name":!ye||ye.trim()===""?z.push("Name is required"):ye.length<2?z.push("Name must be at least 2 characters"):ye.length>255&&z.push("Name must be less than 255 characters");break;case"code":ye&&ye.length>20&&z.push("Code must be less than 20 characters");break;case"description":ye&&ye.length>1e3&&z.push("Description must be less than 1000 characters");break;case"color":ye&&!/^#[0-9A-Fa-f]{6}$/.test(ye)&&z.push("Please enter a valid hex color");break}return z},d=()=>{const _e={};return Object.keys(x.value).forEach(ye=>{const z=g(ye,x.value[ye]);z.length>0&&(_e[ye]=z)}),c.value=_e,Object.keys(_e).length===0},p=_e=>{h.value[_e]=!0;const ye=g(_e,x.value[_e]);c.value[_e]=ye},v=_e=>h.value[_e]&&c.value[_e]?c.value[_e][0]:"",b=_e=>{const ye=l.value.find(z=>z.value===_e);return ye&&ye.color?ye.color:"#6366F1"},w=[{key:"name",label:"Category",sortable:!0},{key:"parent",label:"Parent",sortable:!1},{key:"children",label:"Children",sortable:!1},{key:"status",label:"Status",sortable:!1},{key:"created_at",label:"Created",type:"date",sortable:!0}],E=fe(()=>n.value.length),C=fe(()=>n.value.filter(_e=>_e.is_active).length),T=fe(()=>n.value.filter(_e=>!_e.parent_id).length),P=fe(()=>{const _e=new Date;return _e.setMonth(_e.getMonth()-1),n.value.filter(ye=>new Date(ye.created_at)>_e).length}),A=async()=>{o.value=!0;try{await Z(),t.success("Categories data refreshed successfully")}catch(_e){console.error("Refresh categories error:",_e),t.error("Failed to refresh categories data")}finally{o.value=!1}},j=async()=>{if(!d()){t.error("Please fix the errors in the form");return}f.value=!0;try{const _e=u.value?"asset-categories":`asset-categories/${y.value.id}`,ye=u.value?await Xt(_e,x.value):await Na(_e,x.value);ye.success?(t.success(`Category ${u.value?"created":"updated"} successfully`),V(),Z(),Te()):ye.errors?(c.value=ye.errors,t.error("Please check the form for errors")):t.error(ye.message||"Failed to save category")}catch(_e){console.error("Save category error:",_e),t.error("Failed to save category. Please try again.")}finally{f.value=!1}},V=()=>{u.value=!1,m.value=!1,y.value=null,x.value={name:"",code:"",description:"",color:"#6366F1",parent_id:null},c.value={},h.value={}},H=()=>{u.value=!0,Te()},R=_e=>{y.value=_e,x.value={name:_e.name,code:_e.code,description:_e.description||"",color:_e.color,parent_id:_e.parent_id},c.value={},h.value={},m.value=!0,Te(_e)},M=_e=>{s.showModal({title:"Delete Category",message:`Are you sure you want to delete "${_e.name}"?`,description:"This action cannot be undone. Make sure this category has no child categories or assets assigned to it.",confirmText:"Delete Category",cancelText:"Cancel",onConfirm:async()=>{const ye=await Os(`asset-categories/${_e.id}`);if(ye.success)return t.success("Category deleted successfully"),Z(),Te(),ye;throw new Error(ye.message||"Failed to delete category")},onSuccess:ye=>{console.log("Category deleted successfully:",ye)},onError:ye=>{console.error("Failed to delete category:",ye),t.error(ye.message||"Failed to delete category")}})},B=_e=>{if(_e.length===0){t.warning("Please select categories to perform bulk action");return}s.showModal({title:"Bulk Delete Categories",message:`Are you sure you want to delete ${_e.length} categor${_e.length===1?"y":"ies"}?`,description:"This action cannot be undone. Make sure these categories have no child categories or assets assigned to them.",confirmText:"Delete Categories",cancelText:"Cancel",onConfirm:async()=>{try{const ye=_e.map(z=>Os(`asset-categories/${z.id}`));return await Promise.all(ye),t.success(`${_e.length} categor${_e.length===1?"y":"ies"} deleted successfully`),Z(),Te(),{success:!0}}catch{throw new Error("Failed to delete some categories")}},onSuccess:ye=>{console.log("Bulk delete completed:",ye)},onError:ye=>{console.error("Bulk delete failed:",ye),t.error(ye.message||"Failed to delete categories")}})},W=_e=>{i.value=_e,console.log("Selection changed:",_e)},K=async _e=>{const z=(_e.is_active?"inactive":"active")==="active"?"activate":"deactivate";try{const q=await Xt(`asset-categories/${_e.id}/toggle-status`);q.success?(t.success(`Category ${z}d successfully`),Z()):t.error(q.message||`Failed to ${z} category`)}catch(q){console.error("Toggle status error:",q),t.error(`Failed to ${z} category`)}},Z=async()=>{try{r.value=!0;const _e=await Tt("asset-categories");_e.success&&(n.value=_e.data)}catch(_e){console.error("Error loading categories:",_e),t.error("Failed to load categories")}finally{r.value=!1}},Te=async(_e=null)=>{try{const ye=_e?`asset-categories-parent-options/${_e.id}`:"asset-categories-parent-options",z=await Tt(ye);z.success&&(l.value=[{value:null,label:"No Parent (Root Category)"},...z.data.map(q=>({value:q.id,label:q.full_path}))])}catch(ye){console.error("Error loading parent options:",ye),t.error("Failed to load parent options")}};return Ot(()=>{Z(),Te()}),(_e,ye)=>($(),S("div",WB,[ye[18]||(ye[18]=a("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Asset Categories "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Manage asset categories and their hierarchical structure ")])],-1)),a("div",KB,[a("div",YB,[a("div",GB,[a("div",JB,[L(F(I0),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",QB,[ye[10]||(ye[10]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Categories ",-1)),a("p",XB,k(E.value),1)])])]),a("div",ZB,[a("div",eU,[a("div",tU,[L(F(Fs),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",sU,[ye[11]||(ye[11]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Active Categories ",-1)),a("p",aU,k(C.value),1)])])]),a("div",rU,[a("div",oU,[a("div",nU,[L(F(jv),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",iU,[ye[12]||(ye[12]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Root Categories ",-1)),a("p",lU,k(T.value),1)])])]),a("div",dU,[a("div",cU,[a("div",uU,[L(F(la),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"})]),a("div",hU,[ye[13]||(ye[13]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," New This Month ",-1)),a("p",gU,k(P.value),1)])])])]),L(Us,{title:"Asset Categories",description:"A list of all asset categories in your system including their hierarchy and status.",data:n.value,columns:w,loading:r.value,selectable:!0,"show-actions":!0,"show-add-button":!0,"add-button-text":"Create Category","show-filters":!1,"show-bulk-actions":!0,"show-refresh":!0,"refresh-loading":o.value,"search-placeholder":"Search categories...","empty-title":"No categories found","empty-description":"Get started by creating your first asset category.",onAdd:H,onEdit:R,onDelete:M,onBulkAction:B,onSelectionChange:W,onRefresh:A},{"column-name":le(({item:z})=>[a("div",pU,[a("div",{class:"w-4 h-4 rounded-full mr-3 flex-shrink-0",style:fs({backgroundColor:z.color})},null,4),a("div",{style:fs({paddingLeft:`${z.hierarchy_level*20}px`})},[a("p",mU,k(z.name),1),a("p",fU,k(z.code),1)],4)])]),"column-parent":le(({item:z})=>[z.parent?($(),S("div",yU,[a("div",{class:"w-3 h-3 rounded-full mr-2",style:fs({backgroundColor:z.parent.color||"#6366F1"})},null,4),a("span",vU,k(z.parent.name),1)])):($(),S("span",xU," Root Category "))]),"column-status":le(({item:z})=>[a("div",bU,[a("div",{class:Ee(["w-2 h-2 rounded-full mr-2",(z.is_active,"bg-red-500")])},null,2),a("span",kU,k(z.is_active?"Active":"Inactive"),1)])]),"column-children":le(({item:z})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",z.children_count>0?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"])},k(z.children_count)+" child"+k(z.children_count!==1?"ren":""),3)]),actions:le(({item:z})=>[a("div",wU,[a("button",{onClick:q=>R(z),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Edit Category"},[L(F(Bs),{class:"w-4 h-4"})],8,_U),a("button",{onClick:q=>K(z),class:Ee(["p-1.5 rounded-lg transition-colors duration-200",z.is_active?"text-gray-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:text-orange-400 dark:hover:bg-orange-900/20":"text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:text-red-400 dark:hover:bg-red-900/20"]),title:z.is_active?"Deactivate Category":"Activate Category"},[z.is_active?($(),it(F(P0),{key:1,class:"w-4 h-4"})):($(),it(F(Yo),{key:0,class:"w-4 h-4"}))],10,$U),a("button",{onClick:q=>M(z),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete Category"},[L(F(Ks),{class:"w-4 h-4"})],8,CU)])]),_:1},8,["data","loading","refresh-loading"]),L(Vt,{"is-open":u.value||m.value,onClose:V,size:"lg"},{title:le(()=>[ke(k(u.value?"Create Category":"Edit Category"),1)]),default:le(()=>[a("form",{onSubmit:Bt(j,["prevent"]),class:"space-y-6"},[a("div",SU,[ye[16]||(ye[16]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Basic Information ",-1)),L(et,{modelValue:x.value.name,"onUpdate:modelValue":ye[0]||(ye[0]=z=>x.value.name=z),label:"Name",placeholder:"Enter category name",error:v("name"),required:"",onBlur:ye[1]||(ye[1]=z=>p("name"))},null,8,["modelValue","error"]),L(et,{modelValue:x.value.code,"onUpdate:modelValue":ye[2]||(ye[2]=z=>x.value.code=z),label:"Code",placeholder:"Enter category code (optional - auto-generated if empty)",error:v("code"),onBlur:ye[3]||(ye[3]=z=>p("code"))},null,8,["modelValue","error"]),L(ws,{modelValue:x.value.description,"onUpdate:modelValue":ye[4]||(ye[4]=z=>x.value.description=z),label:"Description",placeholder:"Enter category description",error:v("description"),rows:"3",onBlur:ye[5]||(ye[5]=z=>p("description"))},null,8,["modelValue","error"]),a("div",EU,[L(et,{modelValue:x.value.color,"onUpdate:modelValue":ye[6]||(ye[6]=z=>x.value.color=z),label:"Color",type:"color",error:v("color"),onBlur:ye[7]||(ye[7]=z=>p("color"))},null,8,["modelValue","error"]),a("div",TU,[ye[15]||(ye[15]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Parent Category ",-1)),rt(a("select",{"onUpdate:modelValue":ye[8]||(ye[8]=z=>x.value.parent_id=z),"data-hs-select":`{
                                  "hasSearch": true,
                                  "searchPlaceholder": "Search parent categories...",
                                  "searchClasses": "block w-full sm:text-sm border-gray-200 rounded-lg focus:border-red-500 focus:ring-red-500 before:absolute before:inset-0 before:z-1 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 py-1.5 sm:py-2 px-3",
                                  "searchWrapperClasses": "bg-white p-2 -mx-1 sticky top-0 dark:bg-neutral-900",
                                  "placeholder": "Select parent category (optional)",
                                  "toggleTag": "<button type=\\"button\\" aria-expanded=\\"false\\"><span class=\\"me-2\\" data-icon></span><span class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></span></button>",
                                  "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-3 ps-4 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-hidden focus:ring-2 focus:ring-red-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-hidden dark:focus:ring-1 dark:focus:ring-neutral-600",
                                  "dropdownClasses": "mt-2 max-h-72 pb-1 px-1 space-y-0.5 z-20 w-full bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
                                  "optionClasses": "py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
                                  "optionTemplate": "<div><div class=\\"flex items-center\\"><div class=\\"me-2\\" data-icon></div><div class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></div></div></div>",
                                  "extraMarkup": "<div class=\\"absolute top-1/2 end-3 -translate-y-1/2\\"><svg class=\\"shrink-0 size-3.5 text-gray-500 dark:text-neutral-500 \\" xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"><path d=\\"m7 15 5 5 5-5\\"/><path d=\\"m7 9 5-5 5 5\\"/></svg></div>"
                                }`,class:"hidden",onBlur:ye[9]||(ye[9]=z=>p("parent_id"))},[ye[14]||(ye[14]=a("option",{value:""}," Select parent category (optional) ",-1)),($(!0),S(Qe,null,ot(l.value,z=>($(),S("option",{key:z.value,value:z.value,"data-hs-select-option":`{"icon": "<div class="w-3 h-3 rounded-full" style="background-color: ${b(z.value)}"></div>"}`},k(z.label),9,AU))),128))],544),[[$s,x.value.parent_id]]),v("parent_id")?($(),S("p",LU,k(v("parent_id")),1)):G("",!0)])])]),a("div",MU,[L(ft,{onClick:V,variant:"secondary",disabled:f.value,class:"w-full sm:w-auto"},{default:le(()=>[...ye[17]||(ye[17]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:f.value,disabled:f.value,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(u.value?"Create Category":"Update Category"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]),L(us,{"is-open":F(s).isOpen,title:F(s).config.title,message:F(s).config.message,description:F(s).config.description,"confirm-text":F(s).config.confirmText,"cancel-text":F(s).config.cancelText,loading:F(s).loading,onConfirm:F(s).handleConfirm,onCancel:F(s).handleCancel,onClose:F(s).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}},DU={class:"space-y-2"},IU=["for"],OU={key:0,class:"text-red-500"},FU={class:"relative"},RU={class:"block truncate"},jU={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},NU={key:0,class:"sticky top-0 z-10 bg-white px-2 py-1 dark:bg-gray-800"},VU={class:"block truncate"},BU={class:"flex items-center"},UU={key:0,class:"mr-2 flex-shrink-0"},HU={class:"block truncate"},qU={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-4"},zU={key:2,class:"py-2 px-3 text-sm text-gray-500 dark:text-gray-400"},WU={key:1,class:"text-sm text-red-600 dark:text-red-400"},KU={key:2,class:"text-sm text-gray-500 dark:text-gray-400"},ut={__name:"FormSelect",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},placeholder:{type:String,default:""},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{type:String,default:"md"},error:{type:String,default:""},hint:{type:String,default:""},id:{type:String,default:""},searchable:{type:Boolean,default:!0}},emits:["update:modelValue","change","blur","focus"],setup(e,{emit:t}){const s=e,r=t,o=fe(()=>s.id||`select-${Math.random().toString(36).substr(2,9)}`),n=fe(()=>s.placeholder||"Choose"),i=O(s.modelValue),l=O(""),u=fe(()=>s.searchable),m=fe(()=>l.value?s.options.filter(h=>h.label.toLowerCase().includes(l.value.toLowerCase())):s.options),y=fe(()=>{if(!i.value&&i.value!==0)return"";const h=s.options.find(g=>g.value===i.value);return h?h.label:""}),f=fe(()=>{const h="block w-full rounded-md border px-3 py-2 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:pointer-events-none disabled:opacity-50 bg-white dark:border-gray-600 dark:bg-gray-700 dark:text-white cursor-default text-left",g={sm:"px-2.5 py-1.5 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},d=s.error?"border-red-500 focus:border-red-500 focus:ring-red-500 dark:border-red-500":"border-gray-200 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:focus:border-blue-500",p=s.disabled?"cursor-not-allowed opacity-50 bg-gray-50 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-700";return`${h} ${g[s.size]} ${d} ${p}`}),x=h=>{i.value=h,r("update:modelValue",h),r("change",h),l.value=""},c=()=>{};return Et(()=>s.modelValue,h=>{i.value=h}),(h,g)=>($(),S("div",DU,[e.label?($(),S("label",{key:0,for:o.value,class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},[ke(k(e.label)+" ",1),e.required?($(),S("span",OU,"*")):G("",!0)],8,IU)):G("",!0),L(F(ex),{modelValue:i.value,"onUpdate:modelValue":[g[3]||(g[3]=d=>i.value=d),x],disabled:e.disabled},{default:le(()=>[a("div",FU,[L(F(tx),{id:o.value,class:Ee(f.value),onBlur:g[0]||(g[0]=d=>h.$emit("blur",d)),onFocus:g[1]||(g[1]=d=>h.$emit("focus",d))},{default:le(()=>[a("span",RU,k(y.value||n.value),1),a("span",jU,[L(F(Fv),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1},8,["id","class"]),L(ko,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:le(()=>[L(F(sx),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm dark:bg-gray-800 dark:ring-gray-700"},{default:le(()=>[u.value?($(),S("div",NU,[rt(a("input",{"onUpdate:modelValue":g[2]||(g[2]=d=>l.value=d),type:"text",placeholder:"Search...",class:"block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400",onInput:c},null,544),[[It,l.value]])])):G("",!0),e.placeholder&&!l.value?($(),it(F(bd),{key:1,value:null,class:"relative cursor-default select-none py-2 pl-3 pr-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"},{default:le(()=>[a("span",VU,k(e.placeholder),1)]),_:1})):G("",!0),($(!0),S(Qe,null,ot(m.value,d=>($(),it(F(bd),{key:d.value,value:d.value,class:Ee(["relative cursor-default select-none py-2 pl-3 pr-9",[h.active?"bg-blue-100 text-blue-900 dark:bg-blue-900 dark:text-blue-100":"text-gray-900 dark:text-white",h.selected?"bg-blue-50 dark:bg-blue-950":""]])},{default:le(({active:p,selected:v})=>[a("div",BU,[d.icon?($(),S("span",UU,[($(),it(Pr(d.icon),{class:"h-4 w-4"}))])):d.color?($(),S("span",{key:1,class:"mr-2 h-3 w-3 rounded-full flex-shrink-0",style:fs({backgroundColor:d.color})},null,4)):G("",!0),a("span",HU,k(d.label),1)]),v?($(),S("span",qU,[L(F(Eo),{class:"h-5 w-5","aria-hidden":"true"})])):G("",!0)]),_:2},1032,["value","class"]))),128)),m.value.length===0&&l.value?($(),S("div",zU," No options found ")):G("",!0)]),_:1})]),_:1})])]),_:1},8,["modelValue","disabled"]),e.error?($(),S("p",WU,k(e.error),1)):G("",!0),e.hint&&!e.error?($(),S("p",KU,k(e.hint),1)):G("",!0)]))}},YU={class:"space-y-6"},GU={class:"grid grid-cols-1 md:grid-cols-5 gap-6"},JU={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},QU={class:"flex items-center"},XU={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},ZU={class:"ml-4"},eH={class:"text-2xl font-semibold text-gray-900 dark:text-white"},tH={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},sH={class:"flex items-center"},aH={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},rH={class:"ml-4"},oH={class:"text-2xl font-semibold text-gray-900 dark:text-white"},nH={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},iH={class:"flex items-center"},lH={class:"p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg"},dH={class:"ml-4"},cH={class:"text-2xl font-semibold text-gray-900 dark:text-white"},uH={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},hH={class:"flex items-center"},gH={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},pH={class:"ml-4"},mH={class:"text-2xl font-semibold text-gray-900 dark:text-white"},fH={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},yH={class:"flex items-center"},vH={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},xH={class:"ml-4"},bH={class:"text-lg font-semibold text-gray-900 dark:text-white"},kH={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},wH={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},_H={class:"flex justify-end mt-4"},$H={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 mb-6"},CH={class:"flex items-center justify-between"},SH={class:"flex items-center gap-4"},EH={class:"text-sm font-medium text-red-900 dark:text-red-100"},TH={class:"flex items-center gap-2"},AH={key:0,class:"w-12 h-12 rounded-lg overflow-hidden"},LH=["src","alt"],MH={key:1,class:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center"},PH={class:"flex items-center"},DH={class:"text-sm font-medium text-gray-900 dark:text-white"},IH={class:"text-xs text-gray-500 dark:text-gray-400"},OH={key:0,class:"text-xs text-red-600 dark:text-red-400"},FH={key:0,class:"flex items-center"},RH={class:"text-sm text-gray-900 dark:text-white"},jH={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},NH={key:0,class:"max-w-xs"},VH={class:"text-sm text-gray-900 dark:text-white truncate"},BH={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},UH={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},HH={class:"text-sm font-medium text-gray-900 dark:text-white"},qH={class:"text-xs text-gray-500 dark:text-gray-400"},zH={class:"flex items-center"},WH={class:"text-sm text-gray-900 dark:text-white capitalize"},KH={key:0},YH={class:"text-sm text-gray-900 dark:text-white"},GH={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},JH={class:"flex items-center justify-end gap-2"},QH=["onClick"],XH=["onClick"],ZH=["onClick"],eq=["onClick"],tq=["onClick"],sq={key:1,class:"flex justify-center"},aq={class:"flex items-center gap-2"},rq={class:"text-sm text-gray-600 dark:text-gray-400"},oq={class:"space-y-5"},nq={class:"grid grid-cols-2 gap-4"},iq={class:"grid grid-cols-3 gap-4"},lq={class:"space-y-5"},dq={class:"grid grid-cols-2 gap-4"},cq={class:"grid grid-cols-2 gap-4"},uq={class:"space-y-5"},hq={class:"grid grid-cols-3 gap-4"},gq={class:"space-y-5"},pq={class:"grid grid-cols-3 gap-4"},mq={class:"space-y-5"},fq={class:"flex items-center gap-4"},yq={key:0,class:"w-24 h-24 rounded-lg overflow-hidden"},vq=["src"],xq={class:"flex-1"},bq={class:"space-y-5"},kq={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},wq={key:0,class:"space-y-6"},_q={class:"flex items-start gap-4"},$q={key:0,class:"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0"},Cq=["src","alt"],Sq={class:"flex-1"},Eq={class:"flex items-start justify-between"},Tq={class:"text-xl font-semibold text-gray-900 dark:text-white"},Aq={class:"text-sm text-gray-500 dark:text-gray-400"},Lq={class:"flex items-center gap-4 mt-2"},Mq={class:"flex gap-2"},Pq={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Dq={class:"space-y-4"},Iq={class:"space-y-2"},Oq={class:"flex justify-between"},Fq={class:"text-sm text-gray-900 dark:text-white"},Rq={class:"flex justify-between"},jq={class:"text-sm text-gray-900 dark:text-white"},Nq={class:"flex justify-between"},Vq={class:"text-sm text-gray-900 dark:text-white"},Bq={class:"flex justify-between"},Uq={class:"text-sm text-gray-900 dark:text-white"},Hq={class:"space-y-4"},qq={class:"space-y-2"},zq={class:"flex justify-between"},Wq={class:"text-sm text-gray-900 dark:text-white"},Kq={class:"flex justify-between"},Yq={class:"text-sm text-gray-900 dark:text-white"},Gq={class:"flex justify-between"},Jq={class:"text-sm text-gray-900 dark:text-white"},Qq={class:"flex justify-between"},Xq={class:"text-sm text-gray-900 dark:text-white"},Zq={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ez={key:0,class:"flex items-center"},tz={class:"text-sm text-gray-900 dark:text-white"},sz={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},az={key:0},rz={class:"text-sm text-gray-900 dark:text-white"},oz={class:"text-xs text-gray-500 dark:text-gray-400"},nz={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},iz={class:"space-y-4"},lz={key:0},dz={class:"text-sm text-gray-900 dark:text-white"},cz={key:1},uz={class:"text-sm text-gray-700 dark:text-gray-300"},hz={key:2},gz={class:"text-sm text-gray-700 dark:text-gray-300"},pz={key:0,class:"space-y-4"},mz={class:"text-sm text-gray-600 dark:text-gray-400"},fz={class:"flex justify-end gap-3"},yz={key:0,class:"space-y-4"},vz={class:"text-sm text-gray-600 dark:text-gray-400"},xz={class:"flex justify-end gap-3"},bz={__name:"Assets",setup(e){const t=Ut(),s=Va(),r=Qs(),o=O(!1),n=O(!1),i=O({}),l=O({}),u=O([]),m=O([]),y=O([]),f=O([]),x=O(!1),c=O(!1),h=O(!1),g=O(!1),d=O(!1),p=O(null),v=O(!1),b=O(!1),w=O(!1),E=O(null),C=O(""),T=O(""),P=O({search:"",category_id:"",location_id:"",status:"",condition:""}),A=O({name:"",code:"",description:"",serial_number:"",model_number:"",manufacturer:"",purchase_date:"",purchase_price:"",current_value:"",quantity:1,condition:"good",status:"active",image:null,specifications:{},warranty_expiry:"",notes:"",category_id:"",location_id:"",parent_asset_id:""}),j=O({}),V=O({}),H=[{value:"active",label:"Active",color:"bg-red-500"},{value:"inactive",label:"Inactive",color:"bg-gray-500"},{value:"maintenance",label:"Under Maintenance",color:"bg-orange-500"},{value:"retired",label:"Retired",color:"bg-red-500"},{value:"lost",label:"Lost",color:"bg-red-500"}],R=[{value:"excellent",label:"Excellent",color:"bg-red-500"},{value:"good",label:"Good",color:"bg-red-500"},{value:"fair",label:"Fair",color:"bg-yellow-500"},{value:"poor",label:"Poor",color:"bg-orange-500"},{value:"damaged",label:"Damaged",color:"bg-red-500"}],M=fe(()=>l.value.total_assets||0),B=fe(()=>l.value.active_assets||0),W=fe(()=>l.value.maintenance_assets||0),K=fe(()=>{const je=l.value.assets_by_condition||{};return(je.poor||0)+(je.damaged||0)}),Z=fe(()=>l.value.total_current_value||0),Te=fe(()=>Object.values(P.value).some(je=>je!==""&&je!==null)),_e=[{key:"image",label:"Image",sortable:!1,width:"80px"},{key:"name",label:"Asset",sortable:!0},{key:"category",label:"Category",sortable:!1},{key:"location",label:"Location",sortable:!1},{key:"value",label:"Value",sortable:!1},{key:"status",label:"Status",sortable:!0},{key:"condition",label:"Condition",sortable:!0},{key:"warranty",label:"Warranty",sortable:!1},{key:"created_at",label:"Created",type:"date",sortable:!0}];let ye=null;const z=()=>{ye&&clearTimeout(ye),ye=setTimeout(()=>{nt()},500)},q=()=>{nt()},X=()=>{P.value={search:"",category_id:"",location_id:"",status:"",condition:""},nt()},se=async()=>{n.value=!0;try{await Promise.all([nt(),Fe()]),t.success("Assets data refreshed successfully")}catch(je){console.error("Refresh assets error:",je),t.error("Failed to refresh assets data")}finally{n.value=!1}},Ae=je=>{nt(je)},me=je=>({active:"bg-red-500",inactive:"bg-gray-500",maintenance:"bg-orange-500",retired:"bg-red-500",lost:"bg-red-500"})[je]||"bg-gray-500",Le=je=>({excellent:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",good:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",fair:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",poor:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400",damaged:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[je]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",Re=je=>({active:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",inactive:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",maintenance:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400",retired:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",lost:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[je]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",Ze=je=>new Date(je).toLocaleDateString(),We=je=>{const de=je.target.files[0];de&&(A.value.image=de)},ae=(je,de)=>{const De=[];switch(je){case"name":!de||de.trim()===""?De.push("Asset name is required"):de.length<2?De.push("Asset name must be at least 2 characters"):de.length>255&&De.push("Asset name must be less than 255 characters");break;case"code":de&&de.length>20&&De.push("Asset code must be less than 20 characters");break;case"description":de&&de.length>1e3&&De.push("Description must be less than 1000 characters");break;case"quantity":(!de||de<1)&&De.push("Quantity must be at least 1");break;case"purchase_price":case"current_value":de!==null&&de!==""&&de<0&&De.push("Value cannot be negative");break;case"category_id":de||De.push("Category is required");break;case"location_id":de||De.push("Location is required");break}return De},ge=()=>{const je={};return Object.keys(A.value).forEach(de=>{const De=ae(de,A.value[de]);De.length>0&&(je[de]=De)}),j.value=je,Object.keys(je).length===0},ne=je=>{V.value[je]=!0;const de=ae(je,A.value[je]);j.value[je]=de},ee=je=>V.value[je]&&j.value[je]?j.value[je][0]:"",ue=async()=>{if(!ge()){t.error("Please fix the errors in the form");return}v.value=!0;try{const je=new FormData;Object.keys(A.value).forEach(Yt=>{A.value[Yt]!==null&&A.value[Yt]!==""&&(Yt==="specifications"&&typeof A.value[Yt]=="object"?je.append(Yt,JSON.stringify(A.value[Yt])):je.append(Yt,A.value[Yt]))});const de=x.value?"assets":`assets/${p.value.id}`,De=x.value?await Xt(de,je,{headers:{"Content-Type":"multipart/form-data"}}):await Na(de,je,{headers:{"Content-Type":"multipart/form-data"}});De.success?(t.success(`Asset ${x.value?"created":"updated"} successfully`),he(),await Promise.all([nt(),Fe()])):De.errors?(j.value=De.errors,t.error("Please check the form for errors")):t.error(De.message||"Failed to save asset")}catch(je){console.error("Save asset error:",je),t.error("Failed to save asset. Please try again.")}finally{v.value=!1}},he=()=>{x.value=!1,c.value=!1,h.value=!1,g.value=!1,d.value=!1,p.value=null,E.value=null,C.value="",T.value="",A.value={name:"",code:"",description:"",serial_number:"",model_number:"",manufacturer:"",purchase_date:"",purchase_price:"",current_value:"",quantity:1,condition:"good",status:"active",image:null,specifications:{},warranty_expiry:"",notes:"",category_id:"",location_id:"",parent_asset_id:""},j.value={},V.value={}},Ce=()=>{x.value=!0,re()},J=je=>{p.value=je,E.value=je.image_url,A.value={name:je.name,code:je.code,description:je.description||"",serial_number:je.serial_number||"",model_number:je.model_number||"",manufacturer:je.manufacturer||"",purchase_date:je.purchase_date||"",purchase_price:je.purchase_price||"",current_value:je.current_value||"",quantity:je.quantity,condition:je.condition,status:je.status,image:null,specifications:je.specifications||{},warranty_expiry:je.warranty_expiry||"",notes:je.notes||"",category_id:je.category_id,location_id:je.location_id,parent_asset_id:je.parent_asset_id||""},j.value={},V.value={},c.value=!0,re(je)},D=je=>{p.value=je,h.value=!0},N=je=>{p.value=je,C.value=je.status,g.value=!0},U=async()=>{if(!(!p.value||!C.value)){b.value=!0;try{const je=await Xt(`assets/${p.value.id}/update-status`,{status:C.value});je.success?(t.success("Asset status updated successfully"),he(),await Promise.all([nt(),Fe()])):t.error(je.message||"Failed to update asset status")}catch(je){console.error("Update status error:",je),t.error("Failed to update asset status")}finally{b.value=!1}}},Q=async()=>{if(!(!u.value.length||!T.value)){w.value=!0;try{const je=await Xt("assets/bulk-update-status",{asset_ids:u.value.map(de=>de.id),status:T.value});je.success?(t.success(`${u.value.length} asset${u.value.length===1?"":"s"} status updated successfully`),he(),await Promise.all([nt(),Fe()])):t.error(je.message||"Failed to update asset statuses")}catch(je){console.error("Bulk update status error:",je),t.error("Failed to update asset statuses")}finally{w.value=!1}}},Ge=je=>{s.showModal({title:"Delete Asset",message:`Are you sure you want to delete "${je.name}"?`,description:"This action cannot be undone. This will permanently delete the asset and all its associated data.",confirmText:"Delete Asset",cancelText:"Cancel",onConfirm:async()=>{const de=await Os(`assets/${je.id}`);if(de.success)return t.success("Asset deleted successfully"),await Promise.all([nt(),Fe()]),de;throw new Error(de.message||"Failed to delete asset")},onSuccess:de=>{console.log("Asset deleted successfully:",de)},onError:de=>{console.error("Failed to delete asset:",de),t.error(de.message||"Failed to delete asset")}})},He=(je,de)=>{if(de.length===0){t.warning("Please select assets to perform bulk action");return}je==="delete"?s.showModal({title:"Bulk Delete Assets",message:`Are you sure you want to delete ${de.length} asset${de.length===1?"":"s"}?`,description:"This action cannot be undone. This will permanently delete the selected assets and all their associated data.",confirmText:"Delete Assets",cancelText:"Cancel",onConfirm:async()=>{try{const De=de.map(Yt=>Os(`assets/${Yt.id}`));return await Promise.all(De),t.success(`${de.length} asset${de.length===1?"":"s"} deleted successfully`),await Promise.all([nt(),Fe()]),{success:!0}}catch{throw new Error("Failed to delete some assets")}},onSuccess:De=>{console.log("Bulk delete completed:",De)},onError:De=>{console.error("Bulk delete failed:",De),t.error(De.message||"Failed to delete assets")}}):je==="update-status"&&(u.value=de,d.value=!0)},pe=je=>{u.value=je,console.log("Selection changed:",je)},ie=()=>{u.value=[]},Oe=async()=>{try{const je=new URLSearchParams(P.value),de=document.createElement("a");de.href=`/api/assets-export?${je}`,de.download=`assets_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(de),de.click(),document.body.removeChild(de),t.success("Assets export started. Download will begin shortly.")}catch(je){console.error("Export assets error:",je),t.error("Failed to export assets")}},nt=async(je=1)=>{try{o.value=!0;const de=new URLSearchParams({page:je.toString(),...P.value}),De=await Tt(`assets?${de}`);De.success&&(i.value=De.data)}catch(de){console.error("Error loading assets:",de),t.error("Failed to load assets")}finally{o.value=!1}},Fe=async()=>{try{const je=await Tt("assets-statistics");je.success&&(l.value=je.data)}catch(je){console.error("Error loading statistics:",je),t.error("Failed to load statistics")}},re=async(je=null)=>{try{const de=await Tt("asset-categories");de.success&&(m.value=de.data.map(Ke=>({value:Ke.id,label:Ke.full_path,color:Ke.color})));const De=await Tt("locations");De.success&&(y.value=De.data.map(Ke=>({value:Ke.id,label:Ke.full_path})));const Yt=je?`assets-parent-options/${je.id}`:"assets-parent-options",rs=await Tt(Yt);rs.success&&(f.value=[{value:"",label:"No Parent Asset"},...rs.data.map(Ke=>({value:Ke.id,label:Ke.full_path}))])}catch(de){console.error("Error loading options:",de),t.error("Failed to load form options")}};Et(P,()=>{nt()},{deep:!0});const Y=async je=>{try{const de=await fetch(`/api/assets/${je.id}/barcode`,{method:"GET",headers:{Authorization:`Bearer ${r.token}`,Accept:"application/pdf"}});if(de.ok){const De=await de.blob(),Yt=window.URL.createObjectURL(De),rs=document.createElement("a");rs.href=Yt,rs.download=`barcode_${je.code||je.id}.pdf`,document.body.appendChild(rs),rs.click(),document.body.removeChild(rs),window.URL.revokeObjectURL(Yt),t.success(`Barcode for ${je.name} downloaded successfully`)}else throw new Error("Failed to generate barcode")}catch(de){console.error("Print barcode error:",de),t.error("Failed to print barcode. Please try again.")}},we=async(je,de="medium")=>{try{const De=await fetch(`/api/assets/${je.id}/qrcode-pdf?size=${de}`,{method:"GET",headers:{Authorization:`Bearer ${r.token}`,Accept:"application/pdf"}});if(De.ok){const Yt=await De.blob(),rs=window.URL.createObjectURL(Yt),Ke=document.createElement("a");Ke.href=rs,Ke.download=`qrcode_${je.code||je.id}.pdf`,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),window.URL.revokeObjectURL(rs),t.success(`QR Code for ${je.name} downloaded successfully`)}else throw new Error("Failed to generate QR code")}catch(De){console.error("Print QR code error:",De),t.error("Failed to print QR code. Please try again.")}},Ht=async(je,de="medium")=>{if(je.length===0){t.warning("Please select assets to export QR codes");return}try{const De=Array.isArray(je)?je.map(rs=>typeof rs=="object"?rs.id:rs):[];if(De.length===0){t.warning("No valid assets selected");return}const Yt=await fetch("/api/assets/bulk-qrcode-pdf",{method:"POST",headers:{Authorization:`Bearer ${r.token}`,Accept:"application/pdf","Content-Type":"application/json"},body:JSON.stringify({asset_ids:De,size:de})});if(Yt.ok){const rs=await Yt.blob(),Ke=window.URL.createObjectURL(rs),Se=document.createElement("a");Se.href=Ke,Se.download=`bulk_qrcodes_${new Date().toISOString().split("T")[0]}.pdf`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(Ke),t.success(`Bulk QR codes for ${je.length} assets downloaded successfully`)}else{const rs=await Yt.json();throw console.error("Server error:",rs),new Error(rs.message||"Failed to generate bulk QR codes")}}catch(De){console.error("Bulk print QR code error:",De),t.error(De.message||"Failed to export bulk QR codes. Please try again.")}};return Ot(()=>{nt(),Fe(),re()}),(je,de)=>($(),S("div",YU,[de[102]||(de[102]=a("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Assets "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Manage your organization's assets and inventory ")])],-1)),a("div",GU,[a("div",JU,[a("div",QU,[a("div",XU,[L(F(ji),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",ZU,[de[55]||(de[55]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Assets ",-1)),a("p",eH,k(M.value),1)])])]),a("div",tH,[a("div",sH,[a("div",aH,[L(F(Fs),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",rH,[de[56]||(de[56]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Active Assets ",-1)),a("p",oH,k(B.value),1)])])]),a("div",nH,[a("div",iH,[a("div",lH,[L(F(O0),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"})]),a("div",dH,[de[57]||(de[57]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Under Maintenance ",-1)),a("p",cH,k(W.value),1)])])]),a("div",uH,[a("div",hH,[a("div",gH,[L(F(yo),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",pH,[de[58]||(de[58]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Poor Condition ",-1)),a("p",mH,k(K.value),1)])])]),a("div",fH,[a("div",yH,[a("div",vH,[L(F(Rv),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",xH,[de[59]||(de[59]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Value ",-1)),a("p",bH," $"+k(Z.value.toLocaleString()),1)])])])]),a("div",kH,[a("div",wH,[L(et,{modelValue:P.value.search,"onUpdate:modelValue":de[0]||(de[0]=De=>P.value.search=De),placeholder:"Search assets...",onInput:z},{prefix:le(()=>[L(F(Un),{class:"w-4 h-4"})]),_:1},8,["modelValue"]),L(ut,{modelValue:P.value.category_id,"onUpdate:modelValue":[de[1]||(de[1]=De=>P.value.category_id=De),q],placeholder:"All Categories",options:m.value},null,8,["modelValue","options"]),L(ut,{modelValue:P.value.location_id,"onUpdate:modelValue":[de[2]||(de[2]=De=>P.value.location_id=De),q],placeholder:"All Locations",options:y.value},null,8,["modelValue","options"]),L(ut,{modelValue:P.value.status,"onUpdate:modelValue":[de[3]||(de[3]=De=>P.value.status=De),q],placeholder:"All Statuses",options:H},null,8,["modelValue"]),L(ut,{modelValue:P.value.condition,"onUpdate:modelValue":[de[4]||(de[4]=De=>P.value.condition=De),q],placeholder:"All Conditions",options:R},null,8,["modelValue"])]),a("div",_H,[L(ft,{variant:"secondary",onClick:X,disabled:!Te.value},{default:le(()=>[...de[60]||(de[60]=[ke(" Clear Filters ",-1)])]),_:1},8,["disabled"])])]),u.value.length>0?($(),S("div",$H,[a("div",CH,[a("div",SH,[a("span",EH,k(u.value.length)+" asset"+k(u.value.length===1?"":"s")+" selected ",1)]),a("div",TH,[L(ft,{variant:"secondary",size:"sm",onClick:de[5]||(de[5]=De=>He("update-status",u.value))},{default:le(()=>[L(F(Ur),{class:"w-4 h-4 mr-2"}),de[61]||(de[61]=ke(" Update Status ",-1))]),_:1}),L(ft,{variant:"primary",size:"sm",onClick:de[6]||(de[6]=De=>Ht(u.value))},{default:le(()=>[L(F(oi),{class:"w-4 h-4 mr-2"}),de[62]||(de[62]=ke(" Export QR Codes ",-1))]),_:1}),L(ft,{variant:"danger",size:"sm",onClick:de[7]||(de[7]=De=>He("delete",u.value))},{default:le(()=>[L(F(Ks),{class:"w-4 h-4 mr-2"}),de[63]||(de[63]=ke(" Delete ",-1))]),_:1}),L(ft,{variant:"secondary",size:"sm",onClick:ie},{default:le(()=>[...de[64]||(de[64]=[ke(" Clear Selection ",-1)])]),_:1})])])])):G("",!0),L(Us,{title:"Assets",description:"A comprehensive list of all assets in your inventory.",data:i.value.data||[],columns:_e,loading:o.value,selectable:!0,"show-actions":!0,"show-add-button":!0,"add-button-text":"Add Asset","show-filters":!1,"show-bulk-actions":!1,"show-export":!0,"show-refresh":!0,"refresh-loading":n.value,"search-placeholder":"Search assets...","empty-title":"No assets found","empty-description":"Get started by adding your first asset.",onAdd:Ce,onEdit:J,onDelete:Ge,onBulkAction:He,onExport:Oe,onSelectionChange:pe,onRefresh:se},{"column-image":le(({item:De})=>[De.image_url?($(),S("div",AH,[a("img",{src:De.image_url,alt:De.name,class:"w-full h-full object-cover"},null,8,LH)])):($(),S("div",MH,[L(F(ji),{class:"w-6 h-6 text-gray-400"})]))]),"column-name":le(({item:De})=>[a("div",PH,[a("div",{style:fs({paddingLeft:`${De.hierarchy_level*20}px`})},[a("p",DH,k(De.name),1),a("p",IH,k(De.code),1),De.serial_number?($(),S("p",OH," SN: "+k(De.serial_number),1)):G("",!0)],4)])]),"column-category":le(({item:De})=>[De.category?($(),S("div",FH,[a("div",{class:"w-3 h-3 rounded-full mr-2",style:fs({backgroundColor:De.category.color})},null,4),a("span",RH,k(De.category.name),1)])):($(),S("span",jH," No Category "))]),"column-location":le(({item:De})=>[De.location?($(),S("div",NH,[a("p",VH,k(De.location.name),1),a("p",BH,k(De.location.full_address),1)])):($(),S("span",UH," No Location "))]),"column-value":le(({item:De})=>[a("div",null,[a("p",HH," $"+k(De.current_value?De.current_value.toLocaleString():"0"),1),a("p",qH," Book: $"+k(De.book_value?De.book_value.toLocaleString():"0"),1)])]),"column-status":le(({item:De})=>[a("div",zH,[a("div",{class:Ee(["w-2 h-2 rounded-full mr-2",me(De.status)])},null,2),a("span",WH,k(De.status.replace("_"," ")),1)])]),"column-condition":le(({item:De})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Le(De.condition)])},k(De.condition),3)]),"column-warranty":le(({item:De})=>[De.warranty_expiry?($(),S("div",KH,[a("p",YH,k(Ze(De.warranty_expiry)),1),a("p",{class:Ee(["text-xs",(De.is_warranty_valid,"text-red-600 dark:text-red-400")])},k(De.is_warranty_valid?"Valid":"Expired"),3)])):($(),S("span",GH," No Warranty "))]),actions:le(({item:De})=>[a("div",JH,[a("button",{onClick:Yt=>D(De),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"View Details"},[L(F(Ta),{class:"w-4 h-4"})],8,QH),a("button",{onClick:Yt=>we(De),class:"p-1.5 text-gray-400 hover:text-primary-600 hover:bg-primary-100 rounded-lg transition-colors duration-200 dark:hover:text-primary-400 dark:hover:bg-indigo-900/20",title:"Print QR Code"},[L(F(oi),{class:"w-4 h-4"})],8,XH),a("button",{onClick:Yt=>J(De),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Edit Asset"},[L(F(Bs),{class:"w-4 h-4"})],8,ZH),a("button",{onClick:Yt=>N(De),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Update Status"},[L(F(Ur),{class:"w-4 h-4"})],8,eq),a("button",{onClick:Yt=>Ge(De),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete Asset"},[L(F(Ks),{class:"w-4 h-4"})],8,tq)])]),_:1},8,["data","loading","refresh-loading"]),i.value.last_page>1?($(),S("div",sq,[a("div",aq,[L(ft,{variant:"secondary",disabled:i.value.current_page===1,onClick:de[8]||(de[8]=De=>Ae(i.value.current_page-1))},{default:le(()=>[...de[65]||(de[65]=[ke(" Previous ",-1)])]),_:1},8,["disabled"]),a("span",rq," Page "+k(i.value.current_page)+" of "+k(i.value.last_page),1),L(ft,{variant:"secondary",disabled:i.value.current_page===i.value.last_page,onClick:de[9]||(de[9]=De=>Ae(i.value.current_page+1))},{default:le(()=>[...de[66]||(de[66]=[ke(" Next ",-1)])]),_:1},8,["disabled"])])])):G("",!0),L(Vt,{"is-open":x.value||c.value,onClose:he,size:"xl"},{title:le(()=>[ke(k(x.value?"Add Asset":"Edit Asset"),1)]),default:le(()=>[a("form",{onSubmit:Bt(ue,["prevent"]),class:"space-y-6"},[a("div",oq,[de[67]||(de[67]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Basic Information ",-1)),a("div",nq,[L(et,{modelValue:A.value.name,"onUpdate:modelValue":de[10]||(de[10]=De=>A.value.name=De),label:"Asset Name",placeholder:"Enter asset name",error:ee("name"),required:"",onBlur:de[11]||(de[11]=De=>ne("name"))},null,8,["modelValue","error"]),L(et,{modelValue:A.value.code,"onUpdate:modelValue":de[12]||(de[12]=De=>A.value.code=De),label:"Asset Code",placeholder:"Enter asset code (optional - auto-generated if empty)",hint:"Leave empty to auto-generate a unique code based on the asset name",error:ee("code"),onBlur:de[13]||(de[13]=De=>ne("code"))},null,8,["modelValue","error"])]),L(ws,{modelValue:A.value.description,"onUpdate:modelValue":de[14]||(de[14]=De=>A.value.description=De),label:"Description",placeholder:"Enter asset description",error:ee("description"),rows:"3",onBlur:de[15]||(de[15]=De=>ne("description"))},null,8,["modelValue","error"]),a("div",iq,[L(ut,{modelValue:A.value.category_id,"onUpdate:modelValue":[de[16]||(de[16]=De=>A.value.category_id=De),de[18]||(de[18]=De=>ne("category_id"))],label:"Category",placeholder:"Select category",options:m.value,error:ee("category_id"),required:"",onBlur:de[17]||(de[17]=De=>ne("category_id"))},null,8,["modelValue","options","error"]),L(ut,{modelValue:A.value.location_id,"onUpdate:modelValue":[de[19]||(de[19]=De=>A.value.location_id=De),de[21]||(de[21]=De=>ne("location_id"))],label:"Location",placeholder:"Select location",options:y.value,error:ee("location_id"),required:"",onBlur:de[20]||(de[20]=De=>ne("location_id"))},null,8,["modelValue","options","error"]),L(ut,{modelValue:A.value.parent_asset_id,"onUpdate:modelValue":[de[22]||(de[22]=De=>A.value.parent_asset_id=De),de[24]||(de[24]=De=>ne("parent_asset_id"))],label:"Parent Asset",placeholder:"Select parent asset (optional)",options:f.value,error:ee("parent_asset_id"),onBlur:de[23]||(de[23]=De=>ne("parent_asset_id"))},null,8,["modelValue","options","error"])])]),a("div",lq,[de[68]||(de[68]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Asset Details ",-1)),a("div",dq,[L(et,{modelValue:A.value.serial_number,"onUpdate:modelValue":de[25]||(de[25]=De=>A.value.serial_number=De),label:"Serial Number",placeholder:"Enter serial number",error:ee("serial_number"),onBlur:de[26]||(de[26]=De=>ne("serial_number"))},null,8,["modelValue","error"]),L(et,{modelValue:A.value.model_number,"onUpdate:modelValue":de[27]||(de[27]=De=>A.value.model_number=De),label:"Model Number",placeholder:"Enter model number",error:ee("model_number"),onBlur:de[28]||(de[28]=De=>ne("model_number"))},null,8,["modelValue","error"])]),a("div",cq,[L(et,{modelValue:A.value.manufacturer,"onUpdate:modelValue":de[29]||(de[29]=De=>A.value.manufacturer=De),label:"Manufacturer",placeholder:"Enter manufacturer",error:ee("manufacturer"),onBlur:de[30]||(de[30]=De=>ne("manufacturer"))},null,8,["modelValue","error"]),L(et,{modelValue:A.value.quantity,"onUpdate:modelValue":de[31]||(de[31]=De=>A.value.quantity=De),label:"Quantity",type:"number",min:"1",placeholder:"Enter quantity",error:ee("quantity"),required:"",onBlur:de[32]||(de[32]=De=>ne("quantity"))},null,8,["modelValue","error"])])]),a("div",uq,[de[69]||(de[69]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Financial Information ",-1)),a("div",hq,[L(et,{modelValue:A.value.purchase_price,"onUpdate:modelValue":de[33]||(de[33]=De=>A.value.purchase_price=De),label:"Purchase Price",type:"number",step:"0.01",min:"0",placeholder:"Enter purchase price",error:ee("purchase_price"),onBlur:de[34]||(de[34]=De=>ne("purchase_price"))},null,8,["modelValue","error"]),L(et,{modelValue:A.value.current_value,"onUpdate:modelValue":de[35]||(de[35]=De=>A.value.current_value=De),label:"Current Value",type:"number",step:"0.01",min:"0",placeholder:"Enter current value",error:ee("current_value"),onBlur:de[36]||(de[36]=De=>ne("current_value"))},null,8,["modelValue","error"]),L(et,{modelValue:A.value.purchase_date,"onUpdate:modelValue":de[37]||(de[37]=De=>A.value.purchase_date=De),label:"Purchase Date",type:"date",error:ee("purchase_date"),onBlur:de[38]||(de[38]=De=>ne("purchase_date"))},null,8,["modelValue","error"])])]),a("div",gq,[de[70]||(de[70]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Status & Condition ",-1)),a("div",pq,[L(ut,{modelValue:A.value.status,"onUpdate:modelValue":[de[39]||(de[39]=De=>A.value.status=De),de[41]||(de[41]=De=>ne("status"))],label:"Status",placeholder:"Select status",options:H,error:ee("status"),required:"",onBlur:de[40]||(de[40]=De=>ne("status"))},null,8,["modelValue","error"]),L(ut,{modelValue:A.value.condition,"onUpdate:modelValue":[de[42]||(de[42]=De=>A.value.condition=De),de[44]||(de[44]=De=>ne("condition"))],label:"Condition",placeholder:"Select condition",options:R,error:ee("condition"),required:"",onBlur:de[43]||(de[43]=De=>ne("condition"))},null,8,["modelValue","error"]),L(et,{modelValue:A.value.warranty_expiry,"onUpdate:modelValue":de[45]||(de[45]=De=>A.value.warranty_expiry=De),label:"Warranty Expiry",type:"date",error:ee("warranty_expiry"),onBlur:de[46]||(de[46]=De=>ne("warranty_expiry"))},null,8,["modelValue","error"])])]),a("div",mq,[de[72]||(de[72]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Asset Image ",-1)),a("div",fq,[E.value||A.value.image?($(),S("div",yq,[a("img",{src:E.value||(A.value.image?je.URL.createObjectURL(A.value.image):""),class:"w-full h-full object-cover"},null,8,vq)])):G("",!0),a("div",xq,[a("input",{ref:"imageInput",type:"file",accept:"image/*",onChange:We,class:"hidden"},null,544),L(ft,{type:"button",variant:"secondary",onClick:de[47]||(de[47]=De=>je.$refs.imageInput.click())},{default:le(()=>[L(F(PS),{class:"w-4 h-4 mr-2"}),ke(" "+k(E.value||A.value.image?"Change Image":"Upload Image"),1)]),_:1}),de[71]||(de[71]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," PNG, JPG, GIF up to 2MB ",-1))])])]),a("div",bq,[de[73]||(de[73]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Additional Information ",-1)),L(ws,{modelValue:A.value.notes,"onUpdate:modelValue":de[48]||(de[48]=De=>A.value.notes=De),label:"Notes",placeholder:"Enter any additional notes",error:ee("notes"),rows:"3",onBlur:de[49]||(de[49]=De=>ne("notes"))},null,8,["modelValue","error"])]),a("div",kq,[L(ft,{onClick:he,variant:"secondary",disabled:v.value,class:"w-full sm:w-auto"},{default:le(()=>[...de[74]||(de[74]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:v.value,disabled:v.value,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(x.value?"Add Asset":"Update Asset"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]),L(Vt,{"is-open":h.value,onClose:he,size:"xl"},{title:le(()=>[...de[75]||(de[75]=[ke("Asset Details",-1)])]),default:le(()=>[p.value?($(),S("div",wq,[a("div",_q,[p.value.image_url?($(),S("div",$q,[a("img",{src:p.value.image_url,alt:p.value.name,class:"w-full h-full object-cover"},null,8,Cq)])):G("",!0),a("div",Sq,[a("div",Eq,[a("div",null,[a("h3",Tq,k(p.value.name),1),a("p",Aq," Code: "+k(p.value.code),1),a("div",Lq,[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Le(p.value.condition)])},k(p.value.condition),3),a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Re(p.value.status)])},k(p.value.status.replace("_"," ")),3)])]),a("div",Mq,[L(ft,{onClick:de[50]||(de[50]=De=>Y(p.value)),variant:"secondary",size:"sm"},{default:le(()=>[L(F(oi),{class:"w-4 h-4 mr-2"}),de[76]||(de[76]=ke(" Print Barcode ",-1))]),_:1}),L(ft,{onClick:de[51]||(de[51]=De=>we(p.value)),variant:"secondary",size:"sm"},{default:le(()=>[L(F(oi),{class:"w-4 h-4 mr-2"}),de[77]||(de[77]=ke(" Print QR Code ",-1))]),_:1}),L(ft,{onClick:de[52]||(de[52]=De=>J(p.value)),variant:"primary",size:"sm"},{default:le(()=>[L(F(Bs),{class:"w-4 h-4 mr-2"}),de[78]||(de[78]=ke(" Edit Asset ",-1))]),_:1})])])])]),a("div",Pq,[a("div",Dq,[de[83]||(de[83]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Basic Information ",-1)),a("div",Iq,[a("div",Oq,[de[79]||(de[79]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Serial Number:",-1)),a("span",Fq,k(p.value.serial_number||"N/A"),1)]),a("div",Rq,[de[80]||(de[80]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Model Number:",-1)),a("span",jq,k(p.value.model_number||"N/A"),1)]),a("div",Nq,[de[81]||(de[81]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Manufacturer:",-1)),a("span",Vq,k(p.value.manufacturer||"N/A"),1)]),a("div",Bq,[de[82]||(de[82]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Quantity:",-1)),a("span",Uq,k(p.value.quantity),1)])])]),a("div",Hq,[de[88]||(de[88]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Financial Information ",-1)),a("div",qq,[a("div",zq,[de[84]||(de[84]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Purchase Price:",-1)),a("span",Wq,"$"+k(p.value.purchase_price?p.value.purchase_price.toLocaleString():"0"),1)]),a("div",Kq,[de[85]||(de[85]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Current Value:",-1)),a("span",Yq,"$"+k(p.value.current_value?p.value.current_value.toLocaleString():"0"),1)]),a("div",Gq,[de[86]||(de[86]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Book Value:",-1)),a("span",Jq,"$"+k(p.value.book_value?p.value.book_value.toLocaleString():"0"),1)]),a("div",Qq,[de[87]||(de[87]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Purchase Date:",-1)),a("span",Xq,k(p.value.purchase_date?Ze(p.value.purchase_date):"N/A"),1)])])])]),a("div",Zq,[a("div",null,[de[89]||(de[89]=a("h4",{class:"font-medium text-gray-900 dark:text-white mb-2"}," Category ",-1)),p.value.category?($(),S("div",ez,[a("div",{class:"w-4 h-4 rounded-full mr-2",style:fs({backgroundColor:p.value.category.color})},null,4),a("span",tz,k(p.value.category.name),1)])):($(),S("span",sz,"No category assigned"))]),a("div",null,[de[90]||(de[90]=a("h4",{class:"font-medium text-gray-900 dark:text-white mb-2"}," Location ",-1)),p.value.location?($(),S("div",az,[a("p",rz,k(p.value.location.name),1),a("p",oz,k(p.value.location.full_address),1)])):($(),S("span",nz,"No location assigned"))])]),a("div",iz,[p.value.warranty_expiry?($(),S("div",lz,[de[91]||(de[91]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Warranty ",-1)),a("p",dz,[ke(" Expires: "+k(Ze(p.value.warranty_expiry))+" ",1),a("span",{class:Ee(["ml-2",(p.value.is_warranty_valid,"text-red-600 dark:text-red-400")])}," ("+k(p.value.is_warranty_valid?"Valid":"Expired")+") ",3)])])):G("",!0),p.value.description?($(),S("div",cz,[de[92]||(de[92]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Description ",-1)),a("p",uz,k(p.value.description),1)])):G("",!0),p.value.notes?($(),S("div",hz,[de[93]||(de[93]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Notes ",-1)),a("p",gz,k(p.value.notes),1)])):G("",!0)])])):G("",!0)]),_:1},8,["is-open"]),L(Vt,{"is-open":g.value,onClose:he,size:"md"},{title:le(()=>[...de[94]||(de[94]=[ke("Update Asset Status",-1)])]),default:le(()=>[p.value?($(),S("div",pz,[a("p",mz,[de[95]||(de[95]=ke(" Update the status for ",-1)),a("strong",null,k(p.value.name),1)]),L(ut,{modelValue:C.value,"onUpdate:modelValue":de[53]||(de[53]=De=>C.value=De),label:"New Status",placeholder:"Select new status",options:H},null,8,["modelValue"]),a("div",fz,[L(ft,{onClick:he,variant:"secondary"},{default:le(()=>[...de[96]||(de[96]=[ke(" Cancel ",-1)])]),_:1}),L(ft,{onClick:U,loading:b.value},{default:le(()=>[...de[97]||(de[97]=[ke(" Update Status ",-1)])]),_:1},8,["loading"])])])):G("",!0)]),_:1},8,["is-open"]),L(Vt,{"is-open":d.value,onClose:he,size:"md"},{title:le(()=>[...de[98]||(de[98]=[ke("Bulk Update Asset Status",-1)])]),default:le(()=>[u.value.length>0?($(),S("div",yz,[a("p",vz,[de[99]||(de[99]=ke(" Update the status for ",-1)),a("strong",null,k(u.value.length)+" asset"+k(u.value.length===1?"":"s"),1)]),L(ut,{modelValue:T.value,"onUpdate:modelValue":de[54]||(de[54]=De=>T.value=De),label:"New Status",placeholder:"Select new status",options:H},null,8,["modelValue"]),a("div",xz,[L(ft,{onClick:he,variant:"secondary"},{default:le(()=>[...de[100]||(de[100]=[ke(" Cancel ",-1)])]),_:1}),L(ft,{onClick:Q,loading:w.value},{default:le(()=>[...de[101]||(de[101]=[ke(" Update Status ",-1)])]),_:1},8,["loading"])])])):G("",!0)]),_:1},8,["is-open"]),L(us,{"is-open":F(s).isOpen,title:F(s).config.title,message:F(s).config.message,description:F(s).config.description,"confirm-text":F(s).config.confirmText,"cancel-text":F(s).config.cancelText,loading:F(s).loading,onConfirm:F(s).handleConfirm,onCancel:F(s).handleCancel,onClose:F(s).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}};function kz(){const e=Ut(),t=O([]),s=O(null),r=O(!1),o=O(!1),n=O(!1),i=O({current_page:1,per_page:15,total:0,last_page:1}),l=O({search:"",is_active:"",parent_id:"",sort_by:"name",sort_order:"asc"}),u=async(T={})=>{var j,V;console.log("=== fetchLocations called ===",new Date().toISOString());let P=1,A=i.value.per_page;if(typeof T=="number"?P=T:(P=T.page||1,A=T.per_page||i.value.per_page),console.time("fetchLocations-"+P),r.value){console.log("fetchLocations blocked - already loading");return}console.log("fetchLocations starting - setting loading to true"),r.value=!0;try{const H={page:P,per_page:A,...l.value,...T},R=await Xe.get("/locations",{params:H});return t.value=R.data,i.value={current_page:R.current_page,per_page:A,total:R.total,last_page:R.last_page},R.data}catch(H){throw console.error("Error fetching locations:",H),e.error("Failed to load locations",((V=(j=H.response)==null?void 0:j.data)==null?void 0:V.message)||"An error occurred while loading locations"),H}finally{console.log("fetchLocations completed - setting loading to false"),console.timeEnd("fetchLocations-"+P),r.value=!1}},m=async T=>{var P,A;r.value=!0;try{const j=await Xe.get(`/locations/${T}`);return s.value=j.data.data,j.data}catch(j){throw console.error("Error fetching location:",j),e.error("Failed to load location",((A=(P=j.response)==null?void 0:P.data)==null?void 0:A.message)||"An error occurred while loading the location"),j}finally{r.value=!1}},y=async T=>{var P,A;o.value=!0;try{const j=await Xe.post("/locations",T);return e.success("Location created successfully"),j.data}catch(j){console.error("Error creating location:",j);const V=((A=(P=j.response)==null?void 0:P.data)==null?void 0:A.message)||"Failed to create location";throw e.error("Failed to create location",V),j}finally{o.value=!1}},f=async(T,P)=>{var A,j;o.value=!0;try{const V=await Xe.put(`/locations/${T}`,P);return e.success("Location updated successfully"),V.data}catch(V){console.error("Error updating location:",V);const H=((j=(A=V.response)==null?void 0:A.data)==null?void 0:j.message)||"Failed to update location";throw e.error("Failed to update location",H),V}finally{o.value=!1}},x=async T=>{var P,A;n.value=!0;try{await Xe.delete(`/locations/${T}`),e.success("Location deleted successfully")}catch(j){console.error("Error deleting location:",j);const V=((A=(P=j.response)==null?void 0:P.data)==null?void 0:A.message)||"Failed to delete location";throw e.error("Failed to delete location",V),j}finally{n.value=!1}},c=async T=>{try{const P=await Xe.post(`/locations/${T}/toggle-status`);return e.success("Location status updated successfully"),P.data}catch(P){throw console.error("Error toggling location status:",P),e.error("Failed to update location status"),P}},h=async()=>{try{return(await Xe.get("/locations/active")).data.data}catch(T){throw console.error("Error fetching active locations:",T),e.error("Failed to load active locations"),T}},g=async()=>{try{const T=await Xe.get("/locations/statistics");return T.data.data||T.data}catch(T){throw console.error("Error fetching location statistics:",T),T}},d=async(T=null)=>{try{const P=T?`locations-parent-options/${T}`:"locations-parent-options",A=await Xe.get(P);return A.data.data||A.data}catch(P){throw console.error("Error fetching parent options:",P),e.error("Failed to load parent options"),P}},p=T=>(console.log("applyFilters called with:",T),l.value={...l.value,...T},u(1)),v=()=>(console.log("resetFilters called"),l.value={search:"",is_active:"",parent_id:"",sort_by:"name",sort_order:"asc"},u(1)),b=(T,P)=>(console.log("changePage called with:",T,P),P!=null&&P.value&&(i.value.per_page=P==null?void 0:P.value),u(T)),w=(T,P="asc")=>(console.log("changeSort called with:",T,P),l.value.sort_by=T,l.value.sort_order=P,u(1)),E=fe(()=>t.value.length>0),C=fe(()=>!r.value&&t.value.length===0);return{locations:t,location:s,loading:r,saving:o,deleting:n,pagination:i,filters:l,hasLocations:E,isEmpty:C,fetchLocations:u,fetchLocation:m,createLocation:y,updateLocation:f,deleteLocation:x,toggleLocationStatus:c,fetchActiveLocations:h,fetchLocationStatistics:g,fetchParentOptions:d,applyFilters:p,resetFilters:v,changePage:b,changeSort:w}}const wz={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},_z={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},$z={class:"flex items-center justify-between"},Cz={class:"text-sm text-gray-500 dark:text-gray-400"},Sz={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},Ez={class:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center"},Tz={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Az={class:"flex items-center justify-between"},Lz={class:"text-sm text-gray-500 dark:text-gray-400"},Mz={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},Pz={class:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center"},Dz={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Iz={class:"flex items-center justify-between"},Oz={class:"text-sm text-gray-500 dark:text-gray-400"},Fz={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},Rz={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center"},jz={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Nz={class:"flex items-center justify-between"},Vz={class:"text-sm text-gray-500 dark:text-gray-400"},Bz={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},Uz={class:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center"},Hz={__name:"LocationStats",props:{stats:{type:Object,default:()=>({total:0,active:0,root:0,new_this_month:0})}},setup(e){const{t}=fa();return(s,r)=>($(),S("div",wz,[a("div",_z,[a("div",$z,[a("div",null,[a("p",Cz,k(s.$t("locations.totalLocations")),1),a("p",Sz,k(e.stats.total),1)]),a("div",Ez,[L(F(vd),{class:"w-6 h-6 text-red-600 dark:text-red-400"})])])]),a("div",Tz,[a("div",Az,[a("div",null,[a("p",Lz,k(s.$t("locations.activeLocations")),1),a("p",Mz,k(e.stats.active),1)]),a("div",Pz,[L(F(Fs),{class:"w-6 h-6 text-green-600 dark:text-green-400"})])])]),a("div",Dz,[a("div",Iz,[a("div",null,[a("p",Oz,k(s.$t("locations.rootLocations")),1),a("p",Fz,k(e.stats.root),1)]),a("div",Rz,[L(F(Bn),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})])])]),a("div",jz,[a("div",Nz,[a("div",null,[a("p",Vz,k(s.$t("locations.newThisMonth")),1),a("p",Bz,k(e.stats.new_this_month),1)]),a("div",Uz,[L(F(la),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"})])])])]))}},qz={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},zz={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Wz={class:"flex items-end gap-2"},Kz={__name:"LocationFilters",props:{show:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},parentOptions:{type:Array,default:()=>[]}},emits:["update:filters","reset"],setup(e,{emit:t}){const{t:s}=fa(),r=e,o=t,n=O({search:"",is_active:"",parent_id:"",...r.filters}),i=fe(()=>[{value:"",label:s("locations.allStatus")},{value:"1",label:s("locations.statusActive")},{value:"0",label:s("locations.statusInactive")}]),l=fe(()=>[{value:"",label:s("locations.allParents")},...r.parentOptions.map(y=>({value:y.id,label:y.full_path||y.name}))]);Et(()=>r.filters,y=>{JSON.stringify(n.value)!==JSON.stringify(y)&&(console.log("LocationFilters: External filters changed, updating localFilters"),n.value={...n.value,...y})},{deep:!0});const u=()=>{console.log("LocationFilters: handleFilterChange called with:",n.value),o("update:filters",n.value)},m=()=>{n.value={search:"",is_active:"",parent_id:""},o("reset")};return(y,f)=>e.show?($(),S("div",qz,[a("div",zz,[L(et,{modelValue:n.value.search,"onUpdate:modelValue":f[0]||(f[0]=x=>n.value.search=x),label:y.$t("locations.search"),placeholder:y.$t("locations.searchPlaceholder"),onInput:u},null,8,["modelValue","label","placeholder"]),L(ut,{modelValue:n.value.is_active,"onUpdate:modelValue":f[1]||(f[1]=x=>n.value.is_active=x),label:y.$t("locations.status"),options:i.value,onChange:u},null,8,["modelValue","label","options"]),L(ut,{modelValue:n.value.parent_id,"onUpdate:modelValue":f[2]||(f[2]=x=>n.value.parent_id=x),label:y.$t("locations.parentLocation"),options:l.value,onChange:u},null,8,["modelValue","label","options"]),a("div",Wz,[a("button",{onClick:m,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},k(y.$t("locations.resetFilters")),1)])])])):G("",!0)}},Yz={class:"space-y-5"},Gz={class:"text-lg font-medium text-gray-900 dark:text-white"},Jz={class:"grid grid-cols-2 gap-4"},Qz={class:"space-y-5"},Xz={class:"text-lg font-medium text-gray-900 dark:text-white"},Zz={class:"grid grid-cols-2 gap-4"},eW={class:"grid grid-cols-2 gap-4"},tW={class:"grid grid-cols-2 gap-4 hidden"},sW={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},aW={__name:"LocationFormModal",props:{isOpen:{type:Boolean,default:!1},editingLocation:{type:Object,default:null},parentOptions:{type:Array,default:()=>[]},saving:{type:Boolean,default:!1}},emits:["close","saved"],setup(e,{emit:t}){const{t:s}=fa(),r=e,o=t,n=O({name:"",code:"",description:"",address:"",city:"",state:"",country:"",postal_code:"",latitude:null,longitude:null,color:"#10B981",parent_id:null}),i=O({}),l=O({}),u=()=>{n.value={name:"",code:"",description:"",address:"",city:"",state:"",country:"",postal_code:"",latitude:null,longitude:null,color:"#10B981",parent_id:null}};Et(()=>r.editingLocation,g=>{g?n.value={name:g.name,code:g.code,description:g.description||"",address:g.address||"",city:g.city||"",state:g.state||"",country:g.country||"",postal_code:g.postal_code||"",latitude:g.latitude,longitude:g.longitude,color:g.color,parent_id:g.parent_id||null}:u(),i.value={},l.value={}},{immediate:!0});const m=(g,d)=>{const p=[];switch(g){case"name":!d||d.trim()===""?p.push(s("locations.validationNameRequired")):d.length<2?p.push(s("locations.validationNameMinLength")):d.length>255&&p.push(s("locations.validationNameMaxLength"));break;case"code":d&&d.length>20&&p.push(s("locations.validationCodeMaxLength"));break;case"description":d&&d.length>1e3&&p.push(s("locations.validationDescriptionMaxLength"));break;case"address":d&&d.length>500&&p.push(s("locations.validationAddressMaxLength"));break;case"city":case"state":case"country":d&&d.length>100&&p.push(`${g.charAt(0).toUpperCase()+g.slice(1)} ${s("locations.validationFieldMaxLength")}`);break;case"postal_code":d&&d.length>20&&p.push(s("locations.validationPostalCodeMaxLength"));break;case"latitude":d!==null&&d!==""&&(d<-90||d>90)&&p.push(s("locations.validationLatitudeRange"));break;case"longitude":d!==null&&d!==""&&(d<-180||d>180)&&p.push(s("locations.validationLongitudeRange"));break;case"color":d&&!/^#[0-9A-Fa-f]{6}$/.test(d)&&p.push(s("locations.validationColorFormat"));break}return p},y=()=>{const g={};return Object.keys(n.value).forEach(d=>{const p=m(d,n.value[d]);p.length>0&&(g[d]=p)}),i.value=g,Object.keys(g).length===0},f=g=>{l.value[g]=!0;const d=m(g,n.value[g]);i.value[g]=d},x=g=>l.value[g]&&i.value[g]?i.value[g][0]:"",c=async()=>{var d;if(!y())return;const g={...n.value};(g.parent_id==="null"||g.parent_id==="")&&(g.parent_id=null),o("saved",{formData:g,isEditing:!!r.editingLocation,locationId:(d=r.editingLocation)==null?void 0:d.id})},h=()=>{o("close")};return(g,d)=>($(),it(Vt,{"is-open":e.isOpen,onClose:h,size:"lg"},{title:le(()=>[ke(k(e.editingLocation?g.$t("locations.editLocationTitle"):g.$t("locations.createLocationTitle")),1)]),default:le(()=>[a("form",{onSubmit:Bt(c,["prevent"]),class:"space-y-6"},[a("div",Yz,[a("h3",Gz,k(g.$t("locations.basicInformation")),1),L(et,{modelValue:n.value.name,"onUpdate:modelValue":d[0]||(d[0]=p=>n.value.name=p),label:g.$t("locations.name"),placeholder:g.$t("locations.namePlaceholder"),error:x("name"),required:"",onBlur:d[1]||(d[1]=p=>f("name"))},null,8,["modelValue","label","placeholder","error"]),L(et,{modelValue:n.value.code,"onUpdate:modelValue":d[2]||(d[2]=p=>n.value.code=p),label:g.$t("locations.code"),placeholder:g.$t("locations.codePlaceholder"),error:x("code"),onBlur:d[3]||(d[3]=p=>f("code"))},null,8,["modelValue","label","placeholder","error"]),L(ws,{modelValue:n.value.description,"onUpdate:modelValue":d[4]||(d[4]=p=>n.value.description=p),label:g.$t("locations.description"),placeholder:g.$t("locations.descriptionPlaceholder"),error:x("description"),rows:"3",onBlur:d[5]||(d[5]=p=>f("description"))},null,8,["modelValue","label","placeholder","error"]),a("div",Jz,[L(et,{modelValue:n.value.color,"onUpdate:modelValue":d[6]||(d[6]=p=>n.value.color=p),label:g.$t("locations.color"),type:"color",error:x("color"),onBlur:d[7]||(d[7]=p=>f("color"))},null,8,["modelValue","label","error"]),L(ut,{modelValue:n.value.parent_id,"onUpdate:modelValue":d[8]||(d[8]=p=>n.value.parent_id=p),label:g.$t("locations.parentLocation"),options:e.parentOptions,placeholder:g.$t("locations.selectParentPlaceholder"),error:x("parent_id"),onBlur:d[9]||(d[9]=p=>f("parent_id"))},null,8,["modelValue","label","options","placeholder","error"])])]),a("div",Qz,[a("h3",Xz,k(g.$t("locations.addressInformation")),1),L(ws,{modelValue:n.value.address,"onUpdate:modelValue":d[10]||(d[10]=p=>n.value.address=p),label:g.$t("locations.addressLabel"),placeholder:g.$t("locations.addressPlaceholder"),error:x("address"),rows:"2",onBlur:d[11]||(d[11]=p=>f("address"))},null,8,["modelValue","label","placeholder","error"]),a("div",Zz,[L(et,{modelValue:n.value.city,"onUpdate:modelValue":d[12]||(d[12]=p=>n.value.city=p),label:g.$t("locations.city"),placeholder:g.$t("locations.cityPlaceholder"),error:x("city"),onBlur:d[13]||(d[13]=p=>f("city"))},null,8,["modelValue","label","placeholder","error"]),L(et,{modelValue:n.value.state,"onUpdate:modelValue":d[14]||(d[14]=p=>n.value.state=p),label:g.$t("locations.state"),placeholder:g.$t("locations.statePlaceholder"),error:x("state"),onBlur:d[15]||(d[15]=p=>f("state"))},null,8,["modelValue","label","placeholder","error"])]),a("div",eW,[L(et,{modelValue:n.value.country,"onUpdate:modelValue":d[16]||(d[16]=p=>n.value.country=p),label:g.$t("locations.country"),placeholder:g.$t("locations.countryPlaceholder"),error:x("country"),onBlur:d[17]||(d[17]=p=>f("country"))},null,8,["modelValue","label","placeholder","error"]),L(et,{modelValue:n.value.postal_code,"onUpdate:modelValue":d[18]||(d[18]=p=>n.value.postal_code=p),label:g.$t("locations.postalCode"),placeholder:g.$t("locations.postalCodePlaceholder"),error:x("postal_code"),onBlur:d[19]||(d[19]=p=>f("postal_code"))},null,8,["modelValue","label","placeholder","error"])]),a("div",tW,[L(et,{modelValue:n.value.latitude,"onUpdate:modelValue":d[20]||(d[20]=p=>n.value.latitude=p),label:g.$t("locations.latitude"),placeholder:g.$t("locations.latitudePlaceholder"),type:"number",step:"any",error:x("latitude"),onBlur:d[21]||(d[21]=p=>f("latitude"))},null,8,["modelValue","label","placeholder","error"]),L(et,{modelValue:n.value.longitude,"onUpdate:modelValue":d[22]||(d[22]=p=>n.value.longitude=p),label:g.$t("locations.longitude"),placeholder:g.$t("locations.longitudePlaceholder"),type:"number",step:"any",error:x("longitude"),onBlur:d[23]||(d[23]=p=>f("longitude"))},null,8,["modelValue","label","placeholder","error"])])]),a("div",sW,[L(ft,{onClick:h,variant:"secondary",disabled:e.saving,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(g.$t("locations.cancel")),1)]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:e.saving,disabled:e.saving,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(e.editingLocation?g.$t("locations.update"):g.$t("locations.create")),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]))}},rW={class:"space-y-6"},oW={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},nW={class:"text-2xl font-bold text-gray-900 dark:text-white"},iW={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},lW={class:"flex items-center gap-3"},dW={class:"flex items-center"},cW={class:"text-sm font-medium text-gray-900 dark:text-white"},uW={class:"text-xs text-gray-500 dark:text-gray-400"},hW={class:"max-w-xs"},gW={class:"text-sm text-gray-900 dark:text-white truncate"},pW={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},mW={key:0,class:"flex items-center"},fW={class:"text-sm text-gray-900 dark:text-white"},yW={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},vW={class:"flex items-center"},xW={class:"text-sm text-gray-900 dark:text-white capitalize"},bW={class:"flex items-center justify-end gap-2"},kW=["onClick","title"],wW=["onClick","title"],_W={__name:"Locations",setup(e){const{t}=fa(),s=Ut(),r=Va(),{locations:o,loading:n,saving:i,deleting:l,pagination:u,filters:m,fetchLocations:y,createLocation:f,updateLocation:x,deleteLocation:c,fetchLocationStatistics:h,fetchParentOptions:g,applyFilters:d,resetFilters:p}=kz(),v=O(!1),b=O(!1),w=O(null),E=O(!1),C=O(!1),T=O({total:0,active:0,root:0,new_this_month:0}),P=O([]),A=fe(()=>({total:T.value.total||0,active:T.value.active||0,root:T.value.root||0,new_this_month:T.value.new_this_month||0})),j=fe(()=>[{key:"name",label:t("locations.location"),sortable:!0},{key:"address",label:t("locations.address"),sortable:!1},{key:"parent",label:t("locations.parent"),sortable:!1},{key:"children",label:t("locations.children"),sortable:!1},{key:"status",label:t("products.status"),sortable:!1},{key:"created_at",label:t("locations.created"),type:"date",sortable:!0}]),V=async()=>{if(console.log("loadStatistics called - statistics.loading:",C.value),C.value){console.log("loadStatistics blocked - already loading");return}try{const q=await h();T.value=q}catch(q){console.error("Error loading statistics:",q)}},H=async()=>{try{const q=await g();P.value=[{value:null,label:t("locations.noParent")},...q.map(X=>({value:X.id,label:X.full_path}))]}catch(q){console.error("Error loading parent options:",q),s.error("Failed to load parent options")}},R=q=>{console.log("handleFilterChange"),d(q)},M=()=>{console.log("handleResetFilters"),p()},B=async()=>{console.log("=== handleRefresh STARTED ===",new Date().toISOString()),console.time("handleRefresh-total"),v.value=!0,C.value=!0;try{console.log("Fetching locations..."),console.time("fetchLocations-refresh"),await y({page:u.value.current_page,per_page:u.value.per_page}),console.timeEnd("fetchLocations-refresh"),console.log("Fetching statistics..."),console.time("fetchLocationStatistics-refresh"),await h().then(q=>{T.value=q}),console.timeEnd("fetchLocationStatistics-refresh"),s.success(t("locations.refreshSuccess"))}catch(q){console.error("Error refreshing locations:",q),s.error(t("locations.refreshError"),q.message)}finally{v.value=!1,C.value=!1}console.timeEnd("handleRefresh-total"),console.log("=== handleRefresh COMPLETED ===",new Date().toISOString())},W=(q,X)=>{console.log("handlePageChange",q,X),X&&(u.value.per_page=X),y({page:q,per_page:X})},K=({column:q,direction:X})=>{y({page:u.value.current_page,per_page:u.value.per_page,sort_by:q,sort_order:X})},Z=q=>{console.log("handleSearch",q),y({page:1,per_page:u.value.per_page,search:q})},Te=q=>{w.value=q,b.value=!0},_e=q=>{r.showModal({title:t("locations.deleteLocationTitle"),message:`${t("locations.deleteLocationMessage")} "${q.name}"?`,description:t("locations.deleteLocationDescription"),confirmText:t("locations.deleteLocation"),cancelText:t("locations.cancelText"),onConfirm:async()=>{if(!l.value){l.value=!0;try{await c(q.id),v.value=!0,await Promise.all([y(u.value.current_page),V()]),v.value=!1}catch(X){console.error("Error deleting location:",X)}finally{l.value=!1}}},onSuccess:X=>{console.log("Location deleted successfully:",X)},onError:X=>{console.error("Failed to delete location:",X),s.error(X.message||t("locations.saveError"))}})},ye=async({formData:q,isEditing:X,locationId:se})=>{try{X?await x(se,q):await f(q),z(),v.value=!0,await Promise.all([y(u.value.current_page),V()]),v.value=!1}catch(Ae){console.error("Error saving location:",Ae)}},z=()=>{b.value=!1,w.value=null};return Ot(async()=>{console.log("=== Locations.vue onMounted STARTED ===",new Date().toISOString()),console.time("onMounted-total"),console.log("Loading parent options..."),console.time("loadParentOptions"),await H(),console.timeEnd("loadParentOptions"),C.value=!0;try{console.log("Calling fetchLocations from onMounted..."),console.time("fetchLocations-initial"),await y(),console.timeEnd("fetchLocations-initial"),console.log("Calling fetchLocationStatistics from onMounted..."),console.time("fetchLocationStatistics-initial"),await h().then(q=>{T.value=q}),console.timeEnd("fetchLocationStatistics-initial")}finally{C.value=!1}console.timeEnd("onMounted-total"),console.log("=== Locations.vue onMounted COMPLETED ===",new Date().toISOString())}),(q,X)=>($(),S("div",rW,[a("div",oW,[a("div",null,[a("h1",nW,k(q.$t("locations.title")),1),a("p",iW,k(q.$t("locations.subtitle")),1)]),a("div",lW,[a("button",{onClick:X[0]||(X[0]=se=>b.value=!0),class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[L(F(la),{class:"w-4 h-4"}),ke(" "+k(q.$t("locations.addLocation")),1)])])]),L(Hz,{stats:A.value},null,8,["stats"]),L(Kz,{show:E.value,filters:F(m),"parent-options":P.value,"onUpdate:filters":R,onReset:M},null,8,["show","filters","parent-options"]),L(Us,{title:q.$t("locations.tableTitle"),data:F(o),columns:j.value,loading:F(n),"server-side-pagination":!0,pagination:F(u),"show-refresh":!0,"refresh-loading":v.value,"show-add-button":!1,"show-filters":!1,onAdd:X[1]||(X[1]=se=>b.value=!0),onEdit:Te,onDelete:_e,onRefresh:B,onPageChange:W,onSort:K,onSearch:Z,showExport:!1},{"column-name":le(({item:se})=>[a("div",dW,[a("div",{class:"w-4 h-4 rounded-full mr-3 flex-shrink-0",style:fs({backgroundColor:se.color})},null,4),a("div",{style:fs({paddingLeft:`${se.hierarchy_level*20}px`})},[a("p",cW,k(se.name),1),a("p",uW,k(se.code),1)],4)])]),"column-address":le(({item:se})=>[a("div",hW,[a("p",gW,k(se.full_address||q.$t("locations.noAddress")),1),se.city||se.country?($(),S("p",pW,k([se.city,se.country].filter(Boolean).join(", ")),1)):G("",!0)])]),"column-parent":le(({item:se})=>[se.parent?($(),S("div",mW,[a("div",{class:"w-3 h-3 rounded-full mr-2",style:fs({backgroundColor:se.parent.color||"#10B981"})},null,4),a("span",fW,k(se.parent.name),1)])):($(),S("span",yW,k(q.$t("locations.rootLocation")),1))]),"column-status":le(({item:se})=>[a("div",vW,[a("div",{class:Ee(["w-2 h-2 rounded-full mr-2",se.is_active?"bg-green-500":"bg-red-500"])},null,2),a("span",xW,k(se.is_active?q.$t("products.statusActive"):q.$t("products.statusInactive")),1)])]),"column-children":le(({item:se})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",se.children_count>0?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"])},k(se.children_count)+" "+k(se.children_count!==1?q.$t("locations.childrenPlural"):q.$t("locations.child")),3)]),actions:le(({item:se})=>[a("div",bW,[a("button",{onClick:Ae=>Te(se),class:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200 dark:hover:text-blue-400 dark:hover:bg-blue-900/20",title:q.$t("locations.editLocation")},[...X[2]||(X[2]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,kW),a("button",{onClick:Ae=>_e(se),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:q.$t("locations.deleteLocation")},[...X[3]||(X[3]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,wW)])]),_:1},8,["title","data","columns","loading","pagination","refresh-loading"]),L(aW,{"is-open":b.value||w.value,"editing-location":w.value,"parent-options":P.value,saving:F(i),onClose:z,onSaved:ye},null,8,["is-open","editing-location","parent-options","saving"]),L(us,{"is-open":F(r).isOpen,title:F(r).config.title,message:F(r).config.message,description:F(r).config.description,"confirm-text":F(r).config.confirmText,"cancel-text":F(r).config.cancelText,loading:F(r).loading||F(l),onConfirm:F(r).handleConfirm,onCancel:F(r).handleCancel,onClose:F(r).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}},$W={class:"space-y-6"},CW={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},SW={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},EW={class:"flex items-center"},TW={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},AW={class:"ml-4"},LW={class:"text-2xl font-semibold text-gray-900 dark:text-white"},MW={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},PW={class:"flex items-center"},DW={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},IW={class:"ml-4"},OW={class:"text-2xl font-semibold text-gray-900 dark:text-white"},FW={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},RW={class:"flex items-center"},jW={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},NW={class:"ml-4"},VW={class:"text-2xl font-semibold text-gray-900 dark:text-white"},BW={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},UW={class:"flex items-center"},HW={class:"p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg"},qW={class:"ml-4"},zW={class:"text-2xl font-semibold text-gray-900 dark:text-white"},WW={class:"flex items-center"},KW={class:"text-sm font-medium text-gray-900 dark:text-white"},YW={class:"text-xs text-gray-500 dark:text-gray-400"},GW={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"},JW={class:"text-sm"},QW={key:0,class:"text-gray-900 dark:text-white"},XW={key:1,class:"text-gray-500 dark:text-gray-400"},ZW={class:"text-sm text-gray-900 dark:text-white"},eK={class:"flex items-center"},tK={class:"text-sm text-gray-900 dark:text-white capitalize"},sK={class:"flex items-center justify-end gap-2"},aK=["onClick"],rK=["onClick","title"],oK=["onClick"],nK={class:"space-y-6"},iK={class:"grid grid-cols-2 gap-4"},lK={class:"grid grid-cols-2 gap-4 mt-4"},dK={class:"relative"},cK=["value"],uK={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},hK={class:"grid grid-cols-2 gap-4"},gK={class:"grid grid-cols-2 gap-4 mt-4"},pK={class:"grid grid-cols-2 gap-4 mt-4"},mK={class:"grid grid-cols-3 gap-4 mt-4"},fK={class:"grid grid-cols-2 gap-4"},yK={class:"relative"},vK=["value"],xK={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},bK={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},kK={__name:"Vendors",setup(e){const t=Ut(),s=Va(),r=O(!1),o=O(!1),n=O([]),i=O([]),l=O(!1),u=O(!1),m=O(null),y=O(!1),f=O({name:"",code:"",company_name:"",email:"",phone:"",website:"",address:"",city:"",state:"",postal_code:"",country:"Indonesia",contact_person:"",contact_phone:"",contact_email:"",vendor_type:"supplier",description:"",credit_limit:"",payment_terms:"net_30",tax_id:""}),x=O({}),c=O({}),h=[{key:"name",label:"Vendor",sortable:!0},{key:"code",label:"Code",sortable:!0},{key:"type",label:"Type",sortable:!0},{key:"contact",label:"Contact",sortable:!1},{key:"payment",label:"Payment Terms",sortable:!1},{key:"status",label:"Status",sortable:!0}],g=[{value:"supplier",label:"Supplier"},{value:"service_provider",label:"Service Provider"},{value:"contractor",label:"Contractor"},{value:"other",label:"Other"}],d=[{value:"cash",label:"Cash"},{value:"net_15",label:"Net 15 Days"},{value:"net_30",label:"Net 30 Days"},{value:"net_45",label:"Net 45 Days"},{value:"net_60",label:"Net 60 Days"},{value:"custom",label:"Custom"}],p=fe(()=>n.value.length),v=fe(()=>n.value.filter(ye=>ye.is_active).length),b=fe(()=>n.value.filter(ye=>ye.vendor_type==="supplier").length),w=fe(()=>n.value.filter(ye=>ye.vendor_type==="service_provider").length),E=(ye,z)=>{const q=[];switch(ye){case"name":!z||z.trim()===""?q.push("Name is required"):z.length<2?q.push("Name must be at least 2 characters"):z.length>255&&q.push("Name must be less than 255 characters");break;case"code":z&&z.length>20&&q.push("Code must be less than 20 characters");break;case"company_name":!z||z.trim()===""?q.push("Company name is required"):z.length>255&&q.push("Company name must be less than 255 characters");break;case"email":case"contact_email":z&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z)&&q.push("Please enter a valid email address");break;case"phone":case"contact_phone":z&&z.length>20&&q.push("Phone number must be less than 20 characters");break;case"website":z&&!/^https?:\/\/.+\..+/.test(z)&&q.push("Please enter a valid URL");break;case"vendor_type":z||q.push("Vendor type is required");break;case"payment_terms":z||q.push("Payment terms is required");break;case"credit_limit":z&&(isNaN(z)||z<0)&&q.push("Credit limit must be a positive number");break}return q},C=()=>{const ye={};return Object.keys(f.value).forEach(z=>{const q=E(z,f.value[z]);q.length>0&&(ye[z]=q)}),x.value=ye,Object.keys(ye).length===0},T=async()=>{r.value=!0;try{const ye=await Tt("/vendors");n.value=ye.data}catch{t.error("Failed to load vendors. Please try again.")}finally{r.value=!1}},P=async()=>{o.value=!0;try{await T(),t.success("Vendors refreshed successfully.")}catch{t.error("Failed to refresh vendors. Please try again.")}finally{o.value=!1}},A=()=>{Object.assign(f,{name:"",code:"",company_name:"",email:"",phone:"",website:"",address:"",city:"",state:"",postal_code:"",country:"Indonesia",contact_person:"",contact_phone:"",contact_email:"",vendor_type:"supplier",description:"",credit_limit:"",payment_terms:"net_30",tax_id:""}),x.value={},c.value={}},j=()=>{A(),l.value=!0,m.value=null},V=ye=>{A(),m.value=ye,Object.keys(f).forEach(z=>{ye[z]!==void 0&&ye[z]!==null&&(f[z]=ye[z])}),u.value=!0},H=()=>{l.value=!1,u.value=!1,m.value=null,A()},R=ye=>c.value[ye]&&x.value[ye]?x.value[ye][0]:"",M=ye=>{c.value[ye]=!0;const z=E(ye,f[ye]);x.value[ye]=z},B=async()=>{var ye,z,q,X;if(!C()){t.error("Please fix the errors in the form");return}y.value=!0;try{let se;l.value?se=await Xt("/vendors",f):se=await Na(`/vendors/${m.value.id}`,f),t.success(se.message),H(),await T()}catch(se){(z=(ye=se.response)==null?void 0:ye.data)!=null&&z.errors&&Object.keys(se.response.data.errors).forEach(Ae=>{c.value[Ae]=!0,x.value[Ae]=se.response.data.errors[Ae]}),t.error(((X=(q=se.response)==null?void 0:q.data)==null?void 0:X.message)||"Failed to save vendor. Please try again.")}finally{y.value=!1}},W=async ye=>{var z,q;try{const X=await Xt(`/vendors/${ye.id}/toggle-status`);t.success(X.message),await T()}catch(X){t.error(((q=(z=X.response)==null?void 0:z.data)==null?void 0:q.message)||"Failed to toggle vendor status. Please try again.")}},K=ye=>{s.showModal({title:"Delete Vendor",message:`Are you sure you want to delete "${ye.name}"?`,description:"This action cannot be undone. Make sure this vendor has no assets or purchase orders assigned to it.",confirmText:"Delete Vendor",cancelText:"Cancel",onConfirm:async()=>{var z,q;try{const X=await Os(`vendors/${ye.id}`);return t.success(X.message||"Vendor deleted successfully"),T(),{success:!0}}catch(X){throw new Error(((q=(z=X.response)==null?void 0:z.data)==null?void 0:q.message)||"Failed to delete vendor")}},onSuccess:z=>{console.log("Delete completed:",z)},onError:z=>{console.error("Failed to delete vendor:",z),t.error(z.message||"Failed to delete vendor")}})},Z=ye=>{i.value=ye,console.log("Selection changed:",ye)},Te=ye=>{if(ye.length===0){t.warning("Please select vendors to perform bulk action");return}s.showModal({title:"Bulk Delete Vendors",message:`Are you sure you want to delete ${ye.length} vendor${ye.length===1?"":"s"}?`,description:"This action cannot be undone. Make sure these vendors have no assets or purchase orders assigned to them.",confirmText:"Delete Vendors",cancelText:"Cancel",onConfirm:async()=>{try{const z=ye.map(q=>Os(`vendors/${q.id}`));return await Promise.all(z),t.success(`${ye.length} vendor${ye.length===1?"":"s"} deleted successfully`),T(),{success:!0}}catch{throw new Error("Failed to delete some vendors")}},onSuccess:z=>{console.log("Bulk delete completed:",z)},onError:z=>{console.error("Bulk delete failed:",z),t.error(z.message||"Failed to delete vendors")}})},_e=ye=>{const z={supplier:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",service_provider:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",contractor:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",other:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return z[ye]||z.other};return Ot(()=>{T()}),(ye,z)=>($(),S("div",$W,[z[51]||(z[51]=a("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Vendors "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Manage vendors and suppliers ")])],-1)),a("div",CW,[a("div",SW,[a("div",EW,[a("div",TW,[L(F(Hv),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",AW,[z[38]||(z[38]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Vendors ",-1)),a("p",LW,k(p.value),1)])])]),a("div",MW,[a("div",PW,[a("div",DW,[L(F(Fs),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",IW,[z[39]||(z[39]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Active Vendors ",-1)),a("p",OW,k(v.value),1)])])]),a("div",FW,[a("div",RW,[a("div",jW,[L(F(Bn),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",NW,[z[40]||(z[40]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Suppliers ",-1)),a("p",VW,k(b.value),1)])])]),a("div",BW,[a("div",UW,[a("div",HW,[L(F(O0),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"})]),a("div",qW,[z[41]||(z[41]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Service Providers ",-1)),a("p",zW,k(w.value),1)])])])]),L(Us,{title:"Vendors",description:"A list of all vendors and suppliers in your system including their contact information and status.",data:n.value,columns:h,loading:r.value,selectable:!0,"show-actions":!0,"show-add-button":!0,"add-button-text":"Create Vendor","show-filters":!1,"show-bulk-actions":!0,"show-refresh":!0,"refresh-loading":o.value,"search-placeholder":"Search vendors...","empty-title":"No vendors found","empty-description":"Get started by creating your first vendor.",onAdd:j,onEdit:V,onDelete:K,onBulkAction:Te,onSelectionChange:Z,onRefresh:P},{"column-name":le(({item:q})=>[a("div",WW,[a("div",{class:Ee(["w-10 h-10 rounded-full mr-3 flex-shrink-0 flex items-center justify-center text-white text-sm font-medium",_e(q.vendor_type)])},k(q.name.charAt(0).toUpperCase()),3),a("div",null,[a("p",KW,k(q.name),1),a("p",YW,k(q.company_name),1)])])]),"column-code":le(({item:q})=>[a("span",GW,k(q.code),1)]),"column-type":le(({item:q})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",_e(q.vendor_type)])},k(q.vendor_type_label),3)]),"column-contact":le(({item:q})=>[a("div",JW,[q.email?($(),S("div",QW,k(q.email),1)):G("",!0),q.phone?($(),S("div",XW,k(q.phone),1)):G("",!0)])]),"column-payment":le(({item:q})=>[a("span",ZW,k(q.payment_terms_label),1)]),"column-status":le(({item:q})=>[a("div",eK,[a("div",{class:Ee(["w-2 h-2 rounded-full mr-2",(q.is_active,"bg-red-500")])},null,2),a("span",tK,k(q.is_active?"Active":"Inactive"),1)])]),actions:le(({item:q})=>[a("div",sK,[a("button",{onClick:X=>V(q),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Edit Vendor"},[L(F(Bs),{class:"w-4 h-4"})],8,aK),a("button",{onClick:X=>W(q),class:Ee(["p-1.5 rounded-lg transition-colors duration-200",q.is_active?"text-gray-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:text-orange-400 dark:hover:bg-orange-900/20":"text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:text-red-400 dark:hover:bg-red-900/20"]),title:q.is_active?"Deactivate Vendor":"Activate Vendor"},[q.is_active?($(),it(F(P0),{key:1,class:"w-4 h-4"})):($(),it(F(Yo),{key:0,class:"w-4 h-4"}))],10,rK),a("button",{onClick:X=>K(q),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete Vendor"},[L(F(Ks),{class:"w-4 h-4"})],8,oK)])]),_:1},8,["data","loading","refresh-loading"]),L(Vt,{"is-open":l.value||u.value,onClose:H,size:"xl"},{title:le(()=>[ke(k(l.value?"Create Vendor":"Edit Vendor"),1)]),default:le(()=>[a("form",{onSubmit:Bt(B,["prevent"]),class:"space-y-6"},[a("div",nK,[a("div",null,[z[44]||(z[44]=a("h4",{class:"text-md font-medium text-gray-900 dark:text-white mb-4"}," Basic Information ",-1)),a("div",iK,[L(et,{modelValue:f.value.name,"onUpdate:modelValue":z[0]||(z[0]=q=>f.value.name=q),label:"Vendor Name",placeholder:"Enter vendor name",error:R("name"),onBlur:z[1]||(z[1]=q=>M("name")),required:""},null,8,["modelValue","error"]),L(et,{modelValue:f.value.code,"onUpdate:modelValue":z[2]||(z[2]=q=>f.value.code=q),label:"Vendor Code",placeholder:"Auto-generated if empty",error:R("code"),onBlur:z[3]||(z[3]=q=>M("code"))},null,8,["modelValue","error"])]),a("div",lK,[L(et,{modelValue:f.value.company_name,"onUpdate:modelValue":z[4]||(z[4]=q=>f.value.company_name=q),label:"Company Name",placeholder:"Enter company name",error:R("company_name"),onBlur:z[5]||(z[5]=q=>M("company_name")),required:""},null,8,["modelValue","error"]),a("div",dK,[z[43]||(z[43]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[ke(" Vendor Type "),a("span",{class:"text-red-500"},"*")],-1)),rt(a("select",{"onUpdate:modelValue":z[6]||(z[6]=q=>f.value.vendor_type=q),"data-hs-select":`{
                                      "hasSearch": true,
                                      "searchPlaceholder": "Search vendor types...",
                                      "searchClasses": "block w-full sm:text-sm border-gray-200 rounded-lg focus:border-red-500 focus:ring-red-500 before:absolute before:inset-0 before:z-1 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 py-1.5 sm:py-2 px-3",
                                      "searchWrapperClasses": "bg-white p-2 -mx-1 sticky top-0 dark:bg-neutral-900",
                                      "placeholder": "Select vendor type",
                                      "toggleTag": "<button type=\\"button\\" aria-expanded=\\"false\\"><span class=\\"me-2\\" data-icon></span><span class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></span></button>",
                                      "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-3 ps-4 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-hidden focus:ring-2 focus:ring-red-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-hidden dark:focus:ring-1 dark:focus:ring-neutral-600",
                                      "dropdownClasses": "mt-2 max-h-72 pb-1 px-1 space-y-0.5 z-20 w-full bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
                                      "optionClasses": "py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
                                      "optionTemplate": "<div><div class=\\"flex items-center\\"><div class=\\"me-2\\" data-icon></div><div class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></div></div></div>",
                                      "extraMarkup": "<div class=\\"absolute top-1/2 end-3 -translate-y-1/2\\"><svg class=\\"shrink-0 size-3.5 text-gray-500 dark:text-neutral-500 \\" xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"><path d=\\"m7 15 5 5 5-5\\"/><path d=\\"m7 9 5-5 5 5\\"/></svg></div>"
                                    }`,class:"hidden",onBlur:z[7]||(z[7]=q=>M("vendor_type"))},[z[42]||(z[42]=a("option",{value:""},"Select vendor type",-1)),($(),S(Qe,null,ot(g,q=>a("option",{key:q.value,value:q.value,"data-hs-select-option":'{"icon": "<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>"}'},k(q.label),9,cK)),64))],544),[[$s,f.value.vendor_type]]),R("vendor_type")?($(),S("p",uK,k(R("vendor_type")),1)):G("",!0)])])]),a("div",null,[z[45]||(z[45]=a("h4",{class:"text-md font-medium text-gray-900 dark:text-white mb-4"}," Contact Information ",-1)),a("div",hK,[L(et,{modelValue:f.value.email,"onUpdate:modelValue":z[8]||(z[8]=q=>f.value.email=q),label:"Email",type:"email",placeholder:"vendor@company.com",error:R("email"),onBlur:z[9]||(z[9]=q=>M("email"))},null,8,["modelValue","error"]),L(et,{modelValue:f.value.phone,"onUpdate:modelValue":z[10]||(z[10]=q=>f.value.phone=q),label:"Phone",placeholder:"+62-21-1234567",error:R("phone"),onBlur:z[11]||(z[11]=q=>M("phone"))},null,8,["modelValue","error"])]),a("div",gK,[L(et,{modelValue:f.value.contact_person,"onUpdate:modelValue":z[12]||(z[12]=q=>f.value.contact_person=q),label:"Contact Person",placeholder:"John Doe",error:R("contact_person"),onBlur:z[13]||(z[13]=q=>M("contact_person"))},null,8,["modelValue","error"]),L(et,{modelValue:f.value.contact_email,"onUpdate:modelValue":z[14]||(z[14]=q=>f.value.contact_email=q),label:"Contact Email",type:"email",placeholder:"john@company.com",error:R("contact_email"),onBlur:z[15]||(z[15]=q=>M("contact_email"))},null,8,["modelValue","error"])]),a("div",pK,[L(et,{modelValue:f.value.contact_phone,"onUpdate:modelValue":z[16]||(z[16]=q=>f.value.contact_phone=q),label:"Contact Phone",placeholder:"+62-812-3456789",error:R("contact_phone"),onBlur:z[17]||(z[17]=q=>M("contact_phone"))},null,8,["modelValue","error"]),L(et,{modelValue:f.value.website,"onUpdate:modelValue":z[18]||(z[18]=q=>f.value.website=q),label:"Website",type:"url",placeholder:"https://company.com",error:R("website"),onBlur:z[19]||(z[19]=q=>M("website"))},null,8,["modelValue","error"])])]),a("div",null,[z[46]||(z[46]=a("h4",{class:"text-md font-medium text-gray-900 dark:text-white mb-4"}," Address Information ",-1)),L(ws,{modelValue:f.value.address,"onUpdate:modelValue":z[20]||(z[20]=q=>f.value.address=q),label:"Address",placeholder:"Enter full address",error:R("address"),onBlur:z[21]||(z[21]=q=>M("address")),rows:"3"},null,8,["modelValue","error"]),a("div",mK,[L(et,{modelValue:f.value.city,"onUpdate:modelValue":z[22]||(z[22]=q=>f.value.city=q),label:"City",placeholder:"Jakarta",error:R("city"),onBlur:z[23]||(z[23]=q=>M("city"))},null,8,["modelValue","error"]),L(et,{modelValue:f.value.state,"onUpdate:modelValue":z[24]||(z[24]=q=>f.value.state=q),label:"State/Province",placeholder:"DKI Jakarta",error:R("state"),onBlur:z[25]||(z[25]=q=>M("state"))},null,8,["modelValue","error"]),L(et,{modelValue:f.value.postal_code,"onUpdate:modelValue":z[26]||(z[26]=q=>f.value.postal_code=q),label:"Postal Code",placeholder:"12345",error:R("postal_code"),onBlur:z[27]||(z[27]=q=>M("postal_code"))},null,8,["modelValue","error"])]),L(et,{modelValue:f.value.country,"onUpdate:modelValue":z[28]||(z[28]=q=>f.value.country=q),label:"Country",placeholder:"Indonesia",error:R("country"),onBlur:z[29]||(z[29]=q=>M("country")),class:"mt-4"},null,8,["modelValue","error"])]),a("div",null,[z[49]||(z[49]=a("h4",{class:"text-md font-medium text-gray-900 dark:text-white mb-4"}," Business Information ",-1)),a("div",fK,[a("div",yK,[z[48]||(z[48]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[ke(" Payment Terms "),a("span",{class:"text-red-500"},"*")],-1)),rt(a("select",{"onUpdate:modelValue":z[30]||(z[30]=q=>f.value.payment_terms=q),"data-hs-select":`{
                                      "hasSearch": true,
                                      "searchPlaceholder": "Search payment terms...",
                                      "searchClasses": "block w-full sm:text-sm border-gray-200 rounded-lg focus:border-red-500 focus:ring-red-500 before:absolute before:inset-0 before:z-1 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 py-1.5 sm:py-2 px-3",
                                      "searchWrapperClasses": "bg-white p-2 -mx-1 sticky top-0 dark:bg-neutral-900",
                                      "placeholder": "Select payment terms",
                                      "toggleTag": "<button type=\\"button\\" aria-expanded=\\"false\\"><span class=\\"me-2\\" data-icon></span><span class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></span></button>",
                                      "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-3 ps-4 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-hidden focus:ring-2 focus:ring-red-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-hidden dark:focus:ring-1 dark:focus:ring-neutral-600",
                                      "dropdownClasses": "mt-2 max-h-72 pb-1 px-1 space-y-0.5 z-20 w-full bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
                                      "optionClasses": "py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
                                      "optionTemplate": "<div><div class=\\"flex items-center\\"><div class=\\"me-2\\" data-icon></div><div class=\\"text-gray-800 dark:text-neutral-200 \\" data-title></div></div></div>",
                                      "extraMarkup": "<div class=\\"absolute top-1/2 end-3 -translate-y-1/2\\"><svg class=\\"shrink-0 size-3.5 text-gray-500 dark:text-neutral-500 \\" xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"><path d=\\"m7 15 5 5 5-5\\"/><path d=\\"m7 9 5-5 5 5\\"/></svg></div>"
                                    }`,class:"hidden",onBlur:z[31]||(z[31]=q=>M("payment_terms"))},[z[47]||(z[47]=a("option",{value:""}," Select payment terms ",-1)),($(),S(Qe,null,ot(d,q=>a("option",{key:q.value,value:q.value,"data-hs-select-option":'{"icon": "<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path></svg>"}'},k(q.label),9,vK)),64))],544),[[$s,f.value.payment_terms]]),R("payment_terms")?($(),S("p",xK,k(R("payment_terms")),1)):G("",!0)]),L(et,{modelValue:f.value.credit_limit,"onUpdate:modelValue":z[32]||(z[32]=q=>f.value.credit_limit=q),label:"Credit Limit",type:"number",step:"0.01",min:"0",placeholder:"50000000",error:R("credit_limit"),onBlur:z[33]||(z[33]=q=>M("credit_limit"))},null,8,["modelValue","error"])]),L(et,{modelValue:f.value.tax_id,"onUpdate:modelValue":z[34]||(z[34]=q=>f.value.tax_id=q),label:"Tax ID (NPWP)",placeholder:"01.234.567.8-901.000",error:R("tax_id"),onBlur:z[35]||(z[35]=q=>M("tax_id")),class:"mt-4"},null,8,["modelValue","error"]),L(ws,{modelValue:f.value.description,"onUpdate:modelValue":z[36]||(z[36]=q=>f.value.description=q),label:"Description",placeholder:"Enter vendor description",error:R("description"),onBlur:z[37]||(z[37]=q=>M("description")),rows:"3",class:"mt-4"},null,8,["modelValue","error"])])]),a("div",bK,[L(ft,{onClick:H,variant:"secondary",disabled:y.value,class:"w-full sm:w-auto"},{default:le(()=>[...z[50]||(z[50]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:y.value,disabled:y.value,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(l.value?"Create Vendor":"Update Vendor"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]),L(us,{"is-open":F(s).isOpen,title:F(s).config.title,message:F(s).config.message,description:F(s).config.description,"confirm-text":F(s).config.confirmText,"cancel-text":F(s).config.cancelText,loading:F(s).loading,onConfirm:F(s).handleConfirm,onCancel:F(s).handleCancel,onClose:F(s).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}};function eb(){const e=Ut(),t=O([]),s=O(null),r=O(!1),o=O(!1),n=O(!1),i=O({current_page:1,per_page:15,total:0,last_page:1}),l=O({search:"",product_type:"",category_id:"",is_active:"",location_id:"",low_stock:!1,sort_by:"product_code",sort_order:"asc"}),u=async(j={})=>{var R,M;console.log("=== fetchProducts called ===",new Date().toISOString()),console.log("Options:",j,"Loading:",r.value);let V=1,H=i.value.per_page;if(typeof j=="number"?V=j:(V=j.page||1,H=j.per_page||i.value.per_page),console.time("fetchProducts-"+V),r.value){console.log("fetchProducts blocked - already loading");return}console.log("fetchProducts starting - setting loading to true"),r.value=!0;try{const B={page:V,per_page:H,...l.value,...j},W=await Xe.get("/products",{params:B});return t.value=W.data.data,i.value={current_page:W.data.current_page,per_page:H,total:W.data.total,last_page:W.data.last_page},W.data}catch(B){throw console.error("Error fetching products:",B),e.error("Failed to load products",((M=(R=B.response)==null?void 0:R.data)==null?void 0:M.message)||"An error occurred while loading products"),B}finally{console.log("fetchProducts completed - setting loading to false"),console.timeEnd("fetchProducts-"+V),r.value=!1}},m=async(j,V=!1)=>{var H,R;r.value=!0;try{const M=V?{with_stock:!0}:{},B=await Xe.get(`/products/${j}`,{params:M});return s.value=B.data.data,B.data}catch(M){throw console.error("Error fetching product:",M),e.error("Failed to load product",((R=(H=M.response)==null?void 0:H.data)==null?void 0:R.message)||"An error occurred while loading the product"),M}finally{r.value=!1}},y=async j=>{var V,H;o.value=!0;try{const R=await Xe.post("/products",j);return e.success("Product created successfully"),R.data}catch(R){console.error("Error creating product:",R);const M=((H=(V=R.response)==null?void 0:V.data)==null?void 0:H.message)||"Failed to create product";throw e.error("Failed to create product",M),R}finally{o.value=!1}},f=async(j,V)=>{var H,R;o.value=!0;try{const M=await Xe.put(`/products/${j}`,V);return e.success("Product updated successfully"),M.data}catch(M){console.error("Error updating product:",M);const B=((R=(H=M.response)==null?void 0:H.data)==null?void 0:R.message)||"Failed to update product";throw e.error("Failed to update product",B),M}finally{o.value=!1}},x=async j=>{var V,H;n.value=!0;try{await Xe.delete(`/products/${j}`),e.success("Product deleted successfully")}catch(R){console.error("Error deleting product:",R);const M=((H=(V=R.response)==null?void 0:V.data)==null?void 0:H.message)||"Failed to delete product";throw e.error("Failed to delete product",M),R}finally{n.value=!1}},c=async j=>{try{const V=await Xe.post(`/products/${j}/toggle-status`);return e.success("Product status updated successfully"),V.data}catch(V){throw console.error("Error toggling product status:",V),e.error("Failed to update product status"),V}},h=async()=>{try{return(await Xe.get("/products/active")).data.data}catch(j){throw console.error("Error fetching active products:",j),e.error("Failed to load active products"),j}},g=async(j,V=null)=>{try{const H=V?{location_id:V}:{};return(await Xe.get(`/products/${j}/stock`,{params:H})).data.data}catch(H){throw console.error("Error fetching product stock:",H),e.error("Failed to load product stock"),H}},d=async()=>{try{return(await Xe.get("/products/statistics")).data}catch(j){throw console.error("Error fetching product statistics:",j),j}},p=async j=>{try{return(await Xe.get("/products/generate-code",{params:{product_type:j}})).code}catch(V){throw console.error("Error generating product code:",V),e.error("Failed to generate product code"),V}},v=async(j=null)=>{try{const V=j?{location_id:j}:{};return(await Xe.get("/products/low-stock",{params:V})).data.data}catch(V){throw console.error("Error fetching low stock products:",V),V}},b=async()=>{try{const j=await Xe.get("/products/export",{params:l.value,responseType:"blob"}),V=window.URL.createObjectURL(new Blob([j.data])),H=document.createElement("a");H.href=V,H.setAttribute("download",`products-${Date.now()}.xlsx`),document.body.appendChild(H),H.click(),H.remove(),e.success("Products exported successfully")}catch(j){throw console.error("Error exporting products:",j),e.error("Failed to export products"),j}},w=j=>(console.log("applyFilters called with:",j),l.value={...l.value,...j},u(1)),E=()=>(console.log("resetFilters called"),l.value={search:"",product_type:"",category_id:"",is_active:"",location_id:"",low_stock:!1,sort_by:"product_code",sort_order:"asc"},u(1)),C=(j,V)=>(console.log("changePage called with:",j,V),V!=null&&V.value&&(i.value.per_page=V==null?void 0:V.value),u(j)),T=(j,V="asc")=>(console.log("changeSort called with:",j,V),l.value.sort_by=j,l.value.sort_order=V,u(1)),P=fe(()=>t.value.length>0),A=fe(()=>!r.value&&t.value.length===0);return{products:t,product:s,loading:r,saving:o,deleting:n,pagination:i,filters:l,hasProducts:P,isEmpty:A,fetchProducts:u,fetchProduct:m,createProduct:y,updateProduct:f,deleteProduct:x,toggleProductStatus:c,fetchActiveProducts:h,fetchProductStock:g,fetchProductStatistics:d,generateProductCode:p,fetchLowStockProducts:v,exportProducts:b,applyFilters:w,resetFilters:E,changePage:C,changeSort:T}}const Gr=O([]),Jr=O([]),Qr=O([]),wK=O([{value:"finished_goods",label:"Finished Goods"},{value:"raw_material",label:"Raw Material"},{value:"consumable",label:"Consumable"}]),Wc=O(!1),Kc=O(!1),Yc=O(!1),un=O(null),hn=O(null),gn=O(null),_K=5*60*1e3;function th(){const e=Ut(),t=d=>d?Date.now()-d<_K:!1,s=async(d=!1)=>{var p,v;if(!d&&t(un.value)&&Gr.value.length>0)return Gr.value;Wc.value=!0;try{const b=await Xe.get("/units/active");return Gr.value=b.data.map(w=>({value:w.id,label:w.symbol?`${w.name} (${w.symbol})`:w.name,name:w.name,code:w.code,symbol:w.symbol})),un.value=Date.now(),Gr.value}catch(b){throw console.error("Error loading units:",b),e.addNotification({type:"error",message:((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to load units. Please try again."}),b}finally{Wc.value=!1}},r=async d=>{var p,v;try{const w=(await Xe.post("/units",d)).data.data,E={value:w.id||w.value,label:w.label||(w.symbol?`${w.name} (${w.symbol})`:w.name),name:w.name,code:w.code,symbol:w.symbol};return Gr.value.push(E),await s(!0),e.addNotification({type:"success",message:`Unit "${w.name}" has been added successfully.`}),w}catch(b){throw console.error("Error adding unit:",b),e.addNotification({type:"error",message:((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to add unit. Please try again."}),b}},o=async(d=!1)=>{var p,v;if(!d&&t(hn.value)&&Jr.value.length>0)return Jr.value;Kc.value=!0;try{const b=await Xe.get("/product-categories/active");return Jr.value=b.data.map(w=>({value:w.id,label:w.name,name:w.name,code:w.code,parent_id:w.parent_id})),hn.value=Date.now(),Jr.value}catch(b){throw console.error("Error loading categories:",b),e.addNotification({type:"error",message:((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to load categories. Please try again."}),b}finally{Kc.value=!1}},n=async d=>{var p,v;try{const w=(await Xe.post("/product-categories",d)).data.data,E={value:w.id||w.value,label:w.label||w.name,name:w.name,code:w.code,parent_id:w.parent_id};return Jr.value.push(E),await o(!0),e.addNotification({type:"success",message:`Category "${w.name}" has been added successfully.`}),w}catch(b){throw console.error("Error adding category:",b),e.addNotification({type:"error",message:((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to add category. Please try again."}),b}},i=async(d=!1)=>{var p,v;if(!d&&t(gn.value)&&Qr.value.length>0)return Qr.value;Yc.value=!0;try{const b=await Xe.get("/locations");return Qr.value=b.data.map(w=>({value:w.id,label:w.code?`${w.code} - ${w.name}`:w.name,name:w.name,code:w.code,type:w.type,address:w.address})),gn.value=Date.now(),Qr.value}catch(b){throw console.error("Error loading locations:",b),e.addNotification({type:"error",message:((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to load locations. Please try again."}),b}finally{Yc.value=!1}},l=async d=>{var p,v;try{const w=(await Xe.post("/locations",d)).data.data,E={value:w.id||w.value,label:w.code?`${w.code} - ${w.name}`:w.name,name:w.name,code:w.code,type:w.type,address:w.address};return Qr.value.push(E),await i(!0),e.addNotification({type:"success",message:`Location "${w.name}" has been added successfully.`}),w}catch(b){throw console.error("Error adding location:",b),e.addNotification({type:"error",message:((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to add location. Please try again."}),b}},u=async()=>{try{await Promise.all([s(),o(),i()])}catch(d){console.error("Error loading select options:",d)}},m=async()=>{un.value=null,hn.value=null,gn.value=null,await u()},y=d=>{switch(d){case"units":un.value=null,Gr.value=[];break;case"categories":hn.value=null,Jr.value=[];break;case"locations":gn.value=null,Qr.value=[];break;case"all":un.value=null,hn.value=null,gn.value=null,Gr.value=[],Jr.value=[],Qr.value=[];break}},f=fe(()=>[{value:!0,label:"Active"},{value:!1,label:"Inactive"}]),x=fe(()=>wK.value),c=fe(()=>Gr.value),h=fe(()=>Jr.value),g=fe(()=>Qr.value);return{unitOptions:c,categoryOptions:h,locationOptions:g,productTypeOptions:x,statusOptions:f,loadingUnits:Wc,loadingCategories:Kc,loadingLocations:Yc,loadUnits:s,loadCategories:o,loadLocations:i,loadAllOptions:u,addUnit:r,addCategory:n,addLocation:l,refreshAllOptions:m,clearCache:y,isCacheValid:fe(()=>({units:t(un.value),categories:t(hn.value),locations:t(gn.value)}))}}const $K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},CK={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},SK={class:"flex items-center justify-between"},EK={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},TK={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center"},AK={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},LK={class:"flex items-center justify-between"},MK={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},PK={class:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center"},DK={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},IK={class:"flex items-center justify-between"},OK={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},FK={class:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center"},RK={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},jK={class:"flex items-center justify-between"},NK={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center"},VK={__name:"ProductStats",props:{stats:{type:Object,default:()=>({total:0,active:0,low_stock:0})}},setup(e){return(t,s)=>($(),S("div",$K,[a("div",CK,[a("div",SK,[a("div",null,[s[0]||(s[0]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Products ",-1)),a("p",EK,k(e.stats.total),1)]),a("div",TK,[L(F(I0),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})])])]),a("div",AK,[a("div",LK,[a("div",null,[s[1]||(s[1]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Active Products ",-1)),a("p",MK,k(e.stats.active),1)]),a("div",PK,[L(F(Fs),{class:"w-6 h-6 text-green-600 dark:text-green-400"})])])]),a("div",DK,[a("div",IK,[a("div",null,[s[2]||(s[2]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Low Stock ",-1)),a("p",OK,k(e.stats.low_stock||0),1)]),a("div",FK,[L(F(yo),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})])])]),a("div",RK,[a("div",jK,[s[3]||(s[3]=a("div",null,[a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Product Types "),a("p",{class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"}," 3 ")],-1)),a("div",NK,[L(F(jv),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})])])])]))}},BK={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},UK={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},HK={__name:"ProductFilters",props:{show:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})}},emits:["update:filters","reset"],setup(e,{emit:t}){const s=e,r=t,o=O({search:"",product_type:"",is_active:"",...s.filters}),n=[{value:"finished_goods",label:"Finished Goods"},{value:"raw_material",label:"Raw Material"},{value:"consumable",label:"Consumable"}];Et(()=>s.filters,u=>{JSON.stringify(o.value)!==JSON.stringify(u)&&(console.log("ProductFilters: External filters changed, updating localFilters"),o.value={...o.value,...u})},{deep:!0});const i=()=>{console.log("ProductFilters: handleFilterChange called with:",o.value),r("update:filters",o.value)},l=()=>{o.value={search:"",product_type:"",is_active:""},r("reset")};return(u,m)=>e.show?($(),S("div",BK,[a("div",UK,[L(et,{modelValue:o.value.search,"onUpdate:modelValue":m[0]||(m[0]=y=>o.value.search=y),label:"Search",placeholder:"Search by code or name...",onInput:i},null,8,["modelValue"]),L(ut,{modelValue:o.value.product_type,"onUpdate:modelValue":m[1]||(m[1]=y=>o.value.product_type=y),label:"Product Type",options:[{value:"",label:"All Types"},...n],onChange:i},null,8,["modelValue","options"]),L(ut,{modelValue:o.value.is_active,"onUpdate:modelValue":m[2]||(m[2]=y=>o.value.is_active=y),label:"Status",options:[{value:"",label:"All Status"},{value:"1",label:"Active"},{value:"0",label:"Inactive"}],onChange:i},null,8,["modelValue"]),a("div",{class:"flex items-end gap-2"},[a("button",{onClick:l,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Reset ")])])])):G("",!0)}},qK={class:"space-y-4"},zK={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},WK=["disabled"],KK={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},YK={key:1,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},GK={__name:"ProductFormBasicInfo",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},editingProduct:{type:Object,default:null},generatingCode:{type:Boolean,default:!1}},emits:["generate-code"],setup(e,{emit:t}){const s=e,r=t,o=i=>s.errors[i]?s.errors[i][0]:"",n=i=>{r("validate-field",i)};return(i,l)=>($(),S("div",qK,[a("div",zK,[L(et,{modelValue:e.form.product_code,"onUpdate:modelValue":l[1]||(l[1]=u=>e.form.product_code=u),label:"Product Code",placeholder:"e.g., PRD00001",required:"",disabled:e.disabled||!!e.editingProduct,error:o("product_code"),onBlur:l[2]||(l[2]=u=>n("product_code"))},{icon:le(()=>[!e.editingProduct&&!e.disabled?($(),S("button",{key:0,type:"button",onClick:l[0]||(l[0]=u=>i.$emit("generate-code")),disabled:e.generatingCode,class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-blue-600 disabled:opacity-50",title:"Generate product code"},[e.generatingCode?($(),S("svg",YK,[...l[8]||(l[8]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):($(),S("svg",KK,[...l[7]||(l[7]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])]))],8,WK)):G("",!0)]),_:1},8,["modelValue","disabled","error"]),L(et,{modelValue:e.form.product_name,"onUpdate:modelValue":l[3]||(l[3]=u=>e.form.product_name=u),label:"Product Name",placeholder:"Enter product name",required:"",disabled:e.disabled,error:o("product_name"),onBlur:l[4]||(l[4]=u=>n("product_name"))},null,8,["modelValue","disabled","error"])]),L(ws,{modelValue:e.form.description,"onUpdate:modelValue":l[5]||(l[5]=u=>e.form.description=u),label:"Description",placeholder:"Enter product description",rows:"3",disabled:e.disabled,error:o("description"),onBlur:l[6]||(l[6]=u=>n("description"))},null,8,["modelValue","disabled","error"])]))}},JK={class:"space-y-2"},QK=["for"],XK={key:0,class:"text-red-500"},ZK={class:"relative"},eY={class:"block truncate"},tY={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},sY={key:0,class:"sticky top-0 z-10 bg-white px-2 py-1 dark:bg-gray-800"},aY={key:1,class:"px-3 py-2 border-b border-gray-100 dark:border-gray-700"},rY={class:"block truncate"},oY={class:"flex items-center"},nY={key:0,class:"mr-2 flex-shrink-0"},iY={class:"block truncate"},lY={key:0,class:"absolute inset-y-0 right-0 flex items-center pr-4"},dY={key:3,class:"py-2 px-3 text-sm text-gray-500 dark:text-gray-400"},cY={key:1,class:"text-sm text-red-600 dark:text-red-400"},uY={key:2,class:"text-sm text-gray-500 dark:text-gray-400"},dr={__name:"EnhancedFormSelect",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},placeholder:{type:String,default:""},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{type:String,default:"md"},error:{type:String,default:""},hint:{type:String,default:""},id:{type:String,default:""},searchable:{type:Boolean,default:!0},allowAdd:{type:Boolean,default:!1},addEndpoint:{type:String,default:""},addField:{type:String,default:"name"}},emits:["update:modelValue","blur","focus","item-added"],setup(e,{emit:t}){const s=e,r=t,o=Ut(),n=fe(()=>s.id||`select-${Math.random().toString(36).substr(2,9)}`),i=fe(()=>s.placeholder||"Choose"),l=O(s.modelValue),u=O(""),m=O(!1),y=fe(()=>s.searchable),f=fe(()=>u.value?s.options.filter(p=>p.label.toLowerCase().includes(u.value.toLowerCase())):s.options),x=fe(()=>{if(!l.value&&l.value!==0)return"";const p=s.options.find(v=>v.value===l.value);return p?p.label:""}),c=fe(()=>{const p="block w-full rounded-md border px-3 py-2 text-sm focus:border-blue-500 focus:ring-blue-500 disabled:pointer-events-none disabled:opacity-50 bg-white dark:border-gray-600 dark:bg-gray-700 dark:text-white cursor-default text-left",v={sm:"px-2.5 py-1.5 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},b=s.error?"border-red-500 focus:border-red-500 focus:ring-red-500 dark:border-red-500":"border-gray-200 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:focus:border-blue-500",w=s.disabled?"cursor-not-allowed opacity-50 bg-gray-50 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-700";return`${p} ${v[s.size]} ${b} ${w}`}),h=p=>{l.value=p,r("update:modelValue",p),u.value=""},g=()=>{},d=async()=>{var p,v;if(!(!s.allowAdd||!s.addEndpoint||!u.value.trim())){m.value=!0;try{const w=(await Xe.post(s.addEndpoint,{[s.addField]:u.value.trim()})).data.data;r("item-added",w),l.value=w.id||w.value,r("update:modelValue",l.value),u.value="",o.success("New item added successfully")}catch(b){console.error("Error adding new item:",b),o.error(((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to add new item")}finally{m.value=!1}}};return Et(()=>s.modelValue,p=>{l.value=p}),(p,v)=>($(),S("div",JK,[e.label?($(),S("label",{key:0,for:n.value,class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},[ke(k(e.label)+" ",1),e.required?($(),S("span",XK,"*")):G("",!0)],8,QK)):G("",!0),L(F(ex),{modelValue:l.value,"onUpdate:modelValue":[v[3]||(v[3]=b=>l.value=b),h],disabled:e.disabled},{default:le(()=>[a("div",ZK,[L(F(tx),{id:n.value,class:Ee(c.value),onBlur:v[0]||(v[0]=b=>p.$emit("blur",b)),onFocus:v[1]||(v[1]=b=>p.$emit("focus",b))},{default:le(()=>[a("span",eY,k(x.value||i.value),1),a("span",tY,[L(F(Fv),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]),_:1},8,["id","class"]),L(ko,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:le(()=>[L(F(sx),{class:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm dark:bg-gray-800 dark:ring-gray-700"},{default:le(()=>[y.value?($(),S("div",sY,[rt(a("input",{"onUpdate:modelValue":v[2]||(v[2]=b=>u.value=b),type:"text",placeholder:"Search...",class:"block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400",onInput:g},null,544),[[It,u.value]])])):G("",!0),e.allowAdd&&u.value&&!f.value.some(b=>b.label.toLowerCase().includes(u.value.toLowerCase()))?($(),S("div",aY,[a("button",{type:"button",onClick:d,class:"w-full text-left text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 flex items-center gap-2"},[L(F(la),{class:"h-4 w-4"}),ke(' Add "'+k(u.value)+'" ',1)])])):G("",!0),e.placeholder&&!u.value?($(),it(F(bd),{key:2,value:null,class:"relative cursor-default select-none py-2 pl-3 pr-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700"},{default:le(()=>[a("span",rY,k(e.placeholder),1)]),_:1})):G("",!0),($(!0),S(Qe,null,ot(f.value,b=>($(),it(F(bd),{key:b.value,value:b.value,class:Ee(["relative cursor-default select-none py-2 pl-3 pr-9",[p.active?"bg-blue-100 text-blue-900 dark:bg-blue-900 dark:text-blue-100":"text-gray-900 dark:text-white",p.selected?"bg-blue-50 dark:bg-blue-950":""]])},{default:le(({active:w,selected:E})=>[a("div",oY,[b.icon?($(),S("span",nY,[($(),it(Pr(b.icon),{class:"h-4 w-4"}))])):b.color?($(),S("span",{key:1,class:"mr-2 h-3 w-3 rounded-full flex-shrink-0",style:fs({backgroundColor:b.color})},null,4)):G("",!0),a("span",iY,k(b.label),1)]),E?($(),S("span",lY,[L(F(Eo),{class:"h-5 w-5","aria-hidden":"true"})])):G("",!0)]),_:2},1032,["value","class"]))),128)),f.value.length===0&&u.value?($(),S("div",dY," No options found ")):G("",!0)]),_:1})]),_:1})])]),_:1},8,["modelValue","disabled"]),e.error?($(),S("p",cY,k(e.error),1)):G("",!0),e.hint&&!e.error?($(),S("p",uY,k(e.hint),1)):G("",!0)]))}};function tb(){const e=Es({product_code:"",product_name:"",description:"",product_type:"finished_goods",category_id:null,unit_id:null,purchase_price:0,selling_price:0,minimum_stock:0,maximum_stock:0,is_active:!0}),t=O({}),s=O({}),r={product_code:{required:!0,maxLength:50,message:"Product code is required",requiredMessage:"Product code is required",maxLengthMessage:"Product code cannot exceed 50 characters"},product_name:{required:!0,maxLength:255,message:"Product name is required",requiredMessage:"Product name is required",maxLengthMessage:"Product name cannot exceed 255 characters"},description:{nullable:!0,maxLength:1e3,message:"Description cannot exceed 1000 characters",maxLengthMessage:"Description cannot exceed 1000 characters"},product_type:{required:!0,in:["finished_goods","raw_material","consumable"],message:"Please select a valid product type",requiredMessage:"Product type is required",inMessage:"Product type must be one of: finished goods, raw material, or consumable"},unit_id:{required:!0,type:"number",message:"Unit is required",requiredMessage:"Unit is required",typeMessage:"Unit must be a valid number"},purchase_price:{required:!0,type:"number",min:0,message:"Purchase price must be a valid number",requiredMessage:"Purchase price is required",typeMessage:"Purchase price must be a number",minMessage:"Purchase price cannot be negative"},selling_price:{nullable:!0,type:"number",min:0,message:"Selling price must be a valid number",typeMessage:"Selling price must be a number",minMessage:"Selling price cannot be negative"},minimum_stock:{required:!0,type:"number",min:0,message:"Minimum stock must be a valid number",requiredMessage:"Minimum stock is required",typeMessage:"Minimum stock must be a number",minMessage:"Minimum stock cannot be negative"},maximum_stock:{required:!0,type:"number",min:0,message:"Maximum stock must be a valid number",requiredMessage:"Maximum stock is required",typeMessage:"Maximum stock must be a number",minMessage:"Maximum stock cannot be negative"},is_active:{type:"boolean",message:"Active status must be true or false",typeMessage:"Active status must be true or false"}},o=E=>{const C=r[E];if(!C)return!0;const T=e[E],P=[];if(s.value[E]=!0,C.required&&(T==null||T==="")&&P.push(C.requiredMessage||C.message),!C.required&&(T==null||T==="")&&C.nullable)return delete t.value[E],!0;if(C.type&&T!==null&&T!==void 0&&T!==""&&(C.type==="number"&&isNaN(Number(T))&&P.push(C.typeMessage||C.message),C.type==="boolean"&&typeof T!="boolean"&&P.push(C.typeMessage||C.message)),C.maxLength&&typeof T=="string"&&T.length>C.maxLength&&P.push(C.maxLengthMessage||C.message),C.in&&!C.in.includes(T)&&P.push(C.inMessage||C.message),C.min!==void 0&&T!==null&&T!==void 0&&T!==""){const A=Number(T);!isNaN(A)&&A<C.min&&P.push(C.minMessage||C.message)}return P.length>0?(t.value[E]=P,!1):(delete t.value[E],!0)},n=()=>{let E=!0;return Object.keys(r).forEach(C=>{o(C)||(E=!1)}),E},i=E=>{const C=t.value[E];return C&&C.length>0?C[0]:""},l=E=>t.value[E]||[],u=E=>s.value[E]&&t.value[E]&&t.value[E].length>0,m=fe(()=>Object.keys(t.value).length===0),y=fe(()=>Object.keys(s.value).some(E=>s.value[E])),f=()=>{t.value={}},x=E=>{delete t.value[E]},c=()=>{Object.assign(e,{product_code:"",product_name:"",description:"",product_type:"finished_goods",category_id:null,unit_id:null,purchase_price:0,selling_price:0,minimum_stock:0,maximum_stock:0,is_active:!0}),t.value={},s.value={}},h=E=>{Object.keys(E).forEach(C=>{e.hasOwnProperty(C)&&(e[C]=E[C])})},g=()=>({...e}),d=()=>{Object.keys(r).forEach(E=>{s.value[E]=!0})};return{form:e,errors:t,touched:s,isFormValid:m,isFormDirty:y,validateField:o,validateForm:n,getFieldError:i,getFieldErrors:l,hasFieldError:u,clearErrors:f,clearFieldError:x,resetForm:c,setFormData:h,getFormData:g,touchAllFields:d,setServerErrors:E=>{t.value={...E},d()},prepareFormData:()=>({...e,purchase_price:parseFloat(e.purchase_price)||0,selling_price:parseFloat(e.selling_price)||0,minimum_stock:parseInt(e.minimum_stock)||0,maximum_stock:parseInt(e.maximum_stock)||0}),getProductTypeOptions:()=>[{value:"finished_goods",label:"Finished Goods"},{value:"raw_material",label:"Raw Material"},{value:"consumable",label:"Consumable"}],getStatusOptions:()=>[{value:!0,label:"Active"},{value:!1,label:"Inactive"}],validationRules:r}}const hY={class:"space-y-4"},gY={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pY={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},mY={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fY={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yY={__name:"ProductFormDetails",props:{form:{type:Object,required:!0},errors:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},unitOptions:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]}},emits:["validate-field","product-type-added","unit-added"],setup(e,{emit:t}){const s=e,r=t,{getProductTypeOptions:o,getStatusOptions:n}=tb(),i=fe(()=>o()),l=fe(()=>n()),u=x=>s.errors[x]?s.errors[x][0]:"",m=x=>{r("validate-field",x)},y=x=>{r("product-type-added",x)},f=x=>{r("unit-added",x)};return(x,c)=>($(),S("div",hY,[a("div",gY,[L(dr,{modelValue:e.form.product_type,"onUpdate:modelValue":[c[0]||(c[0]=h=>e.form.product_type=h),c[1]||(c[1]=h=>m("product_type"))],label:"Product Type",options:i.value,required:"",disabled:e.disabled,error:u("product_type"),"allow-add":!0,"add-endpoint":"/product-types","add-field":"name",onItemAdded:y},null,8,["modelValue","options","disabled","error"]),L(dr,{modelValue:e.form.unit_id,"onUpdate:modelValue":[c[2]||(c[2]=h=>e.form.unit_id=h),c[3]||(c[3]=h=>m("unit_id"))],label:"Unit",options:e.unitOptions,required:"",disabled:e.disabled,error:u("unit_id"),"allow-add":!0,"add-endpoint":"/units","add-field":"name",onItemAdded:f},null,8,["modelValue","options","disabled","error"])]),a("div",pY,[L(ut,{modelValue:e.form.category_id,"onUpdate:modelValue":[c[4]||(c[4]=h=>e.form.category_id=h),c[5]||(c[5]=h=>m("category_id"))],label:"Category",options:e.categoryOptions,disabled:e.disabled,error:u("category_id"),placeholder:"Select a category (optional)"},null,8,["modelValue","options","disabled","error"]),L(ut,{modelValue:e.form.is_active,"onUpdate:modelValue":[c[6]||(c[6]=h=>e.form.is_active=h),c[7]||(c[7]=h=>m("is_active"))],label:"Status",options:l.value,required:"",disabled:e.disabled,error:u("is_active")},null,8,["modelValue","options","disabled","error"])]),a("div",mY,[L(et,{modelValue:e.form.purchase_price,"onUpdate:modelValue":c[8]||(c[8]=h=>e.form.purchase_price=h),label:"Purchase Price",type:"number",step:"0.01",placeholder:"0.00",required:"",disabled:e.disabled,error:u("purchase_price"),onBlur:c[9]||(c[9]=h=>m("purchase_price"))},null,8,["modelValue","disabled","error"]),L(et,{modelValue:e.form.selling_price,"onUpdate:modelValue":c[10]||(c[10]=h=>e.form.selling_price=h),label:"Selling Price",type:"number",step:"0.01",placeholder:"0.00",disabled:e.disabled,error:u("selling_price"),onBlur:c[11]||(c[11]=h=>m("selling_price"))},null,8,["modelValue","disabled","error"])]),a("div",fY,[L(et,{modelValue:e.form.minimum_stock,"onUpdate:modelValue":c[12]||(c[12]=h=>e.form.minimum_stock=h),label:"Minimum Stock",type:"number",placeholder:"0",required:"",disabled:e.disabled,error:u("minimum_stock"),onBlur:c[13]||(c[13]=h=>m("minimum_stock"))},null,8,["modelValue","disabled","error"]),L(et,{modelValue:e.form.maximum_stock,"onUpdate:modelValue":c[14]||(c[14]=h=>e.form.maximum_stock=h),label:"Maximum Stock",type:"number",placeholder:"0",required:"",disabled:e.disabled,error:u("maximum_stock"),onBlur:c[15]||(c[15]=h=>m("maximum_stock"))},null,8,["modelValue","disabled","error"])])]))}},vY={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"},xY=["disabled"],bY=["disabled"],kY={key:0},wY={key:1},_Y={__name:"ProductFormActions",props:{loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},editingProduct:{type:Object,default:null},loadingText:{type:String,default:"Saving..."},submitText:{type:String,default:""}},emits:["cancel"],setup(e,{emit:t}){const s=e;return fe(()=>s.submitText?s.submitText:s.editingProduct?"Update":"Save"),(r,o)=>($(),S("div",vY,[a("button",{type:"button",onClick:o[0]||(o[0]=n=>r.$emit("cancel")),disabled:e.disabled,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Cancel ",8,xY),a("button",{type:"submit",disabled:e.disabled||e.loading,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[e.loading?($(),S("span",kY,k(e.loadingText),1)):($(),S("span",wY,k(e.submitText),1))],8,bY)]))}},$Y={__name:"ProductFormModal",props:{isOpen:{type:Boolean,default:!1},editingProduct:{type:Object,default:null},unitOptions:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},saving:{type:Boolean,default:!1}},emits:["close","saved","unit-added","product-type-added"],setup(e,{emit:t}){const s=e,r=t,o=Ut(),{generateProductCode:n}=eb(),{form:i,errors:l,isFormValid:u,validateField:m,validateForm:y,resetForm:f,setFormData:x,setServerErrors:c,prepareFormData:h}=tb(),g=O(!1);O([{value:"finished_goods",label:"Finished Goods"},{value:"raw_material",label:"Raw Material"},{value:"consumable",label:"Consumable"}]),Et(()=>s.isOpen,C=>{C&&(s.editingProduct?d(s.editingProduct):f())}),Et(()=>s.editingProduct,C=>{C&&s.isOpen&&d(C)});const d=C=>{x({product_code:C.product_code,product_name:C.product_name,description:C.description||"",product_type:C.product_type,category_id:C.category_id,unit_id:C.unit_id,purchase_price:C.purchase_price||0,selling_price:C.selling_price||0,minimum_stock:C.minimum_stock||0,maximum_stock:C.maximum_stock||0,is_active:C.is_active})},p=async()=>{var C,T,P;if(!y()){o.error("Please fill all required fields correctly");return}try{l.value={};const A=h();r("saved",{formData:A,isEditing:!!s.editingProduct,productId:(C=s.editingProduct)==null?void 0:C.id})}catch(A){console.error("Error saving product:",A),(P=(T=A.response)==null?void 0:T.data)!=null&&P.errors&&c(A.response.data.errors)}},v=()=>{r("close")},b=async()=>{var C,T;g.value=!0;try{const P=await n(i.product_type);i.product_code=P,o.success("Product code generated successfully")}catch(P){console.error("Error generating product code:",P),o.error(((T=(C=P.response)==null?void 0:C.data)==null?void 0:T.message)||"Failed to generate product code")}finally{g.value=!1}},w=C=>{r("unit-added",C)},E=C=>{r("product-type-added",C)};return(C,T)=>($(),it(Vt,{"is-open":e.isOpen,title:e.editingProduct?"Edit Product":"Add New Product",onClose:v},{default:le(()=>[a("form",{onSubmit:Bt(p,["prevent"]),class:"space-y-6"},[L(GK,{form:F(i),errors:F(l),disabled:e.saving,"editing-product":e.editingProduct,"generating-code":g.value,onGenerateCode:b,onValidateField:F(m)},null,8,["form","errors","disabled","editing-product","generating-code","onValidateField"]),L(yY,{form:F(i),errors:F(l),disabled:e.saving,"unit-options":e.unitOptions,"category-options":e.categoryOptions,onValidateField:F(m),onProductTypeAdded:E,onUnitAdded:w},null,8,["form","errors","disabled","unit-options","category-options","onValidateField"]),L(_Y,{loading:e.saving,disabled:!F(u),"editing-product":e.editingProduct,onCancel:v,submitText:"Save Product"},null,8,["loading","disabled","editing-product"])],32)]),_:1},8,["is-open","title"]))}},CY={class:"space-y-6"},SY={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},EY={class:"text-2xl font-bold text-gray-900 dark:text-white"},TY={class:"text-gray-500 dark:text-gray-400 mt-1"},AY={class:"flex items-center gap-3"},LY={__name:"Products",setup(e){const{t}=fa(),s=Ut(),{products:r,loading:o,saving:n,deleting:i,pagination:l,filters:u,fetchProducts:m,createProduct:y,updateProduct:f,deleteProduct:x,fetchProductStatistics:c,applyFilters:h,resetFilters:g}=eb(),{unitOptions:d,categoryOptions:p,loadUnits:v,loadCategories:b}=th(),w=O(!1);O(!1);const E=O(!1),C=O(null),T=O(!1),P=O(null),A=O(!1),j=O(!1),V=O({total:0,active:0,low_stock:0,by_type:{}}),H=fe(()=>[{key:"product_code",label:t("products.code"),sortable:!0},{key:"product_name",label:t("products.productName"),sortable:!0},{key:"product_type",label:t("products.type"),sortable:!0,type:"badge",badgeColors:{finished_goods:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",raw_material:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",consumable:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400"},formatter:We=>({finished_goods:t("products.typeFinishedGoods"),raw_material:t("products.typeRawMaterial"),consumable:t("products.typeConsumable")})[We]||We},{key:"unit.name",label:t("products.unit"),sortable:!1},{key:"purchase_price",label:t("products.purchasePrice"),sortable:!0,type:"currency"},{key:"selling_price",label:t("products.sellingPrice"),sortable:!0,type:"currency"},{key:"minimum_stock",label:t("products.minStock"),sortable:!0},{key:"maximum_stock",label:t("products.maxStock"),sortable:!0},{key:"is_active",label:t("products.status"),sortable:!0,type:"badge",badgeColors:{true:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",false:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"},formatter:We=>t(We?"products.statusActive":"products.statusInactive")},{key:"created_at",label:t("products.createdAt"),sortable:!0,type:"date"}]),R=fe(()=>r.value||[]),M=fe(()=>l.value||[]),B=fe(()=>({total:V.value.total||0,active:V.value.active||0,low_stock:V.value.low_stock||0})),W=async()=>{if(console.log("loadStatistics called - statistics.loading:",j.value),j.value){console.log("loadStatistics blocked - already loading");return}try{const We=await c();V.value=We}catch(We){console.error("Error loading statistics:",We)}},K=()=>{console.log("handleFilterChange"),h(u.value)},Z=()=>{console.log("handleResetFilters"),g()},Te=async()=>{console.log("=== handleRefresh STARTED ===",new Date().toISOString()),console.time("handleRefresh-total"),w.value=!0,j.value=!0;try{console.log("Fetching products..."),console.time("fetchProducts-refresh"),await m({page:M.value.current_page,per_page:M.value.per_page}),console.timeEnd("fetchProducts-refresh"),console.log("Fetching statistics..."),console.time("fetchProductStatistics-refresh"),await c().then(We=>{V.value=We}),console.timeEnd("fetchProductStatistics-refresh"),s.success(t("products.refreshSuccess"))}catch(We){console.error("Error refreshing products:",We),s.error(t("products.refreshError"),We.message)}finally{w.value=!1,j.value=!1}console.timeEnd("handleRefresh-total"),console.log("=== handleRefresh COMPLETED ===",new Date().toISOString())},_e=(We,ae)=>{console.log("handlePageChange",We,ae),ae&&(l.value.per_page=ae),m({page:We,per_page:ae})},ye=({column:We,direction:ae})=>{m({page:M.value.current_page,per_page:M.value.per_page,sort_by:We,sort_order:ae})},z=We=>{console.log("handleSearch",We),m({page:1,per_page:M.value.per_page,search:We})},q=We=>{C.value=We,E.value=!0},X=We=>{P.value=We,T.value=!0},se=async()=>{if(!(!P.value||i.value))try{await x(P.value.id),Ae(),w.value=!0,await Promise.all([m(M.value.current_page),W()]),w.value=!1}catch(We){console.error("Error deleting product:",We)}},Ae=()=>{T.value=!1,P.value=null},me=async({formData:We,isEditing:ae,productId:ge})=>{try{ae?await f(ge,We):await y(We),Le(),w.value=!0,await Promise.all([m(M.value.current_page),W()]),w.value=!1}catch(ne){console.error("Error saving product:",ne)}},Le=()=>{E.value=!1,C.value=null},Re=async()=>{await v(!0)},Ze=async()=>{await b(!0)};return Ot(async()=>{console.log("=== Products.vue onMounted STARTED ===",new Date().toISOString()),console.time("onMounted-total"),console.log("Loading units and categories..."),console.time("loadUnits-categories"),await Promise.all([v(),b()]),console.timeEnd("loadUnits-categories"),j.value=!0;try{console.log("Calling fetchProducts from onMounted..."),console.time("fetchProducts-initial"),await m(),console.timeEnd("fetchProducts-initial"),console.log("Calling fetchProductStatistics from onMounted..."),console.time("fetchProductStatistics-initial"),await c().then(We=>{V.value=We}),console.timeEnd("fetchProductStatistics-initial")}finally{j.value=!1}console.timeEnd("onMounted-total"),console.log("=== Products.vue onMounted COMPLETED ===",new Date().toISOString())}),(We,ae)=>{var ge;return $(),S("div",CY,[a("div",SY,[a("div",null,[a("h1",EY,k(We.$t("products.title")),1),a("p",TY,k(We.$t("products.subtitle")),1)]),a("div",AY,[a("button",{onClick:ae[0]||(ae[0]=ne=>E.value=!0),class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[L(F(la),{class:"w-4 h-4"}),ke(" "+k(We.$t("products.addProduct")),1)])])]),L(VK,{stats:B.value},null,8,["stats"]),L(HK,{show:A.value,filters:F(u),"onUpdate:filters":K,onReset:Z},null,8,["show","filters"]),L(Us,{title:We.$t("products.productsTable"),data:R.value,columns:H.value,loading:F(o),"server-side-pagination":!0,pagination:M.value,onAdd:ae[1]||(ae[1]=ne=>E.value=!0),onEdit:q,onDelete:X,onRefresh:Te,onPageChange:_e,onSort:ye,onSearch:z,"show-refresh":!0,"refresh-loading":w.value,showAddButton:!1,showFilters:!1,showExport:!1},null,8,["title","data","columns","loading","pagination","refresh-loading"]),L($Y,{"is-open":E.value||C.value,"editing-product":C.value,"unit-options":F(d),"category-options":F(p),saving:F(n),onClose:Le,onSaved:me,onUnitAdded:Re,onProductTypeAdded:Ze},null,8,["is-open","editing-product","unit-options","category-options","saving"]),L(us,{"is-open":T.value,title:We.$t("products.deleteProduct"),message:`${We.$t("products.deleteProductMessage")} ${((ge=P.value)==null?void 0:ge.product_name)||We.$t("products.thisProduct")}?`,description:We.$t("products.deleteProductDescription"),"confirm-text":We.$t("products.delete"),"cancel-text":We.$t("products.cancel"),loading:F(i),onConfirm:se,onCancel:Ae},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading"])])}}};function MY(){const e=O([]),t=O(null),s=O(!1),r=O(null),o=O({current_page:1,per_page:15,total:0,last_page:1}),n=O({total_transactions:0,draft_count:0,posted_count:0,cancelled_count:0,total_quantity:0,total_value:0}),i=O({products:[],locations:[]});return{stockIns:e,stockIn:t,loading:s,error:r,pagination:o,statistics:n,options:i,fetchStockIns:async(C={})=>{var T,P;s.value=!0,r.value=null;try{const A=await Xe.get("/stock-in",{params:C});return e.value=A.data,o.value={current_page:A.current_page,per_page:A.per_page,total:A.total,last_page:A.last_page,from:A.from,to:A.to},console.log(e.value),A.data}catch(A){throw r.value=((P=(T=A.response)==null?void 0:T.data)==null?void 0:P.message)||"Failed to fetch stock in data",A}finally{s.value=!1}},fetchStockIn:async C=>{var T,P;s.value=!0,r.value=null;try{const A=await Xe.get(`/stock-in/${C}`);console.log("useStockIn.fetchStockIn - raw data:",A);const j=A.data?A.data:A;return console.log("useStockIn.fetchStockIn - processed data:",j),t.value=j,j}catch(A){throw console.error("useStockIn.fetchStockIn - error:",A),r.value=((P=(T=A.response)==null?void 0:T.data)==null?void 0:P.message)||"Failed to fetch stock in",A}finally{s.value=!1}},createStockIn:async C=>{var T,P;s.value=!0,r.value=null;try{return(await Xe.post("/stock-in",C)).data}catch(A){throw r.value=((P=(T=A.response)==null?void 0:T.data)==null?void 0:P.message)||"Failed to create stock in",A}finally{s.value=!1}},updateStockIn:async(C,T)=>{var P,A;s.value=!0,r.value=null;try{return(await Xe.put(`/stock-in/${C}`,T)).data}catch(j){throw r.value=((A=(P=j.response)==null?void 0:P.data)==null?void 0:A.message)||"Failed to update stock in",j}finally{s.value=!1}},deleteStockIn:async C=>{var T,P;s.value=!0,r.value=null;try{return(await Xe.delete(`/stock-in/${C}`)).data}catch(A){throw r.value=((P=(T=A.response)==null?void 0:T.data)==null?void 0:P.message)||"Failed to delete stock in",A}finally{s.value=!1}},postStockIn:async C=>{var T,P;s.value=!0,r.value=null;try{return(await Xe.post(`/stock-in/${C}/post`)).data}catch(A){throw r.value=((P=(T=A.response)==null?void 0:T.data)==null?void 0:P.message)||"Failed to post stock in",A}finally{s.value=!1}},cancelStockIn:async C=>{var T,P;s.value=!0,r.value=null;try{return(await Xe.post(`/stock-in/${C}/cancel`)).data}catch(A){throw r.value=((P=(T=A.response)==null?void 0:T.data)==null?void 0:P.message)||"Failed to cancel stock in",A}finally{s.value=!1}},fetchStatistics:async(C={})=>{var T,P;s.value=!0,r.value=null;try{const A=await Xe.get("/stock-in/statistics",{params:C});return n.value=A.data,A.data}catch(A){throw r.value=((P=(T=A.response)==null?void 0:T.data)==null?void 0:P.message)||"Failed to fetch statistics",A}finally{s.value=!1}},fetchOptions:async()=>{var C,T;s.value=!0,r.value=null;try{const P=await Xe.get("/stock-in/options");return i.value=P.data,P.data}catch(P){throw r.value=((T=(C=P.response)==null?void 0:C.data)==null?void 0:T.message)||"Failed to fetch options",P}finally{s.value=!1}},getStatusClass:C=>({draft:"bg-gray-100 text-gray-800",posted:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[C]||"bg-gray-100 text-gray-800",getStatusLabel:C=>({draft:"Draft",posted:"Posted",cancelled:"Cancelled"})[C]||C,formatCurrency:C=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(C||0),formatNumber:C=>new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(C||0),formatDate:C=>C?new Date(C).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",formatDateTime:C=>C?new Date(C).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}}const PY={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},DY={class:"text-2xl font-bold text-gray-900 dark:text-white"},IY={key:0,class:"text-gray-500 dark:text-gray-400 mt-1"},OY={key:0,class:"flex items-center gap-3"},sh={__name:"PageHeader",props:{title:{type:String,required:!0},description:{type:String,default:""}},setup(e){return(t,s)=>($(),S("div",PY,[a("div",null,[a("h1",DY,k(e.title),1),e.description?($(),S("p",IY,k(e.description),1)):G("",!0)]),t.$slots.actions?($(),S("div",OY,[Sa(t.$slots,"actions")])):G("",!0)]))}},FY={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},RY={class:"flex items-center justify-between"},jY={class:"flex-1"},NY={class:"text-sm text-gray-500 dark:text-gray-400"},VY={key:0,class:"text-2xl font-bold text-gray-400 dark:text-gray-500 mt-1"},BY={key:1,class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},$a={__name:"StatCard",props:{title:{type:String,required:!0},value:{type:[String,Number],required:!0},icon:{type:String,default:"cube",validator:e=>["archive","clock","check","cube","arrow-up","arrow-down","adjustments","file-text","package","check-circle"].includes(e)},color:{type:String,default:"blue",validator:e=>["blue","yellow","green","purple","red","gray"].includes(e)},loading:{type:Boolean,default:!1}},setup(e){const t=e,s=fe(()=>({archive:ji,clock:qr,check:Fs,cube:Ra,"arrow-up":Vi,"arrow-down":Ni,adjustments:Eu,"file-text":an,package:ES,"check-circle":Fs})[t.icon]||Ra),r=fe(()=>{const n={blue:"bg-blue-100 dark:bg-blue-900/20",yellow:"bg-yellow-100 dark:bg-yellow-900/20",green:"bg-green-100 dark:bg-green-900/20",purple:"bg-purple-100 dark:bg-purple-900/20",red:"bg-red-100 dark:bg-red-900/20",gray:"bg-gray-100 dark:bg-gray-900/20"};return n[t.color]||n.blue}),o=fe(()=>{const n={blue:"text-blue-600 dark:text-blue-400",yellow:"text-yellow-600 dark:text-yellow-400",green:"text-green-600 dark:text-green-400",purple:"text-purple-600 dark:text-purple-400",red:"text-red-600 dark:text-red-400",gray:"text-gray-600 dark:text-gray-400"};return n[t.color]||n.blue});return(n,i)=>($(),S("div",FY,[a("div",RY,[a("div",jY,[a("p",NY,k(e.title),1),e.loading?($(),S("p",VY,[...i[0]||(i[0]=[a("span",{class:"inline-block animate-pulse"},"...",-1)])])):($(),S("p",BY,k(e.value),1))]),a("div",{class:Ee(["w-12 h-12 rounded-lg flex items-center justify-center",e.loading?"opacity-50":"",r.value])},[($(),it(Pr(s.value),{class:Ee(["w-6 h-6",o.value])},null,8,["class"]))],2)])]))}},UY={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},HY={__name:"StockInStats",props:{stats:{type:Object,default:()=>({total_transactions:0,draft_count:0,posted_count:0,cancelled_count:0,total_quantity:0,total_value:0})}},setup(e){const t=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s||0);return(s,r)=>($(),S("div",UY,[L($a,{title:"Total Transaksi",value:e.stats.total_transactions,icon:"archive",color:"blue"},null,8,["value"]),L($a,{title:"Draft",value:e.stats.draft_count,icon:"clock",color:"yellow"},null,8,["value"]),L($a,{title:"Posted",value:e.stats.posted_count,icon:"check",color:"green"},null,8,["value"]),L($a,{title:"Total Nilai",value:t(e.stats.total_value),icon:"cube",color:"purple"},null,8,["value"])]))}},qY={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4"},zY={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},WY=["value"],KY=["value"],YY=["value"],GY={class:"flex items-end"},JY={__name:"StockInFilters",props:{show:{type:Boolean,default:!1},filters:{type:Object,required:!0},locations:{type:Array,default:()=>[]}},emits:["update:filters","reset"],setup(e){return(t,s)=>e.show?($(),S("div",qY,[a("div",zY,[a("div",null,[s[4]||(s[4]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Status ",-1)),a("select",{value:e.filters.status,onChange:s[0]||(s[0]=r=>t.$emit("update:filters",{...e.filters,status:r.target.value})),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[...s[3]||(s[3]=[a("option",{value:""},"Semua Status",-1),a("option",{value:"draft"},"Draft",-1),a("option",{value:"posted"},"Posted",-1),a("option",{value:"cancelled"},"Cancelled",-1)])],40,WY)]),a("div",null,[s[6]||(s[6]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Lokasi ",-1)),a("select",{value:e.filters.location_id,onChange:s[1]||(s[1]=r=>t.$emit("update:filters",{...e.filters,location_id:r.target.value})),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[s[5]||(s[5]=a("option",{value:""},"Semua Lokasi",-1)),($(!0),S(Qe,null,ot(e.locations,r=>($(),S("option",{key:r.id,value:r.id},k(r.code)+" - "+k(r.name),9,YY))),128))],40,KY)]),a("div",GY,[a("button",{onClick:s[2]||(s[2]=r=>t.$emit("reset")),class:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Reset Filters ")])])])):G("",!0)}},QY={class:"space-y-4"},XY={class:"flex items-center justify-between"},ZY={class:"border border-gray-200 rounded-lg dark:border-gray-700 relative",style:{overflow:"visible"}},eG={class:"w-full text-sm"},tG={class:"bg-white divide-y divide-gray-200 dark:bg-gray-900 dark:divide-gray-700"},sG={key:0},aG={class:"px-4 py-3"},rG={key:0,class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},oG={class:"px-4 py-3"},nG=["onUpdate:modelValue","onInput"],iG={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},lG={class:"px-4 py-3"},dG=["onUpdate:modelValue","onInput"],cG={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},uG={class:"px-4 py-3"},hG=["onUpdate:modelValue","onInput"],gG={class:"px-4 py-3 text-right font-medium text-gray-900 dark:text-white"},pG={class:"px-4 py-3 text-center"},mG=["onClick"],fG={key:0,class:"bg-gray-50 dark:bg-gray-800"},yG={class:"px-4 py-3 text-right font-bold text-lg text-gray-900 dark:text-white"},vG={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg dark:bg-red-900/20 dark:border-red-800"},xG={class:"text-sm text-red-600 dark:text-red-400"},bG={__name:"StockInItemsTable",props:{modelValue:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,r=t,o=O([]),n=O([]),i=O(!1),l=async()=>{i.value=!0;try{const d=await Xe.get("/products",{params:{is_active:!0,per_page:1e3}});n.value=d.data.data.map(p=>{var v;return{value:p.id,label:`${p.product_code} - ${p.product_name} (Rp ${p.purchase_price||p.selling_price||0})`,extra:{code:p.product_code,name:p.product_name,unit:((v=p.unit)==null?void 0:v.name)||"",purchase_price:p.purchase_price||p.selling_price||0}}})}catch(d){console.error("Error fetching products:",d),n.value=[]}finally{i.value=!1}};Ot(()=>{l()});const u=fe(()=>o.value.reduce((d,p)=>{const v=(p.quantity||0)*(p.unit_price||0);return d+v},0)),m=fe(()=>{var d;return(d=s.errors)!=null&&d.items&&typeof s.errors.items=="string"?s.errors.items:null}),y=()=>{r("update:modelValue",o.value)},f=()=>{o.value.push({product_id:null,quantity:0,unit_price:0,notes:""}),y()};Et(()=>s.modelValue,d=>{console.log("StockInItemsTable - modelValue changed:",d),d&&d.length>0?(o.value=d.map(p=>({product_id:p.product_id||null,quantity:parseFloat(p.quantity)||0,unit_price:parseFloat(p.unit_price)||0,notes:p.notes||""})),console.log("StockInItemsTable - items loaded:",o.value)):o.value.length===0&&(console.log("StockInItemsTable - adding empty row"),f())},{immediate:!0,deep:!0});const x=d=>{o.value.length===1?o.value[0]={product_id:null,quantity:0,unit_price:0,notes:""}:o.value.splice(d,1),y()},c=(d,p=null)=>{if(isNaN(o.value[d].quantity)&&(o.value[d].quantity=0),isNaN(o.value[d].unit_price)&&(o.value[d].unit_price=0),p==="product_id"&&o.value[d].product_id){const v=n.value.find(b=>b.value===o.value[d].product_id);v&&v.extra&&o.value[d].unit_price===0&&v.extra.purchase_price&&(o.value[d].unit_price=parseFloat(v.extra.purchase_price))}y()},h=d=>!d||isNaN(d)?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(d),g=(d,p)=>{var b;const v=`items.${d}.${p}`;return(b=s.errors)==null?void 0:b[v]};return(d,p)=>($(),S("div",QY,[a("div",XY,[p[1]||(p[1]=a("h3",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Daftar Produk ",-1)),a("button",{type:"button",onClick:Bt(f,["stop","prevent"]),class:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/30"},[L(F(la),{class:"w-4 h-4"}),p[0]||(p[0]=ke(" Tambah Produk ",-1))])]),a("div",ZY,[a("table",eG,[p[5]||(p[5]=a("thead",{class:"bg-gray-50 dark:bg-gray-800"},[a("tr",null,[a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Produk "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider w-32"}," Quantity "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider w-40"}," Harga Satuan "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider w-48"}," Catatan "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider w-40"}," Total "),a("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider w-20"}," Aksi ")])],-1)),a("tbody",tG,[o.value.length===0?($(),S("tr",sG,[...p[2]||(p[2]=[a("td",{colspan:"6",class:"px-4 py-8 text-center text-gray-500 dark:text-gray-400"},' Belum ada produk. Klik "Tambah Produk" untuk menambahkan. ',-1)])])):G("",!0),($(!0),S(Qe,null,ot(o.value,(v,b)=>($(),S("tr",{key:b,class:"hover:bg-gray-50 dark:hover:bg-gray-800"},[a("td",aG,[L(dr,{modelValue:v.product_id,"onUpdate:modelValue":[w=>v.product_id=w,w=>c(b,"product_id")],options:n.value,placeholder:"Pilih produk",error:g(b,"product_id"),disabled:i.value},null,8,["modelValue","onUpdate:modelValue","options","error","disabled"]),i.value?($(),S("p",rG," Loading products... ")):G("",!0)]),a("td",oG,[rt(a("input",{"onUpdate:modelValue":w=>v.quantity=w,type:"number",step:"0.01",min:"0.01",placeholder:"0",onInput:w=>c(b),class:Ee(["w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2",g(b,"quantity")?"border-red-300 focus:ring-red-500 dark:border-red-600":"border-gray-300 focus:ring-blue-500 dark:border-gray-600","bg-white dark:bg-gray-800 text-gray-900 dark:text-white"])},null,42,nG),[[It,v.quantity,void 0,{number:!0}]]),g(b,"quantity")?($(),S("p",iG,k(g(b,"quantity")),1)):G("",!0)]),a("td",lG,[rt(a("input",{"onUpdate:modelValue":w=>v.unit_price=w,type:"number",step:"0.01",min:"0",placeholder:"0",onInput:w=>c(b),class:Ee(["w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2",g(b,"unit_price")?"border-red-300 focus:ring-red-500 dark:border-red-600":"border-gray-300 focus:ring-blue-500 dark:border-gray-600","bg-white dark:bg-gray-800 text-gray-900 dark:text-white"])},null,42,dG),[[It,v.unit_price,void 0,{number:!0}]]),g(b,"unit_price")?($(),S("p",cG,k(g(b,"unit_price")),1)):G("",!0)]),a("td",uG,[rt(a("input",{"onUpdate:modelValue":w=>v.notes=w,type:"text",placeholder:"Catatan opsional",onInput:w=>c(b),class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-800 dark:text-white"},null,40,hG),[[It,v.notes]])]),a("td",gG,k(h(v.quantity*v.unit_price)),1),a("td",pG,[a("button",{type:"button",onClick:Bt(w=>x(b),["stop","prevent"]),class:"inline-flex items-center justify-center w-8 h-8 text-red-600 hover:bg-red-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 dark:text-red-400 dark:hover:bg-red-900/20",title:"Hapus"},[L(F(Ks),{class:"w-4 h-4"})],8,mG)])]))),128))]),o.value.length>0?($(),S("tfoot",fG,[a("tr",null,[p[3]||(p[3]=a("td",{colspan:"4",class:"px-4 py-3 text-right font-semibold text-gray-900 dark:text-white"}," Total Keseluruhan: ",-1)),a("td",yG,k(h(u.value)),1),p[4]||(p[4]=a("td",null,null,-1))])])):G("",!0)])]),m.value?($(),S("div",vG,[a("p",xG,k(m.value),1)])):G("",!0)]))}},kG={key:0,style:{display:"none"}},wG={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_G={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$G={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},CG={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"},SG=["disabled"],EG={key:0},TG={key:1},AG={__name:"StockInFormModal",props:{isOpen:{type:Boolean,default:!1},editingItem:{type:Object,default:null},locationOptions:{type:Array,default:()=>[]},saving:{type:Boolean,default:!1},errors:{type:Object,default:()=>({})}},emits:["close","save"],setup(e,{expose:t,emit:s}){const r=e,o=s,n=O({transaction_date:new Date().toISOString().split("T")[0],location_id:"",supplier_name:"",reference_number:"",notes:"",items:[]}),i=()=>{n.value={transaction_date:new Date().toISOString().split("T")[0],location_id:"",supplier_name:"",reference_number:"",notes:"",items:[]}};Et(()=>r.editingItem,m=>{var y;if(m){console.log("StockInFormModal - editingItem changed:",m);const f=(m.details||[]).map(x=>({id:x.id,product_id:x.product_id,quantity:parseFloat(x.quantity)||0,unit_price:parseFloat(x.unit_price)||0,notes:x.notes||"",product:x.product||null}));n.value={transaction_date:m.transaction_date,location_id:((y=m.location_id)==null?void 0:y.toString())||m.location_id,supplier_name:m.supplier_name||"",reference_number:m.reference_number||"",notes:m.notes||"",items:f},console.log("StockInFormModal - formData updated:",n.value)}else i()},{immediate:!0,deep:!0}),Et(()=>r.isOpen,m=>{console.log("StockInFormModal - isOpen changed:",m,"editingItem:",r.editingItem)});const l=()=>{console.log("StockInFormModal - handleClose called"),o("close")},u=()=>{const m=n.value.items.filter(y=>y.product_id&&y.quantity>0&&y.unit_price>=0);m.length!==0&&o("save",{...n.value,items:m})};return t({resetForm:i}),(m,y)=>($(),S(Qe,null,[e.isOpen?($(),S("div",kG,"DEBUG: Modal should be open")):G("",!0),L(Vt,{"is-open":e.isOpen,title:e.editingItem?"Edit Stock Masuk":"Stock Masuk Baru",size:"6xl",onClose:l},{default:le(()=>{var f,x,c,h,g;return[a("form",{onSubmit:Bt(u,["prevent"]),class:"space-y-6"},[a("div",wG,[L(et,{modelValue:n.value.transaction_date,"onUpdate:modelValue":y[0]||(y[0]=d=>n.value.transaction_date=d),label:"Tanggal Transaksi",type:"date",required:"",error:(f=e.errors)==null?void 0:f.transaction_date},null,8,["modelValue","error"]),L(ut,{modelValue:n.value.location_id,"onUpdate:modelValue":y[1]||(y[1]=d=>n.value.location_id=d),label:"Lokasi",options:e.locationOptions,required:"",error:(x=e.errors)==null?void 0:x.location_id},null,8,["modelValue","options","error"])]),a("div",_G,[L(et,{modelValue:n.value.supplier_name,"onUpdate:modelValue":y[2]||(y[2]=d=>n.value.supplier_name=d),label:"Nama Supplier",placeholder:"Masukkan nama supplier",required:"",error:(c=e.errors)==null?void 0:c.supplier_name},null,8,["modelValue","error"]),L(et,{modelValue:n.value.reference_number,"onUpdate:modelValue":y[3]||(y[3]=d=>n.value.reference_number=d),label:"Nomor Referensi",placeholder:"PO, Invoice, dll (opsional)",error:(h=e.errors)==null?void 0:h.reference_number},null,8,["modelValue","error"])]),L(ws,{modelValue:n.value.notes,"onUpdate:modelValue":y[4]||(y[4]=d=>n.value.notes=d),label:"Catatan",placeholder:"Catatan tambahan (opsional)",rows:"2",error:(g=e.errors)==null?void 0:g.notes},null,8,["modelValue","error"]),a("div",$G,[L(bG,{modelValue:n.value.items,"onUpdate:modelValue":y[5]||(y[5]=d=>n.value.items=d),errors:e.errors},null,8,["modelValue","errors"])]),a("div",CG,[a("button",{type:"button",onClick:y[6]||(y[6]=Bt(d=>m.$emit("close"),["stop","prevent"])),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Batal "),a("button",{type:"submit",disabled:e.saving||n.value.items.length===0,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[e.saving?($(),S("span",EG,"Menyimpan...")):($(),S("span",TG,k(e.editingItem?"Update":"Simpan"),1))],8,SG)])],32)]}),_:1},8,["is-open","title"])],64))}},LG={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},hs={__name:"DetailItem",props:{label:{type:String,required:!0},value:{type:[String,Number],default:"-"},bold:{type:Boolean,default:!1}},setup(e){return(t,s)=>($(),S("div",null,[a("label",LG,k(e.label),1),Sa(t.$slots,"value",{},()=>[a("p",{class:Ee(["mt-1 text-sm text-gray-900 dark:text-white",e.bold?"font-semibold":""])},k(e.value),3)])]))}},MG={key:0,class:"space-y-6"},PG={class:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-4 border-b border-gray-200 dark:border-gray-700"},DG={class:"overflow-x-auto border border-gray-200 rounded-lg dark:border-gray-700"},IG={class:"w-full text-sm"},OG={class:"bg-white divide-y divide-gray-200 dark:bg-gray-900 dark:divide-gray-700"},FG={class:"px-4 py-3 text-gray-900 dark:text-white"},RG={class:"px-4 py-3 text-gray-900 dark:text-white"},jG={class:"px-4 py-3"},NG={class:"text-gray-900 dark:text-white"},VG={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},BG={class:"px-4 py-3 text-right text-gray-900 dark:text-white"},UG={class:"px-4 py-3 text-right text-gray-900 dark:text-white"},HG={class:"px-4 py-3 text-right font-medium text-gray-900 dark:text-white"},qG={class:"bg-gray-50 dark:bg-gray-800"},zG={class:"px-4 py-3 text-right font-bold text-lg text-gray-900 dark:text-white"},WG={key:0,class:"pt-4 border-t border-gray-200 dark:border-gray-700"},KG={class:"text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-800 rounded-lg p-3"},YG={key:1,class:"flex items-center justify-center py-12"},GG={__name:"StockInDetailModal",props:{isOpen:{type:Boolean,default:!1},item:{type:Object,default:null}},emits:["close"],setup(e){const t=i=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(i||0),s=i=>new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(i||0),r=i=>i?new Date(i).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",o=i=>{const l={draft:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",posted:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return l[i]||l.draft},n=i=>({draft:"Draft",posted:"Posted",cancelled:"Cancelled"})[i]||i;return(i,l)=>($(),it(Vt,{"is-open":e.isOpen&&e.item!==null,title:"Detail Stock Masuk",size:"2xl",onClose:l[0]||(l[0]=u=>i.$emit("close"))},{default:le(()=>{var u,m,y;return[e.item?($(),S("div",MG,[a("div",PG,[L(hs,{label:"Nomor Transaksi",value:e.item.transaction_number},null,8,["value"]),L(hs,{label:"Tanggal",value:r(e.item.transaction_date)},null,8,["value"]),L(hs,{label:"Lokasi",value:(u=e.item.location)==null?void 0:u.name},null,8,["value"]),L(hs,{label:"Supplier",value:e.item.supplier_name},null,8,["value"]),L(hs,{label:"Referensi",value:e.item.reference_number||"-"},null,8,["value"]),L(hs,{label:"Status"},{value:le(()=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",o(e.item.status)])},k(n(e.item.status)),3)]),_:1}),L(hs,{label:"Dibuat Oleh",value:((m=e.item.creator)==null?void 0:m.name)||"-"},null,8,["value"]),e.item.posted_by?($(),it(hs,{key:0,label:"Diposting Oleh",value:(y=e.item.poster)==null?void 0:y.name},null,8,["value"])):G("",!0)]),a("div",null,[l[3]||(l[3]=a("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-3"}," Daftar Produk ",-1)),a("div",DG,[a("table",IG,[l[2]||(l[2]=a("thead",{class:"bg-gray-50 dark:bg-gray-800"},[a("tr",null,[a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," No "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Kode Produk "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Nama Produk "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Quantity "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Harga Satuan "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Total ")])],-1)),a("tbody",OG,[($(!0),S(Qe,null,ot(e.item.details,(f,x)=>{var c,h,g,d;return $(),S("tr",{key:f.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800"},[a("td",FG,k(x+1),1),a("td",RG,k((c=f.product)==null?void 0:c.product_code),1),a("td",jG,[a("div",NG,k((h=f.product)==null?void 0:h.product_name),1),f.notes?($(),S("div",VG,k(f.notes),1)):G("",!0)]),a("td",BG,k(s(f.quantity))+" "+k((d=(g=f.product)==null?void 0:g.unit)==null?void 0:d.name),1),a("td",UG,k(t(f.unit_price)),1),a("td",HG,k(t(f.total_price)),1)])}),128))]),a("tfoot",qG,[a("tr",null,[l[1]||(l[1]=a("td",{colspan:"5",class:"px-4 py-3 text-right font-semibold text-gray-900 dark:text-white"}," Total Keseluruhan: ",-1)),a("td",zG,k(t(e.item.total_price)),1)])])])])]),e.item.notes?($(),S("div",WG,[l[4]||(l[4]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Catatan Transaksi ",-1)),a("p",KG,k(e.item.notes),1)])):G("",!0)])):($(),S("div",YG,[...l[5]||(l[5]=[a("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)])]))]}),_:1},8,["is-open"]))}},JG={class:"relative inline-block"},QG={class:"flex items-center gap-2"},XG={class:"relative"},ZG={__name:"Tooltip",props:{content:{type:String,required:!0},position:{type:String,default:"top",validator:e=>["top","bottom","left","right"].includes(e)},delay:{type:Number,default:300}},emits:["show","hide"],setup(e,{emit:t}){const s=e,r=t,o=O(null),n=O(null),i=O(!1),l=O(null),u=O(null),m=fe(()=>typeof window<"u"?document.documentElement.classList.contains("dark"):!1),y=fe(()=>{const h={top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"};return h[s.position]||h.top}),f=fe(()=>{const h={top:"top-full left-1/2 transform -translate-x-1/2 -mt-1 border-t border-l",bottom:"bottom-full left-1/2 transform -translate-x-1/2 -mb-1 border-b border-r",left:"left-full top-1/2 transform -translate-y-1/2 -ml-1 border-l border-t",right:"right-full top-1/2 transform -translate-y-1/2 -mr-1 border-r border-b"};return h[s.position]||h.top}),x=()=>{u.value&&(clearTimeout(u.value),u.value=null),l.value=setTimeout(()=>{i.value=!0,r("show")},s.delay)},c=()=>{l.value&&(clearTimeout(l.value),l.value=null),u.value=setTimeout(()=>{i.value=!1,r("hide")},150)};return Ea(()=>{l.value&&clearTimeout(l.value),u.value&&clearTimeout(u.value)}),(h,g)=>($(),S("div",JG,[a("div",{ref_key:"trigger",ref:o,onMouseenter:x,onMouseleave:c,onFocus:x,onBlur:c},[Sa(h.$slots,"default")],544),L(ko,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:le(()=>[i.value?($(),S("div",{key:0,ref_key:"tooltip",ref:n,class:Ee(["absolute z-50 px-3 py-2 text-sm font-medium text-white rounded-lg shadow-xl border","whitespace-nowrap pointer-events-none backdrop-blur-sm","animate-in fade-in-0 zoom-in-95 duration-200",y.value,m.value?"bg-gray-800/95 border-gray-600/50 shadow-gray-900/50":"bg-gray-900/95 border-gray-700/50 shadow-gray-900/50"]),role:"tooltip"},[a("div",QG,[a("span",XG,[ke(k(e.content)+" ",1),g[0]||(g[0]=a("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-400/20 to-purple-400/20 rounded-lg blur-sm -z-10"},null,-1))])]),a("div",{class:Ee(["absolute w-2 h-2 transform rotate-45 border backdrop-blur-sm",m.value?"bg-gray-800/95 border-gray-600/50":"bg-gray-900/95 border-gray-700/50",f.value])},null,2),g[1]||(g[1]=a("div",{class:"absolute inset-0 rounded-lg bg-gradient-to-r from-blue-500/10 to-purple-500/10 pointer-events-none"},null,-1))],2)):G("",!0)]),_:1})]))}},eJ=["aria-label"],Ma={__name:"ActionButton",props:{icon:{type:String,required:!0,validator:e=>["eye","pencil","check","check-circle","check-badge","trash","x-mark"].includes(e)},color:{type:String,default:"gray",validator:e=>["blue","green","red","gray"].includes(e)},title:{type:String,default:""},tooltipPosition:{type:String,default:"top",validator:e=>["top","bottom","left","right"].includes(e)},tooltipDelay:{type:Number,default:300}},emits:["click"],setup(e,{emit:t}){const s=e,r=fe(()=>({eye:Ta,pencil:Bs,check:Eo,"check-circle":Fs,"check-badge":kS,trash:Ks,"x-mark":ll})[s.icon]),o=fe(()=>{const i={blue:"text-gray-400 hover:text-blue-500 hover:bg-blue-50/80 hover:shadow-blue-500/20 dark:hover:text-blue-400 dark:hover:bg-blue-900/30 transition-all duration-200",green:"text-gray-400 hover:text-green-500 hover:bg-green-50/80 hover:shadow-green-500/20 dark:hover:text-green-400 dark:hover:bg-green-900/30 transition-all duration-200",red:"text-gray-400 hover:text-red-500 hover:bg-red-50/80 hover:shadow-red-500/20 dark:hover:text-red-400 dark:hover:bg-red-900/30 transition-all duration-200",gray:"text-gray-400 hover:text-gray-500 hover:bg-gray-50/80 hover:shadow-gray-500/20 dark:hover:text-gray-300 dark:hover:bg-gray-700/50 transition-all duration-200"};return i[s.color]||i.gray}),n=fe(()=>{const i={blue:"focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-800",green:"focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-800",red:"focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-800",gray:"focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-800"};return i[s.color]||i.gray});return(i,l)=>($(),it(ZG,{content:e.title,position:e.tooltipPosition,delay:e.tooltipDelay},{default:le(()=>[a("button",{onClick:l[0]||(l[0]=Bt(u=>i.$emit("click"),["stop","prevent"])),class:Ee(["min-w-[2rem] min-h-[2rem] p-1.5 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2","hover:scale-105 active:scale-95",o.value,n.value]),"aria-label":e.title,type:"button"},[($(),it(Pr(r.value),{class:"w-4 h-4 transition-transform duration-200"}))],10,eJ)]),_:1},8,["content","position","delay"]))}},tJ={class:"flex items-center justify-end gap-2"},sJ={__name:"StockInActions",props:{item:{type:Object,required:!0}},emits:["view","edit","post","delete","cancel"],setup(e){return(t,s)=>($(),S("div",tJ,[L(Ma,{icon:"eye",color:"blue",title:"Lihat Detail",onClick:s[0]||(s[0]=r=>t.$emit("view",e.item))}),e.item.status==="draft"?($(),it(Ma,{key:0,icon:"pencil",color:"blue",title:"Edit",onClick:s[1]||(s[1]=r=>t.$emit("edit",e.item))})):G("",!0),e.item.status==="draft"?($(),it(Ma,{key:1,icon:"check",color:"green",title:"Post",onClick:s[2]||(s[2]=r=>t.$emit("post",e.item))})):G("",!0),e.item.status==="draft"?($(),it(Ma,{key:2,icon:"trash",color:"red",title:"Delete",onClick:s[3]||(s[3]=r=>t.$emit("delete",e.item))})):G("",!0),e.item.status==="posted"?($(),it(Ma,{key:3,icon:"x-mark",color:"red",title:"Cancel",onClick:s[4]||(s[4]=r=>t.$emit("cancel",e.item))})):G("",!0)]))}},aJ={class:"space-y-6"},rJ={__name:"StockMasuk",setup(e){const t=Ut(),{stockIns:s,loading:r,pagination:o,statistics:n,fetchStockIns:i,fetchStockIn:l,createStockIn:u,updateStockIn:m,deleteStockIn:y,postStockIn:f,cancelStockIn:x,fetchStatistics:c,getStatusLabel:h,formatCurrency:g,formatNumber:d}=MY(),{locationOptions:p,loadLocations:v}=th(),b=O(!1),w=O(null),E=O(!1),C=O(null),T=O(!1),P=O(!1),A=O(null),j=O(!1),V=O(!1),H=O(!1),R=O(!1),M=O(null),B=O(!1),W=O(!1),K=O(null),Z=O(!1),Te=O({search:"",status:"",location_id:"",product_id:"",per_page:15,page:1,sort_by:"transaction_date",sort_order:"desc"}),_e=[{key:"transaction_number",label:"No. Transaksi",sortable:!0},{key:"transaction_date",label:"Tanggal",sortable:!0,type:"date"},{key:"location.name",label:"Lokasi"},{key:"supplier_name",label:"Supplier"},{key:"details_count",label:"Jumlah Item",align:"center",formatter:N=>`${N||0} item`},{key:"total_quantity",label:"Total Qty",align:"right",formatter:(N,U)=>{var Ge;const Q=((Ge=U.details)==null?void 0:Ge.reduce((He,pe)=>He+(pe.quantity||0),0))||0;return d(Q)}},{key:"total_price",label:"Total Harga",sortable:!0,align:"right",formatter:N=>g(N)},{key:"status",label:"Status",type:"badge",badgeColors:{draft:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",posted:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"},formatter:N=>h(N)}],ye=()=>{b.value=!0},z=async()=>{try{await i(Te.value),await c(Te.value)}catch(N){t.error(N.message||"Gagal memuat data")}},q=async()=>{V.value=!0,await z(),V.value=!1},X=N=>{Te.value.page=N,z()},se=({column:N,direction:U})=>{Te.value.sort_by=N,Te.value.sort_order=U,Te.value.page=1,z()},Ae=N=>{Te.value.search=N,Te.value.page=1,z()},me=N=>{Te.value={...Te.value,...N},Te.value.page=1,z()},Le=()=>{Te.value={search:"",status:"",location_id:"",product_id:"",per_page:15,page:1,sort_by:"transaction_date",sort_order:"desc"},z()},Re=async N=>{console.log("viewDetails called, no refresh needed"),A.value=N,P.value=!0;try{const U=await l(N.id);A.value=U}catch{t.error("Gagal memuat detail"),P.value=!1,A.value=null}},Ze=async N=>{if(console.log("editItem called with:",N),N.status!=="draft"){t.warning("Hanya stock masuk dengan status draft yang dapat diedit");return}w.value={id:N.id,transaction_date:N.transaction_date,location_id:N.location_id,supplier_name:N.supplier_name,reference_number:N.reference_number||"",notes:N.notes||"",details:N.details||[]},console.log("Modal should open now, editingItem:",w.value);try{const U=await l(N.id);if(console.log("Fetched full data:",U),console.log("Response type:",typeof U,"Has details:",!!(U!=null&&U.details)),!U)throw new Error("Data tidak ditemukan");w.value={id:U.id||N.id,transaction_date:U.transaction_date||N.transaction_date,location_id:U.location_id||N.location_id,supplier_name:U.supplier_name||N.supplier_name,reference_number:U.reference_number||"",notes:U.notes||"",details:Array.isArray(U.details)?U.details:U.stock_in_details||[]},console.log("Updated editingItem with full data:",w.value)}catch(U){console.error("Error fetching stock in for edit:",U),t.error(U.message||"Gagal memuat data untuk diedit")}},We=N=>{C.value=N,E.value=!0},ae=N=>{if(N.status!=="draft"){t.warning("Hanya stock masuk dengan status draft yang dapat diposting");return}M.value=N,R.value=!0},ge=async()=>{var N,U;B.value=!0;try{const Q=await f(M.value.id);t.success("Stock masuk berhasil diposting. Stock telah masuk ke sistem.");const Ge=s.value.findIndex(He=>He.id===M.value.id);Ge!==-1&&(s.value[Ge]={...s.value[Ge],status:"posted",posted_at:((N=Q==null?void 0:Q.data)==null?void 0:N.posted_at)||new Date().toISOString(),posted_by:(U=Q==null?void 0:Q.data)==null?void 0:U.posted_by}),await c(Te.value),R.value=!1,M.value=null,console.log("confirmPost: Updated status locally, no full refresh needed")}catch(Q){t.error(Q.message||"Gagal memposting stock masuk")}finally{B.value=!1}},ne=()=>{R.value=!1,M.value=null},ee=N=>{if(N.status!=="posted"){t.warning("Hanya stock masuk dengan status posted yang dapat dibatalkan");return}K.value=N,W.value=!0},ue=async()=>{var N;Z.value=!0;try{const U=await x(K.value.id);t.success("Stock masuk berhasil dibatalkan. Stock telah dikembalikan dari sistem.");const Q=s.value.findIndex(Ge=>Ge.id===K.value.id);Q!==-1&&(s.value[Q]={...s.value[Q],status:"cancelled",cancelled_at:((N=U==null?void 0:U.data)==null?void 0:N.cancelled_at)||new Date().toISOString()}),await c(Te.value),W.value=!1,K.value=null,console.log("confirmCancel: Updated status locally, no full refresh needed")}catch(U){t.error(U.message||"Gagal membatalkan stock masuk")}finally{Z.value=!1}},he=()=>{W.value=!1,K.value=null},Ce=async N=>{j.value=!0;try{w.value?(await m(w.value.id,N),t.success("Stock masuk berhasil diupdate")):(await u(N),t.success("Stock masuk berhasil dibuat")),D(),await z(),console.log("saveItem: Data refreshed successfully")}catch(U){t.error(U.message||"Gagal menyimpan data")}finally{j.value=!1}},J=async()=>{T.value=!0;try{await y(C.value.id),t.success("Stock masuk berhasil dihapus");const N=s.value.findIndex(U=>U.id===C.value.id);N!==-1&&(s.value.splice(N,1),o.value.total-=1),E.value=!1,C.value=null,await c(Te.value),console.log("confirmDelete: Removed item locally, no full refresh needed")}catch(N){t.error(N.message||"Gagal menghapus stock masuk")}finally{T.value=!1}},D=()=>{console.log("closeModal called, no refresh needed"),b.value=!1,w.value=null};return Ot(async()=>{await v(),await z()}),(N,U)=>{var Q,Ge;return $(),S("div",aJ,[L(sh,{title:"Stock Masuk",description:"Kelola penerimaan barang dan stok masuk"},{actions:le(()=>[a("button",{type:"button",onClick:Bt(ye,["prevent"]),class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[L(F(la),{class:"w-4 h-4"}),U[2]||(U[2]=ke(" Stock Masuk Baru ",-1))])]),_:1}),L(HY,{stats:F(n)},null,8,["stats"]),L(JY,{show:H.value,filters:Te.value,locations:F(p),"onUpdate:filters":me,onReset:Le},null,8,["show","filters","locations"]),L(Us,{title:"Daftar Stock Masuk",data:F(s),columns:_e,loading:F(r),"server-side-pagination":!0,pagination:F(o),"show-refresh":!0,"refresh-loading":V.value,"show-add-button":!1,"show-filters":!1,"show-export":!1,"search-placeholder":"Cari nomor transaksi, supplier...",onRefresh:q,onPageChange:X,onSort:se,onSearch:Ae},{actions:le(({item:He})=>[L(sJ,{item:He,onView:Re,onEdit:Ze,onPost:ae,onDelete:We,onCancel:ee},null,8,["item"])]),_:1},8,["data","loading","pagination","refresh-loading"]),L(AG,{"is-open":b.value||!!w.value,"editing-item":w.value,"location-options":F(p),saving:j.value,onClose:D,onSave:Ce},null,8,["is-open","editing-item","location-options","saving"]),L(GG,{"is-open":P.value,item:A.value,onClose:U[0]||(U[0]=He=>P.value=!1)},null,8,["is-open","item"]),L(us,{"is-open":E.value,title:"Hapus Stock Masuk",message:"Apakah Anda yakin ingin menghapus transaksi stock masuk ini? Tindakan ini tidak dapat dibatalkan.","confirm-text":"Hapus","cancel-text":"Batal",loading:T.value,onConfirm:J,onCancel:U[1]||(U[1]=He=>E.value=!1)},null,8,["is-open","loading"]),L(us,{"is-open":R.value,title:"Post Stock Masuk",message:`Apakah Anda yakin ingin memposting transaksi ${((Q=M.value)==null?void 0:Q.transaction_number)||""}? Stock akan masuk ke sistem dan tidak dapat diubah lagi.`,"confirm-text":"Post","cancel-text":"Batal",loading:B.value,onConfirm:ge,onCancel:ne},null,8,["is-open","message","loading"]),L(us,{"is-open":W.value,title:"Batalkan Stock Masuk",message:`Apakah Anda yakin ingin membatalkan transaksi ${((Ge=K.value)==null?void 0:Ge.transaction_number)||""}? Stock yang sudah masuk akan dikembalikan dari sistem.`,"confirm-text":"Batalkan","cancel-text":"Tidak",loading:Z.value,onConfirm:ue,onCancel:he},null,8,["is-open","message","loading"])])}}};function oJ(){const e=O([]),t=O(null),s=O(!1),r=O(null),o=O(new Map),n=5*60*1e3,i=M=>{const B=o.value.get(M);return B&&Date.now()-B.timestamp<n?B.data:(B&&o.value.delete(M),null)},l=(M,B)=>{if(o.value.set(M,{data:B,timestamp:Date.now()}),o.value.size>20){const W=o.value.keys().next().value;o.value.delete(W)}},u=M=>{o.value.delete(M)},m=O({current_page:1,per_page:15,total:0,last_page:1}),y=O({total_this_month:0,total_transactions:0,draft_count:0,pending_count:0,approved_count:0,completed_count:0,cancelled_count:0,total_items:0}),f=O({products:[],locations:[]});return{stockMutations:e,stockMutation:t,loading:s,error:r,pagination:m,statistics:y,options:f,fetchStockMutations:async(M={})=>{var B,W;s.value=!0,r.value=null;try{const Z=await Xe.get("/stock-mutations",{params:M});return Z.data&&Array.isArray(Z.data)?(e.value=Z.data,m.value={current_page:Z.current_page||1,per_page:Z.per_page||15,total:Z.total||0,last_page:Z.last_page||1,from:Z.from||0,to:Z.to||0}):Array.isArray(Z)?(e.value=Z,m.value={current_page:1,per_page:Z.length,total:Z.length,last_page:1,from:1,to:Z.length}):(e.value=[],m.value={current_page:1,per_page:15,total:0,last_page:1,from:0,to:0}),console.log("Stock mutations loaded:",e.value),Z}catch(K){throw console.error("Error fetching stock mutations:",K),r.value=((W=(B=K.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to fetch stock mutation data",K}finally{s.value=!1}},fetchStockMutation:async M=>{var B,W;s.value=!0,r.value=null;try{const K=i(M);if(K)return t.value=K,K;const Z=await Xe.get(`/stock-mutations/${M}`);let Te;if(Z.data&&typeof Z.data=="object"&&!Array.isArray(Z.data)?Te=Z.data:Z.data&&Z.data.data?Te=Z.data.data:Te=Z.data||Z,!Te||typeof Te!="object")throw new Error("Invalid response data structure");return l(M,Te),t.value=Te,Te}catch(K){throw console.error("Error in fetchStockMutation:",K),r.value=((W=(B=K.response)==null?void 0:B.data)==null?void 0:W.message)||K.message||"Failed to fetch stock mutation",K}finally{s.value=!1}},createStockMutation:async M=>{var B,W;s.value=!0,r.value=null;try{const K=await Xe.post("/stock-mutations",M);return K.data.data||K.data}catch(K){throw r.value=((W=(B=K.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to create stock mutation",K}finally{s.value=!1}},updateStockMutation:async(M,B)=>{var W,K;s.value=!0,r.value=null;try{const Z=await Xe.put(`/stock-mutations/${M}`,B);return u(M),Z.data.data||Z.data}catch(Z){throw r.value=((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"Failed to update stock mutation",Z}finally{s.value=!1}},deleteStockMutation:async M=>{var B,W;s.value=!0,r.value=null;try{return(await Xe.delete(`/stock-mutations/${M}`)).data}catch(K){throw r.value=((W=(B=K.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to delete stock mutation",K}finally{s.value=!1}},submitStockMutation:async M=>{var B,W;s.value=!0,r.value=null;try{const K=await Xe.post(`/stock-mutations/${M}/submit`);return K.data.data||K.data}catch(K){throw r.value=((W=(B=K.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to submit stock mutation",K}finally{s.value=!1}},approveStockMutation:async M=>{var B,W;s.value=!0,r.value=null;try{const K=await Xe.post(`/stock-mutations/${M}/approve`);return K.data.data||K.data}catch(K){throw r.value=((W=(B=K.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to approve stock mutation",K}finally{s.value=!1}},completeStockMutation:async M=>{var B,W;s.value=!0,r.value=null;try{const K=await Xe.post(`/stock-mutations/${M}/complete`);return K.data.data||K.data}catch(K){throw r.value=((W=(B=K.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to complete stock mutation",K}finally{s.value=!1}},cancelStockMutation:async(M,B=null)=>{var W,K;s.value=!0,r.value=null;try{const Z=await Xe.post(`/stock-mutations/${M}/cancel`,{reason:B});return Z.data.data||Z.data}catch(Z){throw r.value=((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"Failed to cancel stock mutation",Z}finally{s.value=!1}},checkStock:async(M,B)=>{var W,K;s.value=!0,r.value=null;try{return(await Xe.get("/stock-mutations/check-stock",{params:{product_id:M,location_id:B}})).data}catch(Z){throw r.value=((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"Failed to check stock",Z}finally{s.value=!1}},fetchStatistics:async(M={})=>{var B,W;s.value=!0,r.value=null;try{const K=await Xe.get("/stock-mutations/statistics",{params:M});return console.log("Statistics response:",K),y.value=K,K}catch(K){throw console.error("Error fetching statistics:",K),r.value=((W=(B=K.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to fetch statistics",K}finally{s.value=!1}},fetchOptions:async(M={})=>{var B,W;s.value=!0,r.value=null;try{const K=await Xe.get("/stock-mutations/options",{params:M});return f.value.locations=K.locations,f.value.products=K.products,K}catch(K){throw r.value=((W=(B=K.response)==null?void 0:B.data)==null?void 0:W.message)||"Failed to fetch options",K}finally{s.value=!1}},fetchLocations:async()=>{var M,B;s.value=!0,r.value=null;try{const W=await Xe.get("/warehouse/locations/active");return f.value||(f.value={products:[],locations:[]}),f.value.locations=W.data,W.data}catch(W){throw r.value=((B=(M=W.response)==null?void 0:M.data)==null?void 0:B.message)||"Failed to fetch locations",W}finally{s.value=!1}},clearMutationCache:u,getStatusClass:M=>({draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",approved:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",completed:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[M]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",getStatusLabel:M=>({draft:"Draft",pending:"Menunggu Persetujuan",approved:"Disetujui",completed:"Selesai",cancelled:"Dibatalkan"})[M]||M,formatNumber:M=>new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(M||0),formatDate:M=>M?new Date(M).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",formatDateTime:M=>M?new Date(M).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}}const nJ={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},iJ={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},lJ={class:"flex items-center justify-between"},dJ={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},cJ={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center"},uJ={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},hJ={class:"flex items-center justify-between"},gJ={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},pJ={class:"w-12 h-12 bg-gray-100 dark:bg-gray-900/20 rounded-lg flex items-center justify-center"},mJ={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},fJ={class:"flex items-center justify-between"},yJ={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},vJ={class:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center"},xJ={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},bJ={class:"flex items-center justify-between"},kJ={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},wJ={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center"},_J={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},$J={class:"flex items-center justify-between"},CJ={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},SJ={class:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center"},EJ={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},TJ={class:"flex items-center justify-between"},AJ={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},LJ={class:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center"},MJ={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},PJ={class:"flex items-center justify-between"},DJ={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},IJ={class:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/20 rounded-lg flex items-center justify-center"},OJ={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},FJ={class:"flex items-center justify-between"},RJ={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},jJ={class:"w-12 h-12 bg-teal-100 dark:bg-teal-900/20 rounded-lg flex items-center justify-center"},NJ={__name:"StockMutationStats",props:{statistics:{type:Object,default:()=>({})}},setup(e){const t=e,s=fe(()=>({total_this_month:t.statistics.total_this_month||0,draft_count:t.statistics.draft_count||0,pending_count:t.statistics.pending_count||0,approved_count:t.statistics.approved_count||0,completed_count:t.statistics.completed_count||0,cancelled_count:t.statistics.cancelled_count||0,total_items:t.statistics.total_items||0,total_transactions:t.statistics.total_transactions||0})),r=o=>new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(o||0);return(o,n)=>($(),S("div",nJ,[a("div",iJ,[a("div",lJ,[a("div",null,[n[0]||(n[0]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Bulan Ini ",-1)),a("p",dJ,k(s.value.total_this_month||0),1)]),a("div",cJ,[L(F(Iv),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})])])]),a("div",uJ,[a("div",hJ,[a("div",null,[n[1]||(n[1]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Draft ",-1)),a("p",gJ,k(s.value.draft_count||0),1)]),a("div",pJ,[L(F(an),{class:"w-6 h-6 text-gray-600 dark:text-gray-400"})])])]),a("div",mJ,[a("div",fJ,[a("div",null,[n[2]||(n[2]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Menunggu Persetujuan ",-1)),a("p",yJ,k(s.value.pending_count||0),1)]),a("div",vJ,[L(F(qr),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})])])]),a("div",xJ,[a("div",bJ,[a("div",null,[n[3]||(n[3]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Disetujui ",-1)),a("p",kJ,k(s.value.approved_count||0),1)]),a("div",wJ,[L(F(Hv),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})])])]),a("div",_J,[a("div",$J,[a("div",null,[n[4]||(n[4]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Selesai ",-1)),a("p",CJ,k(s.value.completed_count||0),1)]),a("div",SJ,[L(F(Fs),{class:"w-6 h-6 text-green-600 dark:text-green-400"})])])]),a("div",EJ,[a("div",TJ,[a("div",null,[n[5]||(n[5]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Dibatalkan ",-1)),a("p",AJ,k(s.value.cancelled_count||0),1)]),a("div",LJ,[L(F(il),{class:"w-6 h-6 text-red-600 dark:text-red-400"})])])]),a("div",MJ,[a("div",PJ,[a("div",null,[n[6]||(n[6]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Item Dipindah ",-1)),a("p",DJ,k(r(s.value.total_items||0)),1)]),a("div",IJ,[L(F(Ra),{class:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})])])]),a("div",OJ,[a("div",FJ,[a("div",null,[n[7]||(n[7]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Transaksi ",-1)),a("p",RJ,k(s.value.total_transactions||0),1)]),a("div",jJ,[L(F(Pn),{class:"w-6 h-6 text-teal-600 dark:text-teal-400"})])])])]))}},VJ={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},BJ={class:"flex items-center justify-between mb-4"},UJ={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},HJ={key:0,class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},qJ={class:"flex flex-wrap gap-2"},zJ=["onClick"],WJ={__name:"StockMutationFilters",props:{locations:{type:Array,default:()=>[]},products:{type:Array,default:()=>[]},loadingProducts:{type:Boolean,default:!1}},emits:["filter-change"],setup(e,{emit:t}){const s=e,r=t,o=O({search:"",status:"",from_location_id:"",to_location_id:"",product_id:"",start_date:"",end_date:"",per_page:15}),n=[{value:"",label:"Semua Status"},{value:"draft",label:"Draft"},{value:"pending",label:"Menunggu Persetujuan"},{value:"approved",label:"Disetujui"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Dibatalkan"}],i=[{value:10,label:"10"},{value:15,label:"15"},{value:25,label:"25"},{value:50,label:"50"},{value:100,label:"100"}],l=fe(()=>[{value:"",label:"Semua Lokasi"},...s.locations.map(d=>({value:d.id,label:`${d.code} - ${d.name}`}))]),u=fe(()=>[{value:"",label:"Semua Produk"},...s.products.map(d=>({value:d.id,label:`${d.product_code} - ${d.product_name}`}))]),m=fe(()=>Object.keys(y.value).length>0),y=fe(()=>{const d={};return Object.keys(o.value).forEach(p=>{const v=o.value[p];v!==""&&v!==null&&v!==void 0&&p!=="per_page"&&(d[p]=v)}),d}),f=(d,p)=>{o.value[d]=p,r("filter-change",{...o.value})},x=d=>{o.value[d]="",r("filter-change",{...o.value})},c=()=>{Object.keys(o.value).forEach(d=>{d!=="per_page"&&(o.value[d]="")}),r("filter-change",{...o.value})},h=d=>({search:"Cari",status:"Status",from_location_id:"Lokasi Asal",to_location_id:"Lokasi Tujuan",product_id:"Produk",start_date:"Tanggal Mulai",end_date:"Tanggal Selesai"})[d]||d,g=(d,p)=>{switch(d){case"status":const v=n.find(E=>E.value===p);return v?v.label:p;case"from_location_id":case"to_location_id":const b=s.locations.find(E=>E.id===p);return b?`${b.code} - ${b.name}`:p;case"product_id":const w=s.products.find(E=>E.id===p);return w?`${w.product_code} - ${w.product_name}`:p;case"start_date":case"end_date":return new Date(p).toLocaleDateString("id-ID");default:return p}};return Et(()=>s.filters,d=>{d&&(o.value={...o.value,...d})},{immediate:!0,deep:!0}),(d,p)=>($(),S("div",VJ,[a("div",BJ,[p[16]||(p[16]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Filter ",-1)),m.value?($(),S("button",{key:0,onClick:c,class:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}," Reset Filter ")):G("",!0)]),a("div",UJ,[a("div",null,[L(et,{modelValue:o.value.search,"onUpdate:modelValue":[p[0]||(p[0]=v=>o.value.search=v),p[1]||(p[1]=v=>f("search",v))],label:"Cari",placeholder:"Nomor transaksi, referensi, atau produk"},null,8,["modelValue"])]),a("div",null,[L(ut,{modelValue:o.value.status,"onUpdate:modelValue":[p[2]||(p[2]=v=>o.value.status=v),p[3]||(p[3]=v=>f("status",v))],label:"Status",options:n},null,8,["modelValue"])]),a("div",null,[L(ut,{modelValue:o.value.from_location_id,"onUpdate:modelValue":[p[4]||(p[4]=v=>o.value.from_location_id=v),p[5]||(p[5]=v=>f("from_location_id",v))],label:"Lokasi Asal",options:l.value},null,8,["modelValue","options"])]),a("div",null,[L(ut,{modelValue:o.value.to_location_id,"onUpdate:modelValue":[p[6]||(p[6]=v=>o.value.to_location_id=v),p[7]||(p[7]=v=>f("to_location_id",v))],label:"Lokasi Tujuan",options:l.value},null,8,["modelValue","options"])]),a("div",null,[L(et,{modelValue:o.value.start_date,"onUpdate:modelValue":[p[8]||(p[8]=v=>o.value.start_date=v),p[9]||(p[9]=v=>f("start_date",v))],label:"Tanggal Mulai",type:"date"},null,8,["modelValue"])]),a("div",null,[L(et,{modelValue:o.value.end_date,"onUpdate:modelValue":[p[10]||(p[10]=v=>o.value.end_date=v),p[11]||(p[11]=v=>f("end_date",v))],label:"Tanggal Selesai",type:"date"},null,8,["modelValue"])]),a("div",null,[L(dr,{modelValue:o.value.product_id,"onUpdate:modelValue":[p[12]||(p[12]=v=>o.value.product_id=v),p[13]||(p[13]=v=>f("product_id",v))],label:"Produk",options:u.value,loading:e.loadingProducts},null,8,["modelValue","options","loading"])]),a("div",null,[L(ut,{modelValue:o.value.per_page,"onUpdate:modelValue":[p[14]||(p[14]=v=>o.value.per_page=v),p[15]||(p[15]=v=>f("per_page",v))],label:"Per Halaman",options:i},null,8,["modelValue"])])]),m.value?($(),S("div",HJ,[a("div",qJ,[p[17]||(p[17]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Filter aktif:",-1)),($(!0),S(Qe,null,ot(y.value,(v,b)=>($(),S("span",{key:b,class:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 rounded"},[ke(k(h(b))+": "+k(g(b,v))+" ",1),a("button",{onClick:w=>x(b),class:"hover:text-blue-600 dark:hover:text-blue-300"},[L(F(ll),{class:"w-3 h-3"})],8,zJ)]))),128))])])):G("",!0)]))}},KJ={class:"space-y-4"},YJ={class:"flex justify-between items-center"},GJ={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg"},JJ={class:"flex flex-col items-center"},QJ={key:1,class:"space-y-3"},XJ={class:"grid grid-cols-1 md:grid-cols-12 gap-4 items-start"},ZJ={class:"md:col-span-5"},eQ={class:"md:col-span-2"},tQ={class:"md:col-span-3"},sQ={class:"text-sm text-gray-900 dark:text-white font-medium"},aQ={class:"text-gray-500 dark:text-gray-400"},rQ={key:0,class:"text-xs text-red-600 dark:text-red-400 mt-1"},oQ={class:"md:col-span-2 flex items-end justify-end"},nQ=["onClick"],iQ={key:0,class:"mt-3"},lQ={key:2,class:"border-t border-gray-200 dark:border-gray-700 pt-4"},dQ={class:"flex justify-between items-center"},cQ={class:"text-lg font-semibold text-gray-900 dark:text-white"},uQ={__name:"StockMutationItemsTable",props:{modelValue:{type:Array,default:()=>[]},products:{type:Array,default:()=>[]},loadingProducts:{type:Boolean,default:!1},errors:{type:Object,default:()=>({})}},emits:["update:modelValue","item-changed"],setup(e,{emit:t}){const s=e,r=t,o=fe({get:()=>s.modelValue,set:x=>r("update:modelValue",x)}),n=fe(()=>s.products.map(x=>{var c;return{value:x.id,label:`${x.product_code} - ${x.product_name}`,extra:{available_stock:x.available_stock||0,unit:((c=x.unit)==null?void 0:c.code)||""}}})),i=()=>{const x={product_id:"",quantity:1,notes:"",available_stock:0};o.value=[...o.value,x]},l=x=>{o.value=o.value.filter((c,h)=>h!==x)},u=x=>{const c=o.value[x],h=s.products.find(g=>g.id===c.product_id);h?(c.available_stock=h.available_stock||0,c.quantity>c.available_stock&&(c.quantity=Math.min(c.quantity,c.available_stock))):c.available_stock=0,r("item-changed",{index:x,item:c})},m=x=>{const c=s.products.find(h=>h.id===x);return c&&c.available_stock||0},y=x=>{var h;const c=s.products.find(g=>g.id===x);return((h=c==null?void 0:c.unit)==null?void 0:h.code)||""},f=x=>new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(x||0);return Et(o,x=>{r("update:modelValue",x),r("item-changed",x)},{deep:!0}),(x,c)=>($(),S("div",KJ,[a("div",YJ,[c[1]||(c[1]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Produk ",-1)),a("button",{type:"button",onClick:i,class:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/30"},[L(F(la),{class:"w-4 h-4"}),c[0]||(c[0]=ke(" Tambah Produk ",-1))])]),o.value.length===0?($(),S("div",GJ,[a("div",JJ,[L(F(la),{class:"w-12 h-12 text-gray-400 mb-3"}),c[2]||(c[2]=a("p",{class:"text-lg font-medium"},"Belum ada produk ditambahkan",-1)),c[3]||(c[3]=a("p",{class:"text-sm mt-1"},'Klik "Tambah Produk" untuk memulai',-1))])])):($(),S("div",QJ,[($(!0),S(Qe,null,ot(o.value,(h,g)=>{var d,p,v;return $(),S("div",{key:g,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600"},[a("div",XJ,[a("div",ZJ,[L(dr,{modelValue:h.product_id,"onUpdate:modelValue":[b=>h.product_id=b,b=>u(g)],label:"Produk",options:n.value,loading:e.loadingProducts,error:(d=e.errors)==null?void 0:d[`items.${g}.product_id`],required:""},null,8,["modelValue","onUpdate:modelValue","options","loading","error"])]),a("div",eQ,[L(et,{modelValue:h.quantity,"onUpdate:modelValue":b=>h.quantity=b,modelModifiers:{number:!0},label:"Jumlah",type:"number",min:"0.01",step:"0.01",error:(p=e.errors)==null?void 0:p[`items.${g}.quantity`],required:""},null,8,["modelValue","onUpdate:modelValue","error"])]),a("div",tQ,[c[4]||(c[4]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Stok Tersedia ",-1)),a("div",sQ,[ke(k(f(m(h.product_id)))+" ",1),a("span",aQ,k(y(h.product_id)),1)]),h.quantity>m(h.product_id)?($(),S("div",rQ,"  Stok tidak mencukupi ")):G("",!0)]),a("div",oQ,[a("button",{type:"button",onClick:b=>l(g),class:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:bg-red-900/20",title:"Hapus Item"},[L(F(ll),{class:"w-4 h-4"})],8,nQ)])]),h.product_id?($(),S("div",iQ,[L(ws,{modelValue:h.notes,"onUpdate:modelValue":b=>h.notes=b,label:"Catatan (opsional)",placeholder:"Catatan untuk item ini",rows:"2",error:(v=e.errors)==null?void 0:v[`items.${g}.notes`]},null,8,["modelValue","onUpdate:modelValue","error"])])):G("",!0)])}),128))])),o.value.length>0?($(),S("div",lQ,[a("div",dQ,[c[5]||(c[5]=a("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Total Item: ",-1)),a("span",cQ,k(o.value.length)+" produk ",1)])])):G("",!0)]))}},hQ={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gQ={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pQ={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},mQ={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"},fQ=["disabled"],yQ={key:0},vQ={key:1},xQ={__name:"StockMutationFormModal",props:{isOpen:{type:Boolean,default:!1},editingItem:{type:Object,default:null},locationOptions:{type:Array,default:()=>[]},products:{type:Array,default:()=>[]},loadingProducts:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},errors:{type:Object,default:()=>({})}},emits:["close","save","from-location-changed"],setup(e,{emit:t}){const s=e,r=t,o=O({transaction_date:new Date().toISOString().split("T")[0],from_location_id:"",to_location_id:"",reference_number:"",notes:"",items:[]}),n=fe(()=>{const x=o.value.items.length>0&&o.value.items.every(h=>{const g=parseFloat(h.quantity),d=h.product_id&&!isNaN(g)&&g>0;return d||console.log("Invalid item:",{product_id:h.product_id,quantity:h.quantity,parsed_quantity:g,isNaN:isNaN(g)}),d}),c=o.value.from_location_id&&o.value.to_location_id&&o.value.from_location_id!==o.value.to_location_id&&x;return console.log("Form validation:",{from_location_id:o.value.from_location_id,to_location_id:o.value.to_location_id,locations_different:o.value.from_location_id!==o.value.to_location_id,items_count:o.value.items.length,hasValidItems:x,canSubmit:c}),c}),i=()=>{o.value={transaction_date:new Date().toISOString().split("T")[0],from_location_id:"",to_location_id:"",reference_number:"",notes:"",items:[]}},l=()=>{s.saving||(i(),r("close"))},u=()=>{!n.value||s.saving||r("save",{...o.value})},m=()=>{o.value.items=[],o.value.from_location_id&&r("from-location-changed",o.value.from_location_id)},y=()=>{},f=x=>{if(!x)return new Date().toISOString().split("T")[0];try{const c=new Date(x);return isNaN(c.getTime())?(console.warn("Invalid date format received:",x),new Date().toISOString().split("T")[0]):c.toISOString().split("T")[0]}catch(c){return console.warn("Error parsing date:",x,c),new Date().toISOString().split("T")[0]}};return Et(()=>s.editingItem,x=>{if(x){const c=(x.details||[]).map(h=>({id:h.id,product_id:h.product_id,quantity:parseFloat(h.quantity)||0,available_stock:parseFloat(h.available_stock)||0,notes:h.notes||"",product:h.product||null}));o.value={transaction_date:f(x.transaction_date),from_location_id:x.from_location_id||"",to_location_id:x.to_location_id||"",reference_number:x.reference_number||"",notes:x.notes||"",items:c},x.from_location_id&&r("from-location-changed",x.from_location_id)}else i()},{immediate:!0}),Et(()=>s.isOpen,x=>{!x&&!s.editingItem&&i()}),(x,c)=>($(),it(Vt,{"is-open":e.isOpen,title:e.editingItem?"Edit Mutasi Stok":"Mutasi Stok Baru",size:"6xl",onClose:l},{default:le(()=>{var h,g,d,p,v;return[a("form",{onSubmit:Bt(u,["prevent"]),class:"space-y-6"},[a("div",hQ,[L(et,{modelValue:o.value.transaction_date,"onUpdate:modelValue":c[0]||(c[0]=b=>o.value.transaction_date=b),label:"Tanggal Mutasi",type:"date",required:"",error:(h=e.errors)==null?void 0:h.transaction_date},null,8,["modelValue","error"]),L(et,{modelValue:o.value.reference_number,"onUpdate:modelValue":c[1]||(c[1]=b=>o.value.reference_number=b),label:"Nomor Referensi",placeholder:"Nomor referensi (opsional)",error:(g=e.errors)==null?void 0:g.reference_number},null,8,["modelValue","error"])]),a("div",gQ,[L(ut,{modelValue:o.value.from_location_id,"onUpdate:modelValue":[c[2]||(c[2]=b=>o.value.from_location_id=b),m],label:"Lokasi Asal",options:e.locationOptions,required:"",error:(d=e.errors)==null?void 0:d.from_location_id},null,8,["modelValue","options","error"]),L(ut,{modelValue:o.value.to_location_id,"onUpdate:modelValue":c[3]||(c[3]=b=>o.value.to_location_id=b),label:"Lokasi Tujuan",options:e.locationOptions,required:"",error:(p=e.errors)==null?void 0:p.to_location_id},null,8,["modelValue","options","error"])]),L(ws,{modelValue:o.value.notes,"onUpdate:modelValue":c[4]||(c[4]=b=>o.value.notes=b),label:"Catatan",placeholder:"Catatan tambahan (opsional)",rows:"2",error:(v=e.errors)==null?void 0:v.notes},null,8,["modelValue","error"]),a("div",pQ,[L(uQ,{modelValue:o.value.items,"onUpdate:modelValue":c[5]||(c[5]=b=>o.value.items=b),products:e.products,"loading-products":e.loadingProducts,errors:e.errors,onItemChanged:y},null,8,["modelValue","products","loading-products","errors"])]),a("div",mQ,[a("button",{type:"button",onClick:Bt(l,["stop","prevent"]),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Batal "),a("button",{type:"submit",disabled:e.saving||!n.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[e.saving?($(),S("span",yQ,"Menyimpan...")):($(),S("span",vQ,k(e.editingItem?"Update":"Simpan"),1))],8,fQ)])],32)]}),_:1},8,["is-open","title"]))}},bQ={class:"flex items-center justify-end gap-2"},kQ={__name:"StockMutationActions",props:{item:{type:Object,required:!0}},emits:["view","edit","submit","approve","complete","delete","cancel"],setup(e){return(t,s)=>($(),S("div",bQ,[L(Ma,{icon:"eye",color:"blue",title:"Lihat Detail Mutasi","tooltip-position":"top",onClick:s[0]||(s[0]=r=>t.$emit("view",e.item))}),e.item.status==="draft"?($(),it(Ma,{key:0,icon:"pencil",color:"blue",title:"Edit Mutasi","tooltip-position":"top",onClick:s[1]||(s[1]=r=>t.$emit("edit",e.item))})):G("",!0),e.item.status==="draft"?($(),it(Ma,{key:1,icon:"check",color:"green",title:"Ajukan untuk Persetujuan","tooltip-position":"top",onClick:s[2]||(s[2]=r=>t.$emit("submit",e.item))})):G("",!0),e.item.status==="pending"?($(),it(Ma,{key:2,icon:"check-circle",color:"green",title:"Setujui Mutasi","tooltip-position":"top",onClick:s[3]||(s[3]=r=>t.$emit("approve",e.item))})):G("",!0),e.item.status==="approved"?($(),it(Ma,{key:3,icon:"check-badge",color:"blue",title:"Selesaikan Mutasi","tooltip-position":"top",onClick:s[4]||(s[4]=r=>t.$emit("complete",e.item))})):G("",!0),e.item.status==="draft"?($(),it(Ma,{key:4,icon:"trash",color:"red",title:"Hapus Mutasi","tooltip-position":"top",onClick:s[5]||(s[5]=r=>t.$emit("delete",e.item))})):G("",!0),["draft","pending","approved"].includes(e.item.status)?($(),it(Ma,{key:5,icon:"x-mark",color:"red",title:"Batalkan Mutasi","tooltip-position":"top",onClick:s[6]||(s[6]=r=>t.$emit("cancel",e.item))})):G("",!0)]))}},wQ={key:0,class:"space-y-6"},_Q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$Q={class:"mt-1 text-sm text-gray-900 dark:text-white font-mono"},CQ={class:"mt-1 text-sm text-gray-900 dark:text-white"},SQ={class:"mt-1 text-sm text-gray-900 dark:text-white"},EQ={class:"mt-1 text-sm text-gray-900 dark:text-white"},TQ={class:"mt-1 text-sm text-gray-900 dark:text-white"},AQ={class:"mt-1 text-sm text-gray-900 dark:text-white"},LQ={class:"mt-1 text-sm text-gray-900 dark:text-white"},MQ={key:0,class:"border-t border-gray-200 dark:border-gray-700 pt-4"},PQ={class:"space-y-3"},DQ={key:0,class:"flex items-center justify-between p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg"},IQ={class:"flex items-center"},OQ={class:"text-xs text-gray-500 dark:text-gray-400"},FQ={class:"text-xs text-gray-500 dark:text-gray-400"},RQ={key:1,class:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg"},jQ={class:"flex items-center"},NQ={class:"text-xs text-gray-500 dark:text-gray-400"},VQ={class:"text-xs text-gray-500 dark:text-gray-400"},BQ={key:2,class:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg"},UQ={class:"flex items-center"},HQ={class:"text-xs text-gray-500 dark:text-gray-400"},qQ={class:"text-xs text-gray-500 dark:text-gray-400"},zQ={key:3,class:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg"},WQ={class:"flex items-center"},KQ={class:"text-xs text-gray-500 dark:text-gray-400"},YQ={class:"text-xs text-gray-500 dark:text-gray-400"},GQ={key:1,class:"border-t border-gray-200 dark:border-gray-700 pt-4"},JQ={class:"text-sm text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-700 p-3 rounded-lg"},QQ={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},XQ={class:"overflow-x-auto"},ZQ={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},eX={class:"bg-gray-50 dark:bg-gray-700"},tX={key:0,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400"},sX={class:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700"},aX={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white font-mono"},rX={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},oX={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},nX={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},iX={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},lX={key:0,class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},dX={class:"border-t border-gray-200 dark:border-gray-700 pt-4"},cX={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},uX={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},hX={class:"text-2xl font-bold text-gray-900 dark:text-white"},gX={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},pX={class:"text-2xl font-bold text-gray-900 dark:text-white"},mX={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},fX={class:"text-lg font-bold text-gray-900 dark:text-white"},yX={__name:"StockMutationDetails",props:{mutation:{type:Object,required:!0},products:{type:Array,default:()=>[]}},setup(e){const t=e,s=fe(()=>t.mutation.submitted_at||t.mutation.approved_at||t.mutation.completed_at||t.mutation.cancelled_at),r=fe(()=>{var y;return(y=t.mutation.details)==null?void 0:y.some(f=>f.notes)}),o=fe(()=>{var y;return((y=t.mutation.details)==null?void 0:y.reduce((f,x)=>f+parseFloat(x.quantity||0),0))||0}),n=y=>{const f={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",approved:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",completed:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return f[y]||f.draft},i=y=>({draft:"Draft",pending:"Menunggu Persetujuan",approved:"Disetujui",completed:"Selesai",cancelled:"Dibatalkan"})[y]||y,l=y=>new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(y||0),u=y=>y?new Date(y).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",m=y=>y?new Date(y).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return(y,f)=>{var x,c,h,g,d,p,v;return e.mutation?($(),S("div",wQ,[a("div",_Q,[a("div",null,[f[0]||(f[0]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Transaction Number ",-1)),a("p",$Q,k(e.mutation.transaction_number),1)]),a("div",null,[f[1]||(f[1]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Transaction Date ",-1)),a("p",CQ,k(u(e.mutation.transaction_date)),1)]),a("div",null,[f[2]||(f[2]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," From Location ",-1)),a("p",SQ,k(((x=e.mutation.from_location)==null?void 0:x.name)||"-"),1)]),a("div",null,[f[3]||(f[3]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," To Location ",-1)),a("p",EQ,k(((c=e.mutation.to_location)==null?void 0:c.name)||"-"),1)]),a("div",null,[f[4]||(f[4]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Reference Number ",-1)),a("p",TQ,k(e.mutation.reference_number||"-"),1)]),a("div",null,[f[5]||(f[5]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Status ",-1)),a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-1",n(e.mutation.status)])},k(i(e.mutation.status)),3)]),a("div",null,[f[6]||(f[6]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Created By ",-1)),a("p",AQ,k(((h=e.mutation.creator)==null?void 0:h.name)||"-"),1)]),a("div",null,[f[7]||(f[7]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Created At ",-1)),a("p",LQ,k(m(e.mutation.created_at)),1)])]),s.value?($(),S("div",MQ,[f[12]||(f[12]=a("h4",{class:"text-lg font-medium text-gray-900 dark:text-white mb-3"}," Status History ",-1)),a("div",PQ,[e.mutation.submitted_at?($(),S("div",DQ,[a("div",IQ,[L(F(qr),{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-3"}),a("div",null,[f[8]||(f[8]=a("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Submitted for Approval ",-1)),a("p",OQ," By "+k(((g=e.mutation.submitter)==null?void 0:g.name)||"Unknown"),1)])]),a("span",FQ,k(m(e.mutation.submitted_at)),1)])):G("",!0),e.mutation.approved_at?($(),S("div",RQ,[a("div",jQ,[L(F(Fs),{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"}),a("div",null,[f[9]||(f[9]=a("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Approved ",-1)),a("p",NQ," By "+k(((d=e.mutation.approver)==null?void 0:d.name)||"Unknown"),1)])]),a("span",VQ,k(m(e.mutation.approved_at)),1)])):G("",!0),e.mutation.completed_at?($(),S("div",BQ,[a("div",UQ,[L(F(Eo),{class:"w-5 h-5 text-green-600 dark:text-green-400 mr-3"}),a("div",null,[f[10]||(f[10]=a("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Completed ",-1)),a("p",HQ," By "+k(((p=e.mutation.completer)==null?void 0:p.name)||"Unknown"),1)])]),a("span",qQ,k(m(e.mutation.completed_at)),1)])):G("",!0),e.mutation.cancelled_at?($(),S("div",zQ,[a("div",WQ,[L(F(il),{class:"w-5 h-5 text-red-600 dark:text-red-400 mr-3"}),a("div",null,[f[11]||(f[11]=a("p",{class:"text-sm font-medium text-gray-900 dark:text-white"}," Cancelled ",-1)),a("p",KQ," Reason: "+k(e.mutation.cancellation_reason||"Not specified"),1)])]),a("span",YQ,k(m(e.mutation.cancelled_at)),1)])):G("",!0)])])):G("",!0),e.mutation.notes?($(),S("div",GQ,[f[13]||(f[13]=a("h4",{class:"text-lg font-medium text-gray-900 dark:text-white mb-3"}," Notes ",-1)),a("p",JQ,k(e.mutation.notes),1)])):G("",!0),a("div",QQ,[f[19]||(f[19]=a("h4",{class:"text-lg font-medium text-gray-900 dark:text-white mb-3"}," Products ",-1)),a("div",XQ,[a("table",ZQ,[a("thead",eX,[a("tr",null,[f[14]||(f[14]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400"}," Product Code ",-1)),f[15]||(f[15]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400"}," Product Name ",-1)),f[16]||(f[16]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400"}," Quantity ",-1)),f[17]||(f[17]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400"}," Available Stock ",-1)),f[18]||(f[18]=a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400"}," Unit ",-1)),r.value?($(),S("th",tX," Notes ")):G("",!0)])]),a("tbody",sX,[($(!0),S(Qe,null,ot(e.mutation.details,b=>{var w,E,C,T;return $(),S("tr",{key:b.id},[a("td",aX,k((w=b.product)==null?void 0:w.product_code),1),a("td",rX,k((E=b.product)==null?void 0:E.product_name),1),a("td",oX,k(l(b.quantity)),1),a("td",nX,k(l(b.available_stock)),1),a("td",iX,k(((T=(C=b.product)==null?void 0:C.unit)==null?void 0:T.code)||"-"),1),r.value?($(),S("td",lX,k(b.notes||"-"),1)):G("",!0)])}),128))])])])]),a("div",dX,[a("div",cX,[a("div",uX,[f[20]||(f[20]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Items ",-1)),a("p",hX,k(((v=e.mutation.details)==null?void 0:v.length)||0),1)]),a("div",gX,[f[21]||(f[21]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Quantity ",-1)),a("p",pX,k(l(o.value)),1)]),a("div",mX,[f[22]||(f[22]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Status ",-1)),a("p",fX,k(i(e.mutation.status)),1)])])])])):G("",!0)}}},vX={class:"space-y-6"},xX={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},bX={class:"flex items-center gap-3"},kX={class:"font-mono text-sm"},wX={class:"flex items-center"},_X={class:"flex items-center"},$X={class:"text-sm font-medium"},CX={key:0,class:"flex items-center justify-center py-12"},SX={key:0,class:"flex items-center justify-center py-12"},EX={key:2,class:"flex items-center justify-center py-12"},TX={class:"space-y-4"},AX={class:"bg-yellow-50 border-l-4 border-yellow-400 p-4 dark:bg-yellow-900/20 dark:border-yellow-600"},LX={class:"flex"},MX={class:"ml-3"},PX={class:"text-sm text-yellow-700 dark:text-yellow-300"},DX={key:0},IX={key:1},OX=["disabled"],FX={key:0,class:"mt-1 text-sm text-red-600 dark:text-red-400"},RX={class:"flex justify-end space-x-3 pt-4"},jX=["disabled"],NX=["disabled"],VX={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},BX={__name:"Mutasi",setup(e){const t=Ut(),{stockMutations:s,loading:r,pagination:o,statistics:n,options:i,fetchStockMutations:l,fetchStockMutation:u,createStockMutation:m,updateStockMutation:y,deleteStockMutation:f,submitStockMutation:x,approveStockMutation:c,completeStockMutation:h,cancelStockMutation:g,fetchStatistics:d,fetchOptions:p,getStatusLabel:v,getStatusClass:b,formatDate:w,formatDateTime:E}=oJ(),C=O(!1),T=O(!1),P=O(!1),A=O(null),j=O(!1),V=O(null),H=O(!1),R=O(!1),M=O(null),B=O(!1),W=O(!1),K=O(null),Z=O(!1),Te=O(!1),_e=O(null),ye=O(!1),z=O(!1),q=O(null),X=O(!1),se=O(""),Ae=O(""),me=O(!1),Le=O(null),Re=O(!1),Ze=O(!1),We=O({}),ae=O([]),ge=O(!1),ne=O(!1),ee=O({search:"",status:"",from_location_id:"",to_location_id:"",product_id:"",start_date:"",end_date:"",per_page:15,page:1,sort_by:"transaction_date",sort_order:"desc"}),ue=fe(()=>{var Se,mt;return(Se=i.value)!=null&&Se.locations?(mt=i.value)==null?void 0:mt.locations.map($t=>({value:$t.id,label:`${$t.code} - ${$t.name}`})):[]}),he=[{key:"transaction_number",label:"Transaction Number",sortable:!0},{key:"transaction_date",label:"Date",sortable:!0,type:"date"},{key:"from_location_name",label:"From",sortable:!0},{key:"to_location_name",label:"To",sortable:!0},{key:"details_count",label:"Items",sortable:!0},{key:"status",label:"Status",sortable:!0,type:"badge"},{key:"created_by",label:"Created By",sortable:!0},{key:"created_at",label:"Created At",sortable:!0,type:"date"}],Ce=async()=>{try{await l(ee.value)}catch(Se){console.error("Error loading mutations:",Se),t.error("Failed to load mutation data")}},J=async()=>{try{const Se=await d();console.log("Statistics loaded in component:",Se),console.log("Current statistics value:",n.value)}catch(Se){console.error("Failed to load statistics:",Se)}},D=async()=>{try{await p()}catch(Se){console.error("Failed to load options:",Se)}},N=Se=>{ee.value={...ee.value,...Se,page:1},Ce()},U=Se=>{ee.value.page=Se,Ce()},Q=({sortBy:Se,sortOrder:mt})=>{ee.value.sort_by=Se,ee.value.sort_order=mt,ee.value.page=1,Ce()},Ge=async Se=>{var mt;if(Se){ge.value=!0;try{const $t=await p({from_location_id:Se});ae.value=$t.products||[]}catch($t){console.error("Failed to load products with stock:",$t)}finally{ge.value=!1}}else ae.value=((mt=i.value)==null?void 0:mt.products)||[]},He=async Se=>{var mt,$t,qe;me.value=!0,Re.value=!0,Le.value=null;try{Le.value=await u(Se.id)}catch(ce){if(console.error("Error loading mutation details:",ce),ce.code==="NETWORK_ERROR"||ce.code==="TIMEOUT"||((mt=ce.response)==null?void 0:mt.status)>=500||!ce.response){console.warn("Network error detected, attempting retry...");try{await new Promise(ts=>setTimeout(ts,1e3)),Le.value=await u(Se.id)}catch(ts){console.error("Retry also failed:",ts),t.error("Failed to load mutation details. Please check your connection and try again."),me.value=!1}}else{const ts=((qe=($t=ce.response)==null?void 0:$t.data)==null?void 0:qe.message)||ce.message||"Failed to load mutation details";t.error(ts),me.value=!1}}finally{Re.value=!1}},pe=async Se=>{var mt,$t,qe;P.value=!0,Ze.value=!0;try{Le.value=await u(Se.id),A.value=Le.value,Se.from_location_id&&await Ge(Se.from_location_id)}catch(ce){if(console.error("Error loading mutation for editing:",ce),ce.code==="NETWORK_ERROR"||ce.code==="TIMEOUT"||((mt=ce.response)==null?void 0:mt.status)>=500||!ce.response){console.warn("Network error detected, attempting retry for edit...");try{await new Promise(ts=>setTimeout(ts,1e3)),Le.value=await u(Se.id),A.value=Le.value,Se.from_location_id&&await Ge(Se.from_location_id)}catch(ts){console.error("Retry also failed for edit:",ts),t.error("Failed to load mutation for editing. Please check your connection and try again."),P.value=!1,A.value=null}}else{const ts=((qe=($t=ce.response)==null?void 0:$t.data)==null?void 0:qe.message)||ce.message||"Failed to load mutation for editing";t.error(ts),P.value=!1,A.value=null}}finally{Ze.value=!1}},ie=async Se=>{var mt,$t,qe,ce;T.value=!0,We.value={};try{A.value?(await y(A.value.id,Se),t.success("Mutation updated successfully")):(await m(Se),t.success("Mutation created successfully")),Yt(),await Ce(),await J()}catch(Ve){($t=(mt=Ve.response)==null?void 0:mt.data)!=null&&$t.errors?We.value=Ve.response.data.errors:t.error(((ce=(qe=Ve.response)==null?void 0:qe.data)==null?void 0:ce.message)||"Failed to save mutation")}finally{T.value=!1}},Oe=Se=>{M.value=Se,R.value=!0},nt=async()=>{var Se,mt;if(M.value){B.value=!0;try{await x(M.value.id),t.success("Mutation submitted successfully for approval"),R.value=!1,M.value=null,await Ce(),await J()}catch($t){t.error(((mt=(Se=$t.response)==null?void 0:Se.data)==null?void 0:mt.message)||"Failed to submit mutation")}finally{B.value=!1}}},Fe=Se=>{K.value=Se,W.value=!0},re=async()=>{var Se,mt;if(K.value){Z.value=!0;try{await c(K.value.id),t.success("Mutation approved successfully"),W.value=!1,K.value=null,await Ce(),await J()}catch($t){t.error(((mt=(Se=$t.response)==null?void 0:Se.data)==null?void 0:mt.message)||"Failed to approve mutation")}finally{Z.value=!1}}},Y=Se=>{_e.value=Se,Te.value=!0},we=async()=>{var Se,mt;if(_e.value){ye.value=!0;try{await h(_e.value.id),t.success("Mutation completed successfully"),Te.value=!1,_e.value=null,await Ce(),await J()}catch($t){t.error(((mt=(Se=$t.response)==null?void 0:Se.data)==null?void 0:mt.message)||"Failed to complete mutation")}finally{ye.value=!1}}},Ht=Se=>{q.value=Se,z.value=!0},je=async()=>{var Se,mt;if(q.value){if(Ae.value="",!se.value.trim()){Ae.value="Cancellation reason is required";return}X.value=!0;try{await g(q.value.id,se.value.trim()),t.success("Mutation cancelled successfully"),rs(),await Ce(),await J()}catch($t){t.error(((mt=(Se=$t.response)==null?void 0:Se.data)==null?void 0:mt.message)||"Failed to cancel mutation")}finally{X.value=!1}}},de=Se=>{V.value=Se,j.value=!0},De=async()=>{var Se,mt;if(V.value){H.value=!0;try{await f(V.value.id),t.success("Mutation deleted successfully"),j.value=!1,V.value=null,await Ce(),await J()}catch($t){t.error(((mt=(Se=$t.response)==null?void 0:Se.data)==null?void 0:mt.message)||"Failed to delete mutation")}finally{H.value=!1}}},Yt=()=>{var Se;P.value=!1,A.value=null,Le.value=null,Ze.value=!1,R.value=!1,M.value=null,B.value=!1,W.value=!1,K.value=null,Z.value=!1,Te.value=!1,_e.value=null,ye.value=!1,z.value=!1,q.value=null,X.value=!1,se.value="",Ae.value="",j.value=!1,V.value=null,H.value=!1,We.value={},ae.value=((Se=i.value)==null?void 0:Se.products)||[]},rs=()=>{z.value=!1,q.value=null,se.value="",Ae.value=""},Ke=()=>{me.value=!1,Le.value=null,Re.value=!1};return Ot(async()=>{var Se;await Promise.all([Ce(),J(),D()]),ae.value=((Se=i.value)==null?void 0:Se.products)||[]}),(Se,mt)=>($(),S("div",vX,[a("div",xX,[mt[7]||(mt[7]=a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Stock Mutation "),a("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," Manage stock transfers between locations ")],-1)),a("div",bX,[a("button",{onClick:mt[0]||(mt[0]=$t=>P.value=!0),class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[L(F(la),{class:"w-4 h-4"}),mt[6]||(mt[6]=ke(" New Mutation ",-1))])])]),L(NJ,{statistics:F(n)},null,8,["statistics"]),L(ko,{name:"filter-slide","enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"transform -translate-y-4 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-4 opacity-0"},{default:le(()=>{var $t,qe;return[rt(a("div",null,[L(WJ,{locations:(($t=F(i))==null?void 0:$t.locations)||[],products:((qe=F(i))==null?void 0:qe.products)||[],"loading-products":F(r),onFilterChange:N},null,8,["locations","products","loading-products"])],512),[[Or,ne.value]])]}),_:1}),L(Us,{title:"Stock Mutations",data:F(s),columns:he,loading:F(r),pagination:F(o),onRefresh:Ce,onPageChange:U,onSortChange:Q,"show-refresh":!0,"refresh-loading":C.value,"search-placeholder":"Search mutations...",showAddButton:!1,showExport:!1,showFilters:!1,"server-side-pagination":!0},{"column-transaction_number":le(({value:$t})=>[a("span",kX,k($t),1)]),"column-transaction_date":le(({value:$t})=>[ke(k(F(w)($t)),1)]),"column-from_location_name":le(({value:$t})=>[a("div",wX,[L(F(vd),{class:"w-4 h-4 text-gray-400 mr-2"}),ke(" "+k($t),1)])]),"column-to_location_name":le(({value:$t})=>[a("div",_X,[L(F(vd),{class:"w-4 h-4 text-gray-400 mr-2"}),ke(" "+k($t),1)])]),"column-status":le(({value:$t})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",F(b)($t)])},k(F(v)($t)),3)]),"column-details_count":le(({value:$t})=>[a("span",$X,k($t)+" item(s)",1)]),"column-created_at":le(({value:$t})=>[ke(k(F(E)($t)),1)]),actions:le(({item:$t})=>[L(kQ,{item:$t,onView:He,onEdit:pe,onSubmit:Oe,onApprove:Fe,onComplete:Y,onCancel:Ht,onDelete:de},null,8,["item"])]),_:1},8,["data","loading","pagination","refresh-loading"]),L(Vt,{"is-open":P.value||!!A.value,title:A.value?"Edit Mutasi Stok":"Mutasi Stok Baru",size:"6xl",onClose:Yt},{default:le(()=>[Ze.value?($(),S("div",CX,[...mt[8]||(mt[8]=[a("div",{class:"flex items-center space-x-3"},[a("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a("span",{class:"text-gray-600 dark:text-gray-400"},"Loading mutation data...")],-1)])])):($(),it(xQ,{key:1,"is-open":!0,"editing-item":A.value,"location-options":ue.value,products:ae.value,"loading-products":ge.value,saving:T.value,errors:We.value,onClose:Yt,onSave:ie,onFromLocationChanged:Ge},null,8,["editing-item","location-options","products","loading-products","saving","errors"]))]),_:1},8,["is-open","title"]),L(Vt,{"is-open":me.value,title:"Mutation Details",size:"large",onClose:Ke},{default:le(()=>[Re.value?($(),S("div",SX,[...mt[9]||(mt[9]=[a("div",{class:"flex items-center space-x-3"},[a("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a("span",{class:"text-gray-600 dark:text-gray-400"},"Loading mutation details...")],-1)])])):Le.value?($(),it(yX,{key:1,mutation:Le.value,products:ae.value},null,8,["mutation","products"])):($(),S("div",EX,[...mt[10]||(mt[10]=[a("div",{class:"text-center"},[a("div",{class:"text-gray-400 mb-2"},[a("svg",{class:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-.98-5.5-2.5m.5-4H7a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5M12 7v4"})])]),a("p",{class:"text-gray-500 dark:text-gray-400"}," No mutation data available ")],-1)])]))]),_:1},8,["is-open"]),L(us,{"is-open":R.value,title:"Submit for Approval",message:M.value?`Are you sure you want to submit mutation ${M.value.transaction_number} for approval? This will validate stock availability and change the status to pending.`:"Are you sure you want to submit this mutation for approval?","confirm-text":"Submit for Approval","cancel-text":"Cancel",loading:B.value,onConfirm:nt,onCancel:mt[1]||(mt[1]=$t=>R.value=!1)},null,8,["is-open","message","loading"]),L(us,{"is-open":W.value,title:"Approve Mutation",message:K.value?`Are you sure you want to approve mutation ${K.value.transaction_number}? This will validate stock availability and change the status to approved.`:"Are you sure you want to approve this mutation?","confirm-text":"Approve Mutation","cancel-text":"Cancel",loading:Z.value,onConfirm:re,onCancel:mt[2]||(mt[2]=$t=>W.value=!1)},null,8,["is-open","message","loading"]),L(us,{"is-open":Te.value,title:"Complete Mutation",message:_e.value?`Are you sure you want to complete mutation ${_e.value.transaction_number}? This will finalize the stock transfer and update inventory.`:"Are you sure you want to complete this mutation?","confirm-text":"Complete Mutation","cancel-text":"Cancel",loading:ye.value,onConfirm:we,onCancel:mt[3]||(mt[3]=$t=>Te.value=!1)},null,8,["is-open","message","loading"]),L(Vt,{"is-open":z.value,title:"Cancel Mutation",size:"medium",onClose:rs},{default:le(()=>[a("div",TX,[a("div",AX,[a("div",LX,[mt[13]||(mt[13]=a("div",{class:"flex-shrink-0"},[a("svg",{class:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M8.485 3.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 3.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})])],-1)),a("div",MX,[a("p",PX,[q.value?($(),S("span",DX,[mt[11]||(mt[11]=ke(" Are you sure you want to cancel mutation ",-1)),a("strong",null,k(q.value.transaction_number),1),mt[12]||(mt[12]=ke("? This action cannot be undone. ",-1))])):($(),S("span",IX," Are you sure you want to cancel this mutation? "))])])])]),a("div",null,[mt[14]||(mt[14]=a("label",{for:"cancellation-reason",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[ke(" Cancellation Reason "),a("span",{class:"text-red-500"},"*")],-1)),rt(a("textarea",{id:"cancellation-reason","onUpdate:modelValue":mt[4]||(mt[4]=$t=>se.value=$t),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter the reason for cancelling this mutation...",disabled:X.value},null,8,OX),[[It,se.value]]),Ae.value?($(),S("p",FX,k(Ae.value),1)):G("",!0)]),a("div",RX,[a("button",{type:"button",onClick:rs,disabled:X.value,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," Cancel ",8,jX),a("button",{type:"button",onClick:je,disabled:X.value||!se.value.trim(),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-yellow-600 border border-transparent rounded-lg hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed"},[X.value?($(),S("svg",VX,[...mt[15]||(mt[15]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):G("",!0),ke(" "+k(X.value?"Cancelling...":"Confirm Cancellation"),1)],8,NX)])])]),_:1},8,["is-open"]),L(us,{"is-open":j.value,title:"Delete Mutation",message:"Are you sure you want to delete this stock mutation? This action cannot be undone.","confirm-text":"Delete","cancel-text":"Cancel",loading:H.value,onConfirm:De,onCancel:mt[5]||(mt[5]=$t=>j.value=!1)},null,8,["is-open","loading"])]))}},UX={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},HX={__name:"AdjustmentStats",props:{stats:{type:Object,default:()=>({total_this_month:0,pending:0,increase:0,decrease:0,posted:0})}},setup(e){return(t,s)=>($(),S("div",UX,[L($a,{title:"Total This Month",value:e.stats.total_this_month,icon:"cube",color:"blue"},null,8,["value"]),L($a,{title:"Pending Approval",value:e.stats.pending,icon:"clock",color:"yellow"},null,8,["value"]),L($a,{title:"Increase",value:e.stats.increase,icon:"arrow-up",color:"green"},null,8,["value"]),L($a,{title:"Decrease",value:e.stats.decrease,icon:"arrow-down",color:"red"},null,8,["value"])]))}},qX={class:"space-y-4"},zX={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},WX={class:"space-y-4"},KX={class:"overflow-x-auto overflow-x-visible border border-gray-200 dark:border-gray-700 rounded-lg"},YX={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},GX={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},JX={key:0},QX={class:"px-4 py-3"},XX={class:"px-4 py-3"},ZX=["onUpdate:modelValue"],eZ={class:"px-4 py-3"},tZ=["onUpdate:modelValue","onInput"],sZ={class:"px-4 py-3"},aZ={class:"px-4 py-3"},rZ={class:"px-4 py-3"},oZ=["onUpdate:modelValue"],nZ={class:"px-4 py-3"},iZ=["onClick"],lZ={key:0,class:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},dZ={class:"flex justify-between items-center"},cZ={class:"text-lg font-bold text-gray-900 dark:text-white"},uZ={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"},hZ=["disabled"],gZ={key:0},pZ={key:1},mZ={__name:"AdjustmentFormModal",props:{show:{type:Boolean,default:!1},adjustment:{type:Object,default:null},products:{type:Array,default:()=>[]},locations:{type:Array,default:()=>[]},saving:{type:Boolean,default:!1}},emits:["close","submit","get-system-quantity"],setup(e,{emit:t}){const s=e,r=t,o=O({adjustment_date:new Date().toISOString().split("T")[0],location_id:"",description:"",notes:"",details:[]}),n=fe(()=>!!s.adjustment),i=fe(()=>s.locations.map(d=>({value:d.id,label:d.name}))),l=d=>{const p=o.value.details.map((v,b)=>b!==d?v.product_id:null).filter(v=>v);return s.products.filter(v=>!p.includes(v.id))},u=d=>[...l(d).map(v=>({value:v.id,label:`${v.product_code} - ${v.product_name}`}))],m=fe(()=>o.value.location_id&&o.value.adjustment_date&&o.value.details.length>0&&o.value.details.every(d=>d.product_id&&d.reason&&d.actual_quantity>=0&&d.system_quantity>=0)),y=()=>{o.value.details.push({product_id:"",system_quantity:0,actual_quantity:0,difference_quantity:0,adjustment_type:null,reason:"",notes:""})},f=d=>{o.value.details.splice(d,1)},x=async d=>{const p=o.value.details[d];p.product_id&&o.value.location_id?r("get-system-quantity",{productId:p.product_id,locationId:o.value.location_id,callback:v=>{p.system_quantity=v,h(d)}}):(p.system_quantity=0,h(d))},c=async()=>{o.value.location_id&&o.value.details.forEach((d,p)=>{d.product_id&&x(p)})},h=d=>{const p=o.value.details[d];if(!p)return;const v=parseFloat(p.actual_quantity||0),b=parseFloat(p.system_quantity||0);p.difference_quantity=v-b,p.difference_quantity>0?p.adjustment_type="increase":p.difference_quantity<0?p.adjustment_type="decrease":p.adjustment_type=null,console.log(`[AdjustmentFormModal] Calculated difference for index ${d}:`,{actualQty:v,systemQty:b,difference:p.difference_quantity,type:p.adjustment_type})},g=()=>{if(!m.value)return;const d={adjustment_date:o.value.adjustment_date,location_id:o.value.location_id,description:o.value.description,notes:o.value.notes,total_items:o.value.details.length,details:o.value.details.map(p=>({product_id:p.product_id,system_quantity:parseFloat(p.system_quantity),actual_quantity:parseFloat(p.actual_quantity),difference_quantity:p.difference_quantity,adjustment_type:p.adjustment_type,reason:p.reason,notes:p.notes||null}))};r("submit",d)};return Et(()=>s.adjustment,d=>{d&&(console.log("[AdjustmentFormModal] Edit mode - adjustment data:",d),o.value={adjustment_date:d.adjustment_date?new Date(d.adjustment_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],location_id:d.location_id,description:d.description||"",notes:d.notes||"",details:d.details&&d.details.length>0?d.details.map(p=>{const v=parseFloat(p.system_quantity||0),b=parseFloat(p.actual_quantity||0),w=b-v;return console.log(`[AdjustmentFormModal] Processing detail for product ${p.product_id}:`,{systemQty:v,actualQty:b,diffQty:w,adjustment_type:p.adjustment_type}),{product_id:p.product_id,system_quantity:v,actual_quantity:b,difference_quantity:w,adjustment_type:p.adjustment_type||(w>0?"increase":w<0?"decrease":null),reason:p.reason||"",notes:p.notes||""}}):[]},console.log("[AdjustmentFormModal] Form data populated:",o.value))},{immediate:!0}),Et(()=>s.show,d=>{!d&&!s.adjustment&&(o.value={adjustment_date:new Date().toISOString().split("T")[0],location_id:"",description:"",notes:"",details:[]})}),(d,p)=>($(),it(Vt,{"is-open":e.show,title:n.value?"Edit Adjustment":"New Stock Adjustment",size:"full",onClose:p[5]||(p[5]=v=>d.$emit("close"))},{default:le(()=>[a("form",{onSubmit:Bt(g,["prevent"]),class:"space-y-6"},[a("div",qX,[p[6]||(p[6]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Adjustment Information ",-1)),a("div",zX,[L(et,{modelValue:o.value.adjustment_date,"onUpdate:modelValue":p[0]||(p[0]=v=>o.value.adjustment_date=v),label:"Date",type:"date",required:""},null,8,["modelValue"]),L(ut,{modelValue:o.value.location_id,"onUpdate:modelValue":p[1]||(p[1]=v=>o.value.location_id=v),label:"Location",options:i.value,required:"",onChange:c},null,8,["modelValue","options"])]),L(ws,{modelValue:o.value.description,"onUpdate:modelValue":p[2]||(p[2]=v=>o.value.description=v),label:"Description",placeholder:"Enter adjustment description",rows:"2"},null,8,["modelValue"]),L(ws,{modelValue:o.value.notes,"onUpdate:modelValue":p[3]||(p[3]=v=>o.value.notes=v),label:"Notes",placeholder:"Enter additional notes (optional)",rows:"2"},null,8,["modelValue"])]),a("div",WX,[a("div",{class:"flex items-center justify-between"},[p[8]||(p[8]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Products ",-1)),a("button",{type:"button",onClick:y,class:"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[...p[7]||(p[7]=[a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ke(" Add Product ",-1)])])]),a("div",KX,[a("table",YX,[p[11]||(p[11]=a("thead",{class:"bg-gray-50 dark:bg-gray-800"},[a("tr",null,[a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Product "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," System Qty "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Actual Qty "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Difference "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Type "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Reason "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Action ")])],-1)),a("tbody",GX,[o.value.details.length===0?($(),S("tr",JX,[...p[9]||(p[9]=[a("td",{colspan:"7",class:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400"},' No products added. Click "Add Product" to start. ',-1)])])):G("",!0),($(!0),S(Qe,null,ot(o.value.details,(v,b)=>($(),S("tr",{key:b,class:"hover:bg-gray-50 dark:hover:bg-gray-800"},[a("td",QX,[L(ut,{modelValue:v.product_id,"onUpdate:modelValue":w=>v.product_id=w,options:u(b),placeholder:"Choose Product",required:"",onChange:w=>x(b)},null,8,["modelValue","onUpdate:modelValue","options","onChange"])]),a("td",XX,[rt(a("input",{"onUpdate:modelValue":w=>v.system_quantity=w,type:"number",step:"0.01",min:"0",class:"block w-24 px-3 py-2 text-sm border border-gray-300 rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600 dark:text-white",readonly:"",disabled:""},null,8,ZX),[[It,v.system_quantity]])]),a("td",eZ,[rt(a("input",{"onUpdate:modelValue":w=>v.actual_quantity=w,type:"number",step:"0.01",min:"0",onInput:w=>h(b),class:"block w-24 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",required:""},null,40,tZ),[[It,v.actual_quantity]])]),a("td",sZ,[a("span",{class:Ee(["text-sm font-semibold",(v.difference_quantity||0)>0?"text-green-600 dark:text-green-400":(v.difference_quantity||0)<0?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"])},k((v.difference_quantity||0)>0?"+":"")+k((parseFloat(v.difference_quantity||0)||0).toFixed(2)),3)]),a("td",aZ,[v.adjustment_type?($(),S("span",{key:0,class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",v.adjustment_type==="increase"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"])},k(v.adjustment_type),3)):G("",!0)]),a("td",rZ,[rt(a("input",{"onUpdate:modelValue":w=>v.reason=w,type:"text",placeholder:"Enter reason",class:"block w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",required:""},null,8,oZ),[[It,v.reason]])]),a("td",nZ,[a("button",{type:"button",onClick:w=>f(b),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Remove product"},[...p[10]||(p[10]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,iZ)])]))),128))])])]),o.value.details.length>0?($(),S("div",lZ,[a("div",dZ,[p[12]||(p[12]=a("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Total Products: ",-1)),a("span",cZ,k(o.value.details.length),1)])])):G("",!0)]),a("div",uZ,[a("button",{type:"button",onClick:p[4]||(p[4]=v=>d.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Cancel "),a("button",{type:"submit",disabled:e.saving||!m.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[e.saving?($(),S("span",gZ,"Saving...")):($(),S("span",pZ,k(n.value?"Update":"Save")+" Adjustment",1))],8,hZ)])],32)]),_:1},8,["is-open","title"]))}},fZ={key:0,class:"space-y-6"},yZ={class:"space-y-4"},vZ={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xZ={class:"font-semibold text-blue-600 dark:text-blue-400"},bZ={class:"space-y-4"},kZ={class:"overflow-x-auto border border-gray-200 dark:border-gray-700 rounded-lg"},wZ={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},_Z={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},$Z={key:0},CZ={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},SZ={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},EZ={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},TZ={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},AZ={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},LZ={class:"px-4 py-3 text-sm text-right"},MZ={class:"px-4 py-3 text-center"},PZ={key:1,class:"text-xs text-gray-400"},DZ={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400"},IZ={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},OZ={class:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg"},FZ={class:"text-2xl font-bold text-green-700 dark:text-green-300"},RZ={class:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg"},jZ={class:"text-2xl font-bold text-red-700 dark:text-red-300"},NZ={class:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg"},VZ={class:"text-2xl font-bold text-blue-700 dark:text-blue-300"},BZ={__name:"AdjustmentDetails",props:{show:{type:Boolean,default:!1},adjustment:{type:Object,default:null}},emits:["close"],setup(e){const t=e;Et(()=>t.show,l=>{console.log("[AdjustmentDetails] Modal show changed:",l)}),Et(()=>t.adjustment,l=>{console.log("[AdjustmentDetails] Adjustment data:",l)},{deep:!0});const s=l=>l?new Date(l).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",r=l=>l==null?"0.00":parseFloat(l).toFixed(2),o=l=>({draft:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",posted:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[l]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",n=()=>{var l;return(l=t.adjustment)!=null&&l.details?t.adjustment.details.filter(u=>u.adjustment_type==="increase").length:0},i=()=>{var l;return(l=t.adjustment)!=null&&l.details?t.adjustment.details.filter(u=>u.adjustment_type==="decrease").length:0};return(l,u)=>($(),it(Vt,{"is-open":e.show,title:"Adjustment Details",size:"4xl",onClose:u[0]||(u[0]=m=>l.$emit("close"))},{default:le(()=>{var m,y,f;return[e.adjustment?($(),S("div",fZ,[a("div",yZ,[u[1]||(u[1]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2"}," General Information ",-1)),a("div",vZ,[L(hs,{label:"Adjustment Number",value:e.adjustment.adjustment_number},null,8,["value"]),L(hs,{label:"Date",value:s(e.adjustment.adjustment_date)},null,8,["value"]),L(hs,{label:"Location",value:((m=e.adjustment.location)==null?void 0:m.name)||"-"},null,8,["value"]),L(hs,{label:"Total Items"},{value:le(()=>[a("span",xZ,k(e.adjustment.total_items||0)+" product(s) ",1)]),_:1}),L(hs,{label:"Status"},{value:le(()=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",o(e.adjustment.status)])},k(e.adjustment.status),3)]),_:1}),L(hs,{label:"Created By",value:((y=e.adjustment.creator)==null?void 0:y.name)||"-"},null,8,["value"]),L(hs,{label:"Approved By",value:((f=e.adjustment.approver)==null?void 0:f.name)||"-"},null,8,["value"]),L(hs,{label:"Approved At",value:e.adjustment.approved_at?s(e.adjustment.approved_at):"-"},null,8,["value"])]),a("div",null,[L(hs,{label:"Description",value:e.adjustment.description||"-"},null,8,["value"])]),a("div",null,[L(hs,{label:"Notes",value:e.adjustment.notes||"-"},null,8,["value"])])]),a("div",bZ,[u[7]||(u[7]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2"}," Product Details ",-1)),a("div",kZ,[a("table",wZ,[u[3]||(u[3]=a("thead",{class:"bg-gray-50 dark:bg-gray-800"},[a("tr",null,[a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," # "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Product Code "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Product Name "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," System Qty "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Actual Qty "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Difference "),a("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Type "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Reason ")])],-1)),a("tbody",_Z,[!e.adjustment.details||e.adjustment.details.length===0?($(),S("tr",$Z,[...u[2]||(u[2]=[a("td",{colspan:"8",class:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400"}," No product details available ",-1)])])):G("",!0),($(!0),S(Qe,null,ot(e.adjustment.details,(x,c)=>{var h,g;return $(),S("tr",{key:x.id||c,class:"hover:bg-gray-50 dark:hover:bg-gray-800"},[a("td",CZ,k(c+1),1),a("td",SZ,k(((h=x.product)==null?void 0:h.product_code)||"-"),1),a("td",EZ,k(((g=x.product)==null?void 0:g.product_name)||"-"),1),a("td",TZ,k(r(x.system_quantity)),1),a("td",AZ,k(r(x.actual_quantity)),1),a("td",LZ,[a("span",{class:Ee(["font-semibold",x.difference_quantity>0?"text-green-600 dark:text-green-400":x.difference_quantity<0?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"])},k(x.difference_quantity>0?"+":"")+k(r(x.difference_quantity)),3)]),a("td",MZ,[x.adjustment_type?($(),S("span",{key:0,class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",x.adjustment_type==="increase"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"])},k(x.adjustment_type),3)):($(),S("span",PZ,"-"))]),a("td",DZ,k(x.reason||"-"),1)])}),128))])])]),e.adjustment.details&&e.adjustment.details.length>0?($(),S("div",IZ,[a("div",OZ,[u[4]||(u[4]=a("div",{class:"text-sm text-green-600 dark:text-green-400 font-medium"},"Total Increases",-1)),a("div",FZ,k(n()),1)]),a("div",RZ,[u[5]||(u[5]=a("div",{class:"text-sm text-red-600 dark:text-red-400 font-medium"},"Total Decreases",-1)),a("div",jZ,k(i()),1)]),a("div",NZ,[u[6]||(u[6]=a("div",{class:"text-sm text-blue-600 dark:text-blue-400 font-medium"},"Total Products",-1)),a("div",VZ,k(e.adjustment.details.length),1)])])):G("",!0)])])):G("",!0)]}),_:1},8,["is-open"]))}},sb={getAll:async(e={})=>(await Xe.get("/products",{params:e})).data,getById:async e=>(await Xe.get(`/products/${e}`)).data,create:async e=>(await Xe.post("/products",e)).data,update:async(e,t)=>(await Xe.put(`/products/${e}`,t)).data,delete:async e=>(await Xe.delete(`/products/${e}`)).data,getStock:async e=>(await Xe.get(`/products/${e}/stock`)).data},$r={getAll:async(e={})=>{const t=await Xe.get("/stock-adjustments",{params:e});return t.data.data||t.data},getById:async e=>{const t=await Xe.get(`/stock-adjustments/${e}`);return t.data.data||t.data},create:async e=>{const t=await Xe.post("/stock-adjustments",e);return t.data.data||t.data},update:async(e,t)=>{const s=await Xe.put(`/stock-adjustments/${e}`,t);return s.data.data||s.data},delete:async e=>(await Xe.delete(`/stock-adjustments/${e}`)).data,approve:async e=>{const t=await Xe.post(`/stock-adjustments/${e}/approve`);return t.data.data||t.data},cancel:async(e,t)=>{const s=await Xe.post(`/stock-adjustments/${e}/cancel`,{reason:t});return s.data.data||s.data},calculateSystemQuantity:async(e,t)=>await Xe.post("/stock-adjustments/calculate-system-quantity",{product_id:e,location_id:t}),getStatistics:async(e={})=>await Xe.get("/stock-adjustments/statistics",{params:e}),bulkApprove:async e=>(await Xe.post("/stock-adjustments/bulk-approve",{ids:e})).data,bulkDelete:async e=>(await Xe.post("/stock-adjustments/bulk-delete",{ids:e})).data,export:async(e={})=>(await Xe.get("/stock-adjustments/export",{params:e,responseType:"blob"})).data},Ua={getAll:async(e={})=>{const t=await Xe.get("/stock-opnames",{params:e});return t.data.data||t.data},getById:async e=>{const t=await Xe.get(`/stock-opnames/${e}`);return t.data.data||t.data},create:async e=>{const t=await Xe.post("/stock-opnames",e);return t.data.data||t.data},update:async(e,t)=>{const s=await Xe.put(`/stock-opnames/${e}`,t);return s.data.data||s.data},delete:async e=>(await Xe.delete(`/stock-opnames/${e}`)).data,startCounting:async e=>{const t=await Xe.post(`/stock-opnames/${e}/start`);return t.data.data||t.data},complete:async e=>(await Xe.post(`/stock-opnames/${e}/complete`)).data,cancel:async e=>{const t=await Xe.post(`/stock-opnames/${e}/cancel`);return t.data.data||t.data},calculateSystemQuantity:async(e,t)=>await Xe.post("/stock-opnames/calculate-system-quantity",{product_id:e,location_id:t}),batchCalculateSystemQuantities:async(e,t)=>await Xe.post("/stock-opnames/batch-calculate-system-quantities",{product_ids:e,location_id:t}),getStatistics:async(e={})=>await Xe.get("/stock-opnames/statistics",{params:e}),bulkComplete:async e=>(await Xe.post("/stock-opnames/bulk-complete",{ids:e})).data,bulkDelete:async e=>(await Xe.post("/stock-opnames/bulk-delete",{ids:e})).data,export:async(e={})=>(await Xe.get("/stock-opnames/export",{params:e,responseType:"blob"})).data},ab={getAll:async(e={})=>(await Xe.get("/locations",{params:e})).data,getById:async e=>(await Xe.get(`/locations/${e}`)).data,create:async e=>(await Xe.post("/locations",e)).data,update:async(e,t)=>(await Xe.put(`/locations/${e}`,t)).data,delete:async e=>(await Xe.delete(`/locations/${e}`)).data,getStock:async e=>(await Xe.get(`/locations/${e}/stock`)).data},Xi={getAll:async(e={})=>(await Xe.get("/stock-book",{params:e})).data,getLedger:async(e={})=>(await Xe.get("/stock-book/ledger",{params:e})).data,getCurrentBalances:async(e={})=>(await Xe.get("/stock-book/current-balances",{params:e})).data,getBalanceByDate:async(e={})=>(await Xe.get("/stock-book/balance-by-date",{params:e})).data,getMovementSummary:async(e={})=>(await Xe.get("/stock-book/movement-summary",{params:e})).data,getStatistics:async()=>(await Xe.get("/stock-book/statistics")).data,getProductsWithStock:async()=>(await Xe.get("/stock-book/products")).data,getLocationsWithStock:async()=>(await Xe.get("/stock-book/locations")).data,export:async(e={})=>(await Xe.get("/stock-book/export",{params:e,responseType:"blob"})).data},UZ={class:"space-y-6"},HZ={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},qZ={class:"flex items-center justify-end gap-2"},zZ=["onClick"],WZ=["onClick"],KZ=["onClick"],YZ=["onClick"],GZ={__name:"Adjustment",setup(e){const t=Ut(),s=O(!1),r=O(!1),o=O(!1),n=O([]),i=O([]),l=O([]),u=O(!1),m=O(null),y=O(!1),f=O(null),x=O(!1),c=O(!1),h=O(null),g=O(!1),d=O(!1),p=O(null),v=O({current_page:1,per_page:15,total:0,last_page:1}),b=O({total_this_month:0,pending:0,increase:0,decrease:0,posted:0}),w=[{key:"adjustment_number",label:"Number",sortable:!0},{key:"adjustment_date",label:"Date",sortable:!0,type:"date"},{key:"location.name",label:"Location",sortable:!0},{key:"total_items",label:"Total Items",sortable:!0},{key:"description",label:"Description",sortable:!0},{key:"status",label:"Status",sortable:!0}],E=async(z={})=>{var q,X;s.value=!0;try{const se=await $r.getAll(z);se.data?(n.value=Array.isArray(se.data.data)?se.data.data:se.data,v.value={current_page:se.data.current_page||1,per_page:se.data.per_page||15,total:se.data.total||0,last_page:se.data.last_page||1}):n.value=Array.isArray(se)?se:[]}catch(se){console.error("Failed to load adjustments:",se),t.error(((X=(q=se.response)==null?void 0:q.data)==null?void 0:X.message)||"Failed to load adjustment data")}finally{s.value=!1}},C=async()=>{var z;try{const q=await $r.getStatistics();console.log("Adjustment statistics raw response:",q);const X=(q==null?void 0:q.data)||q||{};console.log("Adjustment statistics data:",X),b.value={total_this_month:X.total_this_month||0,pending:X.pending||0,increase:X.increase||0,decrease:X.decrease||0,posted:X.posted||0}}catch(q){console.error("Failed to load statistics:",q),console.error("Error response:",(z=q.response)==null?void 0:z.data),b.value={total_this_month:0,pending:0,increase:0,decrease:0,posted:0}}},T=(z,q)=>{console.log("handlePageChange",z,q),q&&(v.value.per_page=q),E({page:z,per_page:q})},P=({column:z,direction:q})=>{console.log("handleSort",z,q),E({page:v.value.current_page,per_page:v.value.per_page,sort_by:z,sort_order:q})},A=z=>{console.log("handleSearch",z),E({page:1,per_page:v.value.per_page,search:z})},j=async()=>{try{const z=await sb.getAll();i.value=Array.isArray(z)?z:z.data||[]}catch(z){console.error("Failed to load products:",z)}},V=async()=>{try{const z=await ab.getAll();l.value=Array.isArray(z)?z:z.data||[]}catch(z){console.error("Failed to load locations:",z)}},H=async z=>{var q,X;try{console.log("[Edit] Fetching full adjustment data for ID:",z.id);const se=await $r.getById(z.id),Ae=se.data||se;console.log("[Edit] Full adjustment data:",Ae),m.value=Ae}catch(se){console.error("Failed to load adjustment for edit:",se),t.error(((X=(q=se.response)==null?void 0:q.data)==null?void 0:X.message)||"Failed to load adjustment data")}},R=z=>{f.value=z,y.value=!0},M=async z=>{var q,X,se;try{console.log("Fetching details for adjustment ID:",z.id);const Ae=await $r.getById(z.id);console.log("API Response:",Ae);const me=Ae.data||Ae;console.log("Adjustment Data:",me),p.value=me,d.value=!0,console.log("Modal should be visible now, showDetailsModal:",d.value)}catch(Ae){console.error("Failed to load adjustment details:",Ae),console.error("Error details:",(q=Ae.response)==null?void 0:q.data),t.error(((se=(X=Ae.response)==null?void 0:X.data)==null?void 0:se.message)||"Failed to load adjustment details")}},B=z=>{h.value=z,c.value=!0},W=async()=>{var z,q;if(h.value){g.value=!0;try{await $r.approve(h.value.id),t.success("Adjustment approved successfully"),c.value=!1,h.value=null,await Promise.all([E(),C()])}catch(X){console.error("Failed to approve adjustment:",X),t.error(((q=(z=X.response)==null?void 0:z.data)==null?void 0:q.message)||"Failed to approve adjustment")}finally{g.value=!1}}},K=async()=>{var z,q;if(f.value){x.value=!0;try{await $r.delete(f.value.id),t.success("Adjustment deleted successfully"),y.value=!1,f.value=null,await Promise.all([E(),C()])}catch(X){console.error("Failed to delete adjustment:",X),t.error(((q=(z=X.response)==null?void 0:z.data)==null?void 0:q.message)||"Failed to delete adjustment")}finally{x.value=!1,y.value&&(y.value=!1,f.value=null)}}},Z=async z=>{var q,X;o.value=!0;try{m.value?(await $r.update(m.value.id,z),t.success("Adjustment updated successfully")):(await $r.create(z),t.success("Adjustment created successfully")),_e(),await Promise.all([E(),C()])}catch(se){console.error("Failed to save adjustment:",se),t.error(((X=(q=se.response)==null?void 0:q.data)==null?void 0:X.message)||"Failed to save adjustment")}finally{o.value=!1}},Te=async({productId:z,locationId:q,callback:X})=>{try{const Ae=(await $r.calculateSystemQuantity(z,q)).system_quantity||0;X(Ae)}catch(se){console.error("Failed to get system quantity:",se),t.error("Failed to get system quantity"),X(0)}},_e=()=>{u.value=!1,m.value=null,c.value=!1,h.value=null,g.value=!1,y.value=!1,f.value=null,x.value=!1},ye=z=>({draft:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",posted:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[z]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400";return Ot(async()=>{await Promise.all([E(),C(),j(),V()])}),(z,q)=>($(),S("div",UZ,[L(sh,{title:"Stock Adjustment",description:"Manage stock adjustments and corrections"},{actions:le(()=>[a("button",{onClick:q[0]||(q[0]=X=>u.value=!0),class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[L(F(la),{class:"w-4 h-4"}),q[4]||(q[4]=ke(" New Adjustment ",-1))])]),_:1}),L(HX,{stats:b.value},null,8,["stats"]),L(Us,{title:"Stock Adjustments",data:n.value,columns:w,loading:s.value,onRefresh:E,"show-refresh":!0,"refresh-loading":r.value,"search-placeholder":"Search adjustments...",showAddButton:!1,showExport:!1,showFilters:!1,"server-side-pagination":!0,pagination:v.value,onPageChange:T,onSort:P,onSearch:A},{"column-total_items":le(({value:X})=>[a("span",HZ,k(X||0)+" product(s) ",1)]),"column-status":le(({value:X})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",ye(X)])},k(X),3)]),actions:le(({item:X})=>[a("div",qZ,[a("button",{onClick:se=>M(X),class:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200 dark:hover:text-blue-400 dark:hover:bg-blue-900/20",title:"View Details"},[L(F(Ta),{class:"w-4 h-4"})],8,zZ),X.status==="draft"?($(),S("button",{key:0,onClick:se=>H(X),class:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200 dark:hover:text-blue-400 dark:hover:bg-blue-900/20",title:"Edit"},[L(F(Bs),{class:"w-4 h-4"})],8,WZ)):G("",!0),X.status==="draft"?($(),S("button",{key:1,onClick:se=>B(X),class:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors duration-200 dark:hover:text-green-400 dark:hover:bg-green-900/20",title:"Approve"},[L(F(Eo),{class:"w-4 h-4"})],8,KZ)):G("",!0),X.status==="draft"?($(),S("button",{key:2,onClick:se=>R(X),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete"},[L(F(Ks),{class:"w-4 h-4"})],8,YZ)):G("",!0)])]),_:1},8,["data","loading","refresh-loading","pagination"]),L(mZ,{show:u.value||!!m.value,adjustment:m.value,products:i.value,locations:l.value,saving:o.value,onClose:_e,onSubmit:Z,onGetSystemQuantity:Te},null,8,["show","adjustment","products","locations","saving"]),L(BZ,{show:d.value,adjustment:p.value,onClose:q[1]||(q[1]=X=>d.value=!1)},null,8,["show","adjustment"]),L(us,{"is-open":c.value,title:"Approve Adjustment",message:h.value?`Are you sure you want to approve adjustment ${h.value.adjustment_number}? This will finalize the stock adjustment and create stock card entries.`:"Are you sure you want to approve this adjustment?","confirm-text":"Approve Adjustment","cancel-text":"Cancel",loading:g.value,onConfirm:W,onCancel:q[2]||(q[2]=X=>c.value=!1)},null,8,["is-open","message","loading"]),L(us,{"is-open":y.value,title:"Delete Adjustment",message:"Are you sure you want to delete this stock adjustment? This action cannot be undone.","confirm-text":"Delete","cancel-text":"Cancel",loading:x.value,onConfirm:K,onCancel:q[3]||(q[3]=X=>y.value=!1)},null,8,["is-open","loading"])]))}},JZ={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6"},QZ={__name:"OpnameStats",setup(e,{expose:t}){const s=O({total_this_month:0,draft:0,in_progress:0,completed:0,items_counted:0}),r=O(!1),o=async()=>{r.value=!0;try{const n=await Ua.getStatistics();s.value=n}catch(n){console.error("Error fetching statistics:",n)}finally{r.value=!1}};return Ot(()=>{o()}),t({refresh:o}),(n,i)=>($(),S("div",JZ,[L($a,{title:"Total This Month",value:s.value.total_this_month,icon:"cube",color:"blue",loading:r.value},null,8,["value","loading"]),L($a,{title:"Draft",value:s.value.draft,icon:"file-text",color:"gray",loading:r.value},null,8,["value","loading"]),L($a,{title:"In Progress",value:s.value.in_progress,icon:"clock",color:"yellow",loading:r.value},null,8,["value","loading"]),L($a,{title:"Completed",value:s.value.completed,icon:"check-circle",color:"green",loading:r.value},null,8,["value","loading"]),L($a,{title:"Items Counted",value:s.value.items_counted,icon:"package",color:"purple",loading:r.value},null,8,["value","loading"])]))}},XZ={class:"space-y-4 border-b border-gray-200 dark:border-gray-700 pb-6"},ZZ={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},eee={class:"grid grid-cols-1 gap-4"},tee={class:"space-y-4"},see={class:"flex items-center justify-between"},aee={class:"text-sm text-gray-500 dark:text-gray-400"},ree={class:"overflow-x-auto border border-gray-200 dark:border-gray-700 rounded-lg"},oee={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},nee={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},iee={key:0},lee={class:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400"},dee={class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white"},cee={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},uee={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300"},hee={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-300"},gee={class:"px-4 py-3"},pee=["onUpdate:modelValue"],mee={class:"px-4 py-3"},fee=["onUpdate:modelValue","onInput"],yee={class:"px-4 py-3"},vee={class:"px-4 py-3"},xee={key:1,class:"text-gray-400 dark:text-gray-500"},bee={class:"px-4 py-3"},kee=["onUpdate:modelValue"],wee={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg"},_ee={class:"text-center"},$ee={class:"text-2xl font-bold text-gray-900 dark:text-white"},Cee={class:"text-center"},See={class:"text-center"},Eee={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Tee={class:"text-center"},Aee={class:"text-2xl font-bold text-red-600 dark:text-red-400"},Lee={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"},Mee=["disabled"],Pee={key:0},Dee={key:1},Iee={__name:"OpnameFormModal",props:{show:{type:Boolean,default:!1},opname:{type:Object,default:null},products:{type:Array,default:()=>[]},locations:{type:Array,default:()=>[]},saving:{type:Boolean,default:!1}},emits:["close","submit","get-system-quantity","batch-get-system-quantities"],setup(e,{emit:t}){const s=e,r=t,o=O({opname_number:"",opname_date:new Date().toISOString().split("T")[0],location_id:"",description:"",notes:"",details:[]}),n=O({}),i=fe(()=>!!s.opname),l=fe(()=>s.locations.map(v=>({value:v.id,label:v.name}))),u=fe(()=>s.products),m=v=>(n.value[v]||(n.value[v]={product_id:v,system_quantity:0,physical_quantity:0,difference_quantity:0,adjustment_type:null,notes:""}),n.value[v]),y=fe(()=>Object.values(n.value).filter(v=>v.adjustment_type==="increase").reduce((v,b)=>v+(parseFloat(b.difference_quantity)||0),0)),f=fe(()=>Object.values(n.value).filter(v=>v.adjustment_type==="decrease").reduce((v,b)=>v+Math.abs(parseFloat(b.difference_quantity)||0),0)),x=fe(()=>y.value-f.value),c=fe(()=>o.value.location_id&&o.value.opname_date&&u.value.length>0),h=()=>{s.products.forEach(v=>{n.value[v.id]||(n.value[v.id]={product_id:v.id,system_quantity:0,physical_quantity:0,difference_quantity:0,adjustment_type:null,notes:""})})},g=async()=>{if(o.value.location_id){const v=o.value.location_id;h();const b=s.products.map(w=>w.id);r("batch-get-system-quantities",{productIds:b,locationId:v,callback:w=>{w&&typeof w=="object"&&Object.entries(w).forEach(([E,C])=>{const T=m(parseInt(E));T.system_quantity=parseFloat(C)||0,d(parseInt(E))})}})}},d=v=>{const b=m(v);if(!b)return;const w=parseFloat(b.physical_quantity||0),E=parseFloat(b.system_quantity||0);b.difference_quantity=w-E,b.difference_quantity>0?b.adjustment_type="increase":b.difference_quantity<0?b.adjustment_type="decrease":b.adjustment_type=null},p=()=>{if(!c.value)return;const v=Object.values(n.value).filter(w=>{const E=parseFloat(w.physical_quantity||0);return parseFloat(w.system_quantity||0),E>0||w.notes}),b={opname_date:o.value.opname_date,location_id:o.value.location_id,description:o.value.description,notes:o.value.notes,total_items:v.length,details:v.map(w=>({product_id:w.product_id,system_quantity:parseFloat(w.system_quantity),physical_quantity:parseFloat(w.physical_quantity),notes:w.notes||null}))};r("submit",b)};return Et(()=>s.opname,v=>{v&&(console.log("[OpnameFormModal] Edit mode - opname data:",v),o.value={opname_number:v.opname_number||"",opname_date:v.opname_date?new Date(v.opname_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],location_id:v.location_id,description:v.description||"",notes:v.notes||""},n.value={},v.details&&v.details.length>0&&v.details.forEach(b=>{const w=parseFloat(b.system_quantity||0),E=parseFloat(b.physical_quantity||0),C=E-w;n.value[b.product_id]={product_id:b.product_id,system_quantity:w,physical_quantity:E,difference_quantity:C,adjustment_type:b.adjustment_type||(C>0?"increase":C<0?"decrease":null),notes:b.notes||""}}),console.log("[OpnameFormModal] Form data populated:",o.value))},{immediate:!0}),Et(()=>s.products,()=>{o.value.location_id&&g()},{immediate:!0}),Et(()=>s.show,v=>{!v&&!s.opname&&(o.value={opname_number:"",opname_date:new Date().toISOString().split("T")[0],location_id:"",description:"",notes:""},n.value={})}),(v,b)=>($(),it(Vt,{"is-open":e.show,title:i.value?"Edit Stock Opname":"New Stock Opname",size:"full",onClose:b[6]||(b[6]=w=>v.$emit("close"))},{default:le(()=>[a("form",{onSubmit:Bt(p,["prevent"]),class:"space-y-6"},[a("div",XZ,[b[7]||(b[7]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Stock Opname Information ",-1)),a("div",ZZ,[L(et,{modelValue:o.value.opname_date,"onUpdate:modelValue":b[0]||(b[0]=w=>o.value.opname_date=w),label:"Date",type:"date",required:""},null,8,["modelValue"]),L(ut,{modelValue:o.value.location_id,"onUpdate:modelValue":b[1]||(b[1]=w=>o.value.location_id=w),label:"Location",options:l.value,required:"",onChange:g},null,8,["modelValue","options"]),L(et,{modelValue:o.value.opname_number,"onUpdate:modelValue":b[2]||(b[2]=w=>o.value.opname_number=w),label:"Opname Number",type:"text",readonly:"",disabled:"",class:"bg-gray-100 dark:bg-gray-700"},null,8,["modelValue"])]),a("div",eee,[L(ws,{modelValue:o.value.description,"onUpdate:modelValue":b[3]||(b[3]=w=>o.value.description=w),label:"Description",placeholder:"Enter stock opname description",rows:"2"},null,8,["modelValue"]),L(ws,{modelValue:o.value.notes,"onUpdate:modelValue":b[4]||(b[4]=w=>o.value.notes=w),label:"Notes",placeholder:"Enter additional notes (optional)",rows:"2"},null,8,["modelValue"])])]),a("div",tee,[a("div",see,[b[8]||(b[8]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," All Products - Fill Physical Quantity Only ",-1)),a("div",aee," Showing "+k(u.value.length)+" products ",1)]),a("div",ree,[a("table",oee,[b[10]||(b[10]=a("thead",{class:"bg-gray-50 dark:bg-gray-800 sticky top-0"},[a("tr",null,[a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-12"}," # "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Product Code "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Product Name "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Category "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Unit "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," System Qty "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Physical Qty "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Difference "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Type "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Notes ")])],-1)),a("tbody",nee,[u.value.length===0?($(),S("tr",iee,[...b[9]||(b[9]=[a("td",{colspan:"10",class:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400"}," No products available. Please select a location to see products. ",-1)])])):G("",!0),($(!0),S(Qe,null,ot(u.value,(w,E)=>{var C,T,P;return $(),S("tr",{key:w.id,class:Ee(["hover:bg-gray-50 dark:hover:bg-gray-800",((C=m(w.id))==null?void 0:C.difference_quantity)!==0?"bg-yellow-50 dark:bg-yellow-900/10":""])},[a("td",lee,k(E+1),1),a("td",dee,k(w.product_code),1),a("td",cee,k(w.product_name),1),a("td",uee,k(((T=w.category)==null?void 0:T.name)||"-"),1),a("td",hee,k(((P=w.unit)==null?void 0:P.name)||"-"),1),a("td",gee,[rt(a("input",{"onUpdate:modelValue":A=>m(w.id).system_quantity=A,type:"number",step:"0.01",min:"0",class:"block w-28 px-3 py-2 text-sm border border-gray-300 rounded-lg bg-gray-100 dark:bg-gray-700 dark:border-gray-600 dark:text-white",readonly:"",disabled:""},null,8,pee),[[It,m(w.id).system_quantity]])]),a("td",mee,[rt(a("input",{"onUpdate:modelValue":A=>m(w.id).physical_quantity=A,type:"number",step:"0.01",min:"0",onInput:A=>d(w.id),class:"block w-28 px-3 py-2 text-sm border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"0"},null,40,fee),[[It,m(w.id).physical_quantity]])]),a("td",yee,[a("span",{class:Ee(["text-sm font-bold",(m(w.id).difference_quantity||0)>0?"text-green-600 dark:text-green-400":(m(w.id).difference_quantity||0)<0?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"])},k((m(w.id).difference_quantity||0)>0?"+":"")+k((parseFloat(m(w.id).difference_quantity||0)||0).toFixed(2)),3)]),a("td",vee,[m(w.id).adjustment_type?($(),S("span",{key:0,class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",m(w.id).adjustment_type==="increase"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"])},k(m(w.id).adjustment_type),3)):($(),S("span",xee," - "))]),a("td",bee,[rt(a("input",{"onUpdate:modelValue":A=>m(w.id).notes=A,type:"text",placeholder:"Add notes...",class:"block w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white"},null,8,kee),[[It,m(w.id).notes]])])],2)}),128))])])]),u.value.length>0?($(),S("div",wee,[a("div",_ee,[a("div",$ee,k(u.value.length),1),b[11]||(b[11]=a("div",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase"}," Total Products ",-1))]),a("div",Cee,[a("div",{class:Ee(["text-2xl font-bold",x.value>0?"text-green-600 dark:text-green-400":x.value<0?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"])},k(x.value>0?"+":"")+k(x.value.toFixed(2)),3),b[12]||(b[12]=a("div",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase"}," Net Difference ",-1))]),a("div",See,[a("div",Eee," +"+k(y.value.toFixed(2)),1),b[13]||(b[13]=a("div",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase"}," Total Increases ",-1))]),a("div",Tee,[a("div",Aee,k(f.value.toFixed(2)),1),b[14]||(b[14]=a("div",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase"}," Total Decreases ",-1))])])):G("",!0)]),a("div",Lee,[a("button",{type:"button",onClick:b[5]||(b[5]=w=>v.$emit("close")),class:"px-6 py-3 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Cancel "),a("button",{type:"submit",disabled:e.saving||!c.value,class:"px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[e.saving?($(),S("span",Pee,"Saving...")):($(),S("span",Dee,k(i.value?"Update":"Save")+" Opname",1))],8,Mee)])],32)]),_:1},8,["is-open","title"]))}},Oee={key:0,class:"space-y-6"},Fee={class:"space-y-4"},Ree={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},jee={class:"font-semibold text-blue-600 dark:text-blue-400"},Nee={class:"space-y-4"},Vee={class:"overflow-x-auto border border-gray-200 dark:border-gray-700 rounded-lg"},Bee={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Uee={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},Hee={key:0},qee={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},zee={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},Wee={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},Kee={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},Yee={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},Gee={class:"px-4 py-3 text-sm text-right"},Jee={class:"px-4 py-3 text-center"},Qee={key:1,class:"text-xs text-gray-400"},Xee={class:"px-4 py-3 text-sm text-gray-600 dark:text-gray-400"},Zee={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ete={class:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg"},tte={class:"text-2xl font-bold text-green-700 dark:text-green-300"},ste={class:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg"},ate={class:"text-2xl font-bold text-red-700 dark:text-red-300"},rte={class:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg"},ote={class:"text-2xl font-bold text-blue-700 dark:text-blue-300"},nte={__name:"OpnameDetails",props:{show:{type:Boolean,default:!1},opname:{type:Object,default:null}},emits:["close"],setup(e){const t=e;Et(()=>t.show,l=>{console.log("[AdjustmentDetails] Modal show changed:",l)}),Et(()=>t.opname,l=>{console.log("[OpnameDetails] Opname data:",l)},{deep:!0});const s=l=>l?new Date(l).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",r=l=>l==null?"0.00":parseFloat(l).toFixed(2),o=l=>({draft:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",in_progress:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",completed:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[l]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",n=()=>{var l;return(l=t.opname)!=null&&l.details?t.opname.details.filter(u=>u.adjustment_type==="increase").length:0},i=()=>{var l;return(l=t.opname)!=null&&l.details?t.opname.details.filter(u=>u.adjustment_type==="decrease").length:0};return(l,u)=>($(),it(Vt,{"is-open":e.show,title:"Stock Opname Details",size:"4xl",onClose:u[0]||(u[0]=m=>l.$emit("close"))},{default:le(()=>{var m,y,f;return[e.opname?($(),S("div",Oee,[a("div",Fee,[u[1]||(u[1]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2"}," General Information ",-1)),a("div",Ree,[L(hs,{label:"Opname Number",value:e.opname.opname_number},null,8,["value"]),L(hs,{label:"Date",value:s(e.opname.opname_date)},null,8,["value"]),L(hs,{label:"Location",value:((m=e.opname.location)==null?void 0:m.name)||"-"},null,8,["value"]),L(hs,{label:"Total Items"},{value:le(()=>[a("span",jee,k(e.opname.total_items||0)+" product(s) ",1)]),_:1}),L(hs,{label:"Status"},{value:le(()=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",o(e.opname.status)])},k(e.opname.status),3)]),_:1}),L(hs,{label:"Created By",value:((y=e.opname.creator)==null?void 0:y.name)||"-"},null,8,["value"]),L(hs,{label:"Completed By",value:((f=e.opname.completer)==null?void 0:f.name)||"-"},null,8,["value"]),L(hs,{label:"Completed At",value:e.opname.completed_at?s(e.opname.completed_at):"-"},null,8,["value"])]),a("div",null,[L(hs,{label:"Description",value:e.opname.description||"-"},null,8,["value"])]),a("div",null,[L(hs,{label:"Notes",value:e.opname.notes||"-"},null,8,["value"])])]),a("div",Nee,[u[7]||(u[7]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2"}," Product Details ",-1)),a("div",Vee,[a("table",Bee,[u[3]||(u[3]=a("thead",{class:"bg-gray-50 dark:bg-gray-800"},[a("tr",null,[a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," # "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Product Code "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Product Name "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," System Qty "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Physical Qty "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Difference "),a("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Type "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Notes ")])],-1)),a("tbody",Uee,[!e.opname.details||e.opname.details.length===0?($(),S("tr",Hee,[...u[2]||(u[2]=[a("td",{colspan:"8",class:"px-4 py-8 text-center text-sm text-gray-500 dark:text-gray-400"}," No product details available ",-1)])])):G("",!0),($(!0),S(Qe,null,ot(e.opname.details,(x,c)=>{var h,g;return $(),S("tr",{key:x.id||c,class:"hover:bg-gray-50 dark:hover:bg-gray-800"},[a("td",qee,k(c+1),1),a("td",zee,k(((h=x.product)==null?void 0:h.product_code)||"-"),1),a("td",Wee,k(((g=x.product)==null?void 0:g.product_name)||"-"),1),a("td",Kee,k(r(x.system_quantity)),1),a("td",Yee,k(r(x.physical_quantity)),1),a("td",Gee,[a("span",{class:Ee(["font-semibold",x.difference_quantity>0?"text-green-600 dark:text-green-400":x.difference_quantity<0?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"])},k(x.difference_quantity>0?"+":"")+k(r(x.difference_quantity)),3)]),a("td",Jee,[x.adjustment_type?($(),S("span",{key:0,class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",x.adjustment_type==="increase"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"])},k(x.adjustment_type),3)):($(),S("span",Qee,"-"))]),a("td",Xee,k(x.notes||"-"),1)])}),128))])])]),e.opname.details&&e.opname.details.length>0?($(),S("div",Zee,[a("div",ete,[u[4]||(u[4]=a("div",{class:"text-sm text-green-600 dark:text-green-400 font-medium"}," Total Increases ",-1)),a("div",tte,k(n()),1)]),a("div",ste,[u[5]||(u[5]=a("div",{class:"text-sm text-red-600 dark:text-red-400 font-medium"}," Total Decreases ",-1)),a("div",ate,k(i()),1)]),a("div",rte,[u[6]||(u[6]=a("div",{class:"text-sm text-blue-600 dark:text-blue-400 font-medium"}," Total Products ",-1)),a("div",ote,k(e.opname.details.length),1)])])):G("",!0)])])):G("",!0)]}),_:1},8,["is-open"]))}},ite={class:"space-y-6"},lte={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"},dte={class:"flex items-center justify-end gap-2"},cte=["onClick"],ute=["onClick"],hte=["onClick"],gte=["onClick"],pte=["onClick"],mte={__name:"StockOpname",setup(e){const t=Ut(),s=O(null),r=O(!1),o=O(!1),n=O(!1),i=O([]),l=O([]),u=O([]),m=O(!1),y=O(null),f=O(!1),x=O(null),c=O(!1),h=O(!1),g=O(null),d=O(!1),p=O(!1),v=O(null),b=O({current_page:1,per_page:15,total:0,last_page:1}),w=[{key:"opname_number",label:"Opname Number",sortable:!0},{key:"opname_date",label:"Date",sortable:!0,type:"date"},{key:"location.name",label:"Location",sortable:!0},{key:"total_items",label:"Total Items",sortable:!0},{key:"description",label:"Description",sortable:!0},{key:"status",label:"Status",sortable:!0}],E=()=>{s.value&&s.value.refresh()},C=async(X={})=>{var se,Ae;r.value=!0;try{const me=await Ua.getAll(X);me.data?(i.value=Array.isArray(me.data.data)?me.data.data:me.data,b.value={current_page:me.data.current_page||1,per_page:me.data.per_page||15,total:me.data.total||0,last_page:me.data.last_page||1}):i.value=Array.isArray(me)?me:[],console.log("[StockOpname] Loaded opnames:",i.value.length)}catch(me){console.error("[StockOpname] Failed to load opnames:",me),t.error(((Ae=(se=me.response)==null?void 0:se.data)==null?void 0:Ae.message)||"Failed to load stock opname data")}finally{r.value=!1}},T=(X,se)=>{console.log("[StockOpname] handlePageChange",X,se),se&&(b.value.per_page=se),C({page:X,per_page:se})},P=({column:X,direction:se})=>{console.log("[StockOpname] handleSort",X,se),C({page:b.value.current_page,per_page:b.value.per_page,sort_by:X,sort_order:se})},A=X=>{console.log("[StockOpname] handleSearch",X),C({page:1,per_page:b.value.per_page,search:X})},j=async()=>{try{const X=await sb.getAll();l.value=Array.isArray(X)?X:X.data||[],console.log("[StockOpname] Loaded products:",l.value.length)}catch(X){console.error("[StockOpname] Failed to load products:",X)}},V=async()=>{try{const X=await ab.getAll();u.value=Array.isArray(X)?X:X.data||[],console.log("[StockOpname] Loaded locations:",u.value.length)}catch(X){console.error("[StockOpname] Failed to load locations:",X)}},H=async X=>{var se,Ae;try{console.log("[StockOpname] Fetching full opname data for ID:",X.id);const me=await Ua.getById(X.id),Le=me.data||me;console.log("[StockOpname] Full opname data:",Le),y.value=Le}catch(me){console.error("[StockOpname] Failed to load opname for edit:",me),t.error(((Ae=(se=me.response)==null?void 0:se.data)==null?void 0:Ae.message)||"Failed to load opname data")}},R=X=>{console.log("[StockOpname] Delete opname:",X),x.value=X,f.value=!0},M=async X=>{var se,Ae;try{console.log("[StockOpname] Fetching details for opname ID:",X.id);const me=await Ua.getById(X.id),Le=me.data||me;console.log("[StockOpname] Opname data:",Le),v.value=Le,p.value=!0}catch(me){console.error("[StockOpname] Failed to load opname details:",me),t.error(((Ae=(se=me.response)==null?void 0:se.data)==null?void 0:Ae.message)||"Failed to load opname details")}},B=async X=>{var se,Ae;try{console.log("[StockOpname] Starting counting for opname:",X),await Ua.startCounting(X.id),t.success("Stock counting started successfully"),await C(),E()}catch(me){console.error("[StockOpname] Failed to start counting:",me),t.error(((Ae=(se=me.response)==null?void 0:se.data)==null?void 0:Ae.message)||"Failed to start counting")}},W=X=>{console.log("[StockOpname] Complete opname:",X),g.value=X,h.value=!0},K=async()=>{var X,se;if(g.value){d.value=!0;try{await Ua.complete(g.value.id),t.success("Stock opname completed successfully. Adjustment has been created for differences."),h.value=!1,g.value=null,await C(),E()}catch(Ae){console.error("[StockOpname] Failed to complete opname:",Ae),t.error(((se=(X=Ae.response)==null?void 0:X.data)==null?void 0:se.message)||"Failed to complete opname")}finally{d.value=!1}}},Z=async()=>{var X,se;if(x.value){c.value=!0;try{await Ua.delete(x.value.id),t.success("Stock opname deleted successfully"),f.value=!1,x.value=null,await C(),E()}catch(Ae){console.error("[StockOpname] Failed to delete opname:",Ae),t.error(((se=(X=Ae.response)==null?void 0:X.data)==null?void 0:se.message)||"Failed to delete opname")}finally{c.value=!1,f.value&&(f.value=!1,x.value=null)}}},Te=async X=>{var se,Ae;n.value=!0;try{y.value?(await Ua.update(y.value.id,X),t.success("Stock opname updated successfully")):(await Ua.create(X),t.success("Stock opname created successfully")),z(),await C(),E()}catch(me){console.error("[StockOpname] Failed to save opname:",me),t.error(((Ae=(se=me.response)==null?void 0:se.data)==null?void 0:Ae.message)||"Failed to save opname")}finally{n.value=!1}},_e=async({productId:X,locationId:se,callback:Ae})=>{var me;try{const Le=await Ua.calculateSystemQuantity(X,se),Re=Le.system_quantity||((me=Le.data)==null?void 0:me.system_quantity)||0;Ae(Re)}catch(Le){console.error("[StockOpname] Failed to get system quantity:",Le),t.error("Failed to get system quantity"),Ae(0)}},ye=async({productIds:X,locationId:se,callback:Ae})=>{try{console.log("[StockOpname] Fetching batch system quantities for",X.length,"products at location",se);const me=await Ua.batchCalculateSystemQuantities(X,se),Le=me.data||me.quantities||me||{};console.log("[StockOpname] Batch system quantities received:",Le),Ae(Le)}catch(me){console.error("[StockOpname] Failed to get batch system quantities:",me),t.error("Failed to get system quantities"),Ae({})}},z=()=>{m.value=!1,y.value=null,h.value=!1,g.value=null,d.value=!1,f.value=!1,x.value=null,c.value=!1},q=X=>({draft:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",in_progress:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",completed:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[X]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400";return Ot(async()=>{console.log("[StockOpname] Component mounted, loading data..."),await Promise.all([C(),j(),V()])}),(X,se)=>{var Ae;return $(),S("div",ite,[L(sh,{title:"Stock Opname",description:"Manage stock counting and inventory verification"},{actions:le(()=>[a("button",{onClick:se[0]||(se[0]=me=>m.value=!0),class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[L(F(la),{class:"w-4 h-4"}),se[4]||(se[4]=ke(" New Stock Opname ",-1))])]),_:1}),L(QZ,{ref_key:"statsRef",ref:s},null,512),L(Us,{title:"Stock Opnames",data:i.value,columns:w,loading:r.value,onRefresh:C,"show-refresh":!0,"refresh-loading":o.value,"search-placeholder":"Search stock opnames...",showAddButton:!1,showExport:!1,showFilters:!1,"server-side-pagination":!0,pagination:b.value,onPageChange:T,onSort:P,onSearch:A},{"column-total_items":le(({value:me})=>[a("span",lte,k(me||0)+" item(s) ",1)]),"column-status":le(({value:me})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",q(me)])},k(me),3)]),actions:le(({item:me})=>[a("div",dte,[a("button",{onClick:Le=>M(me),class:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200 dark:hover:text-blue-400 dark:hover:bg-blue-900/20",title:"View Details"},[L(F(Ta),{class:"w-4 h-4"})],8,cte),me.status==="draft"?($(),S("button",{key:0,onClick:Le=>H(me),class:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200 dark:hover:text-blue-400 dark:hover:bg-blue-900/20",title:"Edit"},[L(F(Bs),{class:"w-4 h-4"})],8,ute)):G("",!0),me.status==="draft"?($(),S("button",{key:1,onClick:Le=>B(me),class:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors duration-200 dark:hover:text-purple-400 dark:hover:bg-purple-900/20",title:"Start Counting"},[L(F(Yo),{class:"w-4 h-4"})],8,hte)):G("",!0),me.status==="in_progress"?($(),S("button",{key:2,onClick:Le=>W(me),class:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors duration-200 dark:hover:text-green-400 dark:hover:bg-green-900/20",title:"Complete Opname"},[L(F(Eo),{class:"w-4 h-4"})],8,gte)):G("",!0),me.status==="draft"?($(),S("button",{key:3,onClick:Le=>R(me),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete"},[L(F(Ks),{class:"w-4 h-4"})],8,pte)):G("",!0)])]),_:1},8,["data","loading","refresh-loading","pagination"]),L(Iee,{show:m.value||!!y.value,opname:y.value,products:l.value,locations:u.value,saving:n.value,onClose:z,onSubmit:Te,onGetSystemQuantity:_e,onBatchGetSystemQuantities:ye},null,8,["show","opname","products","locations","saving"]),($(),it(nte,{key:(Ae=v.value)==null?void 0:Ae.id,show:p.value,opname:v.value,onClose:se[1]||(se[1]=me=>p.value=!1)},null,8,["show","opname"])),L(us,{"is-open":h.value,title:"Complete Stock Opname",message:g.value?`Are you sure you want to complete stock opname ${g.value.opname_number}? This will create stock adjustments for all differences.`:"Are you sure you want to complete this opname?","confirm-text":"Complete Opname","cancel-text":"Cancel",loading:d.value,onConfirm:K,onCancel:se[2]||(se[2]=me=>h.value=!1)},null,8,["is-open","message","loading"]),L(us,{"is-open":f.value,title:"Delete Stock Opname",message:"Are you sure you want to delete this stock opname? This action cannot be undone.","confirm-text":"Delete","cancel-text":"Cancel",loading:c.value,onConfirm:Z,onCancel:se[3]||(se[3]=me=>f.value=!1)},null,8,["is-open","loading"])])}}},Ha={async getAll(e={}){return(await Xe.get("/stock-book",{params:e})).data},async getProductsWithStock(){const e=await Xe.get("/stock-book/products");return console.log("Response Product",e),e.data},async getLocationsWithStock(){return(await Xe.get("/stock-book/locations")).data},async getStatistics(){return(await Xe.get("/stock-book/statistics")).data},async getLedger(e={}){return(await Xe.get("/stock-book/ledger",{params:e})).data},async getCurrentBalances(e={}){return(await Xe.get("/stock-book/current-balances",{params:e})).data},async getMovementSummary(e={}){return(await Xe.get("/stock-book/movement-summary",{params:e})).data},async export(e={}){return(await Xe.get("/stock-book/export",{params:e,responseType:"blob"})).data},async getBestSelling(e={}){return(await Xe.get("/stock-book/best-selling",{params:e})).data},async getSlowMoving(e={}){return(await Xe.get("/stock-book/slow-moving",{params:e})).data},async getSalesRecap(e={}){return(await Xe.get("/stock-book/sales-recap",{params:e})).data}},Hn=Nn("stockBook",{state:()=>({viewMode:"default",filters:{product_id:null,location_id:null,start_date:null,end_date:null,transaction_type:null,search:"",status_filter:"all"},stockCards:[],currentBalances:[],statistics:{},movementSummary:null,ledgerData:null,products:[],locations:[],loading:!1,refreshing:!1,exporting:!1,pagination:{current_page:1,per_page:50,total:0,last_page:1},cacheTimestamps:{statistics:null,currentBalances:null},searchTimeout:null}),getters:{hasActiveFilters:e=>Object.values(e.filters).some(t=>t!==null&&t!==""&&t!=="all"),activeFiltersCount:e=>Object.values(e.filters).filter(t=>t!==null&&t!==""&&t!=="all").length,isCacheValid:e=>t=>{const s=e.cacheTimestamps[t];return s?Date.now()-s<5*60*1e3:!1},selectedProduct:e=>e.products.find(t=>t.id===e.filters.product_id),selectedLocation:e=>e.locations.find(t=>t.id===e.filters.location_id),productOptions:e=>Array.isArray(e.products)?e.products.map(t=>({value:t.id,label:`${t.product_code} - ${t.product_name}`})):[],locationOptions:e=>Array.isArray(e.locations)?e.locations.map(t=>({value:t.id,label:`${t.code} - ${t.name}`})):[]},actions:{async initialize(){await Promise.all([this.loadProducts(),this.loadLocations(),this.loadStatistics()])},async loadProducts(){try{const e=await Ha.getProductsWithStock();this.products=e||[]}catch(e){throw console.error("Failed to load products:",e),this.products=[],e}},async loadLocations(){try{const e=await Ha.getLocationsWithStock();this.locations=e||[]}catch(e){throw console.error("Failed to load locations:",e),this.locations=[],e}},async loadStatistics(e=!1){if(!(!e&&this.isCacheValid("statistics")))try{const t=await Ha.getStatistics();this.statistics=t,this.cacheTimestamps.statistics=Date.now()}catch(t){throw console.error("Failed to load statistics:",t),t}},async fetchStockCards(e=!1){this.loading=!0;try{const t={...this.filters,per_page:this.pagination.per_page,page:e?this.pagination.current_page+1:1},s=await Ha.getAll(t);e?this.stockCards=[...this.stockCards,...s]:this.stockCards=s,this.pagination={current_page:s.current_page,per_page:s.per_page,total:s.total,last_page:s.last_page}}catch(t){throw console.error("Failed to fetch stock cards:",t),t}finally{this.loading=!1}},async fetchLedgerData(){if(!this.filters.product_id||!this.filters.location_id)throw new Error("Product and Location are required for Ledger View");this.loading=!0;try{const e={product_id:this.filters.product_id,location_id:this.filters.location_id,start_date:this.filters.start_date,end_date:this.filters.end_date,per_page:this.pagination.per_page};this.ledgerData=await Ha.getLedger(e)}catch(e){throw console.error("Failed to fetch ledger data:",e),e}finally{this.loading=!1}},async fetchCurrentBalances(e=!1){if(!this.filters.location_id)throw new Error("Location is required for Current Balance View");if(!(!e&&this.isCacheValid("currentBalances"))){this.loading=!0;try{const t={location_id:this.filters.location_id,search:this.filters.search,status_filter:this.filters.status_filter},s=await Ha.getCurrentBalances(t);this.currentBalances=(s==null?void 0:s.balances)||s||[],this.cacheTimestamps.currentBalances=Date.now()}catch(t){throw console.error("Failed to fetch current balances:",t),this.currentBalances=[],t}finally{this.loading=!1}}},async fetchMovementSummary(){if(!this.filters.start_date||!this.filters.end_date)throw new Error("Date range is required for Movement Summary");this.loading=!0;try{const e={product_id:this.filters.product_id,location_id:this.filters.location_id,start_date:this.filters.start_date,end_date:this.filters.end_date};this.movementSummary=await Ha.getMovementSummary(e)}catch(e){throw console.error("Failed to fetch movement summary:",e),e}finally{this.loading=!1}},async exportData(e="xlsx"){this.exporting=!0;try{const t={format:e,...this.filters},s=await Ha.export(t),r=window.URL.createObjectURL(new Blob([s])),o=document.createElement("a");o.href=r,o.setAttribute("download",`stock-book.${e}`),document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(r)}catch(t){throw console.error("Failed to export data:",t),t}finally{this.exporting=!1}},updateFilters(e){this.filters={...this.filters,...e}},clearFilters(){this.filters={product_id:null,location_id:null,start_date:null,end_date:null,transaction_type:null,search:"",status_filter:"all"},this.pagination.current_page=1},setViewMode(e){this.viewMode=e},setPagination(e,t=null){this.pagination.current_page=e,t&&(this.pagination.per_page=t)},async refreshCurrentView(){this.refreshing=!0;try{switch(this.viewMode){case"ledger":this.filters.product_id&&this.filters.location_id&&await this.fetchLedgerData();break;case"balance":this.filters.location_id&&await this.fetchCurrentBalances(!0);break;case"product":case"location":await this.fetchStockCards();break;case"best_selling":case"slow_moving":case"sales_recap":break;default:await this.fetchStockCards()}}catch(e){throw console.error("Failed to refresh:",e),e}finally{this.refreshing=!1}},debouncedSearch:async function(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(async()=>{await this.refreshCurrentView()},300)},async loadMore(){this.pagination.current_page<this.pagination.last_page&&!this.loading&&(this.setPagination(this.pagination.current_page+1),await this.fetchStockCards(!0))}}}),fte={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},yte={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},vte={class:"flex items-center justify-between"},xte={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},bte={key:0,class:"flex items-center mt-2"},kte={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center"},wte={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},_te={class:"flex items-center justify-between"},$te={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},Cte={key:0,class:"mt-2"},Ste={class:"flex items-center"},Ete={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-2"},Tte={class:"text-xs text-gray-500 dark:text-gray-400"},Ate={class:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center"},Lte={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Mte={class:"flex items-center justify-between"},Pte={class:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1"},Dte={key:0,class:"mt-2"},Ite={class:"flex items-center"},Ote={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-2"},Fte={class:"text-xs text-gray-500 dark:text-gray-400"},Rte={class:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center"},jte={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Nte={class:"flex items-center justify-between"},Vte={class:"flex items-center mt-2"},Bte={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6"},Ute={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Hte={class:"flex items-center justify-between"},qte={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},zte={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center"},Wte={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Kte={class:"flex items-center justify-between"},Yte={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},Gte={class:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/20 rounded-lg flex items-center justify-center"},Jte={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Qte={class:"flex items-center justify-between"},Xte={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},Zte={class:"w-12 h-12 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center"},ese={__name:"StockBookStats",props:{stats:{type:Object,required:!0,default:()=>({})},showTrend:{type:Boolean,default:!1},showPercentage:{type:Boolean,default:!1},showAdditionalStats:{type:Boolean,default:!1}},setup(e){const t=e,s=fe(()=>(t.stats.total_in||0)-(t.stats.total_out||0)),r=fe(()=>t.stats.total_transactions?Math.round((t.stats.total_in||0)/t.stats.total_transactions*100):0),o=fe(()=>t.stats.total_transactions?Math.round((t.stats.total_out||0)/t.stats.total_transactions*100):0),n=fe(()=>{var l,u;if(!t.stats.total_transactions)return 0;if((l=t.stats.period)!=null&&l.start_date&&((u=t.stats.period)!=null&&u.end_date)){const m=new Date(t.stats.period.start_date),y=new Date(t.stats.period.end_date),f=Math.ceil((y-m)/(1e3*60*60*24))+1;return Math.round(t.stats.total_transactions/f)}return Math.round(t.stats.total_transactions/30)}),i=l=>l==null?"0":new Intl.NumberFormat("en-US").format(l);return(l,u)=>($(),S(Qe,null,[a("div",fte,[a("div",yte,[a("div",vte,[a("div",null,[u[1]||(u[1]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Transactions ",-1)),a("p",xte,k(i(e.stats.total_transactions)),1),e.showTrend&&e.stats.transactions_trend?($(),S("div",bte,[a("span",{class:Ee(["inline-flex items-center text-xs font-medium",e.stats.transactions_trend>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},[e.stats.transactions_trend>0?($(),it(F(Vi),{key:0,class:"w-4 h-4 mr-1"})):($(),it(F(Ni),{key:1,class:"w-4 h-4 mr-1"})),ke(" "+k(Math.abs(e.stats.transactions_trend))+"% ",1)],2),u[0]||(u[0]=a("span",{class:"text-xs text-gray-500 dark:text-gray-400 ml-1"}," vs last period ",-1))])):G("",!0)]),a("div",kte,[L(F(Tu),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})])])]),a("div",wte,[a("div",_te,[a("div",null,[u[2]||(u[2]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Stock In ",-1)),a("p",$te,k(i(e.stats.total_in)),1),e.showPercentage&&e.stats.total_transactions?($(),S("div",Cte,[a("div",Ste,[a("div",Ete,[a("div",{class:"bg-green-600 dark:bg-green-400 h-2 rounded-full",style:fs({width:`${r.value}%`})},null,4)]),a("span",Tte,k(r.value)+"% ",1)])])):G("",!0)]),a("div",Ate,[L(F(Vi),{class:"w-6 h-6 text-green-600 dark:text-green-400"})])])]),a("div",Lte,[a("div",Mte,[a("div",null,[u[3]||(u[3]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Stock Out ",-1)),a("p",Pte,k(i(e.stats.total_out)),1),e.showPercentage&&e.stats.total_transactions?($(),S("div",Dte,[a("div",Ite,[a("div",Ote,[a("div",{class:"bg-red-600 dark:bg-red-400 h-2 rounded-full",style:fs({width:`${o.value}%`})},null,4)]),a("span",Fte,k(o.value)+"% ",1)])])):G("",!0)]),a("div",Rte,[L(F(Ni),{class:"w-6 h-6 text-red-600 dark:text-red-400"})])])]),a("div",jte,[a("div",Nte,[a("div",null,[u[4]||(u[4]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Net Change ",-1)),a("p",{class:Ee(["text-2xl font-bold mt-1",s.value>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},k(s.value>=0?"+":"")+k(i(s.value)),3),a("div",Vte,[a("span",{class:Ee(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",s.value>=0?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"])},k(s.value>=0?"Increase":"Decrease"),3)])]),a("div",{class:Ee(["w-12 h-12 rounded-lg flex items-center justify-center",s.value>=0?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"])},[L(F(D0),{class:Ee(["w-6 h-6",s.value>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},null,8,["class"])],2)])])]),e.showAdditionalStats?($(),S("div",Bte,[a("div",Ute,[a("div",Hte,[a("div",null,[u[5]||(u[5]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Products with Stock ",-1)),a("p",qte,k(i(e.stats.total_products_with_stock||0)),1)]),a("div",zte,[L(F(Ra),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})])])]),a("div",Wte,[a("div",Kte,[a("div",null,[u[6]||(u[6]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Locations with Stock ",-1)),a("p",Yte,k(i(e.stats.total_locations_with_stock||0)),1)]),a("div",Gte,[L(F(Bn),{class:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})])])]),a("div",Jte,[a("div",Qte,[a("div",null,[u[7]||(u[7]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Avg Daily Movement ",-1)),a("p",Xte,k(i(n.value)),1)]),a("div",Zte,[L(F(Pn),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})])])])])):G("",!0)],64))}},tse={class:"space-y-4"},sse={key:0,class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},ase={class:"flex items-center justify-between"},rse={class:"flex items-center gap-4"},ose={class:"text-sm font-medium text-blue-800 dark:text-blue-200"},nse={class:"flex flex-wrap gap-2"},ise={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300"},lse={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300"},dse={key:2,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300"},cse={key:3,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300"},use={key:4,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300"},hse={key:5,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300"},gse={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},pse={class:"flex items-center justify-between mb-4"},mse={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},fse={key:0,class:"space-y-4 border-t border-gray-200 dark:border-gray-700 pt-4"},yse={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},vse={class:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-700"},xse={class:"flex gap-3"},bse=["disabled"],kse={key:0,class:"flex items-center gap-2"},wse={key:1},_se={__name:"StockBookFilters",props:{loading:{type:Boolean,default:!1},showStatusFilter:{type:Boolean,default:!1}},emits:["apply","cancel","search"],setup(e,{emit:t}){const s=t,r=Hn(),o=O(!1),n=O(""),i=O({}),l=[{value:"stock_in",label:"Stock In"},{value:"stock_out",label:"Stock Out"},{value:"mutation_in",label:"Mutation In"},{value:"mutation_out",label:"Mutation Out"},{value:"adjustment_in",label:"Adjustment In"},{value:"adjustment_out",label:"Adjustment Out"},{value:"opname_in",label:"Opname In"},{value:"opname_out",label:"Opname Out"}],u=[{value:"",label:"Custom Range"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last_7_days",label:"Last 7 Days"},{value:"last_30_days",label:"Last 30 Days"},{value:"this_month",label:"This Month"},{value:"last_month",label:"Last Month"},{value:"this_year",label:"This Year"}],m=[{value:"all",label:"All Status"},{value:"in_stock",label:"In Stock"},{value:"low_stock",label:"Low Stock"},{value:"out_of_stock",label:"Out of Stock"},{value:"overstock",label:"Overstock"}],y=fe(()=>new Date().toISOString().split("T")[0]),f=()=>{i.value={...r.filters}};Et(()=>r.filters,f,{deep:!0});const x=()=>{r.updateFilters(i.value),s("apply")},c=()=>{r.clearFilters(),f(),n.value="",s("apply")},h=()=>{f(),n.value=""},g=()=>{const b=n.value,w=new Date;let E=new Date,C=new Date;switch(b){case"today":E=w,C=w;break;case"yesterday":E=new Date(w),E.setDate(w.getDate()-1),C=E;break;case"last_7_days":E=new Date(w),E.setDate(w.getDate()-7),C=w;break;case"last_30_days":E=new Date(w),E.setDate(w.getDate()-30),C=w;break;case"this_month":E=new Date(w.getFullYear(),w.getMonth(),1),C=w;break;case"last_month":E=new Date(w.getFullYear(),w.getMonth()-1,1),C=new Date(w.getFullYear(),w.getMonth(),0);break;case"this_year":E=new Date(w.getFullYear(),0,1),C=w;break;default:return}i.value.start_date=E.toISOString().split("T")[0],i.value.end_date=C.toISOString().split("T")[0]},d=()=>{s("search",i.value.search)},p=b=>({stock_in:"Stock In",stock_out:"Stock Out",mutation_in:"Mutation In",mutation_out:"Mutation Out",adjustment_in:"Adjustment In",adjustment_out:"Adjustment Out",opname_in:"Opname In",opname_out:"Opname Out"})[b]||b,v=b=>b?new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return Ot(()=>{f()}),(b,w)=>{var E,C,T,P;return $(),S("div",tse,[F(r).hasActiveFilters?($(),S("div",sse,[a("div",ase,[a("div",rse,[a("span",ose," Active Filters ("+k(F(r).activeFiltersCount)+"): ",1),a("div",nse,[F(r).filters.product_id?($(),S("span",ise," Product: "+k((E=F(r).selectedProduct)==null?void 0:E.product_code)+" - "+k((C=F(r).selectedProduct)==null?void 0:C.product_name),1)):G("",!0),F(r).filters.location_id?($(),S("span",lse," Location: "+k((T=F(r).selectedLocation)==null?void 0:T.code)+" - "+k((P=F(r).selectedLocation)==null?void 0:P.name),1)):G("",!0),F(r).filters.start_date?($(),S("span",dse," From: "+k(v(F(r).filters.start_date)),1)):G("",!0),F(r).filters.end_date?($(),S("span",cse," To: "+k(v(F(r).filters.end_date)),1)):G("",!0),F(r).filters.transaction_type?($(),S("span",use," Type: "+k(p(F(r).filters.transaction_type)),1)):G("",!0),F(r).filters.search?($(),S("span",hse,' Search: "'+k(F(r).filters.search)+'" ',1)):G("",!0)])]),a("button",{onClick:c,class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300"}," Clear All ")])])):G("",!0),a("div",gse,[a("div",pse,[w[11]||(w[11]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Filters ",-1)),o.value?($(),S("button",{key:1,onClick:w[1]||(w[1]=A=>o.value=!1),class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400"}," Hide Advanced ")):($(),S("button",{key:0,onClick:w[0]||(w[0]=A=>o.value=!0),class:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400"}," Show Advanced "))]),a("form",{onSubmit:Bt(x,["prevent"]),class:"space-y-4"},[a("div",mse,[L(ut,{modelValue:i.value.product_id,"onUpdate:modelValue":w[2]||(w[2]=A=>i.value.product_id=A),label:"Product",options:F(r).productOptions,clearable:"",searchable:"",placeholder:"Select product..."},null,8,["modelValue","options"]),L(ut,{modelValue:i.value.location_id,"onUpdate:modelValue":w[3]||(w[3]=A=>i.value.location_id=A),label:"Location",options:F(r).locationOptions,clearable:"",placeholder:"Select location..."},null,8,["modelValue","options"]),L(et,{modelValue:i.value.search,"onUpdate:modelValue":w[4]||(w[4]=A=>i.value.search=A),label:"Search",type:"text",placeholder:"Product code, name, or reference...",onInput:d},null,8,["modelValue"]),L(ut,{modelValue:i.value.transaction_type,"onUpdate:modelValue":w[5]||(w[5]=A=>i.value.transaction_type=A),label:"Transaction Type",options:l,clearable:"",placeholder:"All types"},null,8,["modelValue"])]),o.value?($(),S("div",fse,[a("div",yse,[L(ut,{modelValue:n.value,"onUpdate:modelValue":w[6]||(w[6]=A=>n.value=A),label:"Date Range",options:u,onChange:g},null,8,["modelValue"]),L(et,{modelValue:i.value.start_date,"onUpdate:modelValue":w[7]||(w[7]=A=>i.value.start_date=A),label:"Start Date",type:"date",max:y.value},null,8,["modelValue","max"]),L(et,{modelValue:i.value.end_date,"onUpdate:modelValue":w[8]||(w[8]=A=>i.value.end_date=A),label:"End Date",type:"date",max:y.value,min:i.value.start_date},null,8,["modelValue","max","min"])]),e.showStatusFilter?($(),it(ut,{key:0,modelValue:i.value.status_filter,"onUpdate:modelValue":w[9]||(w[9]=A=>i.value.status_filter=A),label:"Stock Status",options:m},null,8,["modelValue"])):G("",!0)])):G("",!0),a("div",vse,[a("div",{class:"flex gap-3"},[a("button",{type:"button",onClick:c,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Clear All "),a("button",{type:"button",onClick:h,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Reset ")]),a("div",xse,[a("button",{type:"button",onClick:w[10]||(w[10]=A=>b.$emit("cancel")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Cancel "),a("button",{type:"submit",disabled:e.loading,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[e.loading?($(),S("span",kse,[...w[12]||(w[12]=[a("svg",{class:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ke(" Applying... ",-1)])])):($(),S("span",wse,"Apply Filters"))],8,bse)])])],32)])])}}},$se={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},Cse={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Sse={class:"flex items-center justify-between"},Ese={class:"text-sm text-gray-500 dark:text-gray-400"},Tse={class:"flex items-center gap-4"},Ase={class:"text-right"},Lse={class:"text-sm font-medium text-gray-900 dark:text-white"},Mse={class:"grid grid-cols-1 md:grid-cols-4 gap-4 p-6 bg-gray-50 dark:bg-gray-900/50 border-b border-gray-200 dark:border-gray-700"},Pse={class:"text-center"},Dse={class:"text-xl font-bold text-gray-900 dark:text-white"},Ise={class:"text-center"},Ose={class:"text-xl font-bold text-green-600 dark:text-green-400"},Fse={class:"text-center"},Rse={class:"text-xl font-bold text-red-600 dark:text-red-400"},jse={class:"text-center"},Nse={class:"text-xl font-bold text-gray-900 dark:text-white"},Vse={key:0,class:"p-8"},Bse={key:1,class:"overflow-x-auto"},Use={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Hse={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},qse={class:"bg-gray-50 dark:bg-gray-900/50 font-semibold"},zse={class:"px-6 py-3 text-sm text-gray-900 dark:text-white"},Wse={class:"px-6 py-3 text-sm text-right font-medium text-gray-900 dark:text-white"},Kse={class:"px-6 py-3 text-sm text-gray-900 dark:text-white"},Yse={class:"px-6 py-3"},Gse={class:"px-6 py-3 text-sm text-gray-900 dark:text-white font-mono"},Jse={class:"px-6 py-3 text-sm text-right"},Qse={key:0,class:"text-green-600 dark:text-green-400 font-semibold"},Xse={key:1,class:"text-gray-400"},Zse={class:"px-6 py-3 text-sm text-right"},eae={key:0,class:"text-red-600 dark:text-red-400 font-semibold"},tae={key:1,class:"text-gray-400"},sae={class:"px-6 py-3 text-sm text-right font-medium text-gray-900 dark:text-white"},aae={class:"px-6 py-3 text-sm text-gray-500 dark:text-gray-400"},rae={key:2,class:"p-8 text-center"},oae={class:"flex flex-col items-center"},nae={key:3,class:"px-6 py-4 border-t border-gray-200 dark:border-gray-700"},iae={class:"flex items-center justify-between"},lae={class:"text-sm text-gray-700 dark:text-gray-300"},dae={class:"flex gap-2"},cae=["disabled"],uae={class:"px-3 py-1 text-sm text-gray-700 dark:text-gray-300"},hae=["disabled"],gae={__name:"LedgerTable",props:{product:{type:Object,default:null},location:{type:Object,default:null},period:{type:Object,default:null},openingBalance:{type:Number,default:0},transactions:{type:Array,default:()=>[]},summary:{type:Object,default:null},pagination:{type:Object,default:null},loading:{type:Boolean,default:!1}},emits:["page-change"],setup(e,{emit:t}){const s=i=>({stock_in:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",stock_out:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",mutation_in:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",mutation_out:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",adjustment_in:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",adjustment_out:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",opname_in:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",opname_out:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400"})[i]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",r=i=>({stock_in:"Stock In",stock_out:"Stock Out",mutation_in:"Mutation In",mutation_out:"Mutation Out",adjustment_in:"Adjustment In",adjustment_out:"Adjustment Out",opname_in:"Opname In",opname_out:"Opname Out"})[i]||i,o=i=>i==null?"0":new Intl.NumberFormat("en-US").format(i),n=i=>i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return(i,l)=>{var u,m,y,f,x,c,h,g,d;return $(),S("div",$se,[a("div",Cse,[a("div",Sse,[a("div",null,[l[2]||(l[2]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Stock Ledger ",-1)),a("p",Ese,k((u=e.product)==null?void 0:u.product_code)+" - "+k((m=e.product)==null?void 0:m.product_name)+" @ "+k((y=e.location)==null?void 0:y.name),1)]),a("div",Tse,[a("div",Ase,[l[3]||(l[3]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Period ",-1)),a("p",Lse,k(n((f=e.period)==null?void 0:f.start_date))+" - "+k(n((x=e.period)==null?void 0:x.end_date)),1)])])])]),a("div",Mse,[a("div",Pse,[l[4]||(l[4]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Opening Balance ",-1)),a("p",Dse,k(o(e.openingBalance)),1)]),a("div",Ise,[l[5]||(l[5]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total In",-1)),a("p",Ose," +"+k(o((c=e.summary)==null?void 0:c.total_in)),1)]),a("div",Fse,[l[6]||(l[6]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Out ",-1)),a("p",Rse," -"+k(o((h=e.summary)==null?void 0:h.total_out)),1)]),a("div",jse,[l[7]||(l[7]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Ending Balance ",-1)),a("p",Nse,k(o((g=e.summary)==null?void 0:g.ending_balance)),1)])]),e.loading?($(),S("div",Vse,[...l[8]||(l[8]=[po('<div class="flex items-center justify-center"><svg class="animate-spin h-8 w-8 text-blue-600" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span class="ml-2 text-gray-600 dark:text-gray-400">Loading ledger data...</span></div>',1)])])):e.transactions&&e.transactions.length>0?($(),S("div",Bse,[a("table",Use,[l[14]||(l[14]=a("thead",{class:"bg-gray-50 dark:bg-gray-900/50"},[a("tr",null,[a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Date "),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Type "),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Reference "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Qty In "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Qty Out "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Balance "),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Notes ")])],-1)),a("tbody",Hse,[a("tr",qse,[a("td",zse,k(n((d=e.period)==null?void 0:d.start_date)),1),l[9]||(l[9]=a("td",{class:"px-6 py-3 text-sm text-gray-900 dark:text-white"}," Opening Balance ",-1)),l[10]||(l[10]=a("td",{class:"px-6 py-3 text-sm text-gray-500 dark:text-gray-400"}," - ",-1)),l[11]||(l[11]=a("td",{class:"px-6 py-3 text-sm text-right text-gray-500 dark:text-gray-400"}," - ",-1)),l[12]||(l[12]=a("td",{class:"px-6 py-3 text-sm text-right text-gray-500 dark:text-gray-400"}," - ",-1)),a("td",Wse,k(o(e.openingBalance)),1),l[13]||(l[13]=a("td",{class:"px-6 py-3 text-sm text-gray-500 dark:text-gray-400"}," Balance carried forward ",-1))]),($(!0),S(Qe,null,ot(e.transactions,(p,v)=>($(),S("tr",{key:p.id,class:Ee(v%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900/20")},[a("td",Kse,k(n(p.transaction_date)),1),a("td",Yse,[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s(p.transaction_type)])},k(r(p.transaction_type)),3)]),a("td",Gse,k(p.reference_number),1),a("td",Jse,[p.quantity_in>0?($(),S("span",Qse," +"+k(o(p.quantity_in)),1)):($(),S("span",Xse,"-"))]),a("td",Zse,[p.quantity_out>0?($(),S("span",eae," -"+k(o(p.quantity_out)),1)):($(),S("span",tae,"-"))]),a("td",sae,k(o(p.balance)),1),a("td",aae,k(p.notes||"-"),1)],2))),128))])])])):($(),S("div",rae,[a("div",oae,[L(F(an),{class:"w-12 h-12 text-gray-400 mb-4"}),l[15]||(l[15]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No transactions found ",-1)),l[16]||(l[16]=a("p",{class:"text-gray-500 dark:text-gray-400"}," No stock transactions found for the selected period and filters. ",-1))])])),e.pagination&&e.pagination.last_page>1?($(),S("div",nae,[a("div",iae,[a("div",lae," Showing "+k(e.pagination.from||1)+" to "+k(e.pagination.to||0)+" of "+k(e.pagination.total)+" results ",1),a("div",dae,[a("button",{onClick:l[0]||(l[0]=p=>i.$emit("page-change",e.pagination.current_page-1)),disabled:e.pagination.current_page<=1,class:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:border-gray-600 dark:hover:bg-gray-700"}," Previous ",8,cae),a("span",uae," Page "+k(e.pagination.current_page)+" of "+k(e.pagination.last_page),1),a("button",{onClick:l[1]||(l[1]=p=>i.$emit("page-change",e.pagination.current_page+1)),disabled:e.pagination.current_page>=e.pagination.last_page,class:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:border-gray-600 dark:hover:bg-gray-700"}," Next ",8,hae)])])])):G("",!0)])}}},pae={class:"space-y-6"},mae={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},fae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},yae={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"},vae={class:"flex justify-end gap-3 mt-6"},xae=["disabled"],bae={key:0},kae={key:1},wae=["disabled"],_ae={key:0,class:"flex items-center gap-2"},$ae={key:1},Cae={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12"},Sae={class:"flex flex-col items-center text-center"},Eae={__name:"LedgerView",setup(e){const t=Hn(),s=Ut(),r=O(null),o=O(null),n=O(""),i=O(""),l=O(""),u=O(!1),m=O(!1),y=O(!1),f=fe(()=>t.ledgerData),x=[{value:"",label:"Custom Range"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last_7_days",label:"Last 7 Days"},{value:"last_30_days",label:"Last 30 Days"},{value:"this_month",label:"This Month"},{value:"last_month",label:"Last Month"},{value:"this_year",label:"This Year"}],c=A=>{const j=new Date;let V=new Date,H=new Date;switch(A){case"today":V=j,H=j;break;case"yesterday":V=new Date(j),V.setDate(j.getDate()-1),H=V;break;case"last_7_days":V=new Date(j),V.setDate(j.getDate()-7),H=j;break;case"last_30_days":V=new Date(j),V.setDate(j.getDate()-30),H=j;break;case"this_month":V=new Date(j.getFullYear(),j.getMonth(),1),H=j;break;case"last_month":V=new Date(j.getFullYear(),j.getMonth()-1,1),H=new Date(j.getFullYear(),j.getMonth(),0);break;case"this_year":V=new Date(j.getFullYear(),0,1),H=j;break;default:return null}return{start:V.toISOString().split("T")[0],end:H.toISOString().split("T")[0]}},h=fe(()=>new Date().toISOString().split("T")[0]),g=fe(()=>!n.value||!i.value?null:{start_date:n.value,end_date:i.value}),d=fe(()=>r.value&&o.value&&n.value&&i.value),p=fe(()=>f.value&&f.value.transactions&&f.value.transactions.length>0),v=()=>{t.updateFilters({product_id:r.value}),u.value=!1},b=()=>{t.updateFilters({location_id:o.value}),u.value=!1},w=()=>{const A=l.value,j=new Date;let V=new Date,H=new Date;switch(A){case"today":V=j,H=j;break;case"yesterday":V=new Date(j),V.setDate(j.getDate()-1),H=V;break;case"last_7_days":V=new Date(j),V.setDate(j.getDate()-7),H=j;break;case"last_30_days":V=new Date(j),V.setDate(j.getDate()-30),H=j;break;case"this_month":V=new Date(j.getFullYear(),j.getMonth(),1),H=j;break;case"last_month":V=new Date(j.getFullYear(),j.getMonth()-1,1),H=new Date(j.getFullYear(),j.getMonth(),0);break;case"this_year":V=new Date(j.getFullYear(),0,1),H=j;break;default:return}n.value=V.toISOString().split("T")[0],i.value=H.toISOString().split("T")[0],E()},E=()=>{t.updateFilters({start_date:n.value,end_date:i.value}),u.value=!1;const A=c(l.value);(!A||A.start!==n.value||A.end!==i.value)&&(l.value="")},C=async()=>{if(d.value){m.value=!0;try{await t.fetchLedgerData(),u.value=!0}catch(A){s.error("Failed to load ledger data"),console.error("Failed to load ledger data:",A),u.value=!1}finally{m.value=!1}}},T=async A=>{d.value&&(t.setPagination(A),await C())},P=async()=>{if(p.value){y.value=!0;try{await Xi.export({product_id:r.value,location_id:o.value,start_date:n.value,end_date:i.value,format:"xlsx",type:"ledger"}),s.success("Ledger exported successfully")}catch(A){s.error("Failed to export ledger"),console.error("Export error:",A)}finally{y.value=!1}}};return Et(()=>t.filters.product_id,A=>{A!==r.value&&(r.value=A)}),Et(()=>t.filters.location_id,A=>{A!==o.value&&(o.value=A)}),Et(()=>t.filters.start_date,A=>{A!==n.value&&(n.value=A)}),Et(()=>t.filters.end_date,A=>{A!==i.value&&(i.value=A)}),Et(l,()=>{w()}),Ot(()=>{t.filters.product_id&&(r.value=t.filters.product_id),t.filters.location_id&&(o.value=t.filters.location_id),t.filters.start_date&&(n.value=t.filters.start_date),t.filters.end_date&&(i.value=t.filters.end_date),d.value&&C()}),(A,j)=>{var V,H,R,M;return $(),S("div",pae,[a("div",mae,[a("div",fae,[a("div",null,[j[5]||(j[5]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Select Product ",-1)),L(ut,{modelValue:r.value,"onUpdate:modelValue":j[0]||(j[0]=B=>r.value=B),options:F(t).productOptions,placeholder:"Select product to view ledger",searchable:"",onChange:v},null,8,["modelValue","options"])]),a("div",null,[j[6]||(j[6]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Select Location ",-1)),L(ut,{modelValue:o.value,"onUpdate:modelValue":j[1]||(j[1]=B=>o.value=B),options:F(t).locationOptions,placeholder:"Select location to view ledger",onChange:b},null,8,["modelValue","options"])])]),a("div",yae,[a("div",null,[L(ut,{modelValue:l.value,"onUpdate:modelValue":j[2]||(j[2]=B=>l.value=B),label:"Date Range",options:x},null,8,["modelValue"])]),a("div",null,[L(et,{modelValue:n.value,"onUpdate:modelValue":j[3]||(j[3]=B=>n.value=B),label:"Start Date",type:"date",max:h.value,onChange:E},null,8,["modelValue","max"])]),a("div",null,[L(et,{modelValue:i.value,"onUpdate:modelValue":j[4]||(j[4]=B=>i.value=B),label:"End Date",type:"date",max:h.value,min:n.value,onChange:E},null,8,["modelValue","max","min"])])]),a("div",vae,[a("button",{onClick:P,disabled:!p.value||y.value,class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},[L(F(sn),{class:"w-4 h-4"}),y.value?($(),S("span",bae,"Exporting...")):($(),S("span",kae,"Export Ledger"))],8,xae),a("button",{onClick:C,disabled:!d.value||m.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[m.value?($(),S("span",_ae,[...j[7]||(j[7]=[a("svg",{class:"animate-spin h-4 w-4",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ke(" Loading... ",-1)])])):($(),S("span",$ae,"View Ledger"))],8,wae)])]),u.value?($(),it(gae,{key:0,product:F(t).selectedProduct,location:F(t).selectedLocation,period:g.value,"opening-balance":(V=f.value)==null?void 0:V.opening_balance,transactions:(H=f.value)==null?void 0:H.transactions,summary:(R=f.value)==null?void 0:R.summary,pagination:(M=f.value)==null?void 0:M.pagination,loading:m.value,onPageChange:T},null,8,["product","location","period","opening-balance","transactions","summary","pagination","loading"])):m.value?G("",!0):($(),S("div",Cae,[a("div",Sae,[L(F(an),{class:"w-16 h-16 text-gray-400 mb-4"}),j[8]||(j[8]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," Select Product and Location ",-1)),j[9]||(j[9]=a("p",{class:"text-gray-500 dark:text-gray-400 max-w-md"}," Please select a product and location to view the detailed stock ledger with all transactions. ",-1))])]))])}}},Tae={class:"space-y-6"},Aae={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Lae={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},Mae={class:"flex-1"},Pae={class:"flex gap-3"},Dae=["disabled"],Iae=["disabled"],Oae={key:0},Fae={key:1},Rae={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"},jae={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Nae={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Vae={class:"flex items-center justify-between"},Bae={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},Uae={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center"},Hae={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},qae={class:"flex items-center justify-between"},zae={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},Wae={class:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center"},Kae={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Yae={class:"flex items-center justify-between"},Gae={class:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1"},Jae={class:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center"},Qae={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Xae={class:"flex items-center justify-between"},Zae={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},ere={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center"},tre={key:1,class:"flex items-center justify-center py-12"},sre={key:2,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},are={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},rre={class:"text-sm text-gray-500 dark:text-gray-400"},ore={class:"overflow-x-auto"},nre={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ire={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},lre={class:"px-6 py-4"},dre={class:"text-sm font-medium text-gray-900 dark:text-white"},cre={class:"text-sm text-gray-500 dark:text-gray-400"},ure={class:"px-6 py-4 text-sm text-right text-gray-900 dark:text-white"},hre={class:"px-6 py-4 text-sm text-right"},gre={class:"text-green-600 dark:text-green-400 font-semibold"},pre={class:"px-6 py-4 text-sm text-right"},mre={class:"text-red-600 dark:text-red-400 font-semibold"},fre={class:"px-6 py-4 text-sm text-right font-medium text-gray-900 dark:text-white"},yre={class:"px-6 py-4 text-sm text-right"},vre={class:"px-6 py-4 text-sm text-center"},xre=["onClick"],bre={key:3,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12"},kre={class:"flex flex-col items-center text-center"},wre={key:4,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12"},_re={class:"flex flex-col items-center text-center"},$re={__name:"ProductView",setup(e){const t=Hn(),s=Ut(),r=O(null),o=O(""),n=O(""),i=O(""),l=O(!1),u=O(!1),m=O(!1),y=O([]),f=O(null),x=[{value:"",label:"Custom Range"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last_7_days",label:"Last 7 Days"},{value:"last_30_days",label:"Last 30 Days"},{value:"this_month",label:"This Month"},{value:"last_month",label:"Last Month"},{value:"this_year",label:"This Year"}],c=fe(()=>new Date().toISOString().split("T")[0]),h=fe(()=>t.products.find(T=>T.id===r.value)),g=()=>{t.updateFilters({product_id:r.value}),r.value?v():(y.value=[],f.value=null)},d=()=>{const T=i.value,P=new Date;let A=new Date,j=new Date;switch(T){case"today":A=P,j=P;break;case"yesterday":A=new Date(P),A.setDate(P.getDate()-1),j=A;break;case"last_7_days":A=new Date(P),A.setDate(P.getDate()-7),j=P;break;case"last_30_days":A=new Date(P),A.setDate(P.getDate()-30),j=P;break;case"this_month":A=new Date(P.getFullYear(),P.getMonth(),1),j=P;break;case"last_month":A=new Date(P.getFullYear(),P.getMonth()-1,1),j=new Date(P.getFullYear(),P.getMonth(),0);break;case"this_year":A=new Date(P.getFullYear(),0,1),j=P;break;default:return}o.value=A.toISOString().split("T")[0],n.value=j.toISOString().split("T")[0],p()},p=()=>{t.updateFilters({start_date:o.value,end_date:n.value}),r.value&&v()},v=async()=>{var T;if(r.value){l.value=!0;try{const P={product_id:r.value,start_date:o.value,end_date:n.value,paginate:"false"},A=await Xi.getAll(P),j={};let V=0,H=0,R=0;(((T=A.data)==null?void 0:T.data)||A.data||[]).forEach(B=>{var Z,Te;const W=B.location_id;j[W]||(j[W]={location_id:W,location_code:((Z=B.location)==null?void 0:Z.code)||"",location_name:((Te=B.location)==null?void 0:Te.name)||"",opening_balance:0,total_in:0,total_out:0,ending_balance:0,net_change:0});const K=j[W];K.total_in+=B.quantity_in||0,K.total_out+=B.quantity_out||0,B.balance!==void 0&&(K.ending_balance=B.balance)}),Object.values(j).forEach(B=>{B.opening_balance=B.ending_balance-B.total_in+B.total_out,B.net_change=B.total_in-B.total_out,V+=B.total_in,H+=B.total_out,R+=B.ending_balance}),y.value=Object.values(j),f.value={total_locations:y.value.length,total_in:V,total_out:H,current_balance:R}}catch(P){s.error("Failed to load product movements"),console.error("Failed to load product movements:",P)}finally{l.value=!1}}},b=async()=>{u.value=!0;try{await v()}finally{u.value=!1}},w=T=>{t.updateFilters({product_id:r.value,location_id:T.location_id,start_date:o.value,end_date:n.value}),t.setViewMode("ledger")},E=async()=>{if(r.value){m.value=!0;try{await Xi.export({product_id:r.value,start_date:o.value,end_date:n.value,format:"xlsx",type:"product_view"}),s.success("Product data exported successfully")}catch(T){s.error("Failed to export product data"),console.error("Export error:",T)}finally{m.value=!1}}},C=T=>T==null?"0":new Intl.NumberFormat("en-US").format(T);return Et(()=>t.filters.product_id,T=>{T!==r.value&&(r.value=T)}),Et(()=>t.filters.start_date,T=>{T!==o.value&&(o.value=T)}),Et(()=>t.filters.end_date,T=>{T!==n.value&&(n.value=T)}),Ot(()=>{t.filters.product_id&&(r.value=t.filters.product_id),t.filters.start_date&&(o.value=t.filters.start_date),t.filters.end_date&&(n.value=t.filters.end_date),r.value&&v()}),(T,P)=>{var A,j;return $(),S("div",Tae,[a("div",Aae,[a("div",Lae,[a("div",Mae,[P[4]||(P[4]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Select Product ",-1)),L(ut,{modelValue:r.value,"onUpdate:modelValue":P[0]||(P[0]=V=>r.value=V),options:F(t).productOptions,placeholder:"Select product to view movement across all locations",searchable:"",onChange:g},null,8,["modelValue","options"])]),a("div",Pae,[a("button",{onClick:b,disabled:!r.value||u.value,class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},[L(F(Ur),{class:Ee(["w-4 h-4",u.value&&"animate-spin"])},null,8,["class"]),P[5]||(P[5]=ke(" Refresh ",-1))],8,Dae),a("button",{onClick:E,disabled:!r.value||m.value,class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},[L(F(sn),{class:"w-4 h-4"}),m.value?($(),S("span",Oae,"Exporting...")):($(),S("span",Fae,"Export"))],8,Iae)])]),a("div",Rae,[a("div",null,[L(ut,{modelValue:i.value,"onUpdate:modelValue":P[1]||(P[1]=V=>i.value=V),label:"Date Range",options:x,onChange:d},null,8,["modelValue"])]),a("div",null,[L(et,{modelValue:o.value,"onUpdate:modelValue":P[2]||(P[2]=V=>o.value=V),label:"Start Date",type:"date",max:c.value,onChange:p},null,8,["modelValue","max"])]),a("div",null,[L(et,{modelValue:n.value,"onUpdate:modelValue":P[3]||(P[3]=V=>n.value=V),label:"End Date",type:"date",max:c.value,min:o.value,onChange:p},null,8,["modelValue","max","min"])])])]),h.value&&f.value?($(),S("div",jae,[a("div",Nae,[a("div",Vae,[a("div",null,[P[6]||(P[6]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Locations ",-1)),a("p",Bae,k(C(f.value.total_locations)),1)]),a("div",Uae,[L(F(Bn),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})])])]),a("div",Hae,[a("div",qae,[a("div",null,[P[7]||(P[7]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Stock In ",-1)),a("p",zae,k(C(f.value.total_in)),1)]),a("div",Wae,[L(F(Vi),{class:"w-6 h-6 text-green-600 dark:text-green-400"})])])]),a("div",Kae,[a("div",Yae,[a("div",null,[P[8]||(P[8]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Stock Out ",-1)),a("p",Gae,k(C(f.value.total_out)),1)]),a("div",Jae,[L(F(Ni),{class:"w-6 h-6 text-red-600 dark:text-red-400"})])])]),a("div",Qae,[a("div",Xae,[a("div",null,[P[9]||(P[9]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Current Balance ",-1)),a("p",Zae,k(C(f.value.current_balance)),1)]),a("div",ere,[L(F(D0),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})])])])])):G("",!0),l.value?($(),S("div",tre,[...P[10]||(P[10]=[a("svg",{class:"animate-spin h-8 w-8 text-blue-600",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),a("span",{class:"ml-2 text-gray-600 dark:text-gray-400"},"Loading product movements...",-1)])])):y.value&&y.value.length>0?($(),S("div",sre,[a("div",are,[P[11]||(P[11]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Movement by Location ",-1)),a("p",rre," Stock movement for "+k((A=h.value)==null?void 0:A.product_code)+" - "+k((j=h.value)==null?void 0:j.product_name),1)]),a("div",ore,[a("table",nre,[P[12]||(P[12]=a("thead",{class:"bg-gray-50 dark:bg-gray-900/50"},[a("tr",null,[a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Location "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Opening Balance "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Total In "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Total Out "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Ending Balance "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Net Change "),a("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Actions ")])],-1)),a("tbody",ire,[($(!0),S(Qe,null,ot(y.value,(V,H)=>($(),S("tr",{key:V.location_id,class:Ee(H%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900/20")},[a("td",lre,[a("div",null,[a("p",dre,k(V.location_name),1),a("p",cre,k(V.location_code),1)])]),a("td",ure,k(C(V.opening_balance)),1),a("td",hre,[a("span",gre," +"+k(C(V.total_in)),1)]),a("td",pre,[a("span",mre," -"+k(C(V.total_out)),1)]),a("td",fre,k(C(V.ending_balance)),1),a("td",yre,[a("span",{class:Ee(["font-semibold",V.net_change>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},k(V.net_change>=0?"+":"")+k(C(V.net_change)),3)]),a("td",vre,[a("button",{onClick:R=>w(V),class:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",title:"View detailed ledger"},[L(F(Ta),{class:"w-5 h-5"})],8,xre)])],2))),128))])])])])):r.value?($(),S("div",bre,[a("div",kre,[L(F(Ra),{class:"w-16 h-16 text-gray-400 mb-4"}),P[13]||(P[13]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No movements found ",-1)),P[14]||(P[14]=a("p",{class:"text-gray-500 dark:text-gray-400 max-w-md"}," No stock movements found for this product in the selected period. ",-1))])])):($(),S("div",wre,[a("div",_re,[L(F(Ra),{class:"w-16 h-16 text-gray-400 mb-4"}),P[15]||(P[15]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," Select a Product ",-1)),P[16]||(P[16]=a("p",{class:"text-gray-500 dark:text-gray-400 max-w-md"}," Please select a product to view stock movement across all locations. ",-1))])]))])}}},Cre={class:"space-y-6"},Sre={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Ere={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},Tre={class:"flex-1"},Are={class:"flex gap-3"},Lre=["disabled"],Mre=["disabled"],Pre={key:0},Dre={key:1},Ire={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"},Ore={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Fre={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Rre={class:"flex items-center justify-between"},jre={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},Nre={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center"},Vre={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Bre={class:"flex items-center justify-between"},Ure={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},Hre={class:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center"},qre={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},zre={class:"flex items-center justify-between"},Wre={class:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1"},Kre={class:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center"},Yre={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Gre={class:"flex items-center justify-between"},Jre={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},Qre={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center"},Xre={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Zre={class:"flex flex-col sm:flex-row gap-4"},eoe={class:"flex-1"},toe={class:"sm:w-48"},soe={key:2,class:"flex items-center justify-center py-12"},aoe={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},roe=["onClick"],ooe={class:"flex items-center justify-between mb-4"},noe={class:"flex-1"},ioe={class:"text-lg font-semibold text-gray-900 dark:text-white truncate"},loe={class:"text-sm text-gray-500 dark:text-gray-400 truncate"},doe={class:"ml-4"},coe={class:"grid grid-cols-2 gap-4 mb-4"},uoe={class:"mb-4"},hoe={class:"flex justify-between items-center mb-1"},goe={class:"text-xs text-gray-500 dark:text-gray-400"},poe={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},moe={key:0,class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},foe={class:"flex items-center"},yoe={class:"flex items-center"},voe={key:4,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12"},xoe={class:"flex flex-col items-center text-center"},boe={class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},koe={class:"text-gray-500 dark:text-gray-400 max-w-md"},woe={key:5,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12"},_oe={class:"flex flex-col items-center text-center"},$oe={__name:"LocationView",setup(e){const t=Hn(),s=Ut(),r=O(null),o=O(""),n=O(""),i=O(""),l=O(""),u=O("all"),m=O(!1),y=O(!1),f=O(!1),x=O([]),c=O(null),h=[{value:"",label:"Custom Range"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last_7_days",label:"Last 7 Days"},{value:"last_30_days",label:"Last 30 Days"},{value:"this_month",label:"This Month"},{value:"last_month",label:"Last Month"},{value:"this_year",label:"This Year"}],g=[{value:"all",label:"All Status"},{value:"in_stock",label:"In Stock"},{value:"low_stock",label:"Low Stock"},{value:"out_of_stock",label:"Out of Stock"},{value:"overstock",label:"Overstock"}],d=fe(()=>new Date().toISOString().split("T")[0]),p=fe(()=>t.locations.find(z=>z.id===r.value)),v=fe(()=>{if(!x.value)return[];let z=[...x.value];if(l.value){const q=l.value.toLowerCase();z=z.filter(X=>X.product_code.toLowerCase().includes(q)||X.product_name.toLowerCase().includes(q))}return u.value!=="all"&&(z=z.filter(q=>R(q)===u.value)),z}),b=()=>{t.updateFilters({location_id:r.value}),r.value?A():(x.value=[],c.value=null)},w=()=>{const z=i.value,q=new Date;let X=new Date,se=new Date;switch(z){case"today":X=q,se=q;break;case"yesterday":X=new Date(q),X.setDate(q.getDate()-1),se=X;break;case"last_7_days":X=new Date(q),X.setDate(q.getDate()-7),se=q;break;case"last_30_days":X=new Date(q),X.setDate(q.getDate()-30),se=q;break;case"this_month":X=new Date(q.getFullYear(),q.getMonth(),1),se=q;break;case"last_month":X=new Date(q.getFullYear(),q.getMonth()-1,1),se=new Date(q.getFullYear(),q.getMonth(),0);break;case"this_year":X=new Date(q.getFullYear(),0,1),se=q;break;default:return}o.value=X.toISOString().split("T")[0],n.value=se.toISOString().split("T")[0],E()},E=()=>{t.updateFilters({start_date:o.value,end_date:n.value}),r.value&&A()},C=()=>{},T=()=>{},P=()=>{l.value="",u.value="all"},A=async()=>{if(r.value){m.value=!0;try{const z={location_id:r.value,start_date:o.value,end_date:n.value},q=await Xi.getAll(z),X={};let se=0,Ae=0,me=0;((q==null?void 0:q.data)||q||[]).forEach(Re=>{var ae,ge,ne,ee;const Ze=Re.product_id;X[Ze]||(X[Ze]={product_id:Ze,product_code:((ae=Re.product)==null?void 0:ae.product_code)||"",product_name:((ge=Re.product)==null?void 0:ge.product_name)||"",opening_balance:0,total_in:0,total_out:0,ending_balance:0,net_change:0,minimum_stock:((ne=Re.product)==null?void 0:ne.minimum_stock)||0,maximum_stock:((ee=Re.product)==null?void 0:ee.maximum_stock)||0,last_transaction_date:Re.transaction_date,last_transaction_type:Re.transaction_type});const We=X[Ze];We.total_in+=Re.quantity_in||0,We.total_out+=Re.quantity_out||0,Re.transaction_date>=We.last_transaction_date&&(We.last_transaction_date=Re.transaction_date,We.last_transaction_type=Re.transaction_type),Re.balance!==void 0&&(We.ending_balance=Re.balance)}),Object.values(X).forEach(Re=>{Re.opening_balance=Re.ending_balance-Re.total_in+Re.total_out,Re.net_change=Re.total_in-Re.total_out,se+=Re.total_in,Ae+=Re.total_out,me+=Re.ending_balance}),x.value=Object.values(X),c.value={total_products:x.value.length,total_in:se,total_out:Ae,current_balance:me}}catch(z){s.error("Failed to load location products"),console.error("Failed to load location products:",z)}finally{m.value=!1}}},j=async()=>{y.value=!0;try{await A()}finally{y.value=!1}},V=z=>{t.updateFilters({product_id:z.product_id,location_id:r.value,start_date:o.value,end_date:n.value}),t.setViewMode("ledger")},H=async()=>{if(r.value){f.value=!0;try{await Xi.export({location_id:r.value,start_date:o.value,end_date:n.value,format:"xlsx",type:"location_view"}),s.success("Location data exported successfully")}catch(z){s.error("Failed to export location data"),console.error("Export error:",z)}finally{f.value=!1}}},R=z=>{const q=z.current_balance,X=z.minimum_stock,se=z.maximum_stock;return q===0?"out_of_stock":q<X?"low_stock":q>se?"overstock":"in_stock"},M=z=>{const q=R(z);return{in_stock:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",low_stock:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",out_of_stock:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",overstock:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"}[q]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},B=z=>{const q=R(z);return{in_stock:"In Stock",low_stock:"Low Stock",out_of_stock:"Out of Stock",overstock:"Overstock"}[q]||"Unknown"},W=z=>{const{current_balance:q,maximum_stock:X}=z;return!X||X===0?0:Math.round(q/X*100)},K=z=>{const q=W(z);return q===0?"bg-red-600 dark:bg-red-400":q<25?"bg-orange-600 dark:bg-orange-400":q<50?"bg-yellow-600 dark:bg-yellow-400":q>100?"bg-blue-600 dark:bg-blue-400":"bg-green-600 dark:bg-green-400"},Z=z=>({stock_in:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",stock_out:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",mutation_in:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",mutation_out:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",adjustment_in:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",adjustment_out:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",opname_in:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",opname_out:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400"})[z]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",Te=z=>({stock_in:"Stock In",stock_out:"Stock Out",mutation_in:"Mutation In",mutation_out:"Mutation Out",adjustment_in:"Adj In",adjustment_out:"Adj Out",opname_in:"Opname In",opname_out:"Opname Out"})[z]||z,_e=z=>z==null?"0":new Intl.NumberFormat("en-US").format(z),ye=z=>z?new Date(z).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return Et(()=>t.filters.location_id,z=>{z!==r.value&&(r.value=z)}),Et(()=>t.filters.start_date,z=>{z!==o.value&&(o.value=z)}),Et(()=>t.filters.end_date,z=>{z!==n.value&&(n.value=z)}),Ot(()=>{t.filters.location_id&&(r.value=t.filters.location_id),t.filters.start_date&&(o.value=t.filters.start_date),t.filters.end_date&&(n.value=t.filters.end_date),r.value&&A()}),(z,q)=>($(),S("div",Cre,[a("div",Sre,[a("div",Ere,[a("div",Tre,[q[6]||(q[6]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Select Location ",-1)),L(ut,{modelValue:r.value,"onUpdate:modelValue":q[0]||(q[0]=X=>r.value=X),options:F(t).locationOptions,placeholder:"Select location to view all products",onChange:b},null,8,["modelValue","options"])]),a("div",Are,[a("button",{onClick:j,disabled:!r.value||y.value,class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},[L(F(Ur),{class:Ee(["w-4 h-4",y.value&&"animate-spin"])},null,8,["class"]),q[7]||(q[7]=ke(" Refresh ",-1))],8,Lre),a("button",{onClick:H,disabled:!r.value||f.value,class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},[L(F(sn),{class:"w-4 h-4"}),f.value?($(),S("span",Pre,"Exporting...")):($(),S("span",Dre,"Export"))],8,Mre)])]),a("div",Ire,[a("div",null,[L(ut,{modelValue:i.value,"onUpdate:modelValue":q[1]||(q[1]=X=>i.value=X),label:"Date Range",options:h,onChange:w},null,8,["modelValue"])]),a("div",null,[L(et,{modelValue:o.value,"onUpdate:modelValue":q[2]||(q[2]=X=>o.value=X),label:"Start Date",type:"date",max:d.value,onChange:E},null,8,["modelValue","max"])]),a("div",null,[L(et,{modelValue:n.value,"onUpdate:modelValue":q[3]||(q[3]=X=>n.value=X),label:"End Date",type:"date",max:d.value,min:o.value,onChange:E},null,8,["modelValue","max","min"])])])]),p.value&&c.value?($(),S("div",Ore,[a("div",Fre,[a("div",Rre,[a("div",null,[q[8]||(q[8]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Products ",-1)),a("p",jre,k(_e(c.value.total_products)),1)]),a("div",Nre,[L(F(Ra),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})])])]),a("div",Vre,[a("div",Bre,[a("div",null,[q[9]||(q[9]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Stock In ",-1)),a("p",Ure,k(_e(c.value.total_in)),1)]),a("div",Hre,[L(F(Vi),{class:"w-6 h-6 text-green-600 dark:text-green-400"})])])]),a("div",qre,[a("div",zre,[a("div",null,[q[10]||(q[10]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Stock Out ",-1)),a("p",Wre,k(_e(c.value.total_out)),1)]),a("div",Kre,[L(F(Ni),{class:"w-6 h-6 text-red-600 dark:text-red-400"})])])]),a("div",Yre,[a("div",Gre,[a("div",null,[q[11]||(q[11]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Current Balance ",-1)),a("p",Jre,k(_e(c.value.current_balance)),1)]),a("div",Qre,[L(F(D0),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})])])])])):G("",!0),r.value?($(),S("div",Xre,[a("div",Zre,[a("div",eoe,[L(et,{modelValue:l.value,"onUpdate:modelValue":q[4]||(q[4]=X=>l.value=X),label:"Search Products",type:"text",placeholder:"Search by product code or name...",onInput:C},null,8,["modelValue"])]),a("div",toe,[L(ut,{modelValue:u.value,"onUpdate:modelValue":q[5]||(q[5]=X=>u.value=X),label:"Stock Status",options:g,onChange:T},null,8,["modelValue"])])])])):G("",!0),m.value?($(),S("div",soe,[...q[12]||(q[12]=[a("svg",{class:"animate-spin h-8 w-8 text-blue-600",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),a("span",{class:"ml-2 text-gray-600 dark:text-gray-400"},"Loading location products...",-1)])])):v.value&&v.value.length>0?($(),S("div",aoe,[($(!0),S(Qe,null,ot(v.value,X=>($(),S("div",{key:X.product_id,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:se=>V(X)},[a("div",ooe,[a("div",noe,[a("h3",ioe,k(X.product_code),1),a("p",loe,k(X.product_name),1)]),a("div",doe,[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",M(X)])},k(B(X)),3)])]),a("div",coe,[a("div",null,[q[13]||(q[13]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Current Balance ",-1)),a("p",{class:Ee(["text-xl font-bold",X.current_balance===0?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"])},k(_e(X.current_balance)),3)]),a("div",null,[q[14]||(q[14]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Movement ",-1)),a("p",{class:Ee(["text-xl font-bold",X.net_change>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},k(X.net_change>=0?"+":"")+k(_e(X.net_change)),3)])]),a("div",uoe,[a("div",hoe,[q[15]||(q[15]=a("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Stock Level",-1)),a("span",goe,k(W(X))+"% ",1)]),a("div",poe,[a("div",{class:Ee(["h-2 rounded-full transition-all duration-300",K(X)]),style:fs({width:`${Math.min(W(X),100)}%`})},null,6)])]),X.last_transaction_date?($(),S("div",moe,[a("div",foe,[L(F(qr),{class:"w-3 h-3 mr-1"}),ke(" Last: "+k(ye(X.last_transaction_date)),1)]),a("div",yoe,[a("span",{class:Ee(["inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium",Z(X.last_transaction_type)])},k(Te(X.last_transaction_type)),3)])])):G("",!0)],8,roe))),128))])):r.value?($(),S("div",voe,[a("div",xoe,[L(F(Ra),{class:"w-16 h-16 text-gray-400 mb-4"}),a("h3",boe,k(l.value||u.value!=="all"?"No products found":"No products in this location"),1),a("p",koe,k(l.value||u.value!=="all"?"Try adjusting your search terms or filters to find what you're looking for.":"There are no products with stock transactions in this location yet."),1),l.value||u.value!=="all"?($(),S("button",{key:0,onClick:P,class:"mt-4 px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-400 dark:hover:bg-blue-900/30"}," Clear Filters ")):G("",!0)])])):($(),S("div",woe,[a("div",_oe,[L(F(Bn),{class:"w-16 h-16 text-gray-400 mb-4"}),q[16]||(q[16]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," Select a Location ",-1)),q[17]||(q[17]=a("p",{class:"text-gray-500 dark:text-gray-400 max-w-md"}," Please select a location to view all products and their stock movements in that location. ",-1))])]))]))}},Coe={class:"flex items-center justify-between mb-4"},Soe={class:"flex-1"},Eoe={class:"text-lg font-semibold text-gray-900 dark:text-white truncate"},Toe={class:"text-sm text-gray-500 dark:text-gray-400 truncate"},Aoe={class:"ml-4"},Loe={class:"grid grid-cols-2 gap-4 mb-4"},Moe={class:"text-sm text-gray-900 dark:text-white"},Poe={class:"mb-4"},Doe={class:"flex justify-between items-center mb-1"},Ioe={class:"text-xs text-gray-500 dark:text-gray-400"},Ooe={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Foe={key:0,class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},Roe={class:"flex items-center"},joe={class:"flex items-center"},Noe={key:1,class:"flex gap-2 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700"},Voe={__name:"BalanceCard",props:{balance:{type:Object,required:!0},showActions:{type:Boolean,default:!0}},emits:["click","view-ledger","reorder"],setup(e,{emit:t}){const s=e,r=fe(()=>{const f=s.balance.status;return{in_stock:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",low_stock:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",out_of_stock:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",overstock:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"}[f]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}),o=fe(()=>{const f=s.balance.status;return{in_stock:"In Stock",low_stock:"Low Stock",out_of_stock:"Out of Stock",overstock:"Overstock"}[f]||"Unknown"}),n=fe(()=>{const{current_balance:f,maximum_stock:x}=s.balance;return!x||x===0?0:Math.round(f/x*100)}),i=fe(()=>{const f=n.value;return f===0?"bg-red-600 dark:bg-red-400":f<25?"bg-orange-600 dark:bg-orange-400":f<50?"bg-yellow-600 dark:bg-yellow-400":f>100?"bg-blue-600 dark:bg-blue-400":"bg-green-600 dark:bg-green-400"}),l=f=>({stock_in:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",stock_out:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",mutation_in:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",mutation_out:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",adjustment_in:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",adjustment_out:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",opname_in:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",opname_out:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400"})[f]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",u=f=>({stock_in:"Stock In",stock_out:"Stock Out",mutation_in:"Mutation In",mutation_out:"Mutation Out",adjustment_in:"Adj In",adjustment_out:"Adj Out",opname_in:"Opname In",opname_out:"Opname Out"})[f]||f,m=f=>f==null?"0":new Intl.NumberFormat("en-US").format(f),y=f=>f?new Date(f).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"";return(f,x)=>($(),S("div",{class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:x[2]||(x[2]=c=>f.$emit("click",e.balance))},[a("div",Coe,[a("div",Soe,[a("h3",Eoe,k(e.balance.product_code),1),a("p",Toe,k(e.balance.product_name),1)]),a("div",Aoe,[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.value])},k(o.value),3)])]),a("div",Loe,[a("div",null,[x[3]||(x[3]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Current Balance ",-1)),a("p",{class:Ee(["text-xl font-bold",e.balance.current_balance===0?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"])},k(m(e.balance.current_balance)),3)]),a("div",null,[x[4]||(x[4]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Min/Max Stock ",-1)),a("p",Moe,k(m(e.balance.minimum_stock))+" / "+k(m(e.balance.maximum_stock)),1)])]),a("div",Poe,[a("div",Doe,[x[5]||(x[5]=a("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Stock Level",-1)),a("span",Ioe,k(n.value)+"% ",1)]),a("div",Ooe,[a("div",{class:Ee(["h-2 rounded-full transition-all duration-300",i.value]),style:fs({width:`${Math.min(n.value,100)}%`})},null,6)])]),e.balance.last_transaction_date?($(),S("div",Foe,[a("div",Roe,[L(F(qr),{class:"w-3 h-3 mr-1"}),ke(" Last: "+k(y(e.balance.last_transaction_date)),1)]),a("div",joe,[a("span",{class:Ee(["inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium",l(e.balance.last_transaction_type)])},k(u(e.balance.last_transaction_type)),3)])])):G("",!0),e.showActions?($(),S("div",Noe,[a("button",{onClick:x[0]||(x[0]=Bt(c=>f.$emit("view-ledger",e.balance),["stop"])),class:"flex-1 px-3 py-1.5 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-400 dark:hover:bg-blue-900/30"}," View Ledger "),e.balance.is_below_minimum?($(),S("button",{key:0,onClick:x[1]||(x[1]=Bt(c=>f.$emit("reorder",e.balance),["stop"])),class:"flex-1 px-3 py-1.5 text-xs font-medium text-orange-600 bg-orange-50 border border-orange-200 rounded hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-orange-500 dark:bg-orange-900/20 dark:border-orange-800 dark:text-orange-400 dark:hover:bg-orange-900/30"}," Reorder ")):G("",!0)])):G("",!0)]))}},Boe={class:"space-y-6"},Uoe={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Hoe={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},qoe={class:"flex-1"},zoe={key:0,class:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 sm:mt-0"},Woe={class:"text-center"},Koe={class:"text-xl font-bold text-gray-900 dark:text-white"},Yoe={class:"text-center"},Goe={class:"text-xl font-bold text-green-600 dark:text-green-400"},Joe={class:"text-center"},Qoe={class:"text-xl font-bold text-yellow-600 dark:text-yellow-400"},Xoe={class:"text-center"},Zoe={class:"text-xl font-bold text-red-600 dark:text-red-400"},ene={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},tne={class:"flex flex-col sm:flex-row gap-4"},sne={class:"flex-1"},ane={class:"sm:w-48"},rne={key:1,class:"flex items-center justify-center py-12"},one={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},nne={key:3,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12"},ine={class:"flex flex-col items-center text-center"},lne={class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},dne={class:"text-gray-500 dark:text-gray-400 max-w-md"},cne={key:4,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12"},une={class:"flex flex-col items-center text-center"},hne={key:5,class:"flex justify-end"},gne=["disabled"],pne={key:0},mne={key:1},fne={__name:"CurrentBalanceView",setup(e){const t=Hn(),s=Ut(),r=O(null),o=O(""),n=O("all"),i=O(!1),l=[{value:"all",label:"All Status"},{value:"in_stock",label:"In Stock"},{value:"low_stock",label:"Low Stock"},{value:"out_of_stock",label:"Out of Stock"},{value:"overstock",label:"Overstock"}],u=fe(()=>t.currentBalances),m=fe(()=>{if(!u.value||u.value.length===0)return null;const w=u.value;return{total_products:w.length,in_stock:w.filter(E=>E.status==="in_stock").length,low_stock:w.filter(E=>E.status==="low_stock").length,out_of_stock:w.filter(E=>E.status==="out_of_stock").length,overstock:w.filter(E=>E.status==="overstock").length}}),y=fe(()=>{if(!u.value)return[];let w=[...u.value];if(o.value){const E=o.value.toLowerCase();w=w.filter(C=>C.product_code.toLowerCase().includes(E)||C.product_name.toLowerCase().includes(E))}return n.value!=="all"&&(w=w.filter(E=>E.status===n.value)),w}),f=async()=>{if(!r.value){t.currentBalances=[];return}t.updateFilters({location_id:r.value}),await g()},x=()=>{t.updateFilters({search:o.value})},c=()=>{t.updateFilters({status_filter:n.value})},h=()=>{o.value="",n.value="all",t.updateFilters({search:"",status_filter:"all"})},g=async()=>{try{await t.fetchCurrentBalances()}catch(w){s.error("Failed to load current balances"),console.error("Failed to load current balances:",w)}},d=w=>{t.updateFilters({product_id:w.product_id,location_id:r.value}),t.setViewMode("ledger")},p=w=>{s.info(`Reorder functionality for ${w.product_name} coming soon`)},v=async()=>{i.value=!0;try{await stockBookService.export({location_id:r.value,format:"xlsx",type:"current_balances"}),s.success("Current balances exported successfully")}catch(w){s.error("Failed to export current balances"),console.error("Export error:",w)}finally{i.value=!1}},b=w=>w==null?"0":new Intl.NumberFormat("en-US").format(w);return Et(()=>t.filters.location_id,w=>{w!==r.value&&(r.value=w)}),Ot(()=>{t.filters.location_id&&(r.value=t.filters.location_id,g())}),(w,E)=>($(),S("div",Boe,[a("div",Uoe,[a("div",Hoe,[a("div",qoe,[E[3]||(E[3]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Select Location ",-1)),L(ut,{modelValue:r.value,"onUpdate:modelValue":E[0]||(E[0]=C=>r.value=C),options:F(t).locationOptions,placeholder:"Select location to view current balances",onChange:f},null,8,["modelValue","options"])]),m.value?($(),S("div",zoe,[a("div",Woe,[E[4]||(E[4]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Products ",-1)),a("p",Koe,k(b(m.value.total_products)),1)]),a("div",Yoe,[E[5]||(E[5]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," In Stock ",-1)),a("p",Goe,k(b(m.value.in_stock)),1)]),a("div",Joe,[E[6]||(E[6]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Low Stock ",-1)),a("p",Qoe,k(b(m.value.low_stock)),1)]),a("div",Xoe,[E[7]||(E[7]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Out of Stock ",-1)),a("p",Zoe,k(b(m.value.out_of_stock)),1)])])):G("",!0)])]),r.value?($(),S("div",ene,[a("div",tne,[a("div",sne,[L(et,{modelValue:o.value,"onUpdate:modelValue":E[1]||(E[1]=C=>o.value=C),label:"Search Products",type:"text",placeholder:"Search by product code or name...",onInput:x},null,8,["modelValue"])]),a("div",ane,[L(ut,{modelValue:n.value,"onUpdate:modelValue":E[2]||(E[2]=C=>n.value=C),label:"Stock Status",options:l,onChange:c},null,8,["modelValue"])])])])):G("",!0),w.loading?($(),S("div",rne,[...E[8]||(E[8]=[a("svg",{class:"animate-spin h-8 w-8 text-blue-600",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),a("span",{class:"ml-2 text-gray-600 dark:text-gray-400"},"Loading current balances...",-1)])])):y.value&&y.value.length>0?($(),S("div",one,[($(!0),S(Qe,null,ot(y.value,C=>($(),it(Voe,{key:C.product_id,balance:C,onViewLedger:d,onReorder:p},null,8,["balance"]))),128))])):r.value?($(),S("div",nne,[a("div",ine,[L(F(Ra),{class:"w-16 h-16 text-gray-400 mb-4"}),a("h3",lne,k(o.value||n.value!=="all"?"No products found":"No products in this location"),1),a("p",dne,k(o.value||n.value!=="all"?"Try adjusting your search terms or filters to find what you're looking for.":"There are no products with stock transactions in this location yet."),1),o.value||n.value!=="all"?($(),S("button",{key:0,onClick:h,class:"mt-4 px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-400 dark:hover:bg-blue-900/30"}," Clear Filters ")):G("",!0)])])):($(),S("div",cne,[a("div",une,[L(F(Bn),{class:"w-16 h-16 text-gray-400 mb-4"}),E[9]||(E[9]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," Select a Location ",-1)),E[10]||(E[10]=a("p",{class:"text-gray-500 dark:text-gray-400 max-w-md"}," Please select a location to view current stock balances for all products in that location. ",-1))])])),r.value&&y.value&&y.value.length>0?($(),S("div",hne,[a("button",{onClick:v,disabled:i.value,class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},[L(F(sn),{class:"w-4 h-4"}),i.value?($(),S("span",pne,"Exporting...")):($(),S("span",mne,"Export Current Balances"))],8,gne)])):G("",!0)]))}},yne={class:"space-y-6"},vne={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},xne={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},bne={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},kne={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},wne={class:"flex items-center justify-between"},_ne={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},$ne={class:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center"},Cne={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Sne={class:"flex items-center justify-between"},Ene={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1"},Tne={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center"},Ane={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Lne={class:"flex items-center justify-between"},Mne={class:"text-lg font-bold text-purple-600 dark:text-purple-400 mt-1 truncate"},Pne={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center"},Dne={key:0,class:"flex items-center justify-center py-12"},Ine={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},One={class:"overflow-x-auto"},Fne={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Rne={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},jne={class:"px-6 py-4"},Nne={class:"flex items-center"},Vne={class:"px-6 py-4"},Bne={class:"text-sm font-medium text-gray-900 dark:text-white"},Une={class:"text-sm text-gray-500 dark:text-gray-400"},Hne={class:"px-6 py-4 text-sm text-right font-semibold text-green-600 dark:text-green-400"},qne={class:"px-6 py-4 text-sm text-right text-gray-900 dark:text-white"},zne={class:"px-6 py-4 text-sm text-right font-medium text-gray-900 dark:text-white"},Wne={class:"px-6 py-4 text-sm text-right"},Kne={class:"flex items-center justify-end gap-2"},Yne={class:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Gne={class:"text-gray-600 dark:text-gray-400 min-w-[50px]"},Jne={key:2,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12"},Qne={class:"flex flex-col items-center text-center"},Xne={__name:"BestSellingView",setup(e){const t=Ut(),s=O(""),r=O(""),o=O("this_month"),n=O(10),i=O(!1),l=O([]),u=[{value:"",label:"Pilih Periode"},{value:"today",label:"Hari Ini"},{value:"yesterday",label:"Kemarin"},{value:"last_7_days",label:"7 Hari Terakhir"},{value:"last_30_days",label:"30 Hari Terakhir"},{value:"this_month",label:"Bulan Ini"},{value:"last_month",label:"Bulan Lalu"},{value:"this_year",label:"Tahun Ini"}],m=[{value:5,label:"Top 5"},{value:10,label:"Top 10"},{value:20,label:"Top 20"},{value:50,label:"Top 50"}],y=fe(()=>new Date().toISOString().split("T")[0]),f=fe(()=>{var b;const d=l.value.reduce((w,E)=>w+(E.total_sales||0),0),p=l.value.reduce((w,E)=>w+(E.total_quantity||0),0),v=((b=l.value[0])==null?void 0:b.product_name)||null;return{totalSales:d,totalQuantity:p,topProduct:v}}),x=()=>{const d=o.value,p=new Date;let v=new Date,b=new Date;switch(d){case"today":v=p,b=p;break;case"yesterday":v=new Date(p),v.setDate(p.getDate()-1),b=v;break;case"last_7_days":v=new Date(p),v.setDate(p.getDate()-7),b=p;break;case"last_30_days":v=new Date(p),v.setDate(p.getDate()-30),b=p;break;case"this_month":v=new Date(p.getFullYear(),p.getMonth(),1),b=p;break;case"last_month":v=new Date(p.getFullYear(),p.getMonth()-1,1),b=new Date(p.getFullYear(),p.getMonth(),0);break;case"this_year":v=new Date(p.getFullYear(),0,1),b=p;break;default:return}s.value=v.toISOString().split("T")[0],r.value=b.toISOString().split("T")[0],h()},c=()=>{o.value="",h()},h=async()=>{if(!(!s.value||!r.value)){i.value=!0;try{const d=await Ha.getBestSelling({start_date:s.value,end_date:r.value,limit:n.value}),p=d.data||d||[],v=p.reduce((b,w)=>b+(w.total_sales||0),0);l.value=p.map(b=>({...b,contribution:v>0?(b.total_sales||0)/v*100:0}))}catch(d){t.error("Gagal memuat data barang terlaris"),console.error("Failed to load best selling products:",d),l.value=[]}finally{i.value=!1}}},g=d=>d==null?"0":new Intl.NumberFormat("id-ID").format(d);return Ot(()=>{x()}),(d,p)=>($(),S("div",yne,[a("div",vne,[a("div",xne,[a("div",null,[L(ut,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=v=>o.value=v),label:"Periode",options:u,onChange:x},null,8,["modelValue"])]),a("div",null,[L(et,{modelValue:s.value,"onUpdate:modelValue":p[1]||(p[1]=v=>s.value=v),label:"Tanggal Mulai",type:"date",max:y.value,onChange:c},null,8,["modelValue","max"])]),a("div",null,[L(et,{modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=v=>r.value=v),label:"Tanggal Akhir",type:"date",max:y.value,min:s.value,onChange:c},null,8,["modelValue","max","min"])]),a("div",null,[L(ut,{modelValue:n.value,"onUpdate:modelValue":p[3]||(p[3]=v=>n.value=v),label:"Jumlah Data",options:m,onChange:h},null,8,["modelValue"])])])]),a("div",bne,[a("div",kne,[a("div",wne,[a("div",null,[p[4]||(p[4]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Penjualan ",-1)),a("p",_ne,k(g(f.value.totalSales)),1)]),a("div",$ne,[L(F(Lu),{class:"w-6 h-6 text-green-600 dark:text-green-400"})])])]),a("div",Cne,[a("div",Sne,[a("div",null,[p[5]||(p[5]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Qty Terjual ",-1)),a("p",Ene,k(g(f.value.totalQuantity)),1)]),a("div",Tne,[L(F(Ra),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})])])]),a("div",Ane,[a("div",Lne,[a("div",null,[p[6]||(p[6]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Produk Terlaris ",-1)),a("p",Mne,k(f.value.topProduct||"-"),1)]),a("div",Pne,[L(F(IS),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})])])])]),i.value?($(),S("div",Dne,[...p[7]||(p[7]=[a("svg",{class:"animate-spin h-8 w-8 text-blue-600",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),a("span",{class:"ml-2 text-gray-600 dark:text-gray-400"},"Memuat data barang terlaris...",-1)])])):l.value.length>0?($(),S("div",Ine,[p[9]||(p[9]=a("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Daftar Barang Terlaris "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Produk dengan penjualan tertinggi berdasarkan periode yang dipilih ")],-1)),a("div",One,[a("table",Fne,[p[8]||(p[8]=a("thead",{class:"bg-gray-50 dark:bg-gray-900/50"},[a("tr",null,[a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Rank "),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Produk "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Qty Terjual "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Total Transaksi "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Total Penjualan "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Kontribusi ")])],-1)),a("tbody",Rne,[($(!0),S(Qe,null,ot(l.value,(v,b)=>($(),S("tr",{key:v.product_id,class:Ee(b%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900/20")},[a("td",jne,[a("div",Nne,[a("span",{class:Ee(["inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold",b===0?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":b===1?"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300":b===2?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"])},k(b+1),3)])]),a("td",Vne,[a("div",null,[a("p",Bne,k(v.product_name),1),a("p",Une,k(v.product_code),1)])]),a("td",Hne,k(g(v.total_quantity)),1),a("td",qne,k(g(v.transaction_count)),1),a("td",zne," Rp "+k(g(v.total_sales)),1),a("td",Wne,[a("div",Kne,[a("div",Yne,[a("div",{class:"bg-blue-600 h-2 rounded-full",style:fs({width:v.contribution+"%"})},null,4)]),a("span",Gne,k(v.contribution.toFixed(1))+"% ",1)])])],2))),128))])])])])):($(),S("div",Jne,[a("div",Qne,[L(F(Lu),{class:"w-16 h-16 text-gray-400 mb-4"}),p[10]||(p[10]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," Tidak ada data penjualan ",-1)),p[11]||(p[11]=a("p",{class:"text-gray-500 dark:text-gray-400 max-w-md"}," Tidak ditemukan data penjualan untuk periode yang dipilih. ",-1))])]))]))}},Zne={class:"space-y-6"},eie={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},tie={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},sie={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},aie={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},rie={class:"flex items-center justify-between"},oie={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},nie={class:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center"},iie={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},lie={class:"flex items-center justify-between"},die={class:"text-2xl font-bold text-orange-600 dark:text-orange-400 mt-1"},cie={class:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center"},uie={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},hie={class:"flex items-center justify-between"},gie={class:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1"},pie={class:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center"},mie={key:0,class:"flex items-center justify-center py-12"},fie={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},yie={class:"overflow-x-auto"},vie={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},xie={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},bie={class:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400"},kie={class:"px-6 py-4"},wie={class:"text-sm font-medium text-gray-900 dark:text-white"},_ie={class:"text-sm text-gray-500 dark:text-gray-400"},$ie={class:"px-6 py-4 text-sm text-right text-gray-900 dark:text-white"},Cie={class:"px-6 py-4 text-sm text-right"},Sie={class:"px-6 py-4 text-sm text-right text-gray-900 dark:text-white"},Eie={class:"px-6 py-4 text-sm text-right text-gray-900 dark:text-white"},Tie={class:"px-6 py-4 text-sm text-center"},Aie={key:2,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12"},Lie={class:"flex flex-col items-center text-center"},Mie={__name:"SlowMovingView",setup(e){const t=Ut(),s=O(""),r=O(""),o=O("this_month"),n=O(10),i=O(!1),l=O([]),u=[{value:"",label:"Pilih Periode"},{value:"today",label:"Hari Ini"},{value:"yesterday",label:"Kemarin"},{value:"last_7_days",label:"7 Hari Terakhir"},{value:"last_30_days",label:"30 Hari Terakhir"},{value:"this_month",label:"Bulan Ini"},{value:"last_month",label:"Bulan Lalu"},{value:"this_year",label:"Tahun Ini"}],m=[{value:5,label:"Bottom 5"},{value:10,label:"Bottom 10"},{value:20,label:"Bottom 20"},{value:50,label:"Bottom 50"}],y=fe(()=>new Date().toISOString().split("T")[0]),f=fe(()=>{const d=l.value.reduce((v,b)=>v+(b.total_quantity||0),0),p=l.value.filter(v=>v.total_quantity===0).length;return{totalQuantity:d,zeroSalesCount:p}}),x=()=>{const d=o.value,p=new Date;let v=new Date,b=new Date;switch(d){case"today":v=p,b=p;break;case"yesterday":v=new Date(p),v.setDate(p.getDate()-1),b=v;break;case"last_7_days":v=new Date(p),v.setDate(p.getDate()-7),b=p;break;case"last_30_days":v=new Date(p),v.setDate(p.getDate()-30),b=p;break;case"this_month":v=new Date(p.getFullYear(),p.getMonth(),1),b=p;break;case"last_month":v=new Date(p.getFullYear(),p.getMonth()-1,1),b=new Date(p.getFullYear(),p.getMonth(),0);break;case"this_year":v=new Date(p.getFullYear(),0,1),b=p;break;default:return}s.value=v.toISOString().split("T")[0],r.value=b.toISOString().split("T")[0],h()},c=()=>{o.value="",h()},h=async()=>{if(!(!s.value||!r.value)){i.value=!0;try{const d=await Ha.getSlowMoving({start_date:s.value,end_date:r.value,limit:n.value});l.value=d.data||d||[]}catch(d){t.error("Gagal memuat data barang kurang laris"),console.error("Failed to load slow moving products:",d),l.value=[]}finally{i.value=!1}}},g=d=>d==null?"0":new Intl.NumberFormat("id-ID").format(d);return Ot(()=>{x()}),(d,p)=>($(),S("div",Zne,[a("div",eie,[a("div",tie,[a("div",null,[L(ut,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=v=>o.value=v),label:"Periode",options:u,onChange:x},null,8,["modelValue"])]),a("div",null,[L(et,{modelValue:s.value,"onUpdate:modelValue":p[1]||(p[1]=v=>s.value=v),label:"Tanggal Mulai",type:"date",max:y.value,onChange:c},null,8,["modelValue","max"])]),a("div",null,[L(et,{modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=v=>r.value=v),label:"Tanggal Akhir",type:"date",max:y.value,min:s.value,onChange:c},null,8,["modelValue","max","min"])]),a("div",null,[L(ut,{modelValue:n.value,"onUpdate:modelValue":p[3]||(p[3]=v=>n.value=v),label:"Jumlah Data",options:m,onChange:h},null,8,["modelValue"])])])]),a("div",sie,[a("div",aie,[a("div",rie,[a("div",null,[p[4]||(p[4]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Produk Kurang Laris ",-1)),a("p",oie,k(g(l.value.length)),1)]),a("div",nie,[L(F(yo),{class:"w-6 h-6 text-red-600 dark:text-red-400"})])])]),a("div",iie,[a("div",lie,[a("div",null,[p[5]||(p[5]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Qty Terjual ",-1)),a("p",die,k(g(f.value.totalQuantity)),1)]),a("div",cie,[L(F(Ra),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"})])])]),a("div",uie,[a("div",hie,[a("div",null,[p[6]||(p[6]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Produk Tidak Terjual ",-1)),a("p",gie,k(g(f.value.zeroSalesCount)),1)]),a("div",pie,[L(F(vS),{class:"w-6 h-6 text-gray-600 dark:text-gray-400"})])])])]),i.value?($(),S("div",mie,[...p[7]||(p[7]=[a("svg",{class:"animate-spin h-8 w-8 text-blue-600",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),a("span",{class:"ml-2 text-gray-600 dark:text-gray-400"},"Memuat data barang kurang laris...",-1)])])):l.value.length>0?($(),S("div",fie,[p[9]||(p[9]=a("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Daftar Barang Kurang Laris "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Produk dengan penjualan terendah atau tidak terjual sama sekali ")],-1)),a("div",yie,[a("table",vie,[p[8]||(p[8]=a("thead",{class:"bg-gray-50 dark:bg-gray-900/50"},[a("tr",null,[a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," No "),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Produk "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Stok Saat Ini "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Qty Terjual "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Total Transaksi "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Total Penjualan "),a("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Status ")])],-1)),a("tbody",xie,[($(!0),S(Qe,null,ot(l.value,(v,b)=>($(),S("tr",{key:v.product_id,class:Ee(b%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900/20")},[a("td",bie,k(b+1),1),a("td",kie,[a("div",null,[a("p",wie,k(v.product_name),1),a("p",_ie,k(v.product_code),1)])]),a("td",$ie,k(g(v.current_stock)),1),a("td",Cie,[a("span",{class:Ee(["font-semibold",v.total_quantity===0?"text-red-600 dark:text-red-400":"text-orange-600 dark:text-orange-400"])},k(g(v.total_quantity)),3)]),a("td",Sie,k(g(v.transaction_count)),1),a("td",Eie," Rp "+k(g(v.total_sales)),1),a("td",Tie,[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",v.total_quantity===0?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"])},k(v.total_quantity===0?"Tidak Terjual":"Kurang Laris"),3)])],2))),128))])])])])):($(),S("div",Aie,[a("div",Lie,[L(F(Fs),{class:"w-16 h-16 text-green-400 mb-4"}),p[10]||(p[10]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," Semua produk terjual dengan baik ",-1)),p[11]||(p[11]=a("p",{class:"text-gray-500 dark:text-gray-400 max-w-md"}," Tidak ditemukan produk dengan penjualan rendah pada periode yang dipilih. ",-1))])]))]))}},Pie={class:"space-y-6"},Die={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Iie={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Oie={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Fie={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Rie={class:"flex items-center justify-between"},jie={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},Nie={class:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center"},Vie={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Bie={class:"flex items-center justify-between"},Uie={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1"},Hie={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center"},qie={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},zie={class:"flex items-center justify-between"},Wie={class:"text-2xl font-bold text-purple-600 dark:text-purple-400 mt-1"},Kie={class:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center"},Yie={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Gie={class:"flex items-center justify-between"},Jie={class:"text-2xl font-bold text-orange-600 dark:text-orange-400 mt-1"},Qie={class:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center"},Xie={key:0,class:"flex items-center justify-center py-12"},Zie={key:1,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},ele={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},tle={class:"text-sm text-gray-500 dark:text-gray-400"},sle={class:"overflow-x-auto"},ale={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},rle={class:"bg-gray-50 dark:bg-gray-900/50"},ole={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"},nle={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ile={class:"px-6 py-4"},lle={class:"text-sm font-medium text-gray-900 dark:text-white"},dle={class:"px-6 py-4 text-sm text-right text-gray-900 dark:text-white"},cle={class:"px-6 py-4 text-sm text-right font-semibold text-purple-600 dark:text-purple-400"},ule={class:"px-6 py-4 text-sm text-right font-semibold text-green-600 dark:text-green-400"},hle={class:"px-6 py-4 text-sm text-right text-gray-900 dark:text-white"},gle={class:"px-6 py-4 text-sm text-right"},ple={class:"flex items-center justify-end gap-2"},mle={class:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},fle={class:"text-gray-600 dark:text-gray-400 min-w-[50px]"},yle={class:"bg-gray-100 dark:bg-gray-900/50"},vle={class:"px-6 py-4 text-sm text-right font-bold text-gray-900 dark:text-white"},xle={class:"px-6 py-4 text-sm text-right font-bold text-purple-600 dark:text-purple-400"},ble={class:"px-6 py-4 text-sm text-right font-bold text-green-600 dark:text-green-400"},kle={class:"px-6 py-4 text-sm text-right font-bold text-gray-900 dark:text-white"},wle={key:2,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-12"},_le={class:"flex flex-col items-center text-center"},$le={__name:"SalesRecapView",setup(e){const t=Ut(),s=O(""),r=O(""),o=O("this_month"),n=O("daily"),i=O(!1),l=O([]),u=[{value:"",label:"Pilih Periode"},{value:"today",label:"Hari Ini"},{value:"yesterday",label:"Kemarin"},{value:"last_7_days",label:"7 Hari Terakhir"},{value:"last_30_days",label:"30 Hari Terakhir"},{value:"this_month",label:"Bulan Ini"},{value:"last_month",label:"Bulan Lalu"},{value:"this_year",label:"Tahun Ini"}],m=[{value:"daily",label:"Harian"},{value:"weekly",label:"Mingguan"},{value:"monthly",label:"Bulanan"},{value:"category",label:"Kategori Produk"},{value:"location",label:"Lokasi"}],y=fe(()=>new Date().toISOString().split("T")[0]),f=fe(()=>{const p=l.value.reduce((E,C)=>E+(C.total_sales||0),0),v=l.value.reduce((E,C)=>E+(C.transaction_count||0),0),b=l.value.reduce((E,C)=>E+(C.total_quantity||0),0),w=v>0?p/v:0;return{totalSales:p,totalTransactions:v,totalQuantity:b,averagePerTransaction:w}}),x=()=>({daily:"Tanggal",weekly:"Minggu",monthly:"Bulan",category:"Kategori",location:"Lokasi"})[n.value]||"Periode",c=()=>{const p=o.value,v=new Date;let b=new Date,w=new Date;switch(p){case"today":b=v,w=v;break;case"yesterday":b=new Date(v),b.setDate(v.getDate()-1),w=b;break;case"last_7_days":b=new Date(v),b.setDate(v.getDate()-7),w=v;break;case"last_30_days":b=new Date(v),b.setDate(v.getDate()-30),w=v;break;case"this_month":b=new Date(v.getFullYear(),v.getMonth(),1),w=v;break;case"last_month":b=new Date(v.getFullYear(),v.getMonth()-1,1),w=new Date(v.getFullYear(),v.getMonth(),0);break;case"this_year":b=new Date(v.getFullYear(),0,1),w=v;break;default:return}s.value=b.toISOString().split("T")[0],r.value=w.toISOString().split("T")[0],g()},h=()=>{o.value="",g()},g=async()=>{if(!(!s.value||!r.value)){i.value=!0;try{const p=await Ha.getSalesRecap({start_date:s.value,end_date:r.value,group_by:n.value}),v=p.data||p||[],b=v.reduce((w,E)=>w+(E.total_sales||0),0);l.value=v.map(w=>({...w,average_per_transaction:w.transaction_count>0?w.total_sales/w.transaction_count:0,contribution:b>0?(w.total_sales||0)/b*100:0}))}catch(p){t.error("Gagal memuat rekap penjualan"),console.error("Failed to load sales recap:",p),l.value=[]}finally{i.value=!1}}},d=p=>p==null?"0":new Intl.NumberFormat("id-ID").format(Math.round(p));return Ot(()=>{c()}),(p,v)=>($(),S("div",Pie,[a("div",Die,[a("div",Iie,[a("div",null,[L(ut,{modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=b=>o.value=b),label:"Periode",options:u,onChange:c},null,8,["modelValue"])]),a("div",null,[L(et,{modelValue:s.value,"onUpdate:modelValue":v[1]||(v[1]=b=>s.value=b),label:"Tanggal Mulai",type:"date",max:y.value,onChange:h},null,8,["modelValue","max"])]),a("div",null,[L(et,{modelValue:r.value,"onUpdate:modelValue":v[2]||(v[2]=b=>r.value=b),label:"Tanggal Akhir",type:"date",max:y.value,min:s.value,onChange:h},null,8,["modelValue","max","min"])]),a("div",null,[L(ut,{modelValue:n.value,"onUpdate:modelValue":v[3]||(v[3]=b=>n.value=b),label:"Kelompokkan",options:m,onChange:g},null,8,["modelValue"])])])]),a("div",Oie,[a("div",Fie,[a("div",Rie,[a("div",null,[v[4]||(v[4]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Penjualan ",-1)),a("p",jie," Rp "+k(d(f.value.totalSales)),1)]),a("div",Nie,[L(F(Ov),{class:"w-6 h-6 text-green-600 dark:text-green-400"})])])]),a("div",Vie,[a("div",Bie,[a("div",null,[v[5]||(v[5]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Transaksi ",-1)),a("p",Uie,k(d(f.value.totalTransactions)),1)]),a("div",Hie,[L(F(an),{class:"w-6 h-6 text-blue-600 dark:text-blue-400"})])])]),a("div",qie,[a("div",zie,[a("div",null,[v[6]||(v[6]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Qty Terjual ",-1)),a("p",Wie,k(d(f.value.totalQuantity)),1)]),a("div",Kie,[L(F(Ra),{class:"w-6 h-6 text-purple-600 dark:text-purple-400"})])])]),a("div",Yie,[a("div",Gie,[a("div",null,[v[7]||(v[7]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Rata-rata Per Transaksi ",-1)),a("p",Jie," Rp "+k(d(f.value.averagePerTransaction)),1)]),a("div",Qie,[L(F(Pn),{class:"w-6 h-6 text-orange-600 dark:text-orange-400"})])])])]),i.value?($(),S("div",Xie,[...v[8]||(v[8]=[a("svg",{class:"animate-spin h-8 w-8 text-blue-600",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),a("span",{class:"ml-2 text-gray-600 dark:text-gray-400"},"Memuat rekap penjualan...",-1)])])):l.value.length>0?($(),S("div",Zie,[a("div",ele,[v[9]||(v[9]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Rekap Penjualan ",-1)),a("p",tle," Ringkasan penjualan berdasarkan "+k(x()),1)]),a("div",sle,[a("table",ale,[a("thead",rle,[a("tr",null,[a("th",ole,k(x()),1),v[10]||(v[10]=a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Jumlah Transaksi ",-1)),v[11]||(v[11]=a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Qty Terjual ",-1)),v[12]||(v[12]=a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Total Penjualan ",-1)),v[13]||(v[13]=a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Rata-rata ",-1)),v[14]||(v[14]=a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Kontribusi ",-1))])]),a("tbody",nle,[($(!0),S(Qe,null,ot(l.value,(b,w)=>($(),S("tr",{key:b.group_key,class:Ee(w%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900/20")},[a("td",ile,[a("p",lle,k(b.group_label),1)]),a("td",dle,k(d(b.transaction_count)),1),a("td",cle,k(d(b.total_quantity)),1),a("td",ule," Rp "+k(d(b.total_sales)),1),a("td",hle," Rp "+k(d(b.average_per_transaction)),1),a("td",gle,[a("div",ple,[a("div",mle,[a("div",{class:"bg-green-600 h-2 rounded-full",style:fs({width:b.contribution+"%"})},null,4)]),a("span",fle,k(b.contribution.toFixed(1))+"% ",1)])])],2))),128))]),a("tfoot",yle,[a("tr",null,[v[15]||(v[15]=a("td",{class:"px-6 py-4 text-sm font-bold text-gray-900 dark:text-white"}," Total ",-1)),a("td",vle,k(d(f.value.totalTransactions)),1),a("td",xle,k(d(f.value.totalQuantity)),1),a("td",ble," Rp "+k(d(f.value.totalSales)),1),a("td",kle," Rp "+k(d(f.value.averagePerTransaction)),1),v[16]||(v[16]=a("td",{class:"px-6 py-4 text-sm text-right font-bold text-gray-900 dark:text-white"}," 100% ",-1))])])])])])):($(),S("div",wle,[a("div",_le,[L(F(Pn),{class:"w-16 h-16 text-gray-400 mb-4"}),v[17]||(v[17]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," Tidak ada data penjualan ",-1)),v[18]||(v[18]=a("p",{class:"text-gray-500 dark:text-gray-400 max-w-md"}," Tidak ditemukan data penjualan untuk periode yang dipilih. ",-1))])]))]))}},Cle={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},Sle={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Ele={class:"flex items-center justify-between"},Tle={class:"flex items-center gap-2"},Ale={class:"text-sm text-gray-500 dark:text-gray-400"},Lle=["disabled"],Mle={key:1,class:"animate-spin h-5 w-5 text-blue-600",viewBox:"0 0 24 24"},Ple={key:0,class:"p-8"},Dle={key:1,class:"overflow-x-auto"},Ile={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ole={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Fle={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},Rle={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},jle={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},Nle={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},Vle={class:"px-6 py-4"},Ble={class:"px-6 py-4 text-sm text-gray-900 dark:text-white font-mono"},Ule={class:"px-6 py-4 text-sm text-right"},Hle={key:0,class:"text-green-600 dark:text-green-400 font-semibold"},qle={key:1,class:"text-gray-400"},zle={class:"px-6 py-4 text-sm text-right"},Wle={key:0,class:"text-red-600 dark:text-red-400 font-semibold"},Kle={key:1,class:"text-gray-400"},Yle={class:"px-6 py-4 text-sm text-right font-medium text-gray-900 dark:text-white"},Gle={class:"px-6 py-4 text-sm text-center"},Jle={class:"flex items-center justify-end gap-2"},Qle=["onClick"],Xle={key:2,class:"p-8 text-center"},Zle={class:"flex flex-col items-center"},ede={__name:"StockBookTable",props:{stockCards:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},refreshing:{type:Boolean,default:!1}},emits:["refresh","view-details"],setup(e,{emit:t}){const s=i=>({stock_in:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",stock_out:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",mutation_in:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",mutation_out:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",adjustment_in:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",adjustment_out:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",opname_in:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",opname_out:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400"})[i]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",r=i=>({stock_in:"Stock In",stock_out:"Stock Out",mutation_in:"Mutation In",mutation_out:"Mutation Out",adjustment_in:"Adjustment In",adjustment_out:"Adjustment Out",opname_in:"Opname In",opname_out:"Opname Out"})[i]||i,o=i=>i==null?"0":new Intl.NumberFormat("en-US").format(i),n=i=>i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"";return(i,l)=>($(),S("div",Cle,[a("div",Sle,[a("div",Ele,[l[2]||(l[2]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Stock Cards ",-1)),a("div",Tle,[a("span",Ale,k(e.stockCards.length)+" records ",1),a("button",{onClick:l[0]||(l[0]=u=>i.$emit("refresh")),disabled:e.loading||e.refreshing,class:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed dark:hover:text-blue-400 dark:hover:bg-blue-900/20",title:"Refresh"},[e.refreshing?($(),S("svg",Mle,[...l[1]||(l[1]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):($(),it(F(Ur),{key:0,class:"w-5 h-5"}))],8,Lle)])])]),e.loading?($(),S("div",Ple,[...l[3]||(l[3]=[po('<div class="flex items-center justify-center"><svg class="animate-spin h-8 w-8 text-blue-600" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span class="ml-2 text-gray-600 dark:text-gray-400">Loading stock cards...</span></div>',1)])])):e.stockCards&&e.stockCards.length>0?($(),S("div",Dle,[a("table",Ile,[l[4]||(l[4]=a("thead",{class:"bg-gray-50 dark:bg-gray-900/50"},[a("tr",null,[a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Date "),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Product Code "),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Product Name "),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Location "),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Transaction Type "),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Reference "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Qty In "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Qty Out "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Balance "),a("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Actions ")])],-1)),a("tbody",Ole,[($(!0),S(Qe,null,ot(e.stockCards,(u,m)=>($(),S("tr",{key:u.id,class:Ee(m%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-900/20")},[a("td",Fle,k(n(u.transaction_date)),1),a("td",Rle,k(u.product.product_code),1),a("td",jle,k(u.product.product_name),1),a("td",Nle,[ke(k(u.location.name)+" ",1),a("small",null," ("+k(u.location.address)+") ",1)]),a("td",Vle,[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s(u.transaction_type)])},k(r(u.transaction_type)),3)]),a("td",Ble,k(u.reference_number),1),a("td",Ule,[u.quantity_in>0?($(),S("span",Hle," +"+k(o(u.quantity_in)),1)):($(),S("span",qle,"-"))]),a("td",zle,[u.quantity_out>0?($(),S("span",Wle," -"+k(o(u.quantity_out)),1)):($(),S("span",Kle,"-"))]),a("td",Yle,k(o(u.balance)),1),a("td",Gle,[a("div",Jle,[a("button",{onClick:y=>i.$emit("view-details",u),class:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200 dark:hover:text-blue-400 dark:hover:bg-blue-900/20",title:"View Details"},[L(F(Ta),{class:"w-4 h-4"})],8,Qle)])])],2))),128))])])])):($(),S("div",Xle,[a("div",Zle,[L(F(an),{class:"w-16 h-16 text-gray-400 mb-4"}),l[5]||(l[5]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No stock cards found ",-1)),l[6]||(l[6]=a("p",{class:"text-gray-500 dark:text-gray-400 max-w-md"}," No stock transactions found for the selected filters. ",-1))])]))]))}},tde={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},sde={class:"flex items-center"},ade={class:"flex items-center"},rde={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},ode={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},nde={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ide={class:"flex items-center"},lde={class:"flex items-center"},dde={class:"flex items-center"},cde={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},ude={class:"space-y-4"},hde={class:"flex items-center"},gde={class:"flex items-center"},pde={class:"flex justify-end gap-3 pt-6 border-t border-gray-200 dark:border-gray-700"},mde=["disabled"],fde={key:0,class:"flex items-center"},yde={key:1},vde={__name:"ExportModal",props:{loading:{type:Boolean,default:!1}},emits:["close","export"],setup(e,{emit:t}){const s=t,r=O({exportType:"current_view",datePreset:"",startDate:"",endDate:"",format:"xlsx",includeHeaders:!0,includeSummary:!1}),o=[{value:"",label:"Custom Range"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last_7_days",label:"Last 7 Days"},{value:"last_30_days",label:"Last 30 Days"},{value:"this_month",label:"This Month"},{value:"last_month",label:"Last Month"},{value:"this_year",label:"This Year"}],n=fe(()=>new Date().toISOString().split("T")[0]),i=fe(()=>r.value.format&&(r.value.exportType==="all_data"||r.value.startDate&&r.value.endDate)),l=()=>({current_view:"Export data from the current view with applied filters",all_data:"Export all stock book data regardless of current view"})[r.value.exportType]||"",u=()=>{const y=r.value.datePreset,f=new Date;let x=new Date,c=new Date;switch(y){case"today":x=f,c=f;break;case"yesterday":x=new Date(f),x.setDate(f.getDate()-1),c=x;break;case"last_7_days":x=new Date(f),x.setDate(f.getDate()-7),c=f;break;case"last_30_days":x=new Date(f),x.setDate(f.getDate()-30),c=f;break;case"this_month":x=new Date(f.getFullYear(),f.getMonth(),1),c=f;break;case"last_month":x=new Date(f.getFullYear(),f.getMonth()-1,1),c=new Date(f.getFullYear(),f.getMonth(),0);break;case"this_year":x=new Date(f.getFullYear(),0,1),c=f;break;default:return}r.value.startDate=x.toISOString().split("T")[0],r.value.endDate=c.toISOString().split("T")[0]},m=()=>{if(!i.value)return;const y={exportType:r.value.exportType,datePreset:r.value.datePreset,startDate:r.value.startDate,endDate:r.value.endDate,format:r.value.format,includeHeaders:r.value.includeHeaders,includeSummary:r.value.includeSummary};s("export",y)};return Ot(()=>{r.value.datePreset="last_30_days",u()}),(y,f)=>($(),it(Vt,{title:"Export Stock Book Data",onClose:f[11]||(f[11]=x=>y.$emit("close")),size:"md"},{default:le(()=>[a("form",{onSubmit:Bt(m,["prevent"]),class:"space-y-6"},[a("div",null,[f[14]||(f[14]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Export Type ",-1)),a("div",tde,[a("label",sde,[rt(a("input",{"onUpdate:modelValue":f[0]||(f[0]=x=>r.value.exportType=x),type:"radio",value:"current_view",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 dark:focus:ring-blue-500 dark:focus:ring-offset-gray-800"},null,512),[[ao,r.value.exportType]]),f[12]||(f[12]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," Current View ",-1))]),a("label",ade,[rt(a("input",{"onUpdate:modelValue":f[1]||(f[1]=x=>r.value.exportType=x),type:"radio",value:"all_data",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 dark:focus:ring-blue-500 dark:focus:ring-offset-gray-800"},null,512),[[ao,r.value.exportType]]),f[13]||(f[13]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," All Data ",-1))])]),a("p",rde,k(l()),1)]),a("div",null,[f[15]||(f[15]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Date Range ",-1)),a("div",ode,[L(ut,{modelValue:r.value.datePreset,"onUpdate:modelValue":f[2]||(f[2]=x=>r.value.datePreset=x),label:"Preset",options:o,onChange:u},null,8,["modelValue"]),L(et,{modelValue:r.value.startDate,"onUpdate:modelValue":f[3]||(f[3]=x=>r.value.startDate=x),label:"Start Date",type:"date",max:n.value},null,8,["modelValue","max"]),L(et,{modelValue:r.value.endDate,"onUpdate:modelValue":f[4]||(f[4]=x=>r.value.endDate=x),label:"End Date",type:"date",max:n.value,min:r.value.startDate},null,8,["modelValue","max","min"])])]),a("div",null,[f[19]||(f[19]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Export Format ",-1)),a("div",nde,[a("label",ide,[rt(a("input",{"onUpdate:modelValue":f[5]||(f[5]=x=>r.value.format=x),type:"radio",value:"xlsx",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 dark:focus:ring-blue-500 dark:focus:ring-offset-gray-800"},null,512),[[ao,r.value.format]]),f[16]||(f[16]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," Excel (.xlsx) ",-1))]),a("label",lde,[rt(a("input",{"onUpdate:modelValue":f[6]||(f[6]=x=>r.value.format=x),type:"radio",value:"csv",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 dark:focus:ring-blue-500 dark:focus:ring-offset-gray-800"},null,512),[[ao,r.value.format]]),f[17]||(f[17]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," CSV (.csv) ",-1))]),a("label",dde,[rt(a("input",{"onUpdate:modelValue":f[7]||(f[7]=x=>r.value.format=x),type:"radio",value:"pdf",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 dark:focus:ring-blue-500 dark:focus:ring-offset-gray-800"},null,512),[[ao,r.value.format]]),f[18]||(f[18]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," PDF (.pdf) ",-1))])])]),a("div",cde,[f[22]||(f[22]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Additional Options ",-1)),a("div",ude,[a("label",hde,[rt(a("input",{"onUpdate:modelValue":f[8]||(f[8]=x=>r.value.includeHeaders=x),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded dark:border-gray-600 dark:focus:ring-blue-500 dark:focus:ring-offset-gray-800"},null,512),[[Da,r.value.includeHeaders]]),f[20]||(f[20]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," Include column headers ",-1))]),a("label",gde,[rt(a("input",{"onUpdate:modelValue":f[9]||(f[9]=x=>r.value.includeSummary=x),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded dark:border-gray-600 dark:focus:ring-blue-500 dark:focus:ring-offset-gray-800"},null,512),[[Da,r.value.includeSummary]]),f[21]||(f[21]=a("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"}," Include summary statistics ",-1))])])]),a("div",pde,[a("button",{type:"button",onClick:f[10]||(f[10]=x=>y.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Cancel "),a("button",{type:"submit",disabled:e.loading||!i.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[e.loading?($(),S("span",fde,[...f[23]||(f[23]=[a("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ke(" Exporting... ",-1)])])):($(),S("span",yde,"Export Data"))],8,mde)])],32)]),_:1}))}},xde={class:"space-y-6"},bde={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"},kde={class:"border-b border-gray-200 dark:border-gray-700"},wde={class:"flex -mb-px"},_de=["onClick"],$de={key:2},Cde={key:7,class:"space-y-6"},Sde={__name:"BukuStock",setup(e){const t=Hn(),s=Ut(),r=O(!1),o=O(!1),n=[{key:"default",label:"Stock Cards"},{key:"ledger",label:"Ledger View"},{key:"product",label:"Product View"},{key:"location",label:"Location View"},{key:"balance",label:"Current Balance"},{key:"best_selling",label:"Barang Terlaris"},{key:"slow_moving",label:"Barang Kurang Laris"},{key:"sales_recap",label:"Rekap Penjualan"}],i=()=>{r.value=!1,t.refreshCurrentView()},l=y=>{t.updateFilters({search:y}),t.debouncedSearch()},u=y=>{const f=new Date,x=new Date(f.getFullYear(),f.getMonth(),1);t.updateFilters({product_id:y.product_id,location_id:y.location_id,start_date:x.toISOString().split("T")[0],end_date:f.toISOString().split("T")[0]}),t.setViewMode("ledger")},m=async y=>{try{await t.exportData(y.format),s.success("Data exported successfully"),o.value=!1}catch(f){s.error("Failed to export data"),console.error("Export error:",f)}};return Ot(async()=>{try{await t.initialize(),await t.refreshCurrentView()}catch(y){s.error("Failed to initialize Stock Book"),console.error("Initialization error:",y)}}),Ea(()=>{}),(y,f)=>($(),S("div",xde,[f[2]||(f[2]=a("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Buku Stock "),a("p",{class:"text-gray-500 dark:text-gray-400 mt-1"}," Stock card reporting and inventory movement tracking ")]),a("div",{class:"flex items-center gap-3"})],-1)),a("div",bde,[a("div",kde,[a("nav",wde,[($(),S(Qe,null,ot(n,x=>a("button",{key:x.key,onClick:c=>F(t).setViewMode(x.key),class:Ee(["py-4 px-6 text-sm font-medium border-b-2 transition-colors duration-200",F(t).viewMode===x.key?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"])},k(x.label),11,_de)),64))])])]),F(t).viewMode!=="balance"?($(),it(ese,{key:0,stats:F(t).statistics,"show-trend":!0,"show-percentage":!0,"show-additional-stats":F(t).viewMode==="ledger"},null,8,["stats","show-additional-stats"])):G("",!0),r.value?($(),it(_se,{key:1,loading:F(t).loading,"show-status-filter":F(t).viewMode==="balance",onApply:i,onCancel:f[0]||(f[0]=x=>r.value=!1),onSearch:l},null,8,["loading","show-status-filter"])):G("",!0),r.value?G("",!0):($(),S("div",$de,[F(t).viewMode==="ledger"?($(),it(Eae,{key:0})):F(t).viewMode==="product"?($(),it($re,{key:1})):F(t).viewMode==="location"?($(),it($oe,{key:2})):F(t).viewMode==="balance"?($(),it(fne,{key:3})):F(t).viewMode==="best_selling"?($(),it(Xne,{key:4})):F(t).viewMode==="slow_moving"?($(),it(Mie,{key:5})):F(t).viewMode==="sales_recap"?($(),it($le,{key:6})):($(),S("div",Cde,[L(ede,{"stock-cards":F(t).stockCards,loading:F(t).loading,refreshing:F(t).refreshing,onRefresh:F(t).refreshCurrentView,onViewDetails:u},null,8,["stock-cards","loading","refreshing","onRefresh"])]))])),o.value?($(),it(vde,{key:3,loading:F(t).exporting,onExport:m,onClose:f[1]||(f[1]=x=>o.value=!1)},null,8,["loading"])):G("",!0)]))}},Ede={class:"space-y-6"},Tde={class:"grid grid-cols-1 md:grid-cols-5 gap-6"},Ade={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Lde={class:"flex items-center"},Mde={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},Pde={class:"ml-4"},Dde={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Ide={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Ode={class:"flex items-center"},Fde={class:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg"},Rde={class:"ml-4"},jde={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Nde={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Vde={class:"flex items-center"},Bde={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},Ude={class:"ml-4"},Hde={class:"text-2xl font-semibold text-gray-900 dark:text-white"},qde={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},zde={class:"flex items-center"},Wde={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},Kde={class:"ml-4"},Yde={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Gde={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Jde={class:"flex items-center"},Qde={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},Xde={class:"ml-4"},Zde={class:"text-2xl font-semibold text-gray-900 dark:text-white"},ece={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},tce={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},sce={class:"flex justify-end mt-4"},ace={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 mb-6"},rce={class:"flex items-center justify-between"},oce={class:"flex items-center gap-4"},nce={class:"text-sm font-medium text-red-900 dark:text-red-100"},ice={class:"flex items-center gap-2"},lce={class:"flex items-center"},dce={class:"text-sm font-medium text-gray-900 dark:text-white"},cce={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"},uce={key:1,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},hce={class:"text-sm font-medium text-gray-900 dark:text-white"},gce={class:"text-xs text-gray-500 dark:text-gray-400"},pce={key:0},mce={class:"text-sm text-gray-900 dark:text-white"},fce={class:"text-xs text-gray-500 dark:text-gray-400"},yce={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},vce={key:0},xce={class:"text-sm text-gray-900 dark:text-white"},bce={class:"text-xs text-gray-500 dark:text-gray-400"},kce={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},wce={key:0},_ce={class:"text-sm text-gray-900 dark:text-white"},$ce={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},Cce={class:"flex items-center justify-end gap-2"},Sce=["onClick"],Ece=["onClick"],Tce=["onClick"],Ace=["onClick"],Lce=["onClick"],Mce={key:1,class:"flex justify-center"},Pce={class:"flex items-center gap-2"},Dce={class:"text-sm text-gray-600 dark:text-gray-400"},Ice={class:"space-y-5"},Oce={class:"grid grid-cols-2 gap-4"},Fce={class:"grid grid-cols-3 gap-4"},Rce={class:"space-y-5"},jce={class:"grid grid-cols-3 gap-4"},Nce={class:"space-y-5"},Vce={class:"grid grid-cols-3 gap-4"},Bce={class:"space-y-5"},Uce={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},Hce={key:0,class:"space-y-6"},qce={class:"flex items-start justify-between"},zce={class:"flex-1"},Wce={class:"text-xl font-semibold text-gray-900 dark:text-white"},Kce={class:"text-sm text-gray-500 dark:text-gray-400"},Yce={class:"flex items-center gap-4 mt-2"},Gce={class:"text-xs text-gray-500 dark:text-gray-400"},Jce={class:"flex gap-2"},Qce={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Xce={class:"space-y-4"},Zce={class:"space-y-2"},eue={class:"flex justify-between"},tue={class:"text-sm text-gray-900 dark:text-white"},sue={class:"flex justify-between"},aue={class:"text-sm text-gray-900 dark:text-white"},rue={class:"flex justify-between"},oue={class:"text-sm text-gray-900 dark:text-white"},nue={class:"flex justify-between"},iue={class:"text-sm text-gray-900 dark:text-white"},lue={class:"space-y-4"},due={class:"space-y-2"},cue={class:"flex justify-between"},uue={class:"text-sm text-gray-900 dark:text-white"},hue={class:"flex justify-between"},gue={class:"text-sm text-gray-900 dark:text-white"},pue={class:"flex justify-between"},mue={class:"text-sm text-gray-900 dark:text-white"},fue={class:"flex justify-between"},yue={class:"text-sm text-gray-900 dark:text-white"},vue={class:"space-y-4"},xue={key:0},bue={class:"text-sm text-gray-700 dark:text-gray-300"},kue={key:1},wue={class:"text-sm text-gray-700 dark:text-gray-300"},_ue={key:2},$ue={class:"text-sm text-gray-700 dark:text-gray-300"},Cue={key:0,class:"space-y-4"},Sue={class:"text-sm text-gray-600 dark:text-gray-400"},Eue={class:"flex justify-end gap-3"},Tue={key:0,class:"space-y-4"},Aue={class:"text-sm text-gray-600 dark:text-gray-400"},Lue={class:"flex justify-end gap-3"},Mue={__name:"WorkOrders",setup(e){const t=wo(),s=Ut(),r=Va();Qs();const o=O(!1),n=O(!1),i=O({}),l=O({}),u=O([]),m=O([]),y=O([]),f=O([]),x=O(!1),c=O(!1),h=O(!1),g=O(!1),d=O(!1),p=O(null),v=O(!1),b=O(!1),w=O(!1),E=O(""),C=O(""),T=O({search:"",status:"",priority:"",type:"",asset_id:"",location_id:""}),P=O({title:"",code:"",description:"",type:"",priority:"",status:"pending",asset_id:"",location_id:"",assigned_to:"",due_date:"",estimated_hours:"",estimated_cost:"",notes:""}),A=O({}),j=O({}),V=[{value:"draft",label:"Draft"},{value:"pending",label:"Pending"},{value:"assigned",label:"Assigned"},{value:"in_progress",label:"In Progress"},{value:"on_hold",label:"On Hold"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],H=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}],R=[{value:"maintenance",label:"Maintenance"},{value:"repair",label:"Repair"},{value:"installation",label:"Installation"},{value:"inspection",label:"Inspection"},{value:"upgrade",label:"Upgrade"},{value:"replacement",label:"Replacement"}],M=fe(()=>l.value.total_work_orders||0),B=fe(()=>l.value.pending_work_orders||0),W=fe(()=>l.value.in_progress_work_orders||0),K=fe(()=>l.value.completed_work_orders||0),Z=fe(()=>l.value.overdue_work_orders||0),Te=fe(()=>Object.values(T.value).some(re=>re!==""&&re!==null)),_e=[{key:"code",label:"Code",sortable:!0},{key:"title",label:"Title",sortable:!0},{key:"asset",label:"Asset",sortable:!1},{key:"priority",label:"Priority",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"assigned_user",label:"Assigned To",sortable:!1},{key:"due_date",label:"Due Date",sortable:!0},{key:"created_at",label:"Created",type:"date",sortable:!0}];let ye=null;const z=()=>{ye&&clearTimeout(ye),ye=setTimeout(()=>{Oe()},500)},q=()=>{Oe()},X=()=>{T.value={search:"",status:"",priority:"",type:"",asset_id:"",location_id:""},Oe()},se=async()=>{n.value=!0;try{await Promise.all([Oe(),nt()]),s.success("Work orders data refreshed successfully")}catch(re){console.error("Refresh work orders error:",re),s.error("Failed to refresh work orders data")}finally{n.value=!1}},Ae=re=>{Oe(re)},me=re=>{const Y={low:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",medium:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",high:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400",critical:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return Y[re]||Y.medium},Le=re=>{const Y={draft:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",assigned:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",in_progress:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",on_hold:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400",completed:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return Y[re]||Y.pending},Re=re=>new Date(re).toLocaleDateString(),Ze=(re,Y)=>{const we=[];switch(re){case"title":!Y||Y.trim()===""?we.push("Work order title is required"):Y.length<3?we.push("Title must be at least 3 characters"):Y.length>255&&we.push("Title must be less than 255 characters");break;case"type":Y||we.push("Work order type is required");break;case"priority":Y||we.push("Priority is required");break}return we},We=()=>{const re={};return Object.keys(P.value).forEach(Y=>{const we=Ze(Y,P.value[Y]);we.length>0&&(re[Y]=we)}),A.value=re,Object.keys(re).length===0},ae=re=>{j.value[re]=!0;const Y=Ze(re,P.value[re]);A.value[re]=Y},ge=re=>j.value[re]&&A.value[re]?A.value[re][0]:"",ne=async()=>{if(!We()){s.error("Please fix the errors in the form");return}v.value=!0;try{const re=x.value?"work-orders":`work-orders/${p.value.id}`,Y=x.value?await Xt(re,P.value):await Na(re,P.value);Y.success?(s.success(`Work order ${x.value?"created":"updated"} successfully`),ee(),await Promise.all([Oe(),nt()])):Y.errors?(A.value=Y.errors,s.error("Please check the form for errors")):s.error(Y.message||"Failed to save work order")}catch(re){console.error("Save work order error:",re),s.error("Failed to save work order. Please try again.")}finally{v.value=!1}},ee=()=>{x.value=!1,c.value=!1,h.value=!1,g.value=!1,d.value=!1,p.value=null,E.value="",C.value="",P.value={title:"",code:"",description:"",type:"",priority:"",status:"pending",asset_id:"",location_id:"",assigned_to:"",due_date:"",estimated_hours:"",estimated_cost:"",notes:""},A.value={},j.value={}},ue=()=>{x.value=!0,Fe()},he=re=>{p.value=re,P.value={title:re.title,code:re.code,description:re.description||"",type:re.type,priority:re.priority,status:re.status,asset_id:re.asset_id||"",location_id:re.location_id||"",assigned_to:re.assigned_to||"",due_date:re.due_date?re.due_date.slice(0,16):"",estimated_hours:re.estimated_hours||"",estimated_cost:re.estimated_cost||"",notes:re.notes||""},A.value={},j.value={},c.value=!0,Fe()},Ce=re=>{p.value=re,h.value=!0},J=async re=>{try{const Y=await Xt(`work-orders/${re.id}/start`);Y.success?(s.success("Work order started successfully"),await Promise.all([Oe(),nt()])):s.error(Y.message||"Failed to start work order")}catch(Y){console.error("Start work order error:",Y),s.error("Failed to start work order")}},D=re=>{p.value=re,E.value=re.status,g.value=!0},N=async()=>{if(!(!p.value||!E.value)){b.value=!0;try{const re=await Xt(`work-orders/${p.value.id}/update-status`,{status:E.value});re.success?(s.success("Work order status updated successfully"),ee(),await Promise.all([Oe(),nt()])):s.error(re.message||"Failed to update work order status")}catch(re){console.error("Update status error:",re),s.error("Failed to update work order status")}finally{b.value=!1}}},U=async()=>{if(!(!u.value.length||!C.value)){w.value=!0;try{const re=await Xt("work-orders/bulk-update-status",{work_order_ids:u.value.map(Y=>Y.id),status:C.value});re.success?(s.success(`${u.value.length} work order${u.value.length===1?"":"s"} status updated successfully`),ee(),await Promise.all([Oe(),nt()])):s.error(re.message||"Failed to update work order statuses")}catch(re){console.error("Bulk update status error:",re),s.error("Failed to update work order statuses")}finally{w.value=!1}}},Q=re=>{r.showModal({title:"Delete Work Order",message:`Are you sure you want to delete "${re.title}"?`,description:"This action cannot be undone. This will permanently delete the work order and all its associated data.",confirmText:"Delete Work Order",cancelText:"Cancel",onConfirm:async()=>{const Y=await Os(`work-orders/${re.id}`);if(Y.success)return s.success("Work order deleted successfully"),await Promise.all([Oe(),nt()]),Y;throw new Error(Y.message||"Failed to delete work order")},onSuccess:Y=>{console.log("Work order deleted successfully:",Y)},onError:Y=>{console.error("Failed to delete work order:",Y),s.error(Y.message||"Failed to delete work order")}})},Ge=(re,Y)=>{if(Y.length===0){s.warning("Please select work orders to perform bulk action");return}re==="delete"?r.showModal({title:"Bulk Delete Work Orders",message:`Are you sure you want to delete ${Y.length} work order${Y.length===1?"":"s"}?`,description:"This action cannot be undone. This will permanently delete the selected work orders and all their associated data.",confirmText:"Delete Work Orders",cancelText:"Cancel",onConfirm:async()=>{try{const we=Y.map(Ht=>Os(`work-orders/${Ht.id}`));return await Promise.all(we),s.success(`${Y.length} work order${Y.length===1?"":"s"} deleted successfully`),await Promise.all([Oe(),nt()]),{success:!0}}catch{throw new Error("Failed to delete some work orders")}},onSuccess:we=>{console.log("Bulk delete completed:",we)},onError:we=>{console.error("Bulk delete failed:",we),s.error(we.message||"Failed to delete work orders")}}):re==="update-status"&&(u.value=Y,d.value=!0)},He=re=>{u.value=re,console.log("Selection changed:",re)},pe=()=>{u.value=[]},ie=async()=>{try{const re=new URLSearchParams(T.value),Y=document.createElement("a");Y.href=`/api/work-orders-export?${re}`,Y.download=`work_orders_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),s.success("Work orders export started. Download will begin shortly.")}catch(re){console.error("Export work orders error:",re),s.error("Failed to export work orders")}},Oe=async(re=1)=>{try{o.value=!0;const Y=new URLSearchParams({page:re.toString(),...T.value}),we=await Tt(`work-orders?${Y}`);we.success&&(i.value=we.data)}catch(Y){console.error("Error loading work orders:",Y),s.error("Failed to load work orders")}finally{o.value=!1}},nt=async()=>{try{const re=await Tt("work-orders-statistics");re.success&&(l.value=re.data)}catch(re){console.error("Error loading statistics:",re),s.error("Failed to load statistics")}},Fe=async()=>{try{const re=await Tt("work-orders-user-options");re.success&&(m.value=re.data);const Y=await Tt("work-orders-asset-options");Y.success&&(y.value=Y.data);const we=await Tt("work-orders-location-options");we.success&&(f.value=we.data)}catch(re){console.error("Error loading options:",re),s.error("Failed to load form options")}};return Et(T,()=>{Oe()},{deep:!0}),Ot(async()=>{t.query.action==="create"&&(await Fe(),t.query.asset_id&&(P.value.asset_id=parseInt(t.query.asset_id)),t.query.location_id&&(P.value.location_id=parseInt(t.query.location_id)),t.query.asset_name&&(P.value.title=`Maintenance for ${t.query.asset_name}`),t.query.asset_code&&(P.value.description=`Asset Code: ${t.query.asset_code}
`),x.value=!0,s.info("Form has been pre-filled with asset information from QR code")),Oe(),nt(),t.query.action||Fe()}),(re,Y)=>($(),S("div",Ede,[Y[86]||(Y[86]=a("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Work Orders "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Manage and track all work orders and maintenance tasks ")])],-1)),a("div",Tde,[a("div",Ade,[a("div",Lde,[a("div",Mde,[L(F(yd),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",Pde,[Y[46]||(Y[46]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Work Orders ",-1)),a("p",Dde,k(M.value),1)])])]),a("div",Ide,[a("div",Ode,[a("div",Fde,[L(F(qr),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),a("div",Rde,[Y[47]||(Y[47]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Pending ",-1)),a("p",jde,k(B.value),1)])])]),a("div",Nde,[a("div",Vde,[a("div",Bde,[L(F(Yo),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",Ude,[Y[48]||(Y[48]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," In Progress ",-1)),a("p",Hde,k(W.value),1)])])]),a("div",qde,[a("div",zde,[a("div",Wde,[L(F(Fs),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",Kde,[Y[49]||(Y[49]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Completed ",-1)),a("p",Yde,k(K.value),1)])])]),a("div",Gde,[a("div",Jde,[a("div",Qde,[L(F(yo),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",Xde,[Y[50]||(Y[50]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Overdue ",-1)),a("p",Zde,k(Z.value),1)])])])]),a("div",ece,[a("div",tce,[L(et,{modelValue:T.value.search,"onUpdate:modelValue":Y[0]||(Y[0]=we=>T.value.search=we),placeholder:"Search work orders...",onInput:z},{prefix:le(()=>[L(F(Un),{class:"w-4 h-4"})]),_:1},8,["modelValue"]),L(ut,{modelValue:T.value.status,"onUpdate:modelValue":[Y[1]||(Y[1]=we=>T.value.status=we),q],placeholder:"All Statuses",options:V},null,8,["modelValue"]),L(ut,{modelValue:T.value.priority,"onUpdate:modelValue":[Y[2]||(Y[2]=we=>T.value.priority=we),q],placeholder:"All Priorities",options:H},null,8,["modelValue"]),L(ut,{modelValue:T.value.type,"onUpdate:modelValue":[Y[3]||(Y[3]=we=>T.value.type=we),q],placeholder:"All Types",options:R},null,8,["modelValue"]),L(ut,{modelValue:T.value.asset_id,"onUpdate:modelValue":[Y[4]||(Y[4]=we=>T.value.asset_id=we),q],placeholder:"All Assets",options:y.value},null,8,["modelValue","options"]),L(ut,{modelValue:T.value.location_id,"onUpdate:modelValue":[Y[5]||(Y[5]=we=>T.value.location_id=we),q],placeholder:"All Locations",options:f.value},null,8,["modelValue","options"])]),a("div",sce,[L(ft,{variant:"secondary",onClick:X,disabled:!Te.value},{default:le(()=>[...Y[51]||(Y[51]=[ke(" Clear Filters ",-1)])]),_:1},8,["disabled"])])]),u.value.length>0?($(),S("div",ace,[a("div",rce,[a("div",oce,[a("span",nce,k(u.value.length)+" work order"+k(u.value.length===1?"":"s")+" selected ",1)]),a("div",ice,[L(ft,{variant:"secondary",size:"sm",onClick:Y[6]||(Y[6]=we=>Ge("update-status",u.value))},{default:le(()=>[L(F(Ur),{class:"w-4 h-4 mr-2"}),Y[52]||(Y[52]=ke(" Update Status ",-1))]),_:1}),L(ft,{variant:"danger",size:"sm",onClick:Y[7]||(Y[7]=we=>Ge("delete",u.value))},{default:le(()=>[L(F(Ks),{class:"w-4 h-4 mr-2"}),Y[53]||(Y[53]=ke(" Delete ",-1))]),_:1}),L(ft,{variant:"secondary",size:"sm",onClick:pe},{default:le(()=>[...Y[54]||(Y[54]=[ke(" Clear Selection ",-1)])]),_:1})])])])):G("",!0),L(Us,{title:"Work Orders",description:"A comprehensive list of all work orders and maintenance tasks.",data:i.value.data||[],columns:_e,loading:o.value,selectable:!0,"show-actions":!0,"show-add-button":!0,"add-button-text":"New Work Order","show-filters":!1,"show-bulk-actions":!1,"show-export":!0,"show-refresh":!0,"refresh-loading":n.value,"search-placeholder":"Search work orders...","empty-title":"No work orders found","empty-description":"Get started by creating your first work order.",onAdd:ue,onEdit:he,onDelete:Q,onBulkAction:Ge,onExport:ie,onSelectionChange:He,onRefresh:se},{"column-code":le(({item:we})=>[a("div",lce,[a("span",dce,k(we.code),1),we.is_overdue?($(),S("span",cce," Overdue ")):we.is_due_soon?($(),S("span",uce," Due Soon ")):G("",!0)])]),"column-title":le(({item:we})=>[a("div",null,[a("p",hce,k(we.title),1),a("p",gce,k(we.type),1)])]),"column-asset":le(({item:we})=>[we.asset?($(),S("div",pce,[a("p",mce,k(we.asset.name),1),a("p",fce,k(we.asset.code),1)])):($(),S("span",yce," No Asset "))]),"column-priority":le(({item:we})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",me(we.priority)])},k(we.priority),3)]),"column-status":le(({item:we})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Le(we.status)])},k(we.status.replace("_"," ")),3)]),"column-assigned_user":le(({item:we})=>[we.assigned_user?($(),S("div",vce,[a("p",xce,k(we.assigned_user.name),1),a("p",bce,k(we.assigned_user.email),1)])):($(),S("span",kce," Unassigned "))]),"column-due_date":le(({item:we})=>[we.due_date?($(),S("div",wce,[a("p",_ce,k(Re(we.due_date)),1),we.days_until_due!==null?($(),S("p",{key:0,class:Ee(["text-xs",we.days_until_due<0?"text-red-600 dark:text-red-400":we.days_until_due<=7?"text-yellow-600 dark:text-yellow-400":"text-gray-500 dark:text-gray-400"])},k(we.days_until_due<0?`${Math.abs(we.days_until_due)} days overdue`:we.days_until_due===0?"Due today":`${we.days_until_due} days left`),3)):G("",!0)])):($(),S("span",$ce," No Due Date "))]),actions:le(({item:we})=>[a("div",Cce,[a("button",{onClick:Ht=>Ce(we),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"View Details"},[L(F(Ta),{class:"w-4 h-4"})],8,Sce),we.is_completed?G("",!0):($(),S("button",{key:0,onClick:Ht=>J(we),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Start Work Order"},[L(F(Yo),{class:"w-4 h-4"})],8,Ece)),a("button",{onClick:Ht=>he(we),class:"p-1.5 text-gray-400 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors duration-200 dark:hover:text-yellow-400 dark:hover:bg-yellow-900/20",title:"Edit Work Order"},[L(F(Bs),{class:"w-4 h-4"})],8,Tce),a("button",{onClick:Ht=>D(we),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Update Status"},[L(F(Ur),{class:"w-4 h-4"})],8,Ace),a("button",{onClick:Ht=>Q(we),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete Work Order"},[L(F(Ks),{class:"w-4 h-4"})],8,Lce)])]),_:1},8,["data","loading","refresh-loading"]),i.value.last_page>1?($(),S("div",Mce,[a("div",Pce,[L(ft,{variant:"secondary",disabled:i.value.current_page===1,onClick:Y[8]||(Y[8]=we=>Ae(i.value.current_page-1))},{default:le(()=>[...Y[55]||(Y[55]=[ke(" Previous ",-1)])]),_:1},8,["disabled"]),a("span",Dce," Page "+k(i.value.current_page)+" of "+k(i.value.last_page),1),L(ft,{variant:"secondary",disabled:i.value.current_page===i.value.last_page,onClick:Y[9]||(Y[9]=we=>Ae(i.value.current_page+1))},{default:le(()=>[...Y[56]||(Y[56]=[ke(" Next ",-1)])]),_:1},8,["disabled"])])])):G("",!0),L(Vt,{"is-open":x.value||c.value,onClose:ee,size:"xl"},{title:le(()=>[ke(k(x.value?"Create Work Order":"Edit Work Order"),1)]),default:le(()=>[a("form",{onSubmit:Bt(ne,["prevent"]),class:"space-y-6"},[a("div",Ice,[Y[57]||(Y[57]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Basic Information ",-1)),a("div",Oce,[L(et,{modelValue:P.value.title,"onUpdate:modelValue":Y[10]||(Y[10]=we=>P.value.title=we),label:"Work Order Title",placeholder:"Enter work order title",error:ge("title"),required:"",onBlur:Y[11]||(Y[11]=we=>ae("title"))},null,8,["modelValue","error"]),L(et,{modelValue:P.value.code,"onUpdate:modelValue":Y[12]||(Y[12]=we=>P.value.code=we),label:"Work Order Code",placeholder:"Auto-generated if empty",hint:"Leave empty to auto-generate",error:ge("code"),onBlur:Y[13]||(Y[13]=we=>ae("code"))},null,8,["modelValue","error"])]),L(ws,{modelValue:P.value.description,"onUpdate:modelValue":Y[14]||(Y[14]=we=>P.value.description=we),label:"Description",placeholder:"Enter work order description",error:ge("description"),rows:"3",onBlur:Y[15]||(Y[15]=we=>ae("description"))},null,8,["modelValue","error"]),a("div",Fce,[L(ut,{modelValue:P.value.type,"onUpdate:modelValue":[Y[16]||(Y[16]=we=>P.value.type=we),Y[18]||(Y[18]=we=>ae("type"))],label:"Type",placeholder:"Select type",options:R,error:ge("type"),required:"",onBlur:Y[17]||(Y[17]=we=>ae("type"))},null,8,["modelValue","error"]),L(ut,{modelValue:P.value.priority,"onUpdate:modelValue":[Y[19]||(Y[19]=we=>P.value.priority=we),Y[21]||(Y[21]=we=>ae("priority"))],label:"Priority",placeholder:"Select priority",options:H,error:ge("priority"),required:"",onBlur:Y[20]||(Y[20]=we=>ae("priority"))},null,8,["modelValue","error"]),L(ut,{modelValue:P.value.status,"onUpdate:modelValue":[Y[22]||(Y[22]=we=>P.value.status=we),Y[24]||(Y[24]=we=>ae("status"))],label:"Status",placeholder:"Select status",options:V,error:ge("status"),onBlur:Y[23]||(Y[23]=we=>ae("status"))},null,8,["modelValue","error"])])]),a("div",Rce,[Y[58]||(Y[58]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Assignment & Location ",-1)),a("div",jce,[L(ut,{modelValue:P.value.asset_id,"onUpdate:modelValue":[Y[25]||(Y[25]=we=>P.value.asset_id=we),Y[27]||(Y[27]=we=>ae("asset_id"))],label:"Asset",placeholder:"Select asset (optional)",options:y.value,error:ge("asset_id"),onBlur:Y[26]||(Y[26]=we=>ae("asset_id"))},null,8,["modelValue","options","error"]),L(ut,{modelValue:P.value.location_id,"onUpdate:modelValue":[Y[28]||(Y[28]=we=>P.value.location_id=we),Y[30]||(Y[30]=we=>ae("location_id"))],label:"Location",placeholder:"Select location (optional)",options:f.value,error:ge("location_id"),onBlur:Y[29]||(Y[29]=we=>ae("location_id"))},null,8,["modelValue","options","error"]),L(ut,{modelValue:P.value.assigned_to,"onUpdate:modelValue":[Y[31]||(Y[31]=we=>P.value.assigned_to=we),Y[33]||(Y[33]=we=>ae("assigned_to"))],label:"Assign To",placeholder:"Select user (optional)",options:m.value,error:ge("assigned_to"),onBlur:Y[32]||(Y[32]=we=>ae("assigned_to"))},null,8,["modelValue","options","error"])])]),a("div",Nce,[Y[59]||(Y[59]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Schedule & Estimates ",-1)),a("div",Vce,[L(et,{modelValue:P.value.due_date,"onUpdate:modelValue":Y[34]||(Y[34]=we=>P.value.due_date=we),label:"Due Date",type:"datetime-local",error:ge("due_date"),onBlur:Y[35]||(Y[35]=we=>ae("due_date"))},null,8,["modelValue","error"]),L(et,{modelValue:P.value.estimated_hours,"onUpdate:modelValue":Y[36]||(Y[36]=we=>P.value.estimated_hours=we),label:"Estimated Hours",type:"number",step:"0.5",min:"0",placeholder:"Enter estimated hours",error:ge("estimated_hours"),onBlur:Y[37]||(Y[37]=we=>ae("estimated_hours"))},null,8,["modelValue","error"]),L(et,{modelValue:P.value.estimated_cost,"onUpdate:modelValue":Y[38]||(Y[38]=we=>P.value.estimated_cost=we),label:"Estimated Cost",type:"number",step:"0.01",min:"0",placeholder:"Enter estimated cost",error:ge("estimated_cost"),onBlur:Y[39]||(Y[39]=we=>ae("estimated_cost"))},null,8,["modelValue","error"])])]),a("div",Bce,[Y[60]||(Y[60]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Additional Information ",-1)),L(ws,{modelValue:P.value.notes,"onUpdate:modelValue":Y[40]||(Y[40]=we=>P.value.notes=we),label:"Notes",placeholder:"Enter any additional notes",error:ge("notes"),rows:"3",onBlur:Y[41]||(Y[41]=we=>ae("notes"))},null,8,["modelValue","error"])]),a("div",Uce,[L(ft,{onClick:ee,variant:"secondary",disabled:v.value,class:"w-full sm:w-auto"},{default:le(()=>[...Y[61]||(Y[61]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:v.value,disabled:v.value,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(x.value?"Create Work Order":"Update Work Order"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]),L(Vt,{"is-open":h.value,onClose:ee,size:"xl"},{title:le(()=>[...Y[62]||(Y[62]=[ke("Work Order Details",-1)])]),default:le(()=>[p.value?($(),S("div",Hce,[a("div",qce,[a("div",zce,[a("h3",Wce,k(p.value.title),1),a("p",Kce,k(p.value.code),1),a("div",Yce,[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",me(p.value.priority)])},k(p.value.priority)+" Priority ",3),a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Le(p.value.status)])},k(p.value.status.replace("_"," ")),3),a("span",Gce,k(p.value.type),1)])]),a("div",Jce,[p.value.is_completed?G("",!0):($(),it(ft,{key:0,onClick:Y[42]||(Y[42]=we=>J(p.value)),variant:"secondary",size:"sm"},{default:le(()=>[L(F(Yo),{class:"w-4 h-4 mr-2"}),Y[63]||(Y[63]=ke(" Start Work ",-1))]),_:1})),L(ft,{onClick:Y[43]||(Y[43]=we=>he(p.value)),variant:"primary",size:"sm"},{default:le(()=>[L(F(Bs),{class:"w-4 h-4 mr-2"}),Y[64]||(Y[64]=ke(" Edit ",-1))]),_:1})])]),a("div",Qce,[a("div",Xce,[Y[69]||(Y[69]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Assignment Information ",-1)),a("div",Zce,[a("div",eue,[Y[65]||(Y[65]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Requester:",-1)),a("span",tue,k(p.value.requester?p.value.requester.name:"N/A"),1)]),a("div",sue,[Y[66]||(Y[66]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Assigned To:",-1)),a("span",aue,k(p.value.assigned_user?p.value.assigned_user.name:"Unassigned"),1)]),a("div",rue,[Y[67]||(Y[67]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Asset:",-1)),a("span",oue,k(p.value.asset?p.value.asset.name:"N/A"),1)]),a("div",nue,[Y[68]||(Y[68]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Location:",-1)),a("span",iue,k(p.value.location?p.value.location.name:"N/A"),1)])])]),a("div",lue,[Y[74]||(Y[74]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Schedule Information ",-1)),a("div",due,[a("div",cue,[Y[70]||(Y[70]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Requested Date:",-1)),a("span",uue,k(p.value.requested_date?Re(p.value.requested_date):"N/A"),1)]),a("div",hue,[Y[71]||(Y[71]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Due Date:",-1)),a("span",gue,k(p.value.due_date?Re(p.value.due_date):"N/A"),1)]),a("div",pue,[Y[72]||(Y[72]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Started At:",-1)),a("span",mue,k(p.value.started_at?Re(p.value.started_at):"Not Started"),1)]),a("div",fue,[Y[73]||(Y[73]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Completed At:",-1)),a("span",yue,k(p.value.completed_at?Re(p.value.completed_at):"Not Completed"),1)])])])]),a("div",vue,[p.value.description?($(),S("div",xue,[Y[75]||(Y[75]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Description ",-1)),a("p",bue,k(p.value.description),1)])):G("",!0),p.value.notes?($(),S("div",kue,[Y[76]||(Y[76]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Notes ",-1)),a("p",wue,k(p.value.notes),1)])):G("",!0),p.value.completion_notes?($(),S("div",_ue,[Y[77]||(Y[77]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Completion Notes ",-1)),a("p",$ue,k(p.value.completion_notes),1)])):G("",!0)])])):G("",!0)]),_:1},8,["is-open"]),L(Vt,{"is-open":g.value,onClose:ee,size:"md"},{title:le(()=>[...Y[78]||(Y[78]=[ke("Update Work Order Status",-1)])]),default:le(()=>[p.value?($(),S("div",Cue,[a("p",Sue,[Y[79]||(Y[79]=ke(" Update the status for ",-1)),a("strong",null,k(p.value.title),1)]),L(ut,{modelValue:E.value,"onUpdate:modelValue":Y[44]||(Y[44]=we=>E.value=we),label:"New Status",placeholder:"Select new status",options:V},null,8,["modelValue"]),a("div",Eue,[L(ft,{onClick:ee,variant:"secondary"},{default:le(()=>[...Y[80]||(Y[80]=[ke(" Cancel ",-1)])]),_:1}),L(ft,{onClick:N,loading:b.value},{default:le(()=>[...Y[81]||(Y[81]=[ke(" Update Status ",-1)])]),_:1},8,["loading"])])])):G("",!0)]),_:1},8,["is-open"]),L(Vt,{"is-open":d.value,onClose:ee,size:"md"},{title:le(()=>[...Y[82]||(Y[82]=[ke("Bulk Update Work Order Status",-1)])]),default:le(()=>[u.value.length>0?($(),S("div",Tue,[a("p",Aue,[Y[83]||(Y[83]=ke(" Update the status for ",-1)),a("strong",null,k(u.value.length)+" work order"+k(u.value.length===1?"":"s"),1)]),L(ut,{modelValue:C.value,"onUpdate:modelValue":Y[45]||(Y[45]=we=>C.value=we),label:"New Status",placeholder:"Select new status",options:V},null,8,["modelValue"]),a("div",Lue,[L(ft,{onClick:ee,variant:"secondary"},{default:le(()=>[...Y[84]||(Y[84]=[ke(" Cancel ",-1)])]),_:1}),L(ft,{onClick:U,loading:w.value},{default:le(()=>[...Y[85]||(Y[85]=[ke(" Update Status ",-1)])]),_:1},8,["loading"])])])):G("",!0)]),_:1},8,["is-open"]),L(us,{"is-open":F(r).isOpen,title:F(r).config.title,message:F(r).config.message,description:F(r).config.description,"confirm-text":F(r).config.confirmText,"cancel-text":F(r).config.cancelText,loading:F(r).loading,onConfirm:F(r).handleConfirm,onCancel:F(r).handleCancel,onClose:F(r).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}},Pue={class:"space-y-6"},Due={class:"grid grid-cols-1 md:grid-cols-5 gap-6"},Iue={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Oue={class:"flex items-center"},Fue={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},Rue={class:"ml-4"},jue={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Nue={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Vue={class:"flex items-center"},Bue={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},Uue={class:"ml-4"},Hue={class:"text-2xl font-semibold text-gray-900 dark:text-white"},que={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},zue={class:"flex items-center"},Wue={class:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg"},Kue={class:"ml-4"},Yue={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Gue={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Jue={class:"flex items-center"},Que={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},Xue={class:"ml-4"},Zue={class:"text-2xl font-semibold text-gray-900 dark:text-white"},e0e={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},t0e={class:"flex items-center"},s0e={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},a0e={class:"ml-4"},r0e={class:"text-2xl font-semibold text-gray-900 dark:text-white"},o0e={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},n0e={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},i0e={class:"flex justify-end mt-4"},l0e={class:"flex items-center"},d0e={class:"text-sm font-medium text-gray-900 dark:text-white"},c0e={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"},u0e={key:1,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"},h0e={class:"text-sm font-medium text-gray-900 dark:text-white"},g0e={class:"text-xs text-gray-500 dark:text-gray-400"},p0e={key:0},m0e={class:"text-sm text-gray-900 dark:text-white"},f0e={class:"text-xs text-gray-500 dark:text-gray-400"},y0e={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},v0e={class:"text-sm text-gray-900 dark:text-white"},x0e={key:0},b0e={class:"text-sm text-gray-900 dark:text-white"},k0e={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},w0e={class:"flex items-center"},_0e={class:"flex-1"},$0e={class:"flex justify-between text-sm"},C0e={class:"text-gray-900 dark:text-white"},S0e={class:"w-full bg-gray-200 rounded-full h-2 dark:bg-gray-700"},E0e={class:"flex items-center justify-end gap-2"},T0e=["onClick"],A0e=["onClick"],L0e=["onClick"],M0e={key:0,class:"flex justify-center"},P0e={class:"flex items-center gap-2"},D0e={class:"text-sm text-gray-600 dark:text-gray-400"},I0e={class:"space-y-5"},O0e={class:"grid grid-cols-2 gap-4"},F0e={class:"grid grid-cols-3 gap-4"},R0e={class:"space-y-5"},j0e={class:"grid grid-cols-3 gap-4"},N0e={class:"space-y-5"},V0e={class:"grid grid-cols-3 gap-4"},B0e={class:"space-y-5"},U0e={class:"grid grid-cols-2 gap-4"},H0e={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},q0e={key:0,class:"space-y-6"},z0e={class:"flex items-start justify-between"},W0e={class:"flex-1"},K0e={class:"text-xl font-semibold text-gray-900 dark:text-white"},Y0e={class:"text-sm text-gray-500 dark:text-gray-400"},G0e={class:"flex items-center gap-4 mt-2"},J0e={class:"text-xs text-gray-500 dark:text-gray-400"},Q0e={class:"flex gap-2"},X0e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Z0e={class:"space-y-4"},ehe={class:"space-y-2"},the={class:"flex justify-between"},she={class:"text-sm text-gray-900 dark:text-white"},ahe={class:"flex justify-between"},rhe={class:"text-sm text-gray-900 dark:text-white"},ohe={class:"flex justify-between"},nhe={class:"text-sm text-gray-900 dark:text-white"},ihe={class:"space-y-4"},lhe={class:"space-y-2"},dhe={class:"flex justify-between"},che={class:"text-sm text-gray-900 dark:text-white"},uhe={class:"flex justify-between"},hhe={class:"text-sm text-gray-900 dark:text-white"},ghe={class:"flex justify-between"},phe={class:"text-sm text-gray-900 dark:text-white"},mhe={class:"flex justify-between"},fhe={class:"text-sm text-gray-900 dark:text-white"},yhe={class:"space-y-4"},vhe={key:0},xhe={class:"text-sm text-gray-700 dark:text-gray-300"},bhe={key:1},khe={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line"},whe={key:2},_he={class:"text-sm text-gray-700 dark:text-gray-300"},$he={__name:"PreventiveMaintenance",setup(e){const t=Ut(),s=Va();Qs();const r=O(!1),o=O(!1),n=O({}),i=O({}),l=O([]),u=O([]),m=O([]),y=O([]),f=O(!1),x=O(!1),c=O(!1),h=O(null),g=O(!1),d=O({search:"",status:"",priority:"",maintenance_type:"",asset_id:"",frequency_type:""}),p=O({title:"",code:"",description:"",maintenance_type:"",priority:"",status:"active",asset_id:"",location_id:"",assigned_to:"",frequency_type:"",frequency_value:1,start_date:"",estimated_duration_hours:"",estimated_cost:"",work_instructions:"",notes:""}),v=O({}),b=O({}),w=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"suspended",label:"Suspended"},{value:"completed",label:"Completed"}],E=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}],C=[{value:"inspection",label:"Inspection"},{value:"cleaning",label:"Cleaning"},{value:"lubrication",label:"Lubrication"},{value:"calibration",label:"Calibration"},{value:"replacement",label:"Replacement"},{value:"testing",label:"Testing"},{value:"adjustment",label:"Adjustment"},{value:"other",label:"Other"}],T=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"semi_annual",label:"Semi-Annual"},{value:"annual",label:"Annual"},{value:"custom",label:"Custom"}],P=fe(()=>i.value.total_preventive_maintenances||0),A=fe(()=>i.value.active_preventive_maintenances||0),j=fe(()=>i.value.due_soon_preventive_maintenances||0),V=fe(()=>i.value.overdue_preventive_maintenances||0),H=fe(()=>i.value.average_compliance_rate||0),R=fe(()=>Object.values(d.value).some(N=>N!==""&&N!==null)),M=[{key:"code",label:"Code",sortable:!0},{key:"title",label:"Title",sortable:!0},{key:"asset",label:"Asset",sortable:!1},{key:"priority",label:"Priority",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"frequency",label:"Frequency",sortable:!1},{key:"next_due_date",label:"Next Due Date",sortable:!0},{key:"compliance_rate",label:"Compliance",sortable:!0},{key:"created_at",label:"Created",type:"date",sortable:!0}];let B=null;const W=()=>{B&&clearTimeout(B),B=setTimeout(()=>{Ce()},500)},K=()=>{Ce()},Z=()=>{d.value={search:"",status:"",priority:"",maintenance_type:"",asset_id:"",frequency_type:""},Ce()},Te=async()=>{o.value=!0;try{await Promise.all([Ce(),J()]),t.success("Preventive maintenance data refreshed successfully")}catch(N){console.error("Refresh PM error:",N),t.error("Failed to refresh preventive maintenance data")}finally{o.value=!1}},_e=N=>{Ce(N)},ye=N=>{const U={low:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",medium:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",high:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400",critical:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return U[N]||U.medium},z=N=>{const U={active:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",inactive:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",suspended:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",completed:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return U[N]||U.active},q=N=>new Date(N).toLocaleDateString(),X=(N,U)=>{const Ge={daily:"Daily",weekly:"Weekly",monthly:"Monthly",quarterly:"Quarterly",semi_annual:"Semi-Annual",annual:"Annual",custom:"Custom"}[N]||N;return U>1?`Every ${U} ${Ge}`:Ge},se=(N,U)=>{const Q=[];switch(N){case"title":!U||U.trim()===""?Q.push("Schedule title is required"):U.length<3?Q.push("Title must be at least 3 characters"):U.length>255&&Q.push("Title must be less than 255 characters");break;case"maintenance_type":U||Q.push("Maintenance type is required");break;case"priority":U||Q.push("Priority is required");break;case"asset_id":U||Q.push("Asset is required");break;case"frequency_type":U||Q.push("Frequency type is required");break;case"start_date":U||Q.push("Start date is required");break}return Q},Ae=()=>{const N={};return Object.keys(p.value).forEach(U=>{const Q=se(U,p.value[U]);Q.length>0&&(N[U]=Q)}),v.value=N,Object.keys(N).length===0},me=N=>{b.value[N]=!0;const U=se(N,p.value[N]);v.value[N]=U},Le=N=>b.value[N]&&v.value[N]?v.value[N][0]:"",Re=async()=>{if(!Ae()){t.error("Please fix the errors in the form");return}g.value=!0;try{const N=f.value?"preventive-maintenances":`preventive-maintenances/${h.value.id}`,U=f.value?await Xt(N,p.value):await Na(N,p.value);U.success?(t.success(`Preventive maintenance schedule ${f.value?"created":"updated"} successfully`),Ze(),await Promise.all([Ce(),J()])):U.errors?(v.value=U.errors,t.error("Please check the form for errors")):t.error(U.message||"Failed to save preventive maintenance schedule")}catch(N){console.error("Save PM error:",N),t.error("Failed to save preventive maintenance schedule. Please try again.")}finally{g.value=!1}},Ze=()=>{f.value=!1,x.value=!1,c.value=!1,h.value=null,p.value={title:"",code:"",description:"",maintenance_type:"",priority:"",status:"active",asset_id:"",location_id:"",assigned_to:"",frequency_type:"",frequency_value:1,start_date:"",estimated_duration_hours:"",estimated_cost:"",work_instructions:"",notes:""},v.value={},b.value={}},We=()=>{f.value=!0,D()},ae=N=>{h.value=N,p.value={title:N.title,code:N.code,description:N.description||"",maintenance_type:N.maintenance_type,priority:N.priority,status:N.status,asset_id:N.asset_id||"",location_id:N.location_id||"",assigned_to:N.assigned_to||"",frequency_type:N.frequency_type,frequency_value:N.frequency_value||1,start_date:N.start_date,estimated_duration_hours:N.estimated_duration_hours||"",estimated_cost:N.estimated_cost||"",work_instructions:N.work_instructions||"",notes:N.notes||""},v.value={},b.value={},x.value=!0,D()},ge=N=>{h.value=N,c.value=!0},ne=N=>{s.showModal({title:"Delete Preventive Maintenance Schedule",message:`Are you sure you want to delete "${N.title}"?`,description:"This action cannot be undone. This will permanently delete the preventive maintenance schedule and all its associated data.",confirmText:"Delete Schedule",cancelText:"Cancel",onConfirm:async()=>{const U=await Os(`preventive-maintenances/${N.id}`);if(U.success)return t.success("Preventive maintenance schedule deleted successfully"),await Promise.all([Ce(),J()]),U;throw new Error(U.message||"Failed to delete preventive maintenance schedule")},onSuccess:U=>{console.log("PM deleted successfully:",U)},onError:U=>{console.error("Failed to delete PM:",U),t.error(U.message||"Failed to delete preventive maintenance schedule")}})},ee=(N,U)=>{if(U.length===0){t.warning("Please select preventive maintenance schedules to perform bulk action");return}N==="delete"&&s.showModal({title:"Bulk Delete Preventive Maintenance Schedules",message:`Are you sure you want to delete ${U.length} preventive maintenance schedule${U.length===1?"":"s"}?`,description:"This action cannot be undone. This will permanently delete the selected preventive maintenance schedules and all their associated data.",confirmText:"Delete Schedules",cancelText:"Cancel",onConfirm:async()=>{try{const Q=U.map(Ge=>Os(`preventive-maintenances/${Ge.id}`));return await Promise.all(Q),t.success(`${U.length} preventive maintenance schedule${U.length===1?"":"s"} deleted successfully`),await Promise.all([Ce(),J()]),{success:!0}}catch{throw new Error("Failed to delete some preventive maintenance schedules")}},onSuccess:Q=>{console.log("Bulk delete completed:",Q)},onError:Q=>{console.error("Bulk delete failed:",Q),t.error(Q.message||"Failed to delete preventive maintenance schedules")}})},ue=N=>{l.value=N,console.log("Selection changed:",N)},he=async()=>{try{const N=new URLSearchParams(d.value),U=document.createElement("a");U.href=`/api/preventive-maintenances-export?${N}`,U.download=`preventive_maintenances_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(U),U.click(),document.body.removeChild(U),t.success("Preventive maintenance export started. Download will begin shortly.")}catch(N){console.error("Export PM error:",N),t.error("Failed to export preventive maintenance schedules")}},Ce=async(N=1)=>{try{r.value=!0;const U=new URLSearchParams({page:N.toString(),...d.value}),Q=await Tt(`preventive-maintenances?${U}`);Q.success&&(n.value=Q.data)}catch(U){console.error("Error loading preventive maintenances:",U),t.error("Failed to load preventive maintenance schedules")}finally{r.value=!1}},J=async()=>{try{const N=await Tt("preventive-maintenances-statistics");N.success&&(i.value=N.data)}catch(N){console.error("Error loading statistics:",N),t.error("Failed to load statistics")}},D=async()=>{try{const N=await Tt("preventive-maintenances-user-options");N.success&&(u.value=N.data);const U=await Tt("preventive-maintenances-asset-options");U.success&&(m.value=U.data);const Q=await Tt("preventive-maintenances-location-options");Q.success&&(y.value=Q.data)}catch(N){console.error("Error loading options:",N),t.error("Failed to load form options")}};return Et(d,()=>{Ce()},{deep:!0}),Ot(()=>{Ce(),J(),D()}),(N,U)=>($(),S("div",Pue,[U[75]||(U[75]=a("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Preventive Maintenance "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Schedule and track preventive maintenance tasks for your assets ")])],-1)),a("div",Due,[a("div",Iue,[a("div",Oue,[a("div",Fue,[L(F(bS),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",Rue,[U[48]||(U[48]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Schedules ",-1)),a("p",jue,k(P.value),1)])])]),a("div",Nue,[a("div",Vue,[a("div",Bue,[L(F(Fs),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",Uue,[U[49]||(U[49]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Active ",-1)),a("p",Hue,k(A.value),1)])])]),a("div",que,[a("div",zue,[a("div",Wue,[L(F(qr),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),a("div",Kue,[U[50]||(U[50]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Due Soon ",-1)),a("p",Yue,k(j.value),1)])])]),a("div",Gue,[a("div",Jue,[a("div",Que,[L(F(yo),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",Xue,[U[51]||(U[51]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Overdue ",-1)),a("p",Zue,k(V.value),1)])])]),a("div",e0e,[a("div",t0e,[a("div",s0e,[L(F(Pn),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",a0e,[U[52]||(U[52]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Compliance Rate ",-1)),a("p",r0e,k(H.value)+"% ",1)])])])]),a("div",o0e,[a("div",n0e,[L(et,{modelValue:d.value.search,"onUpdate:modelValue":U[0]||(U[0]=Q=>d.value.search=Q),placeholder:"Search preventive maintenance...",onInput:W},{prefix:le(()=>[L(F(Un),{class:"w-4 h-4"})]),_:1},8,["modelValue"]),L(ut,{modelValue:d.value.status,"onUpdate:modelValue":[U[1]||(U[1]=Q=>d.value.status=Q),K],placeholder:"All Statuses",options:w},null,8,["modelValue"]),L(ut,{modelValue:d.value.priority,"onUpdate:modelValue":[U[2]||(U[2]=Q=>d.value.priority=Q),K],placeholder:"All Priorities",options:E},null,8,["modelValue"]),L(ut,{modelValue:d.value.maintenance_type,"onUpdate:modelValue":[U[3]||(U[3]=Q=>d.value.maintenance_type=Q),K],placeholder:"All Types",options:C},null,8,["modelValue"]),L(ut,{modelValue:d.value.asset_id,"onUpdate:modelValue":[U[4]||(U[4]=Q=>d.value.asset_id=Q),K],placeholder:"All Assets",options:m.value},null,8,["modelValue","options"]),L(ut,{modelValue:d.value.frequency_type,"onUpdate:modelValue":[U[5]||(U[5]=Q=>d.value.frequency_type=Q),K],placeholder:"All Frequencies",options:T},null,8,["modelValue"])]),a("div",i0e,[L(ft,{variant:"secondary",onClick:Z,disabled:!R.value},{default:le(()=>[...U[53]||(U[53]=[ke(" Clear Filters ",-1)])]),_:1},8,["disabled"])])]),L(Us,{title:"Preventive Maintenance Schedules",description:"A comprehensive list of all preventive maintenance schedules and their execution status.",data:n.value.data||[],columns:M,loading:r.value,selectable:!0,"show-actions":!0,"show-add-button":!0,"add-button-text":"New Schedule","show-filters":!1,"show-bulk-actions":!1,"show-export":!0,"show-refresh":!0,"refresh-loading":o.value,"search-placeholder":"Search schedules...","empty-title":"No preventive maintenance schedules found","empty-description":"Get started by creating your first preventive maintenance schedule.",onAdd:We,onEdit:ae,onDelete:ne,onBulkAction:ee,onExport:he,onSelectionChange:ue,onRefresh:Te},{"column-code":le(({item:Q})=>[a("div",l0e,[a("span",d0e,k(Q.code),1),Q.is_overdue?($(),S("span",c0e," Overdue ")):Q.is_due_soon?($(),S("span",u0e," Due Soon ")):G("",!0)])]),"column-title":le(({item:Q})=>[a("div",null,[a("p",h0e,k(Q.title),1),a("p",g0e,k(Q.maintenance_type),1)])]),"column-asset":le(({item:Q})=>[Q.asset?($(),S("div",p0e,[a("p",m0e,k(Q.asset.name),1),a("p",f0e,k(Q.asset.code),1)])):($(),S("span",y0e," No Asset "))]),"column-priority":le(({item:Q})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",ye(Q.priority)])},k(Q.priority),3)]),"column-status":le(({item:Q})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",z(Q.status)])},k(Q.status),3)]),"column-frequency":le(({item:Q})=>[a("div",null,[a("p",v0e,k(X(Q.frequency_type,Q.frequency_value)),1)])]),"column-next_due_date":le(({item:Q})=>[Q.next_due_date?($(),S("div",x0e,[a("p",b0e,k(q(Q.next_due_date)),1),Q.days_until_due!==null?($(),S("p",{key:0,class:Ee(["text-xs",Q.days_until_due<0?"text-red-600 dark:text-red-400":Q.days_until_due<=7?"text-yellow-600 dark:text-yellow-400":"text-gray-500 dark:text-gray-400"])},k(Q.days_until_due<0?`${Math.abs(Q.days_until_due)} days overdue`:Q.days_until_due===0?"Due today":`${Q.days_until_due} days left`),3)):G("",!0)])):($(),S("span",k0e," No Due Date "))]),"column-compliance_rate":le(({item:Q})=>[a("div",w0e,[a("div",_0e,[a("div",$0e,[a("span",C0e,k(Q.compliance_rate)+"%",1)]),a("div",S0e,[a("div",{class:Ee(["h-2 rounded-full",Q.compliance_rate>=90?"bg-green-600":Q.compliance_rate>=70?"bg-yellow-600":"bg-red-600"]),style:fs({width:`${Q.compliance_rate}%`})},null,6)])])])]),actions:le(({item:Q})=>[a("div",E0e,[a("button",{onClick:Ge=>ge(Q),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"View Details"},[L(F(Ta),{class:"w-4 h-4"})],8,T0e),a("button",{onClick:Ge=>ae(Q),class:"p-1.5 text-gray-400 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors duration-200 dark:hover:text-yellow-400 dark:hover:bg-yellow-900/20",title:"Edit Schedule"},[L(F(Bs),{class:"w-4 h-4"})],8,A0e),a("button",{onClick:Ge=>ne(Q),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete Schedule"},[L(F(Ks),{class:"w-4 h-4"})],8,L0e)])]),_:1},8,["data","loading","refresh-loading"]),n.value.last_page>1?($(),S("div",M0e,[a("div",P0e,[L(ft,{variant:"secondary",disabled:n.value.current_page===1,onClick:U[6]||(U[6]=Q=>_e(n.value.current_page-1))},{default:le(()=>[...U[54]||(U[54]=[ke(" Previous ",-1)])]),_:1},8,["disabled"]),a("span",D0e," Page "+k(n.value.current_page)+" of "+k(n.value.last_page),1),L(ft,{variant:"secondary",disabled:n.value.current_page===n.value.last_page,onClick:U[7]||(U[7]=Q=>_e(n.value.current_page+1))},{default:le(()=>[...U[55]||(U[55]=[ke(" Next ",-1)])]),_:1},8,["disabled"])])])):G("",!0),L(Vt,{"is-open":f.value||x.value,onClose:Ze,size:"xl"},{title:le(()=>[ke(k(f.value?"Create Preventive Maintenance Schedule":"Edit Preventive Maintenance Schedule"),1)]),default:le(()=>[a("form",{onSubmit:Bt(Re,["prevent"]),class:"space-y-6"},[a("div",I0e,[U[56]||(U[56]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Basic Information ",-1)),a("div",O0e,[L(et,{modelValue:p.value.title,"onUpdate:modelValue":U[8]||(U[8]=Q=>p.value.title=Q),label:"Schedule Title",placeholder:"Enter schedule title",error:Le("title"),required:"",onBlur:U[9]||(U[9]=Q=>me("title"))},null,8,["modelValue","error"]),L(et,{modelValue:p.value.code,"onUpdate:modelValue":U[10]||(U[10]=Q=>p.value.code=Q),label:"Schedule Code",placeholder:"Auto-generated if empty",hint:"Leave empty to auto-generate",error:Le("code"),onBlur:U[11]||(U[11]=Q=>me("code"))},null,8,["modelValue","error"])]),L(ws,{modelValue:p.value.description,"onUpdate:modelValue":U[12]||(U[12]=Q=>p.value.description=Q),label:"Description",placeholder:"Enter schedule description",error:Le("description"),rows:"3",onBlur:U[13]||(U[13]=Q=>me("description"))},null,8,["modelValue","error"]),a("div",F0e,[L(ut,{modelValue:p.value.maintenance_type,"onUpdate:modelValue":[U[14]||(U[14]=Q=>p.value.maintenance_type=Q),U[16]||(U[16]=Q=>me("maintenance_type"))],label:"Maintenance Type",placeholder:"Select type",options:C,error:Le("maintenance_type"),required:"",onBlur:U[15]||(U[15]=Q=>me("maintenance_type"))},null,8,["modelValue","error"]),L(ut,{modelValue:p.value.priority,"onUpdate:modelValue":[U[17]||(U[17]=Q=>p.value.priority=Q),U[19]||(U[19]=Q=>me("priority"))],label:"Priority",placeholder:"Select priority",options:E,error:Le("priority"),required:"",onBlur:U[18]||(U[18]=Q=>me("priority"))},null,8,["modelValue","error"]),L(ut,{modelValue:p.value.status,"onUpdate:modelValue":[U[20]||(U[20]=Q=>p.value.status=Q),U[22]||(U[22]=Q=>me("status"))],label:"Status",placeholder:"Select status",options:w,error:Le("status"),onBlur:U[21]||(U[21]=Q=>me("status"))},null,8,["modelValue","error"])])]),a("div",R0e,[U[57]||(U[57]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Asset & Assignment ",-1)),a("div",j0e,[L(ut,{modelValue:p.value.asset_id,"onUpdate:modelValue":[U[23]||(U[23]=Q=>p.value.asset_id=Q),U[25]||(U[25]=Q=>me("asset_id"))],label:"Asset",placeholder:"Select asset",options:m.value,error:Le("asset_id"),required:"",onBlur:U[24]||(U[24]=Q=>me("asset_id"))},null,8,["modelValue","options","error"]),L(ut,{modelValue:p.value.location_id,"onUpdate:modelValue":[U[26]||(U[26]=Q=>p.value.location_id=Q),U[28]||(U[28]=Q=>me("location_id"))],label:"Location",placeholder:"Select location (optional)",options:y.value,error:Le("location_id"),onBlur:U[27]||(U[27]=Q=>me("location_id"))},null,8,["modelValue","options","error"]),L(ut,{modelValue:p.value.assigned_to,"onUpdate:modelValue":[U[29]||(U[29]=Q=>p.value.assigned_to=Q),U[31]||(U[31]=Q=>me("assigned_to"))],label:"Assign To",placeholder:"Select user (optional)",options:u.value,error:Le("assigned_to"),onBlur:U[30]||(U[30]=Q=>me("assigned_to"))},null,8,["modelValue","options","error"])])]),a("div",N0e,[U[58]||(U[58]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Schedule Configuration ",-1)),a("div",V0e,[L(ut,{modelValue:p.value.frequency_type,"onUpdate:modelValue":[U[32]||(U[32]=Q=>p.value.frequency_type=Q),U[34]||(U[34]=Q=>me("frequency_type"))],label:"Frequency Type",placeholder:"Select frequency",options:T,error:Le("frequency_type"),required:"",onBlur:U[33]||(U[33]=Q=>me("frequency_type"))},null,8,["modelValue","error"]),L(et,{modelValue:p.value.frequency_value,"onUpdate:modelValue":U[35]||(U[35]=Q=>p.value.frequency_value=Q),label:"Frequency Value",type:"number",min:"1",placeholder:"Every X frequency",error:Le("frequency_value"),onBlur:U[36]||(U[36]=Q=>me("frequency_value"))},null,8,["modelValue","error"]),L(et,{modelValue:p.value.start_date,"onUpdate:modelValue":U[37]||(U[37]=Q=>p.value.start_date=Q),label:"Start Date",type:"date",error:Le("start_date"),required:"",onBlur:U[38]||(U[38]=Q=>me("start_date"))},null,8,["modelValue","error"])])]),a("div",B0e,[U[59]||(U[59]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Work Details ",-1)),a("div",U0e,[L(et,{modelValue:p.value.estimated_duration_hours,"onUpdate:modelValue":U[39]||(U[39]=Q=>p.value.estimated_duration_hours=Q),label:"Estimated Duration (Hours)",type:"number",step:"0.5",min:"0",placeholder:"Enter estimated hours",error:Le("estimated_duration_hours"),onBlur:U[40]||(U[40]=Q=>me("estimated_duration_hours"))},null,8,["modelValue","error"]),L(et,{modelValue:p.value.estimated_cost,"onUpdate:modelValue":U[41]||(U[41]=Q=>p.value.estimated_cost=Q),label:"Estimated Cost",type:"number",step:"0.01",min:"0",placeholder:"Enter estimated cost",error:Le("estimated_cost"),onBlur:U[42]||(U[42]=Q=>me("estimated_cost"))},null,8,["modelValue","error"])]),L(ws,{modelValue:p.value.work_instructions,"onUpdate:modelValue":U[43]||(U[43]=Q=>p.value.work_instructions=Q),label:"Work Instructions",placeholder:"Enter detailed work instructions",error:Le("work_instructions"),rows:"4",onBlur:U[44]||(U[44]=Q=>me("work_instructions"))},null,8,["modelValue","error"]),L(ws,{modelValue:p.value.notes,"onUpdate:modelValue":U[45]||(U[45]=Q=>p.value.notes=Q),label:"Additional Notes",placeholder:"Enter any additional notes",error:Le("notes"),rows:"3",onBlur:U[46]||(U[46]=Q=>me("notes"))},null,8,["modelValue","error"])]),a("div",H0e,[L(ft,{onClick:Ze,variant:"secondary",disabled:g.value,class:"w-full sm:w-auto"},{default:le(()=>[...U[60]||(U[60]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:g.value,disabled:g.value,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(f.value?"Create Schedule":"Update Schedule"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]),L(Vt,{"is-open":c.value,onClose:Ze,size:"xl"},{title:le(()=>[...U[61]||(U[61]=[ke("Preventive Maintenance Details",-1)])]),default:le(()=>[h.value?($(),S("div",q0e,[a("div",z0e,[a("div",W0e,[a("h3",K0e,k(h.value.title),1),a("p",Y0e,k(h.value.code),1),a("div",G0e,[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",ye(h.value.priority)])},k(h.value.priority)+" Priority ",3),a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",z(h.value.status)])},k(h.value.status),3),a("span",J0e,k(h.value.maintenance_type),1)])]),a("div",Q0e,[L(ft,{onClick:U[47]||(U[47]=Q=>ae(h.value)),variant:"primary",size:"sm"},{default:le(()=>[L(F(Bs),{class:"w-4 h-4 mr-2"}),U[62]||(U[62]=ke(" Edit ",-1))]),_:1})])]),a("div",X0e,[a("div",Z0e,[U[66]||(U[66]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Asset & Assignment ",-1)),a("div",ehe,[a("div",the,[U[63]||(U[63]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Asset:",-1)),a("span",she,k(h.value.asset?h.value.asset.name:"N/A"),1)]),a("div",ahe,[U[64]||(U[64]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Location:",-1)),a("span",rhe,k(h.value.location?h.value.location.name:"N/A"),1)]),a("div",ohe,[U[65]||(U[65]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Assigned To:",-1)),a("span",nhe,k(h.value.assigned_user?h.value.assigned_user.name:"Unassigned"),1)])])]),a("div",ihe,[U[71]||(U[71]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Schedule Information ",-1)),a("div",lhe,[a("div",dhe,[U[67]||(U[67]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Frequency:",-1)),a("span",che,k(X(h.value.frequency_type,h.value.frequency_value)),1)]),a("div",uhe,[U[68]||(U[68]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Start Date:",-1)),a("span",hhe,k(h.value.start_date?q(h.value.start_date):"N/A"),1)]),a("div",ghe,[U[69]||(U[69]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Next Due Date:",-1)),a("span",phe,k(h.value.next_due_date?q(h.value.next_due_date):"N/A"),1)]),a("div",mhe,[U[70]||(U[70]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Compliance Rate:",-1)),a("span",fhe,k(h.value.compliance_rate)+"%",1)])])])]),a("div",yhe,[h.value.description?($(),S("div",vhe,[U[72]||(U[72]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Description ",-1)),a("p",xhe,k(h.value.description),1)])):G("",!0),h.value.work_instructions?($(),S("div",bhe,[U[73]||(U[73]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Work Instructions ",-1)),a("p",khe,k(h.value.work_instructions),1)])):G("",!0),h.value.notes?($(),S("div",whe,[U[74]||(U[74]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Notes ",-1)),a("p",_he,k(h.value.notes),1)])):G("",!0)])])):G("",!0)]),_:1},8,["is-open"]),L(us,{"is-open":F(s).isOpen,title:F(s).config.title,message:F(s).config.message,description:F(s).config.description,"confirm-text":F(s).config.confirmText,"cancel-text":F(s).config.cancelText,loading:F(s).loading,onConfirm:F(s).handleConfirm,onCancel:F(s).handleCancel,onClose:F(s).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}},Che={class:"space-y-6"},She={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Ehe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},The={class:"flex items-center"},Ahe={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},Lhe={class:"ml-4"},Mhe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Phe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Dhe={class:"flex items-center"},Ihe={class:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg"},Ohe={class:"ml-4"},Fhe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Rhe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},jhe={class:"flex items-center"},Nhe={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},Vhe={class:"ml-4"},Bhe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Uhe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Hhe={class:"flex items-center"},qhe={class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},zhe={class:"ml-4"},Whe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Khe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Yhe={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},Ghe={class:"flex justify-end mt-4"},Jhe={class:"flex items-center"},Qhe={class:"text-sm font-medium text-gray-900 dark:text-white"},Xhe={class:"text-sm font-medium text-gray-900 dark:text-white"},Zhe={class:"text-xs text-gray-500 dark:text-gray-400"},ege={key:0},tge={class:"text-sm text-gray-900 dark:text-white"},sge={class:"text-xs text-gray-500 dark:text-gray-400"},age={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},rge={key:0},oge={class:"text-sm text-gray-900 dark:text-white"},nge={class:"text-xs text-gray-500 dark:text-gray-400"},ige={class:"flex items-center justify-end gap-2"},lge=["onClick"],dge=["onClick"],cge=["onClick"],uge={key:0,class:"flex justify-center"},hge={class:"flex items-center gap-2"},gge={class:"text-sm text-gray-600 dark:text-gray-400"},pge={class:"space-y-5"},mge={class:"grid grid-cols-2 gap-4"},fge={class:"grid grid-cols-2 gap-4"},yge={class:"space-y-5"},vge={class:"grid grid-cols-2 gap-4"},xge={class:"space-y-5"},bge={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},kge={key:0,class:"space-y-6"},wge={class:"flex items-start justify-between"},_ge={class:"flex-1"},$ge={class:"text-xl font-semibold text-gray-900 dark:text-white"},Cge={class:"text-sm text-gray-500 dark:text-gray-400"},Sge={class:"flex items-center gap-4 mt-2"},Ege={class:"flex gap-2"},Tge={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Age={class:"space-y-4"},Lge={class:"space-y-2"},Mge={class:"flex justify-between"},Pge={class:"text-sm text-gray-900 dark:text-white"},Dge={class:"flex justify-between"},Ige={class:"text-sm text-gray-900 dark:text-white"},Oge={class:"space-y-4"},Fge={class:"space-y-2"},Rge={class:"flex justify-between"},jge={class:"text-sm text-gray-900 dark:text-white"},Nge={class:"flex justify-between"},Vge={class:"text-sm text-gray-900 dark:text-white"},Bge={class:"space-y-4"},Uge={key:0},Hge={class:"text-sm text-gray-700 dark:text-gray-300"},qge={key:1},zge={class:"text-sm text-gray-700 dark:text-gray-300"},Wge={__name:"RepairRequests",setup(e){const t=wo(),s=Ut(),r=Va(),o=O(!1),n=O(!1),i=O({}),l=O({}),u=O([]),m=O([]),y=O([]),f=O([]),x=O(!1),c=O(!1),h=O(!1),g=O(null),d=O(!1),p=O({search:"",status:"",priority:"",asset_id:"",requester_id:""}),v=O({issue:"",code:"",description:"",priority:"",status:"pending",asset_id:"",location_id:"",notes:""}),b=O({}),w=O({}),E=[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"in_progress",label:"In Progress"},{value:"completed",label:"Completed"},{value:"rejected",label:"Rejected"}],C=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}],T=fe(()=>l.value.total_repair_requests||0),P=fe(()=>l.value.pending_repair_requests||0),A=fe(()=>l.value.completed_repair_requests||0),j=fe(()=>l.value.urgent_repair_requests||0),V=fe(()=>Object.values(p.value).some(Ce=>Ce!==""&&Ce!==null)),H=[{key:"code",label:"Code",sortable:!0},{key:"issue",label:"Issue",sortable:!0},{key:"asset",label:"Asset",sortable:!1},{key:"requester",label:"Requester",sortable:!1},{key:"priority",label:"Priority",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"created_at",label:"Reported",type:"date",sortable:!0}];let R=null;const M=()=>{R&&clearTimeout(R),R=setTimeout(()=>{ee()},500)},B=()=>{ee()},W=()=>{p.value={search:"",status:"",priority:"",asset_id:"",requester_id:""},ee()},K=async()=>{n.value=!0;try{await Promise.all([ee(),ue()]),s.success("Repair requests refreshed successfully")}catch(Ce){console.error("Refresh error:",Ce),s.error("Failed to refresh repair requests")}finally{n.value=!1}},Z=Ce=>{ee(Ce)},Te=Ce=>{const J={low:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",medium:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",high:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400",critical:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return J[Ce]||J.medium},_e=Ce=>{const J={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",approved:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",in_progress:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",completed:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",rejected:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"};return J[Ce]||J.pending},ye=Ce=>new Date(Ce).toLocaleDateString(),z=(Ce,J)=>{const D=[];switch(Ce){case"issue":!J||J.trim()===""?D.push("Issue title is required"):J.length<3?D.push("Issue title must be at least 3 characters"):J.length>255&&D.push("Issue title must be less than 255 characters");break;case"priority":J||D.push("Priority is required");break;case"asset_id":J||D.push("Asset is required");break}return D},q=()=>{const Ce={};return Object.keys(v.value).forEach(J=>{const D=z(J,v.value[J]);D.length>0&&(Ce[J]=D)}),b.value=Ce,Object.keys(Ce).length===0},X=Ce=>{w.value[Ce]=!0;const J=z(Ce,v.value[Ce]);b.value[Ce]=J},se=Ce=>w.value[Ce]&&b.value[Ce]?b.value[Ce][0]:"",Ae=async()=>{if(!q()){s.error("Please fix the errors in the form");return}d.value=!0;try{const Ce=x.value?"repair-requests":`repair-requests/${g.value.id}`,J=x.value?await Xt(Ce,v.value):await Na(Ce,v.value);J.success?(s.success(`Repair request ${x.value?"created":"updated"} successfully`),me(),await Promise.all([ee(),ue()])):J.errors?(b.value=J.errors,s.error("Please check the form for errors")):s.error(J.message||"Failed to save repair request")}catch(Ce){console.error("Save request error:",Ce),s.error("Failed to save repair request. Please try again.")}finally{d.value=!1}},me=()=>{x.value=!1,c.value=!1,h.value=!1,g.value=null,v.value={issue:"",code:"",description:"",priority:"",status:"pending",asset_id:"",location_id:"",notes:""},b.value={},w.value={}},Le=()=>{x.value=!0,he()},Re=Ce=>{g.value=Ce,v.value={issue:Ce.issue,code:Ce.code,description:Ce.description||"",priority:Ce.priority,status:Ce.status,asset_id:Ce.asset_id||"",location_id:Ce.location_id||"",notes:Ce.notes||""},b.value={},w.value={},c.value=!0,he()},Ze=Ce=>{g.value=Ce,h.value=!0},We=Ce=>{r.showModal({title:"Delete Repair Request",message:`Are you sure you want to delete "${Ce.issue}"?`,description:"This action cannot be undone. This will permanently delete the repair request.",confirmText:"Delete Request",cancelText:"Cancel",onConfirm:async()=>{const J=await Os(`repair-requests/${Ce.id}`);if(J.success)return s.success("Repair request deleted successfully"),await Promise.all([ee(),ue()]),J;throw new Error(J.message||"Failed to delete repair request")},onSuccess:J=>{console.log("Request deleted successfully:",J)},onError:J=>{console.error("Failed to delete request:",J),s.error(J.message||"Failed to delete repair request")}})},ae=(Ce,J)=>{if(J.length===0){s.warning("Please select repair requests to perform bulk action");return}Ce==="delete"&&r.showModal({title:"Bulk Delete Repair Requests",message:`Are you sure you want to delete ${J.length} repair request${J.length===1?"":"s"}?`,description:"This action cannot be undone. This will permanently delete the selected repair requests.",confirmText:"Delete Requests",cancelText:"Cancel",onConfirm:async()=>{try{const D=J.map(N=>Os(`repair-requests/${N.id}`));return await Promise.all(D),s.success(`${J.length} repair request${J.length===1?"":"s"} deleted successfully`),await Promise.all([ee(),ue()]),{success:!0}}catch{throw new Error("Failed to delete some repair requests")}},onSuccess:D=>{console.log("Bulk delete completed:",D)},onError:D=>{console.error("Bulk delete failed:",D),s.error(D.message||"Failed to delete repair requests")}})},ge=Ce=>{u.value=Ce,console.log("Selection changed:",Ce)},ne=async()=>{try{const Ce=new URLSearchParams(p.value),J=document.createElement("a");J.href=`/api/repair-requests-export?${Ce}`,J.download=`repair_requests_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(J),J.click(),document.body.removeChild(J),s.success("Repair requests export started. Download will begin shortly.")}catch(Ce){console.error("Export error:",Ce),s.error("Failed to export repair requests")}},ee=async(Ce=1)=>{try{o.value=!0;const J=new URLSearchParams({page:Ce.toString(),...p.value}),D=await Tt(`repair-requests?${J}`);D.success&&(i.value=D.data)}catch(J){console.error("Error loading repair requests:",J),s.error("Failed to load repair requests")}finally{o.value=!1}},ue=async()=>{try{const Ce=await Tt("repair-requests-statistics");Ce.success&&(l.value=Ce.data)}catch(Ce){console.error("Error loading statistics:",Ce),s.error("Failed to load statistics")}},he=async()=>{try{const Ce=await Tt("work-orders-user-options");Ce.success&&(m.value=Ce.data);const J=await Tt("work-orders-asset-options");J.success&&(y.value=J.data);const D=await Tt("work-orders-location-options");D.success&&(f.value=D.data)}catch(Ce){console.error("Error loading options:",Ce),s.error("Failed to load form options")}};return Ot(async()=>{t.query.action==="create"&&(await he(),t.query.asset_id&&(v.value.asset_id=parseInt(t.query.asset_id)),t.query.location_id&&(v.value.location_id=parseInt(t.query.location_id)),t.query.asset_name&&(v.value.issue=`Repair needed for ${t.query.asset_name}`),t.query.asset_code&&(v.value.description=`Asset Code: ${t.query.asset_code}

Issue Description:
`),x.value=!0,s.info("Form has been pre-filled with asset information from QR code")),ee(),ue(),t.query.action||he()}),(Ce,J)=>($(),S("div",Che,[J[49]||(J[49]=a("div",{class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},[a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Repair Requests "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Manage and track repair requests for assets ")])],-1)),a("div",She,[a("div",Ehe,[a("div",The,[a("div",Ahe,[L(F(yd),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",Lhe,[J[28]||(J[28]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Requests ",-1)),a("p",Mhe,k(T.value),1)])])]),a("div",Phe,[a("div",Dhe,[a("div",Ihe,[L(F(qr),{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})]),a("div",Ohe,[J[29]||(J[29]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Pending ",-1)),a("p",Fhe,k(P.value),1)])])]),a("div",Rhe,[a("div",jhe,[a("div",Nhe,[L(F(Fs),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",Vhe,[J[30]||(J[30]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Completed ",-1)),a("p",Bhe,k(A.value),1)])])]),a("div",Uhe,[a("div",Hhe,[a("div",qhe,[L(F(yo),{class:"w-6 h-6 text-red-600 dark:text-red-400"})]),a("div",zhe,[J[31]||(J[31]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Urgent ",-1)),a("p",Whe,k(j.value),1)])])])]),a("div",Khe,[a("div",Yhe,[L(et,{modelValue:p.value.search,"onUpdate:modelValue":J[0]||(J[0]=D=>p.value.search=D),placeholder:"Search repair requests...",onInput:M},{prefix:le(()=>[L(F(Un),{class:"w-4 h-4"})]),_:1},8,["modelValue"]),L(ut,{modelValue:p.value.status,"onUpdate:modelValue":[J[1]||(J[1]=D=>p.value.status=D),B],placeholder:"All Statuses",options:E},null,8,["modelValue"]),L(ut,{modelValue:p.value.priority,"onUpdate:modelValue":[J[2]||(J[2]=D=>p.value.priority=D),B],placeholder:"All Priorities",options:C},null,8,["modelValue"]),L(ut,{modelValue:p.value.asset_id,"onUpdate:modelValue":[J[3]||(J[3]=D=>p.value.asset_id=D),B],placeholder:"All Assets",options:y.value},null,8,["modelValue","options"]),L(ut,{modelValue:p.value.requester_id,"onUpdate:modelValue":[J[4]||(J[4]=D=>p.value.requester_id=D),B],placeholder:"All Requesters",options:m.value},null,8,["modelValue","options"])]),a("div",Ghe,[L(ft,{variant:"secondary",onClick:W,disabled:!V.value},{default:le(()=>[...J[32]||(J[32]=[ke(" Clear Filters ",-1)])]),_:1},8,["disabled"])])]),L(Us,{title:"Repair Requests",description:"A comprehensive list of all repair requests for assets.",data:i.value.data||[],columns:H,loading:o.value,selectable:!0,"show-actions":!0,"show-add-button":!0,"add-button-text":"New Request","show-filters":!1,"show-bulk-actions":!1,"show-export":!0,"show-refresh":!0,"refresh-loading":n.value,"search-placeholder":"Search requests...","empty-title":"No repair requests found","empty-description":"Get started by creating your first repair request.",onAdd:Le,onEdit:Re,onDelete:We,onBulkAction:ae,onExport:ne,onSelectionChange:ge,onRefresh:K},{"column-code":le(({item:D})=>[a("div",Jhe,[a("span",Qhe,k(D.code),1)])]),"column-issue":le(({item:D})=>{var N,U;return[a("div",null,[a("p",Xhe,k(D.issue),1),a("p",Zhe,k((N=D.description)==null?void 0:N.substring(0,50))+k(((U=D.description)==null?void 0:U.length)>50?"...":""),1)])]}),"column-asset":le(({item:D})=>[D.asset?($(),S("div",ege,[a("p",tge,k(D.asset.name),1),a("p",sge,k(D.asset.code),1)])):($(),S("span",age," No Asset "))]),"column-requester":le(({item:D})=>[D.requester?($(),S("div",rge,[a("p",oge,k(D.requester.name),1),a("p",nge,k(D.requester.email),1)])):G("",!0)]),"column-priority":le(({item:D})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Te(D.priority)])},k(D.priority),3)]),"column-status":le(({item:D})=>[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",_e(D.status)])},k(D.status),3)]),actions:le(({item:D})=>[a("div",ige,[a("button",{onClick:N=>Ze(D),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"View Details"},[L(F(Ta),{class:"w-4 h-4"})],8,lge),a("button",{onClick:N=>Re(D),class:"p-1.5 text-gray-400 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors duration-200 dark:hover:text-yellow-400 dark:hover:bg-yellow-900/20",title:"Edit Request"},[L(F(Bs),{class:"w-4 h-4"})],8,dge),a("button",{onClick:N=>We(D),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete Request"},[L(F(Ks),{class:"w-4 h-4"})],8,cge)])]),_:1},8,["data","loading","refresh-loading"]),i.value.last_page>1?($(),S("div",uge,[a("div",hge,[L(ft,{variant:"secondary",disabled:i.value.current_page===1,onClick:J[5]||(J[5]=D=>Z(i.value.current_page-1))},{default:le(()=>[...J[33]||(J[33]=[ke(" Previous ",-1)])]),_:1},8,["disabled"]),a("span",gge," Page "+k(i.value.current_page)+" of "+k(i.value.last_page),1),L(ft,{variant:"secondary",disabled:i.value.current_page===i.value.last_page,onClick:J[6]||(J[6]=D=>Z(i.value.current_page+1))},{default:le(()=>[...J[34]||(J[34]=[ke(" Next ",-1)])]),_:1},8,["disabled"])])])):G("",!0),L(Vt,{"is-open":x.value||c.value,onClose:me,size:"xl"},{title:le(()=>[ke(k(x.value?"Create Repair Request":"Edit Repair Request"),1)]),default:le(()=>[a("form",{onSubmit:Bt(Ae,["prevent"]),class:"space-y-6"},[a("div",pge,[J[35]||(J[35]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Basic Information ",-1)),a("div",mge,[L(et,{modelValue:v.value.issue,"onUpdate:modelValue":J[7]||(J[7]=D=>v.value.issue=D),label:"Issue Title",placeholder:"Enter issue title",error:se("issue"),required:"",onBlur:J[8]||(J[8]=D=>X("issue"))},null,8,["modelValue","error"]),L(et,{modelValue:v.value.code,"onUpdate:modelValue":J[9]||(J[9]=D=>v.value.code=D),label:"Request Code",placeholder:"Auto-generated if empty",hint:"Leave empty to auto-generate",error:se("code"),onBlur:J[10]||(J[10]=D=>X("code"))},null,8,["modelValue","error"])]),L(ws,{modelValue:v.value.description,"onUpdate:modelValue":J[11]||(J[11]=D=>v.value.description=D),label:"Description",placeholder:"Enter detailed description of the issue",error:se("description"),rows:"3",onBlur:J[12]||(J[12]=D=>X("description"))},null,8,["modelValue","error"]),a("div",fge,[L(ut,{modelValue:v.value.priority,"onUpdate:modelValue":[J[13]||(J[13]=D=>v.value.priority=D),J[15]||(J[15]=D=>X("priority"))],label:"Priority",placeholder:"Select priority",options:C,error:se("priority"),required:"",onBlur:J[14]||(J[14]=D=>X("priority"))},null,8,["modelValue","error"]),L(ut,{modelValue:v.value.status,"onUpdate:modelValue":[J[16]||(J[16]=D=>v.value.status=D),J[18]||(J[18]=D=>X("status"))],label:"Status",placeholder:"Select status",options:E,error:se("status"),onBlur:J[17]||(J[17]=D=>X("status"))},null,8,["modelValue","error"])])]),a("div",yge,[J[36]||(J[36]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Asset & Location ",-1)),a("div",vge,[L(ut,{modelValue:v.value.asset_id,"onUpdate:modelValue":[J[19]||(J[19]=D=>v.value.asset_id=D),J[21]||(J[21]=D=>X("asset_id"))],label:"Asset",placeholder:"Select asset",options:y.value,error:se("asset_id"),required:"",onBlur:J[20]||(J[20]=D=>X("asset_id"))},null,8,["modelValue","options","error"]),L(ut,{modelValue:v.value.location_id,"onUpdate:modelValue":[J[22]||(J[22]=D=>v.value.location_id=D),J[24]||(J[24]=D=>X("location_id"))],label:"Location",placeholder:"Select location (optional)",options:f.value,error:se("location_id"),onBlur:J[23]||(J[23]=D=>X("location_id"))},null,8,["modelValue","options","error"])])]),a("div",xge,[J[37]||(J[37]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"}," Additional Details ",-1)),L(ws,{modelValue:v.value.notes,"onUpdate:modelValue":J[25]||(J[25]=D=>v.value.notes=D),label:"Notes",placeholder:"Enter any additional notes",error:se("notes"),rows:"3",onBlur:J[26]||(J[26]=D=>X("notes"))},null,8,["modelValue","error"])]),a("div",bge,[L(ft,{onClick:me,variant:"secondary",disabled:d.value,class:"w-full sm:w-auto"},{default:le(()=>[...J[38]||(J[38]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:d.value,disabled:d.value,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(x.value?"Create Request":"Update Request"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]),L(Vt,{"is-open":h.value,onClose:me,size:"xl"},{title:le(()=>[...J[39]||(J[39]=[ke("Repair Request Details",-1)])]),default:le(()=>[g.value?($(),S("div",kge,[a("div",wge,[a("div",_ge,[a("h3",$ge,k(g.value.issue),1),a("p",Cge,k(g.value.code),1),a("div",Sge,[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Te(g.value.priority)])},k(g.value.priority)+" Priority ",3),a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",_e(g.value.status)])},k(g.value.status),3)])]),a("div",Ege,[L(ft,{onClick:J[27]||(J[27]=D=>Re(g.value)),variant:"primary",size:"sm"},{default:le(()=>[L(F(Bs),{class:"w-4 h-4 mr-2"}),J[40]||(J[40]=ke(" Edit ",-1))]),_:1})])]),a("div",Tge,[a("div",Age,[J[43]||(J[43]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Asset & Location ",-1)),a("div",Lge,[a("div",Mge,[J[41]||(J[41]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Asset:",-1)),a("span",Pge,k(g.value.asset?g.value.asset.name:"N/A"),1)]),a("div",Dge,[J[42]||(J[42]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Location:",-1)),a("span",Ige,k(g.value.location?g.value.location.name:"N/A"),1)])])]),a("div",Oge,[J[46]||(J[46]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Request Information ",-1)),a("div",Fge,[a("div",Rge,[J[44]||(J[44]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Requester:",-1)),a("span",jge,k(g.value.requester?g.value.requester.name:"Unknown"),1)]),a("div",Nge,[J[45]||(J[45]=a("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"Reported Date:",-1)),a("span",Vge,k(g.value.created_at?ye(g.value.created_at):"N/A"),1)])])])]),a("div",Bge,[g.value.description?($(),S("div",Uge,[J[47]||(J[47]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Description ",-1)),a("p",Hge,k(g.value.description),1)])):G("",!0),g.value.notes?($(),S("div",qge,[J[48]||(J[48]=a("h4",{class:"font-medium text-gray-900 dark:text-white"}," Notes ",-1)),a("p",zge,k(g.value.notes),1)])):G("",!0)])])):G("",!0)]),_:1},8,["is-open"]),L(us,{"is-open":F(r).isOpen,title:F(r).config.title,message:F(r).config.message,description:F(r).config.description,"confirm-text":F(r).config.confirmText,"cancel-text":F(r).config.cancelText,loading:F(r).loading,onConfirm:F(r).handleConfirm,onCancel:F(r).handleCancel,onClose:F(r).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}},Kge={class:"tree-node"},Yge={class:"flex items-center flex-1 min-w-0"},Gge={key:1,class:"w-5 mr-2"},Jge={class:"flex-1 min-w-0"},Qge={class:"flex items-center gap-2"},Xge={class:"text-sm font-mono font-semibold text-gray-900 dark:text-white"},Zge={key:0,class:"inline-flex px-2 py-0.5 text-xs font-semibold rounded-full bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"},epe={class:"text-sm text-gray-900 dark:text-white font-medium mt-0.5"},tpe={class:"flex items-center gap-3 mt-1"},spe={class:"text-xs text-gray-500 dark:text-gray-400"},ape={class:"text-xs text-gray-500 dark:text-gray-400"},rpe={class:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-4"},ope={key:0,class:"mt-2 space-y-2"},npe={__name:"TreeNode",props:{node:{type:Object,required:!0}},emits:["view","edit","delete","move"],setup(e){const t=O(!0),s=()=>{t.value=!t.value},r=l=>({asset:"bg-gradient-to-br from-blue-500 to-blue-600",liability:"bg-gradient-to-br from-red-500 to-red-600",equity:"bg-gradient-to-br from-purple-500 to-purple-600",revenue:"bg-gradient-to-br from-green-500 to-green-600",expense:"bg-gradient-to-br from-orange-500 to-orange-600"})[l]||"bg-gradient-to-br from-gray-500 to-gray-600",o=l=>({asset:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",liability:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",equity:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",revenue:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",expense:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"})[l]||"bg-gray-100 text-gray-800",n=l=>l.charAt(0).toUpperCase()+l.slice(1),i=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(l);return(l,u)=>{const m=pr("TreeNode",!0);return $(),S("div",Kge,[a("div",{class:"flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors group",style:fs({marginLeft:`${(e.node.level-1)*24}px`})},[a("div",Yge,[e.node.children&&e.node.children.length>0?($(),S("button",{key:0,onClick:s,class:"flex-shrink-0 mr-2 p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded"},[($(),S("svg",{class:Ee(["w-4 h-4 text-gray-500 dark:text-gray-400 transition-transform",{"rotate-90":t.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...u[8]||(u[8]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))])):($(),S("div",Gge)),a("div",{class:Ee(["flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center mr-3",r(e.node.account_type)])},[...u[9]||(u[9]=[a("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],2),a("div",Jge,[a("div",Qge,[a("span",Xge,k(e.node.account_code),1),a("span",{class:Ee(["inline-flex px-2 py-0.5 text-xs font-semibold rounded-full",o(e.node.account_type)])},k(n(e.node.account_type)),3),e.node.is_active?G("",!0):($(),S("span",Zge," Inactive "))]),a("p",epe,k(e.node.account_name),1),a("div",tpe,[a("span",spe," Level "+k(e.node.level),1),a("span",ape," Balance: "+k(i(e.node.current_balance||0)),1),a("span",{class:Ee(["text-xs px-2 py-0.5 rounded-full",e.node.normal_balance==="debit"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300"])},k(e.node.normal_balance.toUpperCase()),3)])]),a("div",rpe,[a("button",{onClick:u[0]||(u[0]=y=>l.$emit("view",e.node)),class:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors dark:hover:text-indigo-400 dark:hover:bg-indigo-900/20",title:"View Details"},[...u[10]||(u[10]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),a("button",{onClick:u[1]||(u[1]=y=>l.$emit("move",e.node)),class:"p-1.5 text-gray-400 hover:text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors dark:hover:text-cyan-400 dark:hover:bg-cyan-900/20",title:"Move Account"},[...u[11]||(u[11]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])]),a("button",{onClick:u[2]||(u[2]=y=>l.$emit("edit",e.node)),class:"p-1.5 text-gray-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors dark:hover:text-primary-400 dark:hover:bg-primary-900/20",title:"Edit"},[...u[12]||(u[12]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),a("button",{onClick:u[3]||(u[3]=y=>l.$emit("delete",e.node)),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete"},[...u[13]||(u[13]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])])],4),L(ko,{"enter-active-class":"transition-all duration-200 ease-out","leave-active-class":"transition-all duration-150 ease-in","enter-from-class":"opacity-0 transform -translate-y-2","leave-to-class":"opacity-0 transform -translate-y-2"},{default:le(()=>[t.value&&e.node.children&&e.node.children.length>0?($(),S("div",ope,[($(!0),S(Qe,null,ot(e.node.children,y=>($(),it(m,{key:y.id,node:y,onView:u[4]||(u[4]=f=>l.$emit("view",f)),onEdit:u[5]||(u[5]=f=>l.$emit("edit",f)),onDelete:u[6]||(u[6]=f=>l.$emit("delete",f)),onMove:u[7]||(u[7]=f=>l.$emit("move",f))},null,8,["node"]))),128))])):G("",!0)]),_:1})])}}},ipe=ja(npe,[["__scopeId","data-v-ed185ee8"]]),lpe={class:"space-y-6"},dpe={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},cpe={class:"flex gap-2 hidden"},upe={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-lg z-10"},hpe={class:"grid grid-cols-1 md:grid-cols-5 gap-6"},gpe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},ppe={class:"flex items-center"},mpe={class:"ml-4"},fpe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},ype={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},vpe={class:"flex items-center"},xpe={class:"ml-4"},bpe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},kpe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},wpe={class:"flex items-center"},_pe={class:"ml-4"},$pe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Cpe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Spe={class:"flex items-center"},Epe={class:"ml-4"},Tpe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Ape={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Lpe={class:"flex items-center"},Mpe={class:"ml-4"},Ppe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Dpe={key:0,class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Ipe={class:"flex items-center justify-between mb-6"},Ope={key:0,class:"text-center py-12"},Fpe={key:1,class:"text-center py-12"},Rpe={key:2,class:"space-y-2"},jpe={class:"flex items-center"},Npe={class:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center mr-3"},Vpe={class:"text-white font-bold text-xs"},Bpe={class:"text-sm font-mono font-medium text-gray-900 dark:text-white"},Upe={class:"text-sm text-gray-500 dark:text-gray-400"},Hpe={class:"text-sm font-medium text-gray-900 dark:text-white"},qpe={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},zpe={key:1,class:"inline-flex px-2 py-0.5 text-xs font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 mt-1"},Wpe={class:"text-right"},Kpe={class:"text-sm font-medium text-gray-900 dark:text-white"},Ype={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Gpe={class:"flex items-center"},Jpe={class:"text-sm text-gray-900 dark:text-white capitalize"},Qpe={class:"flex items-center justify-end gap-2"},Xpe=["onClick"],Zpe=["onClick"],eme=["onClick"],tme=["onClick"],sme=["onClick"],ame=["onClick"],rme=["onClick"],ome={class:"p-3 space-y-4"},nme={class:"flex space-x-2"},ime=["disabled"],lme={class:"space-y-5"},dme={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},cme={class:"flex gap-2"},ume={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},hme={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gme=["value"],pme={class:"flex items-center"},mme={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},fme={key:0,class:"space-y-6"},yme={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6"},vme={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-4"},xme={class:"mt-1 text-sm font-mono font-medium text-gray-900 dark:text-white"},bme={class:"mt-1 text-sm text-gray-900 dark:text-white"},kme={class:"mt-1"},wme={class:"mt-1"},_me={class:"mt-1 text-sm text-gray-900 dark:text-white"},$me={class:"mt-1"},Cme={class:"bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 rounded-lg p-6"},Sme={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-4"},Eme={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},Tme={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},Ame={key:0,class:"md:col-span-2"},Lme={class:"mt-1 text-sm text-gray-900 dark:text-white"},Mme={key:0,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6"},Pme={class:"text-sm text-gray-900 dark:text-white"},Dme={key:1,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6"},Ime={class:"text-sm text-gray-900 dark:text-white whitespace-pre-wrap"},Ome={key:2,class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6"},Fme={class:"text-xs text-gray-900 dark:text-white bg-white dark:bg-gray-800 p-4 rounded-lg overflow-x-auto"},Rme={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6"},jme={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-4"},Nme={class:"mt-1 text-sm text-gray-900 dark:text-white"},Vme={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Bme={class:"mt-1 text-sm text-gray-900 dark:text-white"},Ume={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Hme={key:0,class:"space-y-6"},qme={class:"flex justify-between items-center"},zme={class:"text-lg font-mono font-semibold text-gray-900 dark:text-white"},Wme={key:0,class:"text-center py-12"},Kme={key:1,class:"text-center py-12"},Yme={key:2,class:"space-y-4"},Gme={class:"flex justify-between items-start"},Jme={class:"flex-1"},Qme={class:"flex items-center gap-2 mb-2"},Xme={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},Zme={class:"grid grid-cols-3 gap-4"},efe={class:"text-lg font-semibold text-gray-900 dark:text-white"},tfe={class:"text-lg font-semibold text-blue-600 dark:text-blue-400"},sfe={class:"text-lg font-semibold text-green-600 dark:text-green-400"},afe={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-2"},rfe={key:0,class:"space-y-6"},ofe={class:"text-lg font-mono font-semibold text-gray-900 dark:text-white"},nfe={key:0,class:"text-center py-12"},ife={key:1,class:"text-center py-12"},lfe={key:2,class:"space-y-4"},dfe={class:"flex items-start gap-4"},cfe={key:0,class:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ufe={key:1,class:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},hfe={key:2,class:"w-4 h-4 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},gfe={key:3,class:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},pfe={class:"flex-1"},mfe={class:"flex items-center justify-between mb-2"},ffe={class:"text-xs text-gray-500 dark:text-gray-400"},yfe={key:0,class:"text-sm text-gray-900 dark:text-white mb-2"},vfe={key:1,class:"text-xs space-y-2"},xfe={class:"bg-gray-50 dark:bg-gray-800 rounded p-2"},bfe={class:"mt-2 grid grid-cols-2 gap-4"},kfe={key:0},wfe={class:"text-xs overflow-x-auto"},_fe={key:1},$fe={class:"text-xs overflow-x-auto"},Cfe={key:0,class:"space-y-6"},Sfe={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},Efe={class:"text-lg font-semibold text-gray-900 dark:text-white"},Tfe=["value"],Afe={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},Lfe={__name:"ChartOfAccounts",setup(e){const t=Ut(),s=Va(),r=O(!1),o=O(!1),n=O([]),i=O({current_page:1,per_page:10,total:0,last_page:1,from:0,to:0}),l=O(!1),u=O(!1),m=O(!1),y=O(!1),f=O(!1),x=O(!1),c=O(!1),h=O(!1),g=O(null),d=O(!1),p=O(!1),v=O(!1),b=O(!1),w=O(!1),E=O(!1),C=O(!1),T=O(!1),P=O(null),A=O([]),j=O([]),V=O([]),H=O(""),R=O(""),M=O(""),B=O(!1),W=O(null),K=O({account_code:"",account_name:"",account_type:"",normal_balance:"",parent_id:null,level:1,description:"",opening_balance:0,metadata:null,is_active:!0}),Z=O(""),Te=fe(()=>i.value.total),_e=fe(()=>n.value.filter(qe=>qe.account_type==="asset").length),ye=fe(()=>n.value.filter(qe=>qe.account_type==="liability").length),z=fe(()=>n.value.filter(qe=>qe.account_type==="revenue").length),q=fe(()=>n.value.filter(qe=>qe.account_type==="expense").length),X=fe(()=>n.value),se=fe(()=>{let qe=n.value.filter(ce=>!ce.deleted_at);return g.value&&(qe=qe.filter(ce=>ce.id!==g.value.id)),qe}),Ae=fe(()=>g.value?n.value.filter(qe=>qe.id!==g.value.id&&qe.account_type===g.value.account_type&&!qe.deleted_at):[]),me=[{key:"account_code",label:"Code",sortable:!0},{key:"account_name",label:"Account Name",sortable:!0},{key:"account_type",label:"Type",sortable:!0},{key:"normal_balance",label:"Normal Balance",sortable:!1},{key:"current_balance",label:"Current Balance",sortable:!0},{key:"status",label:"Status",sortable:!0}],Le=async(qe={})=>{try{r.value=!0;const ce={page:i.value.current_page,per_page:i.value.per_page,...qe};h.value&&(ce.with_deleted=!0),H.value&&(ce.type=H.value),R.value&&(ce.is_active=R.value),M.value&&(ce.level=M.value);const Ve=await Tt("chart-of-accounts",ce);Ve&&Ve.success&&(n.value=Ve.data||[],Ve.pagination&&(i.value=Ve.pagination))}catch{t.error("Failed to fetch accounts")}finally{r.value=!1}},Re=async()=>{try{b.value=!0;const qe=await Tt("chart-of-accounts/tree");qe&&(A.value=qe)}catch{t.error("Failed to fetch tree data")}finally{b.value=!1}},Ze=()=>{h.value=!h.value,Le()},We=()=>{K.value={account_code:"",account_name:"",account_type:"",normal_balance:"",parent_id:null,level:1,description:"",opening_balance:0,metadata:null,is_active:!0},Z.value="",l.value=!0},ae=qe=>{g.value=qe,K.value={account_code:qe.account_code,account_name:qe.account_name,account_type:qe.account_type,normal_balance:qe.normal_balance,parent_id:qe.parent_id,level:qe.level,description:qe.description||"",opening_balance:qe.opening_balance||0,metadata:qe.metadata,is_active:qe.is_active},Z.value=qe.metadata?JSON.stringify(qe.metadata,null,2):"",u.value=!0},ge=async qe=>{g.value=qe,m.value=!0},ne=async qe=>{g.value=qe,y.value=!0,await ie(qe.id)},ee=async qe=>{g.value=qe,f.value=!0,await Oe(qe.id)},ue=qe=>{g.value=qe,W.value=qe.parent_id,x.value=!0},he=qe=>{s.showModal({title:"Delete Account",message:`Are you sure you want to delete "${qe.account_name}"?`,description:"This action will soft delete the account. You can restore it later.",confirmText:"Delete Account",cancelText:"Cancel",onConfirm:async()=>{const ce=await Os(`chart-of-accounts/${qe.id}`);if(ce.success||ce.message)return t.success("Account deleted successfully"),Le(),c.value&&Re(),ce;throw new Error(ce.message||"Failed to delete account")},onError:ce=>{t.error(ce.message||"Failed to delete account")}})},Ce=qe=>{s.showModal({title:"Restore Account",message:`Are you sure you want to restore "${qe.account_name}"?`,description:"This action will restore the deleted account.",confirmText:"Restore Account",cancelText:"Cancel",onConfirm:async()=>{const ce=await Xt(`chart-of-accounts/${qe.id}/restore`);if(ce.success||ce.message)return t.success("Account restored successfully"),Le(),ce;throw new Error(ce.message||"Failed to restore account")},onError:ce=>{t.error(ce.message||"Failed to restore account")}})},J=async()=>{o.value=!0;try{await Le(),c.value&&await Re(),t.success("Accounts refreshed successfully")}catch{t.error("Failed to refresh accounts")}finally{o.value=!1}},D=async()=>{B.value=!0;try{i.value.current_page=1;const qe={page:i.value.current_page,per_page:i.value.per_page};H.value&&(qe.type=H.value),R.value&&(qe.is_active=R.value),M.value&&(qe.level=M.value),h.value&&(qe.with_deleted=!0);const ce=await Tt("chart-of-accounts",qe);ce&&ce.success&&(n.value=ce.data||[],ce.pagination&&(i.value=ce.pagination),t.success("Filters applied successfully"))}catch{t.error("Failed to apply filters")}finally{B.value=!1}},N=()=>{H.value="",R.value="",M.value="",i.value.current_page=1,Le()},U=()=>{if(K.value.parent_id){const qe=n.value.find(ce=>ce.id===K.value.parent_id);qe&&(K.value.level=qe.level+1)}else K.value.level=1},Q=async()=>{try{const qe={};K.value.parent_id&&(qe.parent_id=K.value.parent_id);const ce=await Tt("chart-of-accounts/generate-code",qe);ce&&ce.code&&(K.value.account_code=ce.code,t.success("Account code generated"))}catch{t.error("Failed to generate account code")}},Ge=async()=>{d.value=!0;try{if(Z.value.trim())try{K.value.metadata=JSON.parse(Z.value)}catch{t.error("Invalid JSON in metadata field"),d.value=!1;return}else K.value.metadata=null;const qe=l.value?"chart-of-accounts":`chart-of-accounts/${g.value.id}`,ce=l.value?await Xt(qe,K.value):await Na(qe,K.value);(ce.success||ce.data||ce.message)&&(t.success(`Account ${l.value?"created":"updated"} successfully`),Fe(),Le(),c.value&&Re())}catch(qe){t.error(qe.message||"Failed to save account")}finally{d.value=!1}},He=O(!1),pe=async()=>{if(g.value&&!He.value){He.value=!0,p.value=!0;try{const qe=await Xt(`chart-of-accounts/${g.value.id}/calculate-balance`,{async:!1});qe&&qe.success?(t.success("Balance calculated successfully"),await ie(g.value.id),Le()):t.error(qe.message||"Failed to calculate balance")}catch(qe){t.error(qe.message||"Failed to calculate balance")}finally{p.value=!1,He.value=!1}}},ie=async qe=>{try{w.value=!0;const ce=await Tt(`chart-of-accounts/${qe}/balance-history`);ce&&ce.success&&(j.value=ce.data||[])}catch{t.error("Failed to fetch balance history")}finally{w.value=!1}},Oe=async qe=>{try{E.value=!0;const ce=await Tt(`chart-of-accounts/${qe}/audit`);ce&&ce.success&&(V.value=ce.data||[])}catch{t.error("Failed to fetch audit trail")}finally{E.value=!1}},nt=async()=>{if(g.value){v.value=!0;try{const qe=await Xt(`chart-of-accounts/${g.value.id}/move`,{new_parent_id:W.value});(qe.success||qe.message)&&(t.success("Account moved successfully"),Fe(),Le(),c.value&&Re())}catch(qe){t.error(qe.message||"Failed to move account")}finally{v.value=!1}}},Fe=()=>{l.value=!1,u.value=!1,m.value=!1,y.value=!1,f.value=!1,x.value=!1,g.value=null,K.value={account_code:"",account_name:"",account_type:"",normal_balance:"",parent_id:null,level:1,description:"",opening_balance:0,metadata:null,is_active:!0},Z.value="",j.value=[],V.value=[],W.value=null},re=qe=>({asset:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",liability:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",equity:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",revenue:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",expense:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"})[qe]||"bg-gray-100 text-gray-800",Y=qe=>qe.charAt(0).toUpperCase()+qe.slice(1),we=qe=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(qe),Ht=qe=>qe?new Date(qe).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):null,je=qe=>qe?new Date(qe).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):null;Et([H,R,M,h],()=>{i.value.current_page=1,Le()},{deep:!0});const de=qe=>{i.value.current_page=qe,Le()},De=qe=>{i.value.per_page=qe,i.value.current_page=1,Le()},Yt=qe=>{i.value.current_page=1,Le({search:qe})},rs=(qe,ce)=>{i.value.current_page=1,Le({sort_field:qe,sort_direction:ce})},Ke=()=>{T.value=!T.value},Se=async qe=>{T.value=!1,C.value=!0;try{const ce={format:qe};H.value&&(ce.type=H.value),R.value&&(ce.is_active=R.value),M.value&&(ce.level=M.value),h.value&&(ce.with_deleted=!0);const Ve=await Xt("chart-of-accounts/export",ce);Ve&&Ve.success&&Ve.filename?(t.success(`Export ${qe.toUpperCase()} started. File: ${Ve.filename}`),setTimeout(()=>{mt(Ve.filename)},1500)):t.error("Export failed. Please try again.")}catch(ce){console.error("Export error:",ce),t.error(ce.message||`Failed to export to ${qe.toUpperCase()}`)}finally{C.value=!1}},mt=async qe=>{try{const ce=localStorage.getItem("token"),Ve=`/api/chart-of-accounts/export/${qe}?token=${ce}`,ts=document.createElement("a");ts.href=Ve,ts.setAttribute("download",qe),document.body.appendChild(ts),ts.click(),document.body.removeChild(ts),t.success("Download started")}catch(ce){console.error("Download error:",ce),t.error("Failed to download file")}},$t=qe=>{P.value&&!P.value.contains(qe.target)&&(T.value=!1)};return Ot(()=>{Le(),document.addEventListener("click",$t)}),f0(()=>{document.removeEventListener("click",$t)}),(qe,ce)=>($(),S("div",lpe,[a("div",dpe,[ce[22]||(ce[22]=a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Chart of Accounts "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Manage your company's chart of accounts and financial structure ")],-1)),a("div",cpe,[a("div",{class:"relative",ref_key:"exportDropdownRef",ref:P},[L(ft,{onClick:Ke,variant:"secondary",size:"sm",loading:C.value},{default:le(()=>[...ce[17]||(ce[17]=[a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),ke(" Export ",-1),a("svg",{class:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])]),_:1},8,["loading"]),T.value?($(),S("div",upe,[a("button",{onClick:ce[0]||(ce[0]=Ve=>Se("excel")),class:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center rounded-t-lg transition-colors"},[...ce[18]||(ce[18]=[a("svg",{class:"w-4 h-4 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),ke(" Export to Excel ",-1)])]),a("button",{onClick:ce[1]||(ce[1]=Ve=>Se("pdf")),class:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center rounded-b-lg transition-colors"},[...ce[19]||(ce[19]=[a("svg",{class:"w-4 h-4 mr-2 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),ke(" Export to PDF ",-1)])])])):G("",!0)],512),L(ft,{onClick:ce[2]||(ce[2]=Ve=>c.value=!c.value),variant:"secondary",size:"sm"},{default:le(()=>[ce[20]||(ce[20]=a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)),ke(" "+k(c.value?"Table View":"Tree View"),1)]),_:1}),L(ft,{onClick:Ze,variant:"secondary",size:"sm"},{default:le(()=>[ce[21]||(ce[21]=a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),ke(" "+k(h.value?"Hide Deleted":"Show Deleted"),1)]),_:1})])]),a("div",hpe,[a("div",gpe,[a("div",ppe,[ce[24]||(ce[24]=a("div",{class:"p-2 bg-primary-50 dark:bg-primary-900/20 rounded-lg"},[a("svg",{class:"w-6 h-6 text-primary-600 dark:text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),a("div",mpe,[ce[23]||(ce[23]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Accounts ",-1)),a("p",fpe,k(Te.value),1)])])]),a("div",ype,[a("div",vpe,[ce[26]||(ce[26]=a("div",{class:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg"},[a("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])],-1)),a("div",xpe,[ce[25]||(ce[25]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Assets ",-1)),a("p",bpe,k(_e.value),1)])])]),a("div",kpe,[a("div",wpe,[ce[28]||(ce[28]=a("div",{class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},[a("svg",{class:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a("div",_pe,[ce[27]||(ce[27]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Liabilities ",-1)),a("p",$pe,k(ye.value),1)])])]),a("div",Cpe,[a("div",Spe,[ce[30]||(ce[30]=a("div",{class:"p-2 bg-green-50 dark:bg-green-900/20 rounded-lg"},[a("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})])],-1)),a("div",Epe,[ce[29]||(ce[29]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Revenue ",-1)),a("p",Tpe,k(z.value),1)])])]),a("div",Ape,[a("div",Lpe,[ce[32]||(ce[32]=a("div",{class:"p-2 bg-orange-50 dark:bg-orange-900/20 rounded-lg"},[a("svg",{class:"w-6 h-6 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})])],-1)),a("div",Mpe,[ce[31]||(ce[31]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Expenses ",-1)),a("p",Ppe,k(q.value),1)])])])]),c.value?($(),S("div",Dpe,[a("div",Ipe,[ce[34]||(ce[34]=a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Account Hierarchy ",-1)),L(ft,{onClick:Re,size:"sm",variant:"secondary",loading:b.value},{default:le(()=>[...ce[33]||(ce[33]=[a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),ke(" Refresh ",-1)])]),_:1},8,["loading"])]),b.value?($(),S("div",Ope,[...ce[35]||(ce[35]=[a("svg",{class:"animate-spin h-8 w-8 mx-auto text-primary-600",fill:"none",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):A.value.length===0?($(),S("div",Fpe,[...ce[36]||(ce[36]=[a("p",{class:"text-gray-500 dark:text-gray-400"}," No accounts found ",-1)])])):($(),S("div",Rpe,[($(!0),S(Qe,null,ot(A.value,Ve=>($(),it(ipe,{key:Ve.id,node:Ve,onEdit:ae,onDelete:he,onView:ge,onMove:ue},null,8,["node"]))),128))]))])):($(),it(Us,{key:1,title:"Chart of Accounts",description:"Manage your company's chart of accounts including assets, liabilities, equity, revenue, and expenses.",data:X.value,columns:me,loading:r.value,selectable:!1,"show-actions":!0,"show-add-button":!0,"add-button-text":"Add Account","show-filters":!1,"show-export":!1,"show-bulk-actions":!1,"show-refresh":!0,"refresh-loading":o.value,"server-side":!0,pagination:i.value,"search-placeholder":"Search by code or name...","empty-title":"No accounts found","empty-description":"Get started by creating your first account.",onAdd:We,onEdit:ae,onDelete:he,onRefresh:J,onPageChange:de,onPerPageChange:De,onSearch:Yt,onSort:rs},{"column-account_code":le(({item:Ve})=>[a("div",jpe,[a("div",Npe,[a("span",Vpe,k(Ve.account_code.split("-")[0]),1)]),a("div",null,[a("p",Bpe,k(Ve.account_code),1),a("p",Upe," Level "+k(Ve.level),1)])])]),"column-account_name":le(({item:Ve})=>[a("div",null,[a("p",Hpe,k(Ve.account_name),1),Ve.parent?($(),S("p",qpe," Parent: "+k(Ve.parent.account_code)+" - "+k(Ve.parent.account_name),1)):G("",!0),Ve.deleted_at?($(),S("span",zpe," Deleted ")):G("",!0)])]),"column-account_type":le(({item:Ve})=>[a("span",{class:Ee(["inline-flex px-2.5 py-1 text-xs font-semibold rounded-full",re(Ve.account_type)])},k(Y(Ve.account_type)),3)]),"column-normal_balance":le(({item:Ve})=>[a("span",{class:Ee(["inline-flex px-2.5 py-1 text-xs font-semibold rounded-full",Ve.normal_balance==="debit"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},k(Ve.normal_balance.toUpperCase()),3)]),"column-current_balance":le(({item:Ve})=>[a("div",Wpe,[a("p",Kpe,k(we(Ve.current_balance||0)),1),Ve.balance_updated_at?($(),S("p",Ype,k(Ht(Ve.balance_updated_at)),1)):G("",!0)])]),"column-status":le(({item:Ve})=>[a("div",Gpe,[a("div",{class:Ee(["w-2 h-2 rounded-full mr-2",Ve.is_active?"bg-primary-500":"bg-gray-400"])},null,2),a("span",Jpe,k(Ve.is_active?"Active":"Inactive"),1)])]),actions:le(({item:Ve})=>[a("div",Qpe,[Ve.deleted_at?($(),S("button",{key:0,onClick:ts=>Ce(Ve),class:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors duration-200 dark:hover:text-green-400 dark:hover:bg-green-900/20",title:"Restore"},[...ce[37]||(ce[37]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,Xpe)):($(),S(Qe,{key:1},[a("button",{onClick:ts=>ge(Ve),class:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors duration-200 dark:hover:text-indigo-400 dark:hover:bg-indigo-900/20",title:"View Details"},[...ce[38]||(ce[38]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,Zpe),a("button",{onClick:ts=>ne(Ve),class:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors duration-200 dark:hover:text-purple-400 dark:hover:bg-purple-900/20",title:"Balance History"},[...ce[39]||(ce[39]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)])],8,eme),a("button",{onClick:ts=>ee(Ve),class:"p-1.5 text-gray-400 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors duration-200 dark:hover:text-yellow-400 dark:hover:bg-yellow-900/20",title:"Audit Trail"},[...ce[40]||(ce[40]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],8,tme),a("button",{onClick:ts=>ue(Ve),class:"p-1.5 text-gray-400 hover:text-cyan-600 hover:bg-cyan-50 rounded-lg transition-colors duration-200 dark:hover:text-cyan-400 dark:hover:bg-cyan-900/20",title:"Move Account"},[...ce[41]||(ce[41]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])],8,sme),a("button",{onClick:ts=>ae(Ve),class:"p-1.5 text-gray-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors duration-200 dark:hover:text-primary-400 dark:hover:bg-primary-900/20",title:"Edit"},[...ce[42]||(ce[42]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,ame),a("button",{onClick:ts=>he(Ve),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete"},[...ce[43]||(ce[43]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,rme)],64))])]),filters:le(()=>[a("div",ome,[a("div",null,[ce[45]||(ce[45]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Account Type ",-1)),rt(a("select",{"onUpdate:modelValue":ce[3]||(ce[3]=Ve=>H.value=Ve),class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...ce[44]||(ce[44]=[a("option",{value:""},"All Types",-1),a("option",{value:"asset"},"Asset",-1),a("option",{value:"liability"},"Liability",-1),a("option",{value:"equity"},"Equity",-1),a("option",{value:"revenue"},"Revenue",-1),a("option",{value:"expense"},"Expense",-1)])],512),[[$s,H.value]])]),a("div",null,[ce[47]||(ce[47]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Status ",-1)),rt(a("select",{"onUpdate:modelValue":ce[4]||(ce[4]=Ve=>R.value=Ve),class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...ce[46]||(ce[46]=[a("option",{value:""},"All Status",-1),a("option",{value:"1"},"Active",-1),a("option",{value:"0"},"Inactive",-1)])],512),[[$s,R.value]])]),a("div",null,[ce[49]||(ce[49]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Level ",-1)),rt(a("select",{"onUpdate:modelValue":ce[5]||(ce[5]=Ve=>M.value=Ve),class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...ce[48]||(ce[48]=[a("option",{value:""},"All Levels",-1),a("option",{value:"1"},"Level 1",-1),a("option",{value:"2"},"Level 2",-1),a("option",{value:"3"},"Level 3",-1),a("option",{value:"4"},"Level 4",-1),a("option",{value:"5"},"Level 5",-1)])],512),[[$s,M.value]])]),a("div",nme,[a("button",{onClick:D,disabled:B.value,class:"flex-1 px-3 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},k(B.value?"Applying...":"Apply Filters"),9,ime),a("button",{onClick:N,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 focus:ring-2 focus:ring-gray-500"}," Clear ")])])]),_:1},8,["data","loading","refresh-loading","pagination"])),L(Vt,{"is-open":l.value||u.value,onClose:Fe,size:"xl"},{title:le(()=>[ke(k(l.value?"Create Account":"Edit Account"),1)]),default:le(()=>[a("form",{onSubmit:Bt(Ge,["prevent"]),class:"space-y-6"},[a("div",lme,[a("div",dme,[a("div",null,[ce[51]||(ce[51]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},[ke(" Account Code "),a("span",{class:"text-red-500"},"*")],-1)),a("div",cme,[rt(a("input",{"onUpdate:modelValue":ce[6]||(ce[6]=Ve=>K.value.account_code=Ve),type:"text",placeholder:"e.g. 1-1010",required:"",class:"flex-1 text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono"},null,512),[[It,K.value.account_code]]),L(ft,{type:"button",onClick:Q,variant:"secondary",size:"sm",title:"Auto Generate Code"},{default:le(()=>[...ce[50]||(ce[50]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])]),_:1})])]),L(et,{modelValue:K.value.account_name,"onUpdate:modelValue":ce[7]||(ce[7]=Ve=>K.value.account_name=Ve),label:"Account Name",placeholder:"e.g. Cash in Bank",required:""},null,8,["modelValue"])]),a("div",ume,[a("div",null,[ce[53]||(ce[53]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},[ke(" Account Type "),a("span",{class:"text-red-500"},"*")],-1)),rt(a("select",{"onUpdate:modelValue":ce[8]||(ce[8]=Ve=>K.value.account_type=Ve),required:"",class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...ce[52]||(ce[52]=[a("option",{value:""},"Select Type",-1),a("option",{value:"asset"},"Asset",-1),a("option",{value:"liability"},"Liability",-1),a("option",{value:"equity"},"Equity",-1),a("option",{value:"revenue"},"Revenue",-1),a("option",{value:"expense"},"Expense",-1)])],512),[[$s,K.value.account_type]])]),a("div",null,[ce[55]||(ce[55]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},[ke(" Normal Balance "),a("span",{class:"text-red-500"},"*")],-1)),rt(a("select",{"onUpdate:modelValue":ce[9]||(ce[9]=Ve=>K.value.normal_balance=Ve),required:"",class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...ce[54]||(ce[54]=[a("option",{value:""},"Select Balance",-1),a("option",{value:"debit"},"Debit",-1),a("option",{value:"credit"},"Credit",-1)])],512),[[$s,K.value.normal_balance]])])]),a("div",hme,[a("div",null,[ce[57]||(ce[57]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"}," Parent Account ",-1)),rt(a("select",{"onUpdate:modelValue":ce[10]||(ce[10]=Ve=>K.value.parent_id=Ve),onChange:U,class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[ce[56]||(ce[56]=a("option",{value:null},"None (Top Level)",-1)),($(!0),S(Qe,null,ot(se.value,Ve=>($(),S("option",{key:Ve.id,value:Ve.id},k(Ve.account_code)+" - "+k(Ve.account_name),9,gme))),128))],544),[[$s,K.value.parent_id]])]),L(et,{modelValue:K.value.level,"onUpdate:modelValue":ce[11]||(ce[11]=Ve=>K.value.level=Ve),modelModifiers:{number:!0},type:"number",min:"1",max:"5",label:"Level",placeholder:"1-5",required:"",readonly:""},null,8,["modelValue"])]),L(et,{modelValue:K.value.opening_balance,"onUpdate:modelValue":ce[12]||(ce[12]=Ve=>K.value.opening_balance=Ve),modelModifiers:{number:!0},type:"number",step:"0.01",min:"0",label:"Opening Balance",placeholder:"0.00"},null,8,["modelValue"]),a("div",null,[ce[58]||(ce[58]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"}," Description ",-1)),rt(a("textarea",{"onUpdate:modelValue":ce[13]||(ce[13]=Ve=>K.value.description=Ve),rows:"3",placeholder:"Optional description",class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,512),[[It,K.value.description]])]),a("div",null,[ce[59]||(ce[59]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"}," Metadata (JSON) ",-1)),rt(a("textarea",{"onUpdate:modelValue":ce[14]||(ce[14]=Ve=>Z.value=Ve),rows:"4",placeholder:'{"key": "value"}',class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent font-mono"},null,512),[[It,Z.value]]),ce[60]||(ce[60]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Optional JSON metadata for additional account information ",-1))]),a("div",pme,[rt(a("input",{id:"is_active","onUpdate:modelValue":ce[15]||(ce[15]=Ve=>K.value.is_active=Ve),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded focus:ring-2"},null,512),[[Da,K.value.is_active]]),ce[61]||(ce[61]=a("label",{for:"is_active",class:"ml-3 block text-sm font-medium text-gray-700 dark:text-gray-200"}," Active ",-1))])]),a("div",mme,[L(ft,{onClick:Fe,variant:"secondary",disabled:d.value,class:"w-full sm:w-auto"},{default:le(()=>[...ce[62]||(ce[62]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:d.value,disabled:d.value,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(l.value?"Create Account":"Update Account"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]),L(Vt,{"is-open":m.value,onClose:Fe,size:"xl"},{title:le(()=>[...ce[63]||(ce[63]=[ke(" Account Details ",-1)])]),default:le(()=>[g.value?($(),S("div",fme,[a("div",yme,[ce[70]||(ce[70]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Basic Information ",-1)),a("dl",vme,[a("div",null,[ce[64]||(ce[64]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Account Code ",-1)),a("dd",xme,k(g.value.account_code),1)]),a("div",null,[ce[65]||(ce[65]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Account Name ",-1)),a("dd",bme,k(g.value.account_name),1)]),a("div",null,[ce[66]||(ce[66]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Account Type ",-1)),a("dd",kme,[a("span",{class:Ee(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",re(g.value.account_type)])},k(Y(g.value.account_type)),3)])]),a("div",null,[ce[67]||(ce[67]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Normal Balance ",-1)),a("dd",wme,[a("span",{class:Ee(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",g.value.normal_balance==="debit"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"])},k(g.value.normal_balance.toUpperCase()),3)])]),a("div",null,[ce[68]||(ce[68]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Level ",-1)),a("dd",_me," Level "+k(g.value.level),1)]),a("div",null,[ce[69]||(ce[69]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Status ",-1)),a("dd",$me,[a("span",{class:Ee(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",g.value.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"])},k(g.value.is_active?"Active":"Inactive"),3)])])])]),a("div",Cme,[ce[74]||(ce[74]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Balance Information ",-1)),a("dl",Sme,[a("div",null,[ce[71]||(ce[71]=a("dt",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"}," Opening Balance ",-1)),a("dd",Eme,k(we(g.value.opening_balance||0)),1)]),a("div",null,[ce[72]||(ce[72]=a("dt",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"}," Current Balance ",-1)),a("dd",Tme,k(we(g.value.current_balance||0)),1)]),g.value.balance_updated_at?($(),S("div",Ame,[ce[73]||(ce[73]=a("dt",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"}," Last Balance Update ",-1)),a("dd",Lme,k(je(g.value.balance_updated_at)),1)])):G("",!0)])]),g.value.parent?($(),S("div",Mme,[ce[76]||(ce[76]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Hierarchy ",-1)),a("div",null,[ce[75]||(ce[75]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"}," Parent Account ",-1)),a("dd",Pme,k(g.value.parent.account_code)+" - "+k(g.value.parent.account_name),1)])])):G("",!0),g.value.description?($(),S("div",Dme,[ce[77]||(ce[77]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Description ",-1)),a("p",Ime,k(g.value.description),1)])):G("",!0),g.value.metadata?($(),S("div",Ome,[ce[78]||(ce[78]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Metadata ",-1)),a("pre",Fme,k(JSON.stringify(g.value.metadata,null,2)),1)])):G("",!0),a("div",Rme,[ce[81]||(ce[81]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Audit Information ",-1)),a("dl",jme,[a("div",null,[ce[79]||(ce[79]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Created At ",-1)),a("dd",Nme,k(je(g.value.created_at)),1),g.value.created_by?($(),S("dd",Vme," by "+k(g.value.created_by),1)):G("",!0)]),a("div",null,[ce[80]||(ce[80]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Updated At ",-1)),a("dd",Bme,k(je(g.value.updated_at)),1),g.value.updated_by?($(),S("dd",Ume," by "+k(g.value.updated_by),1)):G("",!0)])])])])):G("",!0)]),_:1},8,["is-open"]),L(Vt,{"is-open":y.value,onClose:Fe,size:"xl"},{title:le(()=>{var Ve;return[ke(" Balance History: "+k((Ve=g.value)==null?void 0:Ve.account_name),1)]}),default:le(()=>[g.value?($(),S("div",Hme,[a("div",qme,[a("div",null,[ce[82]||(ce[82]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Account Code ",-1)),a("p",zme,k(g.value.account_code),1)]),L(ft,{onClick:pe,loading:p.value,size:"sm"},{default:le(()=>[...ce[83]||(ce[83]=[ke(" Calculate Balance ",-1)])]),_:1},8,["loading"])]),w.value?($(),S("div",Wme,[...ce[84]||(ce[84]=[a("svg",{class:"animate-spin h-8 w-8 mx-auto text-primary-600",fill:"none",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):j.value.length===0?($(),S("div",Kme,[...ce[85]||(ce[85]=[a("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),a("p",{class:"mt-4 text-gray-500 dark:text-gray-400"}," No balance history found ",-1)])])):($(),S("div",Yme,[($(!0),S(Qe,null,ot(j.value,Ve=>($(),S("div",{key:Ve.id,class:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg p-4"},[a("div",Gme,[a("div",Jme,[a("div",Qme,[a("span",Xme,k(Ht(Ve.period_start))+" - "+k(Ht(Ve.period_end)),1)]),a("div",Zme,[a("div",null,[ce[86]||(ce[86]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Balance ",-1)),a("p",efe,k(we(Ve.balance)),1)]),a("div",null,[ce[87]||(ce[87]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Debit Total ",-1)),a("p",tfe,k(we(Ve.debit_total)),1)]),a("div",null,[ce[88]||(ce[88]=a("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Credit Total ",-1)),a("p",sfe,k(we(Ve.credit_total)),1)])]),Ve.calculated_by?($(),S("p",afe," Calculated by "+k(Ve.calculated_by)+" on "+k(je(Ve.created_at)),1)):G("",!0)])])]))),128))]))])):G("",!0)]),_:1},8,["is-open"]),L(Vt,{"is-open":f.value,onClose:Fe,size:"xl"},{title:le(()=>{var Ve;return[ke(" Audit Trail: "+k((Ve=g.value)==null?void 0:Ve.account_name),1)]}),default:le(()=>[g.value?($(),S("div",rfe,[a("div",null,[ce[89]||(ce[89]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Account Code ",-1)),a("p",ofe,k(g.value.account_code),1)]),E.value?($(),S("div",nfe,[...ce[90]||(ce[90]=[a("svg",{class:"animate-spin h-8 w-8 mx-auto text-primary-600",fill:"none",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):V.value.length===0?($(),S("div",ife,[...ce[91]||(ce[91]=[a("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),a("p",{class:"mt-4 text-gray-500 dark:text-gray-400"}," No audit trail found ",-1)])])):($(),S("div",lfe,[($(!0),S(Qe,null,ot(V.value,Ve=>($(),S("div",{key:Ve.id,class:"bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg p-4"},[a("div",dfe,[a("div",{class:Ee(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",Ve.event_type==="created"?"bg-green-100 dark:bg-green-900":Ve.event_type==="updated"?"bg-blue-100 dark:bg-blue-900":Ve.event_type==="deleted"?"bg-red-100 dark:bg-red-900":"bg-gray-100 dark:bg-gray-900"])},[Ve.event_type==="created"?($(),S("svg",cfe,[...ce[92]||(ce[92]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"},null,-1)])])):Ve.event_type==="updated"?($(),S("svg",ufe,[...ce[93]||(ce[93]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},null,-1)])])):Ve.event_type==="deleted"?($(),S("svg",hfe,[...ce[94]||(ce[94]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])])):($(),S("svg",gfe,[...ce[95]||(ce[95]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])]))],2),a("div",pfe,[a("div",mfe,[a("span",{class:Ee(["inline-flex px-2 py-0.5 text-xs font-semibold rounded-full uppercase",Ve.event_type==="created"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":Ve.event_type==="updated"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":Ve.event_type==="deleted"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"])},k(Ve.event_type),3),a("span",ffe,k(je(Ve.created_at)),1)]),Ve.user_name?($(),S("p",yfe," by "+k(Ve.user_name),1)):G("",!0),Ve.old_values||Ve.new_values?($(),S("div",vfe,[a("details",xfe,[ce[98]||(ce[98]=a("summary",{class:"cursor-pointer text-gray-600 dark:text-gray-400 font-medium"}," View Changes ",-1)),a("div",bfe,[Ve.old_values?($(),S("div",kfe,[ce[96]||(ce[96]=a("p",{class:"font-medium text-red-600 dark:text-red-400 mb-1"}," Old Values: ",-1)),a("pre",wfe,k(JSON.stringify(Ve.old_values,null,2)),1)])):G("",!0),Ve.new_values?($(),S("div",_fe,[ce[97]||(ce[97]=a("p",{class:"font-medium text-green-600 dark:text-green-400 mb-1"}," New Values: ",-1)),a("pre",$fe,k(JSON.stringify(Ve.new_values,null,2)),1)])):G("",!0)])])])):G("",!0)])])]))),128))]))])):G("",!0)]),_:1},8,["is-open"]),L(Vt,{"is-open":x.value,onClose:Fe},{title:le(()=>[...ce[99]||(ce[99]=[ke(" Move Account ",-1)])]),default:le(()=>[g.value?($(),S("div",Cfe,[a("div",Sfe,[ce[100]||(ce[100]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Moving Account: ",-1)),a("p",Efe,k(g.value.account_code)+" - "+k(g.value.account_name),1)]),a("div",null,[ce[102]||(ce[102]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"}," New Parent Account ",-1)),rt(a("select",{"onUpdate:modelValue":ce[16]||(ce[16]=Ve=>W.value=Ve),class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[ce[101]||(ce[101]=a("option",{value:null},"None (Top Level)",-1)),($(!0),S(Qe,null,ot(Ae.value,Ve=>($(),S("option",{key:Ve.id,value:Ve.id},k(Ve.account_code)+" - "+k(Ve.account_name)+" (Level "+k(Ve.level)+") ",9,Tfe))),128))],512),[[$s,W.value]])]),a("div",Afe,[L(ft,{onClick:Fe,variant:"secondary",disabled:v.value,class:"w-full sm:w-auto"},{default:le(()=>[...ce[103]||(ce[103]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{onClick:nt,loading:v.value,disabled:v.value,class:"w-full sm:w-auto"},{default:le(()=>[...ce[104]||(ce[104]=[ke(" Move Account ",-1)])]),_:1},8,["loading","disabled"])])])):G("",!0)]),_:1},8,["is-open"]),L(us,{"is-open":F(s).isOpen,title:F(s).config.title,message:F(s).config.message,description:F(s).config.description,"confirm-text":F(s).config.confirmText,"cancel-text":F(s).config.cancelText,loading:F(s).loading,onConfirm:F(s).handleConfirm,onCancel:F(s).handleCancel,onClose:F(s).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}},Mfe={class:"space-y-6"},Pfe={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Dfe={class:"flex gap-2"},Ife={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Ofe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Ffe={class:"flex items-center"},Rfe={class:"ml-4"},jfe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Nfe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Vfe={class:"flex items-center"},Bfe={class:"ml-4"},Ufe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Hfe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},qfe={class:"flex items-center"},zfe={class:"ml-4"},Wfe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Kfe={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6"},Yfe={class:"flex items-center"},Gfe={class:"ml-4"},Jfe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Qfe={class:"flex items-center"},Xfe={class:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center mr-3"},Zfe={class:"text-white font-bold text-xs"},eye={class:"text-sm font-mono font-medium text-gray-900 dark:text-white"},tye={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},sye={class:"text-sm font-medium text-gray-900 dark:text-white"},aye={class:"text-xs text-gray-500 dark:text-gray-400"},rye={class:"text-sm font-medium text-gray-900 dark:text-white"},oye={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},nye={class:"text-right"},iye={class:"text-sm font-medium text-gray-900 dark:text-white"},lye={class:"text-xs text-gray-500 dark:text-gray-400"},dye={class:"flex items-center justify-end gap-2"},cye=["onClick"],uye=["onClick"],hye=["onClick"],gye=["onClick"],pye=["onClick"],mye={class:"p-3 space-y-4"},fye={class:"grid grid-cols-2 gap-2"},yye={class:"flex space-x-2"},vye=["disabled"],xye={key:0,class:"space-y-6"},bye={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6"},kye={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-4"},wye={class:"mt-1 text-sm font-mono font-medium text-gray-900 dark:text-white"},_ye={class:"mt-1 text-sm text-gray-900 dark:text-white"},$ye={class:"mt-1 text-sm text-gray-900 dark:text-white"},Cye={class:"mt-1"},Sye={class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},Eye={class:"mt-1"},Tye={class:"mt-1 text-sm text-gray-900 dark:text-white"},Aye={class:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6"},Lye={class:"overflow-x-auto"},Mye={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Pye={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Dye={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},Iye={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},Oye={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},Fye={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},Rye={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},jye={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},Nye={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 dark:text-white"},Vye={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6"},Bye={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-4"},Uye={class:"mt-1 text-sm text-gray-900 dark:text-white"},Hye={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},qye={class:"mt-1 text-sm text-gray-900 dark:text-white"},zye={key:0},Wye={class:"mt-1 text-sm text-gray-900 dark:text-white"},Kye={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Yye={class:"border-b-4 border-primary-600 dark:border-primary-500 pb-6 mb-6 bg-gradient-to-r from-primary-50 to-blue-50 dark:from-gray-800 dark:to-gray-700 p-6 rounded-lg"},Gye={class:"flex items-start justify-between"},Jye={class:"text-left"},Qye={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},Xye={class:"space-y-5",style:{overflow:"visible"}},Zye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},eve={style:{overflow:"visible"}},tve={class:"flex items-center justify-between mb-4"},sve={class:"w-full",style:{overflow:"visible"}},ave={class:"w-full divide-y divide-gray-200 dark:divide-gray-700"},rve={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},ove={class:"px-4 py-2"},nve={class:"px-4 py-2"},ive=["onUpdate:modelValue"],lve={class:"px-4 py-2"},dve={class:"px-4 py-2"},cve=["onUpdate:modelValue"],uve={class:"px-4 py-2 text-center"},hve=["onClick"],gve={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},pve={class:"px-4 py-2 text-sm text-right"},mve={class:"space-y-1"},fve={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},yve={class:"mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 space-y-3 space-y-reverse sm:space-y-0"},vve={__name:"JournalEntries",setup(e){const t=Ut(),s=Va(),r=O(!1),o=O(!1),n=O(!1),i=O([]),l=O([]),u=O(!1),m=O(!1),y=O(!1),f=O(null),x=O(!1),c=O({current_page:1,per_page:10,total:0,last_page:1}),h=O(""),g=O(""),d=O("asc"),p=O(null),v=O(null),b=O(""),w=O(""),E=O(!1),C=O({entry_date:new Date().toISOString().split("T")[0],reference_number:"",description:"",entry_type:null,details:[{account_id:null,transaction_type:null,amount:"",description:""},{account_id:null,transaction_type:null,amount:"",description:""}]}),T=fe(()=>c.value.total||i.value.length),P=fe(()=>i.value.filter(pe=>pe.status==="draft").length),A=fe(()=>i.value.filter(pe=>pe.status==="posted").length),j=fe(()=>i.value.filter(pe=>pe.status==="cancelled").length),V=fe(()=>{const pe=He(C.value.details,"debit"),ie=He(C.value.details,"credit");return pe===0&&ie===0?null:pe!==ie?`Total debit (${D(pe)}) must equal total credit (${D(ie)})`:null}),H=fe(()=>[{value:"draft",label:"Draft"},{value:"posted",label:"Posted"},{value:"cancelled",label:"Cancelled"}]),R=fe(()=>[{value:"general",label:"General"},{value:"adjustment",label:"Adjustment"},{value:"closing",label:"Closing"},{value:"opening",label:"Opening"}]),M=fe(()=>[{value:"general",label:"General"},{value:"adjustment",label:"Adjustment"},{value:"closing",label:"Closing"},{value:"opening",label:"Opening"}]),B=fe(()=>[{value:"debit",label:"Debit"},{value:"credit",label:"Credit"}]),W=fe(()=>l.value.map(pe=>({value:pe.id,label:`${pe.account_code} - ${pe.account_name}`}))),K=[{key:"entry_number",label:"Entry Number",sortable:!0},{key:"entry_date",label:"Date",sortable:!0},{key:"description",label:"Description",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"total_amount",label:"Total Amount",sortable:!0}],Z=async()=>{try{r.value=!0;const pe={page:c.value.current_page,per_page:c.value.per_page};h.value&&(pe.search=h.value),g.value&&(pe.sort_by=g.value,pe.sort_direction=d.value),p.value&&(pe.status=p.value),v.value&&(pe.entry_type=v.value),b.value&&(pe.start_date=b.value),w.value&&(pe.end_date=w.value);const ie=await Tt("journal-entries",pe);ie&&ie.data&&(ie.data.data?(i.value=ie.data.data,c.value={current_page:ie.data.current_page||1,per_page:ie.data.per_page||10,total:ie.data.total||0,last_page:ie.data.last_page||1}):i.value=ie.data||[])}catch{t.error("Failed to fetch journal entries")}finally{r.value=!1}},Te=async()=>{var pe;try{n.value=!0;const ie=await Tt("chart-of-accounts",{is_active:1});if(console.log("Fetch Accounts Response:",ie),ie){const Oe=((pe=ie.data)==null?void 0:pe.data)||ie.data||[];l.value=Oe,console.log("Available Accounts after fetch:",l.value),console.log("Account Options:",W.value)}}catch(ie){console.error("Error fetching accounts:",ie),t.error("Failed to fetch accounts")}finally{n.value=!1}},_e=()=>{C.value={entry_date:new Date().toISOString().split("T")[0],reference_number:"",description:"",entry_type:null,details:[{account_id:null,transaction_type:null,amount:0,description:""},{account_id:null,transaction_type:null,amount:0,description:""}]},l.value.length===0&&Te(),u.value=!0},ye=async pe=>{try{l.value.length===0&&Te();const ie=await Tt(`journal-entries/${pe.id}`);if(ie&&ie.data){f.value=ie.data;let Oe=ie.data.entry_date;Oe&&Oe.includes("T")&&(Oe=Oe.split("T")[0]),C.value={entry_date:Oe,reference_number:ie.data.reference_number||"",description:ie.data.description,entry_type:ie.data.entry_type,details:ie.data.details.map(nt=>({account_id:nt.account_id,transaction_type:nt.transaction_type,amount:nt.amount,description:nt.description||""}))},m.value=!0}}catch{t.error("Failed to fetch entry details")}},z=async pe=>{try{const ie=await Tt(`journal-entries/${pe.id}`);ie&&ie.data&&(f.value=ie.data,y.value=!0)}catch{t.error("Failed to fetch entry details")}},q=pe=>{s.showModal({title:"Delete Journal Entry",message:`Are you sure you want to delete entry "${pe.entry_number}"?`,description:"This action cannot be undone.",confirmText:"Delete Entry",cancelText:"Cancel",onConfirm:async()=>{const ie=await Os(`journal-entries/${pe.id}`);if(ie.success||ie.message)return t.success("Journal entry deleted successfully"),Z(),ie;throw new Error(ie.message||"Failed to delete journal entry")},onError:ie=>{t.error(ie.message||"Failed to delete journal entry")}})},X=pe=>{s.showModal({title:"Post Journal Entry",message:`Are you sure you want to post entry "${pe.entry_number}"?`,description:"This will finalize the entry and update account balances.",confirmText:"Post Entry",cancelText:"Cancel",onConfirm:async()=>{const ie=await Xt(`journal-entries/${pe.id}/post`);if(ie.success||ie.message)return t.success("Journal entry posted successfully"),Z(),ie;throw new Error(ie.message||"Failed to post journal entry")},onError:ie=>{t.error(ie.message||"Failed to post journal entry")}})},se=pe=>{s.showModal({title:"Cancel Journal Entry",message:`Are you sure you want to cancel entry "${pe.entry_number}"?`,description:"This will mark the entry as cancelled and reverse its effects.",confirmText:"Cancel Entry",cancelText:"Cancel",onConfirm:async()=>{const ie=await Xt(`journal-entries/${pe.id}/cancel`);if(ie.success||ie.message)return t.success("Journal entry cancelled successfully"),Z(),ie;throw new Error(ie.message||"Failed to cancel journal entry")},onError:ie=>{t.error(ie.message||"Failed to cancel journal entry")}})},Ae=async()=>{o.value=!0;try{await Z(),t.success("Journal entries refreshed successfully")}catch{t.error("Failed to refresh journal entries")}finally{o.value=!1}},me=pe=>{h.value=pe,c.value.current_page=1,Z()},Le=(pe,ie)=>{c.value.current_page=pe,c.value.per_page=ie,Z()},Re=(pe,ie)=>{g.value=pe,d.value=ie,Z()},Ze=async()=>{try{t.info("Exporting journal entries...");const pe={};h.value&&(pe.search=h.value),g.value&&(pe.sort_by=g.value,pe.sort_direction=d.value),p.value&&(pe.status=p.value),v.value&&(pe.entry_type=v.value),b.value&&(pe.start_date=b.value),w.value&&(pe.end_date=w.value),pe.export="excel";const ie=new URLSearchParams(pe).toString();window.open(`/api/journal-entries/export?${ie}`,"_blank"),t.success("Export started successfully")}catch{t.error("Failed to export journal entries")}},We=async()=>{E.value=!0;try{await Z(),t.success("Filters applied successfully")}catch{t.error("Failed to apply filters")}finally{E.value=!1}},ae=()=>{p.value=null,v.value=null,b.value="",w.value="",Z()},ge=()=>{C.value.details.push({account_id:null,transaction_type:null,amount:"",description:""})},ne=pe=>{C.value.details.length>2?C.value.details.splice(pe,1):t.error("Journal entry must have at least 2 detail lines")},ee=async()=>{if(V.value){t.error("Please fix the balance error before saving");return}x.value=!0;try{const pe=u.value?"journal-entries":`journal-entries/${f.value.id}`,ie=u.value?await Xt(pe,C.value):await Na(pe,C.value);(ie.success||ie.data||ie.message)&&(t.success(`Journal entry ${u.value?"created":"updated"} successfully`),ue(),Z())}catch(pe){t.error(pe.message||"Failed to save journal entry")}finally{x.value=!1}},ue=()=>{u.value=!1,m.value=!1,y.value=!1,f.value=null,C.value={entry_date:new Date().toISOString().split("T")[0],reference_number:"",description:"",entry_type:null,details:[{account_id:null,transaction_type:null,amount:0,description:""},{account_id:null,transaction_type:null,amount:0,description:""}]}},he=pe=>({draft:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",posted:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"})[pe]||"bg-gray-100 text-gray-800",Ce=pe=>pe.charAt(0).toUpperCase()+pe.slice(1),J=pe=>pe.charAt(0).toUpperCase()+pe.slice(1),D=pe=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(pe),N=pe=>pe?new Date(pe).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):null,U=pe=>pe?new Date(pe).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):null,Q=pe=>pe?new Date(pe).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):null,Ge=pe=>pe?pe.reduce((ie,Oe)=>ie+parseFloat(Oe.amount||0),0):0,He=(pe,ie)=>pe?pe.filter(Oe=>Oe.transaction_type===ie).reduce((Oe,nt)=>Oe+parseFloat(nt.amount||0),0):0;return Et(()=>l.value,pe=>{console.log("Available Accounts:",pe),console.log("Account Options:",W.value)},{deep:!0}),Ot(()=>{Z(),Te()}),(pe,ie)=>($(),S("div",Mfe,[a("div",Pfe,[ie[9]||(ie[9]=a("div",null,[a("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Journal Entries "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Manage your company's journal entries and financial transactions ")],-1)),a("div",Dfe,[L(ft,{onClick:_e,variant:"primary",size:"sm"},{default:le(()=>[...ie[8]||(ie[8]=[a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ke(" New Entry ",-1)])]),_:1})])]),a("div",Ife,[a("div",Ofe,[a("div",Ffe,[ie[11]||(ie[11]=a("div",{class:"p-2 bg-primary-50 dark:bg-primary-900/20 rounded-lg"},[a("svg",{class:"w-6 h-6 text-primary-600 dark:text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),a("div",Rfe,[ie[10]||(ie[10]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Total Entries ",-1)),a("p",jfe,k(T.value),1)])])]),a("div",Nfe,[a("div",Vfe,[ie[13]||(ie[13]=a("div",{class:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg"},[a("svg",{class:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a("div",Bfe,[ie[12]||(ie[12]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Draft ",-1)),a("p",Ufe,k(P.value),1)])])]),a("div",Hfe,[a("div",qfe,[ie[15]||(ie[15]=a("div",{class:"p-2 bg-green-50 dark:bg-green-900/20 rounded-lg"},[a("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a("div",zfe,[ie[14]||(ie[14]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Posted ",-1)),a("p",Wfe,k(A.value),1)])])]),a("div",Kfe,[a("div",Yfe,[ie[17]||(ie[17]=a("div",{class:"p-2 bg-red-50 dark:bg-red-900/20 rounded-lg"},[a("svg",{class:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a("div",Gfe,[ie[16]||(ie[16]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Cancelled ",-1)),a("p",Jfe,k(j.value),1)])])])]),L(Us,{title:"Journal Entries",description:"Manage your company's journal entries including drafts, posted, and cancelled entries.",data:i.value,columns:K,loading:r.value,selectable:!1,"show-actions":!0,"show-add-button":!1,"add-button-text":"New Entry","show-filters":!0,"show-export":!0,"show-bulk-actions":!1,"show-refresh":!0,"refresh-loading":o.value,"search-placeholder":"Search by entry number or description...","empty-title":"No entries found","empty-description":"Get started by creating your first journal entry.","server-side-pagination":!0,pagination:c.value,onAdd:_e,onEdit:ye,onDelete:q,onRefresh:Ae,onSearch:me,onPageChange:Le,onSort:Re,onExport:Ze},{"column-entry_number":le(({item:Oe})=>[a("div",Qfe,[a("div",Xfe,[a("span",Zfe,k(Oe.entry_number.split("-")[0]),1)]),a("div",null,[a("p",eye,k(Oe.entry_number),1),Oe.reference_number?($(),S("p",tye," Ref: "+k(Oe.reference_number),1)):G("",!0)])])]),"column-entry_date":le(({item:Oe})=>[a("div",null,[a("p",sye,k(N(Oe.entry_date)),1),a("p",aye,k(U(Oe.entry_date)),1)])]),"column-description":le(({item:Oe})=>[a("div",null,[a("p",rye,k(Oe.description),1),a("p",oye,k(J(Oe.entry_type)),1)])]),"column-status":le(({item:Oe})=>[a("span",{class:Ee(["inline-flex px-2.5 py-1 text-xs font-semibold rounded-full",he(Oe.status)])},k(Ce(Oe.status)),3)]),"column-total_amount":le(({item:Oe})=>{var nt;return[a("div",nye,[a("p",iye,k(D(Ge(Oe.details))),1),a("p",lye,k(((nt=Oe.details)==null?void 0:nt.length)||0)+" lines ",1)])]}),actions:le(({item:Oe})=>[a("div",dye,[a("button",{onClick:nt=>z(Oe),class:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors duration-200 dark:hover:text-indigo-400 dark:hover:bg-indigo-900/20",title:"View Details"},[...ie[18]||(ie[18]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,cye),Oe.status==="draft"?($(),S("button",{key:0,onClick:nt=>ye(Oe),class:"p-1.5 text-gray-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors duration-200 dark:hover:text-primary-400 dark:hover:bg-primary-900/20",title:"Edit"},[...ie[19]||(ie[19]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,uye)):G("",!0),Oe.status==="draft"?($(),S("button",{key:1,onClick:nt=>X(Oe),class:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors duration-200 dark:hover:text-green-400 dark:hover:bg-green-900/20",title:"Post Entry"},[...ie[20]||(ie[20]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,hye)):G("",!0),Oe.status==="posted"?($(),S("button",{key:2,onClick:nt=>se(Oe),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Cancel Entry"},[...ie[21]||(ie[21]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,gye)):G("",!0),Oe.status==="draft"?($(),S("button",{key:3,onClick:nt=>q(Oe),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:"Delete"},[...ie[22]||(ie[22]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,pye)):G("",!0)])]),filters:le(()=>[a("div",mye,[a("div",null,[L(dr,{modelValue:p.value,"onUpdate:modelValue":ie[0]||(ie[0]=Oe=>p.value=Oe),label:"Status",placeholder:"All Status",options:H.value,searchable:!1},null,8,["modelValue","options"])]),a("div",null,[L(dr,{modelValue:v.value,"onUpdate:modelValue":ie[1]||(ie[1]=Oe=>v.value=Oe),label:"Entry Type",placeholder:"All Types",options:R.value,searchable:!1},null,8,["modelValue","options"])]),a("div",fye,[a("div",null,[ie[23]||(ie[23]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Start Date ",-1)),rt(a("input",{"onUpdate:modelValue":ie[2]||(ie[2]=Oe=>b.value=Oe),type:"date",class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,512),[[It,b.value]])]),a("div",null,[ie[24]||(ie[24]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," End Date ",-1)),rt(a("input",{"onUpdate:modelValue":ie[3]||(ie[3]=Oe=>w.value=Oe),type:"date",class:"w-full text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,512),[[It,w.value]])])]),a("div",yye,[a("button",{onClick:We,disabled:E.value,class:"flex-1 px-3 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},k(E.value?"Applying...":"Apply Filters"),9,vye),a("button",{onClick:ae,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 focus:ring-2 focus:ring-gray-500"}," Clear ")])])]),_:1},8,["data","loading","refresh-loading","pagination"]),L(Vt,{"is-open":y.value,onClose:ue,size:"6xl"},{title:le(()=>[...ie[25]||(ie[25]=[ke(" Journal Entry Details ",-1)])]),default:le(()=>[f.value?($(),S("div",xye,[a("div",bye,[ie[32]||(ie[32]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Basic Information ",-1)),a("dl",kye,[a("div",null,[ie[26]||(ie[26]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Entry Number ",-1)),a("dd",wye,k(f.value.entry_number),1)]),a("div",null,[ie[27]||(ie[27]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Reference Number ",-1)),a("dd",_ye,k(f.value.reference_number||"-"),1)]),a("div",null,[ie[28]||(ie[28]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Entry Date ",-1)),a("dd",$ye,k(Q(f.value.entry_date)),1)]),a("div",null,[ie[29]||(ie[29]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Entry Type ",-1)),a("dd",Cye,[a("span",Sye,k(J(f.value.entry_type)),1)])]),a("div",null,[ie[30]||(ie[30]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Status ",-1)),a("dd",Eye,[a("span",{class:Ee(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",he(f.value.status)])},k(Ce(f.value.status)),3)])]),a("div",null,[ie[31]||(ie[31]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Description ",-1)),a("dd",Tye,k(f.value.description),1)])])]),a("div",Aye,[ie[35]||(ie[35]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Entry Details ",-1)),a("div",Lye,[a("table",Mye,[ie[34]||(ie[34]=a("thead",{class:"bg-gray-50 dark:bg-gray-700"},[a("tr",null,[a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Account "),a("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Description "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Debit "),a("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Credit ")])],-1)),a("tbody",Pye,[($(!0),S(Qe,null,ot(f.value.details,Oe=>{var nt,Fe;return $(),S("tr",{key:Oe.id},[a("td",Dye,k((nt=Oe.account)==null?void 0:nt.account_code)+" - "+k((Fe=Oe.account)==null?void 0:Fe.account_name),1),a("td",Iye,k(Oe.description||"-"),1),a("td",Oye,k(Oe.transaction_type==="debit"?D(Oe.amount):"-"),1),a("td",Fye,k(Oe.transaction_type==="credit"?D(Oe.amount):"-"),1)])}),128)),a("tr",Rye,[ie[33]||(ie[33]=a("td",{colspan:"2",class:"px-6 py-4 text-sm text-gray-900 dark:text-white"}," Total ",-1)),a("td",jye,k(D(He(f.value.details,"debit"))),1),a("td",Nye,k(D(He(f.value.details,"credit"))),1)])])])])]),a("div",Vye,[ie[39]||(ie[39]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"}," Audit Information ",-1)),a("dl",Bye,[a("div",null,[ie[36]||(ie[36]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Created At ",-1)),a("dd",Uye,k(Q(f.value.created_at)),1),f.value.creator?($(),S("dd",Hye," by "+k(f.value.creator.name),1)):G("",!0)]),a("div",null,[ie[37]||(ie[37]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Updated At ",-1)),a("dd",qye,k(Q(f.value.updated_at)),1)]),f.value.posted_at?($(),S("div",zye,[ie[38]||(ie[38]=a("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"}," Posted At ",-1)),a("dd",Wye,k(Q(f.value.posted_at)),1),f.value.poster?($(),S("dd",Kye," by "+k(f.value.poster.name),1)):G("",!0)])):G("",!0)])])])):G("",!0)]),_:1},8,["is-open"]),L(Vt,{"is-open":u.value||m.value,onClose:ue,size:"6xl"},{title:le(()=>[ke(k(u.value?"Create Journal Entry":"Edit Journal Entry"),1)]),default:le(()=>[a("form",{onSubmit:Bt(ee,["prevent"]),class:"space-y-6",style:{overflow:"visible"}},[a("div",Yye,[a("div",Gye,[a("div",Jye,[ie[40]||(ie[40]=a("h3",{class:"text-2xl font-bold text-primary-600 dark:text-primary-400"}," JOURNAL ENTRY ",-1)),a("p",Qye,k(new Date().toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})),1)])])]),a("div",Xye,[a("div",Zye,[L(et,{modelValue:C.value.entry_date,"onUpdate:modelValue":ie[4]||(ie[4]=Oe=>C.value.entry_date=Oe),type:"date",label:"Entry Date",required:""},null,8,["modelValue"]),L(et,{modelValue:C.value.reference_number,"onUpdate:modelValue":ie[5]||(ie[5]=Oe=>C.value.reference_number=Oe),label:"Reference Number",placeholder:"Optional reference number"},null,8,["modelValue"])]),L(dr,{modelValue:C.value.entry_type,"onUpdate:modelValue":ie[6]||(ie[6]=Oe=>C.value.entry_type=Oe),label:"Entry Type",placeholder:"Select Type",options:M.value,searchable:!1,required:""},null,8,["modelValue","options"]),L(et,{modelValue:C.value.description,"onUpdate:modelValue":ie[7]||(ie[7]=Oe=>C.value.description=Oe),label:"Description",placeholder:"Entry description",required:""},null,8,["modelValue"]),a("div",eve,[a("div",tve,[ie[42]||(ie[42]=a("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-200"},[ke(" Entry Details "),a("span",{class:"text-red-500"},"*")],-1)),L(ft,{type:"button",onClick:ge,variant:"secondary",size:"sm"},{default:le(()=>[...ie[41]||(ie[41]=[a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ke(" Add Line ",-1)])]),_:1})]),a("div",sve,[a("table",ave,[ie[46]||(ie[46]=a("thead",{class:"bg-gray-50 dark:bg-gray-700"},[a("tr",null,[a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Account "),a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Description "),a("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Type "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Amount "),a("th",{class:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Action ")])],-1)),a("tbody",rve,[($(!0),S(Qe,null,ot(C.value.details,(Oe,nt)=>($(),S("tr",{key:nt},[a("td",ove,[L(dr,{modelValue:Oe.account_id,"onUpdate:modelValue":Fe=>Oe.account_id=Fe,placeholder:n.value?"Loading accounts...":"Select Account",options:W.value,disabled:n.value,searchable:!0,size:"sm"},null,8,["modelValue","onUpdate:modelValue","placeholder","options","disabled"])]),a("td",nve,[rt(a("input",{"onUpdate:modelValue":Fe=>Oe.description=Fe,type:"text",placeholder:"Optional description",class:"w-full text-sm border border-gray-300 rounded px-2 py-1 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,8,ive),[[It,Oe.description]])]),a("td",lve,[L(dr,{modelValue:Oe.transaction_type,"onUpdate:modelValue":Fe=>Oe.transaction_type=Fe,placeholder:"Select",options:B.value,searchable:!1,size:"sm"},null,8,["modelValue","onUpdate:modelValue","options"])]),a("td",dve,[rt(a("input",{"onUpdate:modelValue":Fe=>Oe.amount=Fe,type:"number",step:"0.01",min:"0.01",placeholder:"0.00",required:"",class:"w-full text-sm border border-gray-300 rounded px-2 py-1 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent text-right"},null,8,cve),[[It,Oe.amount,void 0,{number:!0}]])]),a("td",uve,[a("button",{type:"button",onClick:Fe=>ne(nt),class:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300"},[...ie[43]||(ie[43]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,hve)])]))),128))]),a("tfoot",gve,[a("tr",null,[ie[44]||(ie[44]=a("td",{colspan:"3",class:"px-4 py-2 text-sm text-gray-900 dark:text-white"}," Total ",-1)),a("td",pve,[a("div",mve,[a("div",null," Debit: "+k(D(He(C.value.details,"debit"))),1),a("div",null," Credit: "+k(D(He(C.value.details,"credit"))),1)])]),ie[45]||(ie[45]=a("td",null,null,-1))])])])]),V.value?($(),S("div",fve,k(V.value),1)):G("",!0)])]),a("div",yve,[L(ft,{onClick:ue,variant:"secondary",disabled:x.value,class:"w-full sm:w-auto"},{default:le(()=>[...ie[47]||(ie[47]=[ke(" Cancel ",-1)])]),_:1},8,["disabled"]),L(ft,{type:"submit",loading:x.value,disabled:x.value||V.value,class:"w-full sm:w-auto"},{default:le(()=>[ke(k(u.value?"Create Entry":"Update Entry"),1)]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["is-open"]),L(us,{"is-open":F(s).isOpen,title:F(s).config.title,message:F(s).config.message,description:F(s).config.description,"confirm-text":F(s).config.confirmText,"cancel-text":F(s).config.cancelText,loading:F(s).loading,onConfirm:F(s).handleConfirm,onCancel:F(s).handleCancel,onClose:F(s).handleClose},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading","onConfirm","onCancel","onClose"])]))}};function ah(){const e=Ut(),t=O([]),s=O(null),r=O(!1),o=O(!1),n=O(!1),i=O({current_page:1,per_page:15,total:0,last_page:1}),l=O({search:"",status:"",location_id:"",customer_id:"",product_id:"",start_date:"",end_date:"",sort_by:"transaction_date",sort_order:"desc"}),u=async(B=1)=>{var W,K;if(!r.value){r.value=!0;try{const Z={page:B,per_page:i.value.per_page,...l.value},Te=await Xe.get("/sales",{params:Z});return Te.data?(t.value=Te.data||[],i.value={current_page:Te.current_page||1,per_page:Te.per_page||15,total:Te.total||0,last_page:Te.last_page||1}):(t.value=[],i.value={current_page:1,per_page:15,total:0,last_page:1}),Te}catch(Z){console.error("Error fetching sales:",Z),e.error("Failed to fetch sales data",((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"An error occurred while loading sales"),t.value=[],i.value={current_page:1,per_page:15,total:0,last_page:1}}finally{r.value=!1}}};return{sales:t,sale:s,loading:r,saving:o,deleting:n,pagination:i,filters:l,fetchSales:u,fetchSale:async B=>{var W,K;r.value=!0;try{const Z=await Xe.get(`/sales/${B}`);return s.value=Z,Z}catch(Z){throw console.error("Error fetching sale:",Z),e.error("Failed to fetch sale",((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"An error occurred"),Z}finally{r.value=!1}},createSale:async B=>{var W,K;o.value=!0;try{const Z=await Xe.post("/sales",B);return e.success("Sale created successfully"),Z.data}catch(Z){throw console.error("Error creating sale:",Z),e.error("Failed to create sale",((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"An error occurred"),Z}finally{o.value=!1}},updateSale:async(B,W)=>{var K,Z;o.value=!0;try{const Te=await Xe.put(`/sales/${B}`,W);return e.success("Sale updated successfully"),Te.data}catch(Te){throw console.error("Error updating sale:",Te),e.error("Failed to update sale",((Z=(K=Te.response)==null?void 0:K.data)==null?void 0:Z.message)||"An error occurred"),Te}finally{o.value=!1}},deleteSale:async B=>{var W,K;n.value=!0;try{const Z=await Xe.delete(`/sales/${B}`);return e.success("Sale deleted successfully"),Z.data}catch(Z){throw console.error("Error deleting sale:",Z),e.error("Failed to delete sale",((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"An error occurred"),Z}finally{n.value=!1}},postSale:async B=>{var W,K;o.value=!0;try{const Z=await Xe.post(`/sales/${B}/post`);return e.success("Sale posted successfully"),Z.data}catch(Z){throw console.error("Error posting sale:",Z),e.error("Failed to post sale",((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"An error occurred"),Z}finally{o.value=!1}},cancelSale:async B=>{var W,K;o.value=!0;try{const Z=await Xe.post(`/sales/${B}/cancel`);return e.success("Sale cancelled successfully"),Z.data}catch(Z){throw console.error("Error cancelling sale:",Z),e.error("Failed to cancel sale",((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"An error occurred"),Z}finally{o.value=!1}},fetchSaleStatistics:async()=>{try{const B={};l.value.start_date&&(B.start_date=l.value.start_date),l.value.end_date&&(B.end_date=l.value.end_date);const W=await Xe.get("/sales/statistics",{params:B});return W.data||W}catch(B){return console.error("Error fetching statistics:",B),{total_transactions:0,draft_count:0,posted_count:0,cancelled_count:0,total_items:0,total_revenue:0,total_customers:0}}},fetchOptions:async(B=null)=>{try{const W={};B&&(W.location_id=B);const K=await Xe.get("/sales/options",{params:W}),Z=K.data||K;return{products:Z.products||[],locations:Z.locations||[],customers:Z.customers||[]}}catch(W){return console.error("Error fetching options:",W),{products:[],locations:[],customers:[]}}},bulkPostSales:async B=>{var W,K;o.value=!0;try{const Z=await Xe.post("/sales/bulk-post",{ids:B});return e.success(`${Z.data.posted} sale(s) posted successfully`),Z.data}catch(Z){throw console.error("Error bulk posting sales:",Z),e.error("Failed to bulk post sales",((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"An error occurred"),Z}finally{o.value=!1}},bulkDeleteSales:async B=>{var W,K;n.value=!0;try{const Z=await Xe.post("/sales/bulk-delete",{ids:B});return e.success(`${Z.data.deleted} sale(s) deleted successfully`),Z.data}catch(Z){throw console.error("Error bulk deleting sales:",Z),e.error("Failed to bulk delete sales",((K=(W=Z.response)==null?void 0:W.data)==null?void 0:K.message)||"An error occurred"),Z}finally{n.value=!1}},exportSales:async()=>{var B,W;try{const K={...l.value},Z=await Xe.get("/sales/export",{params:K,responseType:"blob"}),Te=window.URL.createObjectURL(new Blob([Z])),_e=document.createElement("a");return _e.href=Te,_e.setAttribute("download",`sales_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(_e),_e.click(),_e.remove(),window.URL.revokeObjectURL(Te),e.success("Sales exported successfully"),!0}catch(K){throw console.error("Error exporting sales:",K),e.error("Failed to export sales",((W=(B=K.response)==null?void 0:B.data)==null?void 0:W.message)||"An error occurred"),K}},applyFilters:()=>{u(1)},resetFilters:()=>{l.value={search:"",status:"",location_id:"",customer_id:"",product_id:"",start_date:"",end_date:"",sort_by:"transaction_date",sort_order:"desc"},u(1)},changePage:B=>{u(B)},getStatusClass:B=>({draft:"bg-gray-100 text-gray-800",posted:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[B]||"bg-gray-100 text-gray-800",getStatusLabel:B=>({draft:"Draft",posted:"Posted",cancelled:"Cancelled"})[B]||B,getPaymentMethodLabel:B=>({cash:"Cash",transfer:"Bank Transfer",credit:"Credit"})[B]||B,formatCurrency:B=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(B||0),formatNumber:B=>new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(B||0),formatDate:B=>B?new Date(B).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",formatDateTime:B=>B?new Date(B).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",calculateChange:(B,W)=>Math.max(0,(W||0)-(B||0))}}const xve={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},bve={class:"group bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1"},kve={class:"flex items-center justify-between"},wve={class:"flex items-center gap-4"},_ve={class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"},$ve={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors"},Cve={class:"group bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1"},Sve={class:"flex items-center justify-between"},Eve={class:"flex items-center gap-4"},Tve={class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"},Ave={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1 group-hover:text-yellow-600 dark:group-hover:text-yellow-400 transition-colors"},Lve={class:"group bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1"},Mve={class:"flex items-center justify-between"},Pve={class:"flex items-center gap-4"},Dve={class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"},Ive={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1 group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors"},Ove={class:"group bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl shadow-sm border-2 border-purple-200 dark:border-purple-800 p-6 hover:shadow-xl transition-all duration-300 hover:-translate-y-1"},Fve={class:"flex items-center justify-between"},Rve={class:"flex items-center gap-4"},jve={class:"text-xs font-bold text-purple-700 dark:text-purple-300 uppercase tracking-wide"},Nve={class:"text-2xl font-bold text-purple-900 dark:text-purple-100 mt-1"},Vve={__name:"SalesStats",props:{stats:{type:Object,default:()=>({total_transactions:0,draft_count:0,posted_count:0,total_revenue:0})}},setup(e){const t=r=>new Intl.NumberFormat("id-ID").format(r||0),s=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(r||0);return(r,o)=>($(),S("div",xve,[a("div",bve,[a("div",kve,[a("div",wve,[o[0]||(o[0]=a("div",{class:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/30 dark:to-blue-800/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-lg"},[a("svg",{class:"w-7 h-7 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),a("div",null,[a("p",_ve,k(r.$t("sales.totalTransactions")),1),a("p",$ve,k(t(e.stats.total_transactions)),1)])]),o[1]||(o[1]=a("div",{class:"opacity-0 group-hover:opacity-100 transition-opacity duration-300"},[a("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1))])]),a("div",Cve,[a("div",Sve,[a("div",Eve,[o[2]||(o[2]=a("div",{class:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-yellow-100 to-yellow-200 dark:from-yellow-900/30 dark:to-yellow-800/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-lg"},[a("svg",{class:"w-7 h-7 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a("div",null,[a("p",Tve,k(r.$t("sales.statusDraft")),1),a("p",Ave,k(t(e.stats.draft_count)),1)])]),o[3]||(o[3]=a("div",{class:"opacity-0 group-hover:opacity-100 transition-opacity duration-300"},[a("svg",{class:"w-5 h-5 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})])],-1))])]),a("div",Lve,[a("div",Mve,[a("div",Pve,[o[4]||(o[4]=a("div",{class:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/20 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-lg"},[a("svg",{class:"w-7 h-7 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a("div",null,[a("p",Dve,k(r.$t("sales.statusPosted")),1),a("p",Ive,k(t(e.stats.posted_count)),1)])]),o[5]||(o[5]=a("div",{class:"opacity-0 group-hover:opacity-100 transition-opacity duration-300"},[a("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1))])]),a("div",Ove,[a("div",Fve,[a("div",Rve,[o[6]||(o[6]=a("div",{class:"flex-shrink-0 w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-lg"},[a("svg",{class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a("div",null,[a("p",jve,k(r.$t("sales.totalRevenue")),1),a("p",Nve,k(s(e.stats.total_revenue)),1)])]),o[7]||(o[7]=a("div",{class:"opacity-0 group-hover:opacity-100 transition-opacity duration-300"},[a("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1))])])]))}},Bve=ja(Vve,[["__scopeId","data-v-99acabf9"]]),Uve={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},Hve={class:"flex items-center justify-between mb-6"},qve={class:"flex items-center gap-3"},zve={class:"text-lg font-bold text-gray-900 dark:text-white"},Wve={class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"},Kve={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Yve={class:"relative group"},Gve={class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},Jve=["placeholder"],Qve={class:"group"},Xve={class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},Zve={value:""},exe={value:"draft"},txe={value:"posted"},sxe={value:"cancelled"},axe={class:"group"},rxe={class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},oxe={value:""},nxe=["value"],ixe={class:"group"},lxe={class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},dxe={value:""},cxe=["value"],uxe={class:"group"},hxe={class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},gxe={class:"group"},pxe={class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},mxe={class:"flex items-end col-span-full md:col-span-2"},fxe={__name:"SalesFilters",props:{show:{type:Boolean,default:!1},filters:{type:Object,required:!0},locationOptions:{type:Array,default:()=>[]},customerOptions:{type:Array,default:()=>[]}},emits:["update:filters","reset"],setup(e,{emit:t}){const s=e,r=t,o=O({...s.filters});Et(()=>s.filters,m=>{o.value={...m}},{deep:!0});const n=fe(()=>{let m=0;return o.value.search&&m++,o.value.status&&m++,o.value.location_id&&m++,o.value.customer_id&&m++,o.value.start_date&&m++,o.value.end_date&&m++,m}),i=()=>{r("update:filters",o.value)},l=()=>{r("reset")},u=()=>{o.value.search="",i()};return(m,y)=>($(),it(ko,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 transform -translate-y-4","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-4"},{default:le(()=>[e.show?($(),S("div",Uve,[a("div",Hve,[a("div",qve,[y[6]||(y[6]=a("div",{class:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"},[a("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})])],-1)),a("h3",zve,k(m.$t("sales.filterSales")),1)]),a("span",Wve,k(n.value)+" "+k(m.$t("sales.activeFilters")),1)]),a("div",Kve,[a("div",Yve,[a("label",Gve,[y[7]||(y[7]=a("svg",{class:"w-4 h-4 inline mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),ke(" "+k(m.$t("sales.search")),1)]),rt(a("input",{"onUpdate:modelValue":y[0]||(y[0]=f=>o.value.search=f),type:"text",placeholder:m.$t("sales.searchPlaceholder"),class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200 group-hover:border-blue-400",onInput:i},null,40,Jve),[[It,o.value.search]]),o.value.search?($(),S("div",{key:0,class:"absolute right-3 top-10 cursor-pointer",onClick:u},[...y[8]||(y[8]=[a("svg",{class:"w-5 h-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):G("",!0)]),a("div",Qve,[a("label",Xve,[y[9]||(y[9]=a("svg",{class:"w-4 h-4 inline mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),ke(" "+k(m.$t("sales.status")),1)]),rt(a("select",{"onUpdate:modelValue":y[1]||(y[1]=f=>o.value.status=f),class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200 group-hover:border-blue-400",onChange:i},[a("option",Zve,k(m.$t("sales.allStatus")),1),a("option",exe,k(m.$t("sales.statusDraft")),1),a("option",txe,k(m.$t("sales.statusPosted")),1),a("option",sxe,k(m.$t("sales.statusCancelled")),1)],544),[[$s,o.value.status]])]),a("div",axe,[a("label",rxe,[y[10]||(y[10]=a("svg",{class:"w-4 h-4 inline mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),ke(" "+k(m.$t("sales.location")),1)]),rt(a("select",{"onUpdate:modelValue":y[2]||(y[2]=f=>o.value.location_id=f),class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200 group-hover:border-blue-400",onChange:i},[a("option",oxe,k(m.$t("sales.allLocations")),1),($(!0),S(Qe,null,ot(e.locationOptions,f=>($(),S("option",{key:f.id,value:f.id},k(f.code)+" - "+k(f.name),9,nxe))),128))],544),[[$s,o.value.location_id]])]),a("div",ixe,[a("label",lxe,[y[11]||(y[11]=a("svg",{class:"w-4 h-4 inline mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),ke(" "+k(m.$t("sales.customer")),1)]),rt(a("select",{"onUpdate:modelValue":y[3]||(y[3]=f=>o.value.customer_id=f),class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200 group-hover:border-blue-400",onChange:i},[a("option",dxe,k(m.$t("sales.allCustomers")),1),($(!0),S(Qe,null,ot(e.customerOptions,f=>($(),S("option",{key:f.id,value:f.id},k(f.customer_code)+" - "+k(f.customer_name),9,cxe))),128))],544),[[$s,o.value.customer_id]])]),a("div",uxe,[a("label",hxe,[y[12]||(y[12]=a("svg",{class:"w-4 h-4 inline mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),ke(" "+k(m.$t("sales.startDate")),1)]),rt(a("input",{"onUpdate:modelValue":y[4]||(y[4]=f=>o.value.start_date=f),type:"date",class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200 group-hover:border-blue-400",onChange:i},null,544),[[It,o.value.start_date]])]),a("div",gxe,[a("label",pxe,[y[13]||(y[13]=a("svg",{class:"w-4 h-4 inline mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),ke(" "+k(m.$t("sales.endDate")),1)]),rt(a("input",{"onUpdate:modelValue":y[5]||(y[5]=f=>o.value.end_date=f),type:"date",class:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200 group-hover:border-blue-400",onChange:i},null,544),[[It,o.value.end_date]])]),a("div",mxe,[a("button",{onClick:l,class:"w-full inline-flex items-center justify-center gap-2 px-5 py-2.5 text-sm font-semibold text-gray-700 bg-gradient-to-r from-gray-100 to-gray-200 border-2 border-gray-300 rounded-lg hover:from-gray-200 hover:to-gray-300 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600 transition-all shadow-sm hover:shadow"},[y[14]||(y[14]=a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),ke(" "+k(m.$t("sales.resetAllFilters")),1)])])])])):G("",!0)]),_:1}))}},yxe=ja(fxe,[["__scopeId","data-v-e065b867"]]),vxe={class:"space-y-4"},xxe={class:"flex items-center justify-between"},bxe={class:"text-lg font-medium text-gray-900 dark:text-white"},kxe=["disabled","title"],wxe={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg"},_xe={key:1,class:"overflow-x-auto"},$xe={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Cxe={class:"bg-gray-50 dark:bg-gray-700"},Sxe={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"},Exe={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase w-32"},Txe={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase w-32"},Axe={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase w-28"},Lxe={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase w-28"},Mxe={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase w-36"},Pxe={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase w-20"},Dxe={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},Ixe={class:"px-4 py-3"},Oxe=["onUpdate:modelValue","onChange","disabled"],Fxe={value:""},Rxe=["value","disabled"],jxe={key:0,class:"mt-1 text-xs text-red-600"},Nxe={key:1,class:"mt-1 text-xs flex items-center gap-1"},Vxe={key:0,class:"text-red-600 dark:text-red-400"},Bxe={key:1,class:"text-orange-600 dark:text-orange-400"},Uxe={class:"px-4 py-3"},Hxe=["onUpdate:modelValue","disabled","onInput"],qxe={key:0,class:"mt-1 text-xs text-red-600"},zxe={class:"px-4 py-3"},Wxe=["onUpdate:modelValue","disabled","onInput"],Kxe={class:"px-4 py-3"},Yxe=["onUpdate:modelValue","disabled","onInput"],Gxe={class:"px-4 py-3"},Jxe=["onUpdate:modelValue","disabled","onInput"],Qxe={class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white"},Xxe={class:"px-4 py-3"},Zxe=["onClick","disabled"],ebe={key:0},tbe={colspan:"7",class:"px-4 py-2 bg-red-50 dark:bg-red-900/20"},sbe={class:"flex items-start gap-2"},abe={class:"text-xs text-red-600 dark:text-red-400 space-y-1"},rbe={key:1},obe={colspan:"7",class:"px-4 py-2 bg-orange-50 dark:bg-orange-900/20"},nbe={class:"flex items-start gap-2"},ibe={class:"text-xs text-orange-600 dark:text-orange-400"},lbe={__name:"SalesItemsTable",props:{modelValue:{type:Array,default:()=>[]},productOptions:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})},saving:{type:Boolean,default:!1},canAddItems:{type:Boolean,default:!0}},emits:["update:modelValue","update:total","update:hasValidationError"],setup(e,{expose:t,emit:s}){const{t:r}=fa(),o=e,n=s,i=fe({get:()=>o.modelValue,set:h=>n("update:modelValue",h)}),l=h=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(h||0),u=()=>{const h={product_id:"",quantity:1,unit_price:0,discount_percent:0,tax_percent:0,notes:"",_total:0,_validation_errors:[],_stock_warning:null,_available_stock:0,original_quantity:0,product:null},g=i.value.length;i.value.push(h),zs(()=>{f(g)})},m=h=>{var p;const g=i.value[h];if(g.product_id||g.quantity>1||g.unit_price>0){const v=((p=g.product)==null?void 0:p.product_name)||r("sales.form.items.confirmRemove").replace("?","");if(!confirm(`${r("sales.form.items.confirmRemove")} ${v}?`))return}i.value.splice(h,1),x()},y=h=>{const g=o.productOptions.find(d=>d.id===i.value[h].product_id);if(g){i.value[h].unit_price=g.selling_price||0,i.value[h].product=g;const d=i.value[h].original_quantity||0;i.value[h]._available_stock=(g.stock_quantity||0)+d}f(h)},f=h=>{var P;const g=i.value[h],d=parseFloat(g.quantity)||0,p=parseFloat(g.unit_price)||0,v=parseFloat(g.discount_percent)||0,b=parseFloat(g.tax_percent)||0;if(g._validation_errors=[],g._stock_warning=null,(!g.product_id||g.product_id==="")&&g._validation_errors.push(r("sales.form.items.validationSelectProduct")),d<=0&&g._validation_errors.push(r("sales.form.items.validationQuantityGreaterZero")),p<=0&&g._validation_errors.push(r("sales.form.items.validationUnitPriceGreaterZero")),(v<0||v>100)&&g._validation_errors.push(r("sales.form.items.validationDiscountRange")),(b<0||b>100)&&g._validation_errors.push(r("sales.form.items.validationTaxRange")),g.product_id){const A=((P=g.product)==null?void 0:P.stock_quantity)||0,j=g.original_quantity||0,V=A+j;g._available_stock=V,V===0?g._validation_errors.push(r("sales.form.items.validationOutOfStock")):d>V&&g._validation_errors.push(`${r("sales.form.items.validationExceedsStock")} (${V})`),V>0&&V<10&&d<=V?g._stock_warning=r("sales.form.items.warningLowStock",{count:V}):g._stock_warning=null}const w=d*p,E=w*(v/100),C=w-E,T=C*(b/100);g._total=C+T,g._discount_amount=E,g._tax_amount=T,x()},x=()=>{let h=0,g=0,d=0,p=!1;i.value.forEach(b=>{const w=parseFloat(b.quantity)||0,E=parseFloat(b.unit_price)||0;h+=w*E,g+=parseFloat(b._discount_amount)||0,d+=parseFloat(b._tax_amount)||0,b._validation_errors&&b._validation_errors.length>0&&(p=!0)});const v=h-g+d;n("update:total",{subtotal:h,discount:g,tax:d,total:v}),n("update:hasValidationError",p)};return Et(()=>i.value.length,()=>{x()},{immediate:!0}),t({validateAllItems:()=>{i.value.forEach((h,g)=>{f(g)})}}),(h,g)=>($(),S("div",vxe,[a("div",xxe,[a("h3",bxe,k(F(r)("sales.form.items.title")),1),a("button",{type:"button",onClick:u,disabled:e.saving||!e.canAddItems,title:e.canAddItems?"":F(r)("sales.form.items.selectLocationFirst"),class:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:text-blue-400 dark:border-blue-400 dark:hover:bg-blue-900/20 disabled:opacity-50 disabled:cursor-not-allowed"},[g[0]||(g[0]=a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)),ke(" "+k(F(r)("sales.form.items.addItem")),1)],8,kxe)]),i.value.length===0?($(),S("div",wxe,k(F(r)("sales.form.items.noItems")),1)):($(),S("div",_xe,[a("table",$xe,[a("thead",Cxe,[a("tr",null,[a("th",Sxe,k(F(r)("sales.form.items.product")),1),a("th",Exe,k(F(r)("sales.form.items.quantity")),1),a("th",Txe,k(F(r)("sales.form.items.unitPrice")),1),a("th",Axe,k(F(r)("sales.form.items.discountPercent")),1),a("th",Lxe,k(F(r)("sales.form.items.taxPercent")),1),a("th",Mxe,k(F(r)("sales.form.items.total")),1),a("th",Pxe,k(F(r)("sales.form.items.action")),1)])]),a("tbody",Dxe,[($(!0),S(Qe,null,ot(i.value,(d,p)=>{var v,b,w,E,C,T,P;return $(),S(Qe,{key:p},[a("tr",null,[a("td",Ixe,[rt(a("select",{"onUpdate:modelValue":A=>d.product_id=A,onChange:A=>y(p),disabled:e.saving,class:Ee(["w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed",{"border-red-500":(v=e.errors)==null?void 0:v[`items.${p}.product_id`]}])},[a("option",Fxe,k(F(r)("sales.form.items.selectProduct")),1),($(!0),S(Qe,null,ot(e.productOptions,A=>($(),S("option",{key:A.id,value:A.id,disabled:(A.stock_quantity||0)===0},k(A.product_code)+" - "+k(A.product_name)+" (Stock: "+k(A.stock_quantity||0)+") ",9,Rxe))),128))],42,Oxe),[[$s,d.product_id]]),(b=e.errors)!=null&&b[`items.${p}.product_id`]?($(),S("p",jxe,k(e.errors[`items.${p}.product_id`]),1)):G("",!0),d.product?($(),S("div",Nxe,[a("span",{class:Ee({"text-red-600 dark:text-red-400":(d._available_stock||d.product.stock_quantity||0)===0,"text-orange-600 dark:text-orange-400":(d._available_stock||d.product.stock_quantity||0)>0&&(d._available_stock||d.product.stock_quantity||0)<10,"text-green-600 dark:text-green-400":(d._available_stock||d.product.stock_quantity||0)>=10})},[g[1]||(g[1]=a("span",{class:"font-medium"},"",-1)),ke(" Stock: "+k(d._available_stock||d.product.stock_quantity||0),1)],2),(d._available_stock||d.product.stock_quantity||0)===0?($(),S("span",Vxe,k(F(r)("sales.form.items.outOfStock")),1)):(d._available_stock||d.product.stock_quantity||0)<10?($(),S("span",Bxe,k(F(r)("sales.form.items.lowStock")),1)):G("",!0)])):G("",!0)]),a("td",Uxe,[rt(a("input",{"onUpdate:modelValue":A=>d.quantity=A,type:"number",step:"0.01",min:"0.01",disabled:e.saving,onInput:A=>f(p),class:Ee(["w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed",{"border-red-500":((w=e.errors)==null?void 0:w[`items.${p}.quantity`])||d._validation_errors&&d._validation_errors.length>0}])},null,42,Hxe),[[It,d.quantity,void 0,{number:!0}]]),(E=e.errors)!=null&&E[`items.${p}.quantity`]?($(),S("p",qxe,k(e.errors[`items.${p}.quantity`]),1)):G("",!0)]),a("td",zxe,[rt(a("input",{"onUpdate:modelValue":A=>d.unit_price=A,type:"number",step:"0.01",min:"0",disabled:e.saving,onInput:A=>f(p),class:Ee(["w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed",{"border-red-500":((C=e.errors)==null?void 0:C[`items.${p}.unit_price`])||d._validation_errors&&d._validation_errors.length>0}])},null,42,Wxe),[[It,d.unit_price,void 0,{number:!0}]])]),a("td",Kxe,[rt(a("input",{"onUpdate:modelValue":A=>d.discount_percent=A,type:"number",step:"0.01",min:"0",max:"100",disabled:e.saving,onInput:A=>f(p),class:Ee(["w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed",{"border-red-500":((T=e.errors)==null?void 0:T[`items.${p}.discount_percent`])||d._validation_errors&&d._validation_errors.length>0}])},null,42,Yxe),[[It,d.discount_percent,void 0,{number:!0}]])]),a("td",Gxe,[rt(a("input",{"onUpdate:modelValue":A=>d.tax_percent=A,type:"number",step:"0.01",min:"0",max:"100",disabled:e.saving,onInput:A=>f(p),class:Ee(["w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed",{"border-red-500":((P=e.errors)==null?void 0:P[`items.${p}.tax_percent`])||d._validation_errors&&d._validation_errors.length>0}])},null,42,Jxe),[[It,d.tax_percent,void 0,{number:!0}]])]),a("td",Qxe,k(l(d._total||0)),1),a("td",Xxe,[a("button",{type:"button",onClick:A=>m(p),disabled:e.saving,class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed"},[...g[2]||(g[2]=[a("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Zxe)])]),d._validation_errors&&d._validation_errors.length>0?($(),S("tr",ebe,[a("td",tbe,[a("div",sbe,[g[3]||(g[3]=a("svg",{class:"w-4 h-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),a("ul",abe,[($(!0),S(Qe,null,ot(d._validation_errors,(A,j)=>($(),S("li",{key:j},k(A),1))),128))])])])])):G("",!0),d._stock_warning&&(!d._validation_errors||d._validation_errors.length===0)?($(),S("tr",rbe,[a("td",obe,[a("div",nbe,[g[4]||(g[4]=a("svg",{class:"w-4 h-4 text-orange-600 dark:text-orange-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),a("p",ibe,k(d._stock_warning),1)])])])):G("",!0)],64)}),128))])])]))]))}},dbe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},cbe={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},ube={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},hbe={class:"flex justify-end"},gbe={class:"w-full md:w-1/2 space-y-2"},pbe={class:"flex justify-between text-sm"},mbe={class:"text-gray-600 dark:text-gray-400"},fbe={class:"font-medium text-gray-900 dark:text-white"},ybe={class:"flex justify-between text-sm"},vbe={class:"text-gray-600 dark:text-gray-400"},xbe={class:"font-medium text-red-600"},bbe={class:"flex justify-between text-sm"},kbe={class:"text-gray-600 dark:text-gray-400"},wbe={class:"font-medium text-gray-900 dark:text-white"},_be={class:"flex justify-between text-lg font-bold border-t border-gray-200 dark:border-gray-700 pt-2"},$be={class:"text-gray-900 dark:text-white"},Cbe={class:"text-blue-600"},Sbe={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},Ebe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Tbe={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"},Abe=["disabled"],Lbe={key:0},Mbe={key:1},Pbe={__name:"SalesFormModal",props:{isOpen:{type:Boolean,default:!1},editingItem:{type:Object,default:null},locationOptions:{type:Array,default:()=>[]},customerOptions:{type:Array,default:()=>[]},productOptions:{type:Array,default:()=>[]},saving:{type:Boolean,default:!1},errors:{type:Object,default:()=>({})}},emits:["close","saved","locationChanged"],setup(e,{emit:t}){const{t:s}=fa(),r=e,o=t,n=fe(()=>[{value:"cash",label:s("sales.form.paymentMethodCash")},{value:"transfer",label:s("sales.form.paymentMethodTransfer")},{value:"credit",label:s("sales.form.paymentMethodCredit")}]),i=O({transaction_date:new Date().toISOString().split("T")[0],location_id:"",customer_id:"",payment_method:"cash",paid_amount:0,change_amount:0,notes:"",items:[]}),l=O({subtotal:0,discount:0,tax:0,total:0}),u=O(!1),m=O(null),y=fe(()=>r.editingItem?!1:i.value.location_id!==""||i.value.customer_id!==""||i.value.notes!==""||i.value.items.length>0),f=v=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(v||0),x=v=>{const b=l.value.total;l.value=v,!r.editingItem&&i.value.paid_amount===b&&(i.value.paid_amount=v.total),c()},c=()=>{const v=parseFloat(i.value.paid_amount)||0,b=parseFloat(l.value.total)||0;i.value.change_amount=Math.max(0,v-b)},h=()=>{i.value={transaction_date:new Date().toISOString().split("T")[0],location_id:"",customer_id:"",payment_method:"cash",paid_amount:0,change_amount:0,notes:"",items:[]},l.value={subtotal:0,discount:0,tax:0,total:0}};Et(()=>r.editingItem,async v=>{var b;if(v){const w=(v.details||[]).map(E=>{var B;const C=parseFloat(E.quantity)||0,T=parseFloat(E.unit_price)||0,P=parseFloat(E.discount_percent)||0,A=parseFloat(E.tax_percent)||0,j=C*T,V=j*(P/100),H=j-V,R=H*(A/100),M=H+R;return{id:E.id,product_id:E.product_id,quantity:C,unit_price:T,discount_percent:P,tax_percent:A,notes:E.notes||"",product:E.product||null,original_quantity:C,_validation_errors:[],_stock_warning:null,_available_stock:(((B=E.product)==null?void 0:B.stock_quantity)||0)+C,_total:M,_discount_amount:V,_tax_amount:R}});i.value={transaction_date:((b=v.transaction_date)==null?void 0:b.split(" ")[0])||new Date().toISOString().split("T")[0],location_id:v.location_id||"",customer_id:v.customer_id||"",payment_method:v.payment_method||"cash",paid_amount:parseFloat(v.paid_amount)||0,change_amount:parseFloat(v.change_amount)||0,notes:v.notes||"",items:w},await zs(),m.value&&m.value.validateAllItems()}else h()},{immediate:!0}),Et(()=>r.isOpen,async v=>{if(!v&&!r.editingItem)h();else if(v){r.editingItem||r.locationOptions.length===1&&(i.value.location_id=r.locationOptions[0].value,o("locationChanged",r.locationOptions[0].value)),await zs();const b=document.querySelector('input[type="date"]');b&&b.focus()}}),Et(()=>i.value.location_id,(v,b)=>{if(b!==void 0&&v!==b){if(i.value.items.length>0){if(!confirm(s("sales.form.locationChangeWarning"))){i.value.location_id=b;return}i.value.items=[]}v&&o("locationChanged",v)}});const g=()=>{y.value&&!confirm(s("sales.form.unsavedChangesWarning"))||o("close")},d=()=>{var w;const v=!!r.editingItem,b=(w=r.editingItem)==null?void 0:w.id;o("saved",{formData:i.value,isEditing:v,saleId:b})},p=v=>{r.isOpen&&v.key==="Escape"&&(v.preventDefault(),g())};return Ot(()=>{document.addEventListener("keydown",p)}),Ea(()=>{document.removeEventListener("keydown",p)}),(v,b)=>($(),it(Vt,{"is-open":e.isOpen,title:e.editingItem?F(s)("sales.form.editTitle"):F(s)("sales.form.newTitle"),size:"6xl",onClose:g},{default:le(()=>{var w,E,C,T,P,A,j;return[a("form",{onSubmit:Bt(d,["prevent"]),class:"space-y-6"},[a("div",dbe,[L(et,{modelValue:i.value.transaction_date,"onUpdate:modelValue":b[0]||(b[0]=V=>i.value.transaction_date=V),label:F(s)("sales.form.transactionDate"),type:"date",required:"",disabled:e.saving,error:(w=e.errors)==null?void 0:w.transaction_date},null,8,["modelValue","label","disabled","error"]),L(ut,{modelValue:i.value.location_id,"onUpdate:modelValue":b[1]||(b[1]=V=>i.value.location_id=V),label:F(s)("sales.form.location"),options:e.locationOptions,required:"",disabled:e.saving||i.value.items.length>0,error:(E=e.errors)==null?void 0:E.location_id,readonly:i.value.items.length>0},null,8,["modelValue","label","options","disabled","error","readonly"]),L(ut,{modelValue:i.value.customer_id,"onUpdate:modelValue":b[2]||(b[2]=V=>i.value.customer_id=V),label:F(s)("sales.form.customer"),options:e.customerOptions,disabled:e.saving,error:(C=e.errors)==null?void 0:C.customer_id},null,8,["modelValue","label","options","disabled","error"])]),L(ws,{modelValue:i.value.notes,"onUpdate:modelValue":b[3]||(b[3]=V=>i.value.notes=V),label:F(s)("sales.form.notes"),placeholder:F(s)("sales.form.notesPlaceholder"),rows:"2",disabled:e.saving,error:(T=e.errors)==null?void 0:T.notes},null,8,["modelValue","label","placeholder","disabled","error"]),a("div",cbe,[L(lbe,{ref_key:"salesItemsTableRef",ref:m,modelValue:i.value.items,"onUpdate:modelValue":b[4]||(b[4]=V=>i.value.items=V),errors:e.errors,productOptions:e.productOptions,saving:e.saving,canAddItems:!!i.value.location_id,"onUpdate:total":x,"onUpdate:hasValidationError":b[5]||(b[5]=V=>u.value=V)},null,8,["modelValue","errors","productOptions","saving","canAddItems"])]),a("div",ube,[a("div",hbe,[a("div",gbe,[a("div",pbe,[a("span",mbe,k(F(s)("sales.form.subtotal"))+":",1),a("span",fbe,k(f(l.value.subtotal)),1)]),a("div",ybe,[a("span",vbe,k(F(s)("sales.form.discount"))+":",1),a("span",xbe,"-"+k(f(l.value.discount)),1)]),a("div",bbe,[a("span",kbe,k(F(s)("sales.form.tax"))+":",1),a("span",wbe,k(f(l.value.tax)),1)]),a("div",_be,[a("span",$be,k(F(s)("sales.form.total"))+":",1),a("span",Cbe,k(f(l.value.total)),1)])])])]),a("div",Sbe,[a("div",Ebe,[L(ut,{modelValue:i.value.payment_method,"onUpdate:modelValue":b[6]||(b[6]=V=>i.value.payment_method=V),label:F(s)("sales.form.paymentMethod"),options:n.value,required:"",disabled:e.saving,error:(P=e.errors)==null?void 0:P.payment_method},null,8,["modelValue","label","options","disabled","error"]),L(et,{modelValue:i.value.paid_amount,"onUpdate:modelValue":b[7]||(b[7]=V=>i.value.paid_amount=V),label:F(s)("sales.form.paidAmount"),type:"number",step:"0.01",min:"0",disabled:e.saving,error:(A=e.errors)==null?void 0:A.paid_amount,onInput:c},null,8,["modelValue","label","disabled","error"]),L(et,{modelValue:i.value.change_amount,"onUpdate:modelValue":b[8]||(b[8]=V=>i.value.change_amount=V),label:F(s)("sales.form.changeAmount"),type:"number",step:"0.01",min:"0",readonly:"",disabled:e.saving,error:(j=e.errors)==null?void 0:j.change_amount},null,8,["modelValue","label","disabled","error"])])]),a("div",Tbe,[a("button",{type:"button",onClick:g,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},k(F(s)("sales.form.cancel")),1),a("button",{type:"submit",disabled:e.saving||i.value.items.length===0||u.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[e.saving?($(),S("span",Lbe,k(F(s)("sales.form.saving")),1)):($(),S("span",Mbe,k(e.editingItem?F(s)("sales.form.update"):F(s)("sales.form.save")),1))],8,Abe)])],32)]}),_:1},8,["is-open","title"]))}},Dbe={class:"space-y-6 max-h-[calc(100vh-12rem)] overflow-y-auto custom-scrollbar"},Ibe={key:0,class:"text-center py-12"},Obe={key:1,class:"space-y-6"},Fbe={class:"flex items-start justify-between pb-6 border-b border-gray-200 dark:border-gray-700"},Rbe={class:"flex items-start gap-4"},jbe={class:"text-2xl font-bold text-gray-900 dark:text-white"},Nbe={class:"text-sm text-gray-500 dark:text-gray-400 mt-1 font-medium"},Vbe={class:"flex items-center"},Bbe={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ube={class:"space-y-4"},Hbe={class:"space-y-4"},qbe={class:"group p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},zbe={class:"flex items-start gap-3"},Wbe={class:"flex-1 min-w-0"},Kbe={class:"text-base font-semibold text-gray-900 dark:text-white mt-1"},Ybe={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},Gbe={class:"group p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},Jbe={class:"flex items-start gap-3"},Qbe={class:"flex-1 min-w-0"},Xbe={class:"text-base font-semibold text-gray-900 dark:text-white mt-1"},Zbe={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},e1e={class:"space-y-4"},t1e={class:"space-y-4"},s1e={class:"group p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},a1e={class:"flex items-start gap-3"},r1e={class:"flex-1 min-w-0"},o1e={class:"text-base font-semibold text-gray-900 dark:text-white mt-1"},n1e={class:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg border border-blue-200 dark:border-blue-800"},i1e={class:"space-y-2"},l1e={class:"flex justify-between text-sm"},d1e={class:"font-semibold text-gray-900 dark:text-white"},c1e={key:0,class:"flex justify-between text-sm"},u1e={class:"font-semibold text-green-600 dark:text-green-400"},h1e={class:"space-y-4"},g1e={class:"overflow-x-auto custom-scrollbar"},p1e={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},m1e={class:"bg-white dark:bg-gray-900/50 divide-y divide-gray-200 dark:divide-gray-700"},f1e={class:"px-5 py-4 text-sm text-gray-900 dark:text-white"},y1e={class:"font-semibold"},v1e={class:"text-xs text-gray-500 dark:text-gray-400"},x1e={class:"px-5 py-4 text-sm text-right font-semibold text-gray-900 dark:text-white"},b1e={class:"px-5 py-4 text-sm text-right text-gray-700 dark:text-gray-300"},k1e={class:"px-5 py-4 text-sm text-right text-gray-700 dark:text-gray-300"},w1e={class:"px-5 py-4 text-sm text-right text-gray-700 dark:text-gray-300"},_1e={class:"px-5 py-4 text-sm text-right font-bold text-gray-900 dark:text-white"},$1e={class:"p-6 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-800/30 rounded-lg border border-gray-200 dark:border-gray-700"},C1e={class:"space-y-3"},S1e={class:"flex justify-between text-base"},E1e={class:"font-semibold text-gray-900 dark:text-white"},T1e={class:"flex justify-between text-base"},A1e={class:"font-semibold text-red-600"},L1e={class:"flex justify-between text-base"},M1e={class:"font-semibold text-gray-900 dark:text-white"},P1e={class:"flex justify-between text-xl font-bold border-t-2 border-gray-300 dark:border-gray-600 pt-3 mt-3"},D1e={class:"text-blue-600 dark:text-blue-400"},I1e={key:0,class:"p-5 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-800/30 rounded-lg border border-gray-200 dark:border-gray-700"},O1e={class:"text-sm text-gray-900 dark:text-white leading-relaxed"},F1e={key:1,class:"space-y-3 text-sm text-gray-600 dark:text-gray-400 pt-4 border-t border-gray-200 dark:border-gray-700"},R1e={key:0,class:"flex items-center gap-2"},j1e={class:"text-gray-900 dark:text-white"},N1e={key:1,class:"flex items-center gap-2"},V1e={class:"text-gray-900 dark:text-white"},B1e={class:"flex flex-col sm:flex-row justify-end items-center gap-3 pt-6 border-t-2 border-gray-200 dark:border-gray-700 sticky bottom-0 bg-white dark:bg-gray-900"},U1e={__name:"SalesDetailsModal",props:{isOpen:{type:Boolean,default:!1},sale:{type:Object,default:null}},emits:["close"],setup(e){const{formatCurrency:t,formatDate:s,formatDateTime:r,getStatusClass:o,getStatusLabel:n,getPaymentMethodLabel:i}=ah(),l={name:"CollapsibleSection",props:{title:{type:String,required:!0},icon:{type:String,default:"default"},defaultOpen:{type:Boolean,default:!1}},setup(m,{slots:y}){const f=O(m.defaultOpen),x=()=>{f.value=!f.value},c=()=>{const h={"shopping-cart":as("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[as("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})]),default:as("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[as("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])};return h[m.icon]||h.default};return()=>{var h;return as("div",{class:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden transition-all hover:shadow-md"},[as("button",{type:"button",class:"w-full px-5 py-4 flex items-center justify-between text-sm font-semibold text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-800 transition-all focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:x,"aria-expanded":f.value},[as("div",{class:"flex items-center gap-3"},[c(),as("span",{class:"text-base"},m.title)]),as("svg",{class:`w-5 h-5 transition-transform duration-300 ${f.value?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[as("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])]),as("div",{class:`transition-all duration-300 ease-in-out ${f.value?"max-h-[500px] opacity-100":"max-h-0 opacity-0"} overflow-auto custom-scrollbar`},[as("div",{class:"px-5 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/30"},[(h=y.default)==null?void 0:h.call(y)])])])}}},u=m=>{const y={draft:"bg-gradient-to-br from-yellow-500 to-yellow-600",posted:"bg-gradient-to-br from-green-500 to-green-600",cancelled:"bg-gradient-to-br from-red-500 to-red-600"};return y[m]||y.draft};return(m,y)=>($(),it(Vt,{"is-open":e.isOpen,title:"Sale Transaction Details",size:"4xl",onClose:y[1]||(y[1]=f=>m.$emit("close")),role:"dialog","aria-labelledby":"sale-details-title","aria-describedby":"sale-details-content"},{default:le(()=>{var f,x,c,h,g;return[a("div",Dbe,[e.sale?($(),S("div",Obe,[a("div",Fbe,[a("div",Rbe,[a("div",{class:Ee(["flex-shrink-0 w-16 h-16 rounded-xl flex items-center justify-center shadow-lg",u(e.sale.status)])},[...y[3]||(y[3]=[a("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],2),a("div",null,[a("h2",jbe,k(e.sale.transaction_number),1),a("p",Nbe,k(F(s)(e.sale.transaction_date)),1)])]),a("div",Vbe,[a("span",{class:Ee(F(o)(e.sale.status))},k(F(n)(e.sale.status)),3)])]),a("div",Bbe,[a("div",Ube,[y[8]||(y[8]=a("h3",{class:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider flex items-center gap-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),ke(" Transaction Information ")],-1)),a("div",Hbe,[a("div",qbe,[a("div",zbe,[y[5]||(y[5]=a("div",{class:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},[a("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),a("div",Wbe,[y[4]||(y[4]=a("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," Customer ",-1)),a("p",Kbe,k(((f=e.sale.customer)==null?void 0:f.customer_name)||"Walk-in Customer"),1),(x=e.sale.customer)!=null&&x.customer_code?($(),S("p",Ybe,k(e.sale.customer.customer_code),1)):G("",!0)])])]),a("div",Gbe,[a("div",Jbe,[y[7]||(y[7]=a("div",{class:"flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},[a("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),a("div",Qbe,[y[6]||(y[6]=a("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," Location ",-1)),a("p",Xbe,k(((c=e.sale.location)==null?void 0:c.name)||"-"),1),(h=e.sale.location)!=null&&h.code?($(),S("p",Zbe,k(e.sale.location.code),1)):G("",!0)])])])])]),a("div",e1e,[y[13]||(y[13]=a("h3",{class:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider flex items-center gap-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),ke(" Payment Information ")],-1)),a("div",t1e,[a("div",s1e,[a("div",a1e,[y[10]||(y[10]=a("div",{class:"flex-shrink-0 w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},[a("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),a("div",r1e,[y[9]||(y[9]=a("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," Payment Method ",-1)),a("p",o1e,k(F(i)(e.sale.payment_method)),1)])])]),a("div",n1e,[a("div",i1e,[a("div",l1e,[y[11]||(y[11]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Paid Amount:",-1)),a("span",d1e,k(F(t)(e.sale.paid_amount)),1)]),e.sale.change_amount>0?($(),S("div",c1e,[y[12]||(y[12]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Change:",-1)),a("span",u1e,k(F(t)(e.sale.change_amount)),1)])):G("",!0)])])])])]),a("div",h1e,[L(l,{title:`Items (${((g=e.sale.details)==null?void 0:g.length)||0})`,icon:"shopping-cart","default-open":!0},{default:le(()=>[a("div",g1e,[a("table",p1e,[y[14]||(y[14]=a("thead",{class:"bg-gray-100 dark:bg-gray-800/70"},[a("tr",null,[a("th",{class:"px-5 py-3.5 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"}," Product "),a("th",{class:"px-5 py-3.5 text-right text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"}," Qty "),a("th",{class:"px-5 py-3.5 text-right text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"}," Unit Price "),a("th",{class:"px-5 py-3.5 text-right text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"}," Disc % "),a("th",{class:"px-5 py-3.5 text-right text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"}," Tax % "),a("th",{class:"px-5 py-3.5 text-right text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"}," Total ")])],-1)),a("tbody",m1e,[($(!0),S(Qe,null,ot(e.sale.details,d=>{var p,v;return $(),S("tr",{key:d.id,class:"hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200"},[a("td",f1e,[a("div",null,[a("p",y1e,k((p=d.product)==null?void 0:p.product_name),1),a("p",v1e,k((v=d.product)==null?void 0:v.product_code),1)])]),a("td",x1e,k(d.quantity),1),a("td",b1e,k(F(t)(d.unit_price)),1),a("td",k1e,k(d.discount_percent)+"% ",1),a("td",w1e,k(d.tax_percent)+"% ",1),a("td",_1e,k(F(t)(d.total_price)),1)])}),128))])])])]),_:1},8,["title"])]),a("div",$1e,[y[19]||(y[19]=a("h3",{class:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-4 flex items-center gap-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})]),ke(" Financial Summary ")],-1)),a("div",C1e,[a("div",S1e,[y[15]||(y[15]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Subtotal:",-1)),a("span",E1e,k(F(t)(e.sale.subtotal)),1)]),a("div",T1e,[y[16]||(y[16]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Discount:",-1)),a("span",A1e,"-"+k(F(t)(e.sale.discount_amount)),1)]),a("div",L1e,[y[17]||(y[17]=a("span",{class:"text-gray-600 dark:text-gray-400"},"Tax:",-1)),a("span",M1e,k(F(t)(e.sale.tax_amount)),1)]),a("div",P1e,[y[18]||(y[18]=a("span",{class:"text-gray-900 dark:text-white"},"Total Amount:",-1)),a("span",D1e,k(F(t)(e.sale.total_amount)),1)])])]),e.sale.notes?($(),S("div",I1e,[y[20]||(y[20]=a("h3",{class:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-3 flex items-center gap-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})]),ke(" Notes ")],-1)),a("p",O1e,k(e.sale.notes),1)])):G("",!0),e.sale.creator||e.sale.poster?($(),S("div",F1e,[e.sale.creator?($(),S("div",R1e,[y[22]||(y[22]=a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),a("span",null,[y[21]||(y[21]=ke("Created by ",-1)),a("strong",j1e,k(e.sale.creator.name),1),ke(" on "+k(F(r)(e.sale.created_at)),1)])])):G("",!0),e.sale.poster&&e.sale.status==="posted"?($(),S("div",N1e,[y[24]||(y[24]=a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),a("span",null,[y[23]||(y[23]=ke("Posted by ",-1)),a("strong",V1e,k(e.sale.poster.name),1),ke(" on "+k(F(r)(e.sale.posted_at)),1)])])):G("",!0)])):G("",!0),a("div",B1e,[a("button",{type:"button",onClick:y[0]||(y[0]=d=>m.$emit("close")),class:"w-full sm:w-auto px-5 py-2.5 text-sm font-semibold text-gray-700 bg-white border-2 border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:border-gray-500 transition-all shadow-sm hover:shadow"}," Close ")])])):($(),S("div",Ibe,[...y[2]||(y[2]=[a("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full mb-4"},[a("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No Sale Data ",-1),a("p",{class:"text-gray-500 dark:text-gray-400"}," The sale information could not be loaded. ",-1)])]))])]}),_:1},8,["is-open"]))}},rb=ja(U1e,[["__scopeId","data-v-c5125bdb"]]),H1e={class:"space-y-6"},q1e={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},z1e={class:"text-2xl font-bold text-gray-900 dark:text-white"},W1e={class:"text-gray-500 dark:text-gray-400 mt-1"},K1e={class:"flex items-center gap-3"},Y1e=["disabled"],G1e={id:"print-receipt",class:"hidden print:block print:fixed print:inset-0 print:z-50 print:bg-white print:overflow-auto"},J1e={class:"print:p-6 print:max-w-sm print:mx-auto print:text-sm print:text-black print:bg-white"},Q1e={class:"text-center mb-4"},X1e={class:"flex justify-center mb-2"},Z1e={class:"w-16 h-16 rounded-lg flex items-center justify-center bg-gray-100"},eke=["src","alt"],tke={key:1,class:"text-2xl font-bold text-gray-700"},ske={class:"text-lg font-bold"},ake={key:0,class:"text-xs text-gray-600"},rke={key:1,class:"text-xs text-gray-600"},oke={key:2,class:"text-xs text-gray-600"},nke={key:3,class:"text-xs text-gray-600"},ike={class:"border-t border-b border-gray-300 py-2 mb-4"},lke={class:"flex justify-between text-xs mb-1"},dke={class:"font-mono"},cke={class:"flex justify-between text-xs mb-1"},uke={class:"flex justify-between text-xs mb-1"},hke={class:"flex justify-between text-xs"},gke={class:"mb-4"},pke={class:"w-full text-xs"},mke={class:"py-1"},fke={class:"font-medium"},yke={class:"text-gray-500 text-xs"},vke={class:"text-center py-1"},xke={class:"text-right py-1"},bke={class:"text-right py-1"},kke={class:"border-t border-gray-300 pt-2"},wke={class:"flex justify-between text-sm font-bold mb-2"},_ke={class:"flex justify-between text-xs"},$ke={class:"flex justify-between text-xs"},Cke={class:"text-center mt-6 text-xs text-gray-600"},Ske={key:0,class:"mt-2"},Eke={class:"mt-2 font-mono"},Tke={__name:"Sales",setup(e){const{t}=fa(),s=Es({logo_sistem:"",nama_sistem:"SINTIYA WAREHOUSE",deskripsi_sistem:"",nama_perusahaan:"",alamat_lengkap:"",email_perusahaan:"",nomor_telepon:"",footer_text:""}),{sales:r,loading:o,saving:n,deleting:i,pagination:l,filters:u,fetchSales:m,fetchSale:y,createSale:f,updateSale:x,deleteSale:c,postSale:h,cancelSale:g,fetchSaleStatistics:d,fetchOptions:p,exportSales:v,applyFilters:b,resetFilters:w,changePage:E,getStatusLabel:C,formatCurrency:T,formatDate:P}=ah(),{locationOptions:A,loadLocations:j}=th(),V=O(!1),H=O(!1),R=O(!1),M=O(null),B=O(!1),W=O(null),K=O(!1),Z=O(null),Te=O(!1),_e=O(null),ye=O(!1),z=O(null),q=O(null),X=O(!1),se=O({total_transactions:0,draft_count:0,posted_count:0,cancelled_count:0,total_revenue:0}),Ae=O([]),me=O([]),Le=fe(()=>[{key:"transaction_number",label:t("sales.transactionNumber"),sortable:!0},{key:"transaction_date",label:t("sales.date"),sortable:!0,type:"date"},{key:"customer.customer_name",label:t("sales.customer"),sortable:!1,formatter:(Ke,Se)=>Ke||t("sales.walkInCustomer")},{key:"location.name",label:t("sales.location"),sortable:!1},{key:"total_amount",label:t("sales.total"),sortable:!0,type:"currency"},{key:"payment_method",label:t("sales.payment"),sortable:!1,formatter:Ke=>({cash:t("sales.paymentCash"),transfer:t("sales.paymentTransfer"),credit:t("sales.paymentCredit")})[Ke]||Ke},{key:"status",label:t("sales.status"),sortable:!0,type:"badge",badgeColors:{draft:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",posted:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"},formatter:Ke=>({draft:t("sales.statusDraft"),posted:t("sales.statusPosted"),cancelled:t("sales.statusCancelled")})[Ke]||Ke}]),Re=fe(()=>[{label:t("sales.view"),icon:"eye",handler:Ke=>U(Ke),condition:()=>!0},{label:"Edit",icon:"pencil",handler:Ke=>He(Ke),condition:Ke=>Ke.status==="draft",class:"text-blue-600 hover:text-blue-900 dark:text-blue-400"},{label:"Delete",icon:"trash",handler:Ke=>pe(Ke),condition:Ke=>Ke.status==="draft",class:"text-red-600 hover:text-red-900 dark:text-red-400"},{label:"Print Receipt",icon:"printer",handler:Ke=>Q(Ke),condition:()=>!0,class:"text-purple-600 hover:text-purple-900 dark:text-purple-400"},{label:t("sales.post"),icon:"check",handler:Ke=>ie(Ke),condition:Ke=>Ke.status==="draft",class:"text-green-600 hover:text-green-900 dark:text-green-400"},{label:t("sales.cancel"),icon:"x",handler:Ke=>Oe(Ke),condition:Ke=>Ke.status==="posted",class:"text-orange-600 hover:text-orange-900 dark:text-orange-400"}]),Ze=fe(()=>r.value||[]),We=fe(()=>l.value||{}),ae=fe(()=>({total_transactions:se.value.total_transactions||0,draft_count:se.value.draft_count||0,posted_count:se.value.posted_count||0,total_revenue:se.value.total_revenue||0})),ge=async()=>{try{const Ke=await d();Ke&&(se.value=Ke)}catch(Ke){console.error("Error loading statistics:",Ke),se.value={total_transactions:0,draft_count:0,posted_count:0,cancelled_count:0,total_revenue:0}}},ne=async(Ke=null)=>{try{const Se=await p(Ke);Se&&(Ae.value=Se.customers.length?Se.customers.map(mt=>({value:mt.id,label:mt.customer_name})):[],me.value=Se.products||[])}catch(Se){console.error("Error loading options:",Se),Ae.value=[],me.value=[]}},ee=async Ke=>{await ne(Ke)},ue=()=>{b(),ge()},he=()=>{w(),ge()},Ce=async()=>{V.value=!0,await m(We.value.current_page),await ge(),V.value=!1},J=Ke=>{E(Ke)},D=(Ke,Se)=>{u.value.sort_by=Ke,u.value.sort_order=Se,b()},N=({action:Ke,item:Se})=>{Ke.handler(Se)},U=async Ke=>{try{const Se=await y(Ke.id);z.value=Se,ye.value=!0}catch(Se){console.error("Error viewing sale:",Se)}},Q=async Ke=>{try{console.log("Starting print for sale:",Ke.id);const Se=await y(Ke.id);if(console.log("Full sale data received:",Se),!Se){console.error("No sale data received");return}q.value=Se,console.log("Printing sale set:",q.value),await zs(),await new Promise(mt=>setTimeout(mt,300)),console.log("About to print, printingSale.value:",q.value),console.log("Receipt element exists:",document.getElementById("print-receipt")),window.print(),setTimeout(()=>{q.value=null},1e3)}catch(Se){console.error("Error printing sale:",Se),q.value=null}},Ge=Ke=>({cash:"Tunai",transfer:"Transfer",credit:"Kredit"})[Ke]||Ke,He=async Ke=>{if(Ke.status==="draft")try{const Se=await y(Ke.id);M.value=Se,R.value=!0}catch(Se){console.error("Error loading sale for edit:",Se)}},pe=Ke=>{Ke.status==="draft"&&(W.value=Ke,B.value=!0)},ie=Ke=>{Z.value=Ke,K.value=!0},Oe=Ke=>{_e.value=Ke,Te.value=!0},nt=async()=>{if(!(!W.value||i.value))try{await c(W.value.id),Fe(),await Ce()}catch(Ke){console.error("Error deleting sale:",Ke)}},Fe=()=>{B.value=!1,W.value=null},re=async()=>{if(!(!Z.value||n.value))try{await h(Z.value.id),Y(),await Ce()}catch(Ke){console.error("Error posting sale:",Ke)}},Y=()=>{K.value=!1,Z.value=null},we=async()=>{if(!(!_e.value||n.value))try{await g(_e.value.id),Ht(),await Ce()}catch(Ke){console.error("Error cancelling sale:",Ke)}},Ht=()=>{Te.value=!1,_e.value=null},je=async({formData:Ke,isEditing:Se,saleId:mt})=>{try{Se?await x(mt,Ke):await f(Ke),de(),await Ce()}catch($t){console.error("Error saving sale:",$t)}},de=()=>{R.value=!1,M.value=null},De=()=>{ye.value=!1,z.value=null},Yt=async()=>{H.value=!0;try{await v()}catch(Ke){console.error("Error exporting sales:",Ke)}finally{H.value=!1}},rs=async()=>{try{const Ke=await Tt("/settings");Ke.success&&Object.assign(s,Ke.data)}catch(Ke){console.error("Error fetching settings:",Ke)}};return Ot(async()=>{try{await rs(),await Promise.all([j(),ne()]),await m(1),await ge()}catch(Ke){console.error("Error during initialization:",Ke)}}),(Ke,Se)=>{var mt,$t,qe,ce,Ve,ts,xe,Pe,Ye,Je,tt,at,dt,ht,ct,xt;return $(),S(Qe,null,[a("div",H1e,[a("div",q1e,[a("div",null,[a("h1",z1e,k(Ke.$t("sales.title")),1),a("p",W1e,k(Ke.$t("sales.subtitle")),1)]),a("div",K1e,[a("button",{onClick:Se[0]||(Se[0]=gt=>X.value=!X.value),class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},[L(F(Nv),{class:"w-4 h-4"}),ke(" "+k(Ke.$t("sales.filters")),1)]),a("button",{onClick:Yt,disabled:H.value,class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},[L(F(sn),{class:"w-4 h-4"}),ke(" "+k(H.value?Ke.$t("sales.exporting"):Ke.$t("sales.export")),1)],8,Y1e),a("button",{onClick:Se[1]||(Se[1]=gt=>R.value=!0),class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[L(F(la),{class:"w-4 h-4"}),ke(" "+k(Ke.$t("sales.newSale")),1)])])]),L(Bve,{stats:ae.value},null,8,["stats"]),L(yxe,{show:X.value,filters:F(u),"location-options":F(A),"customer-options":Ae.value,"onUpdate:filters":ue,onReset:he},null,8,["show","filters","location-options","customer-options"]),L(Us,{title:Ke.$t("sales.salesTransactions"),data:Ze.value,columns:Le.value,loading:F(o),"server-side-pagination":!0,pagination:We.value,onEdit:He,onDelete:pe,onRefresh:Ce,onPageChange:J,onSort:D,"show-refresh":!0,"refresh-loading":V.value,showAddButton:!1,showFilters:!1,showExport:!1,"custom-actions":Re.value,onCustomAction:N},null,8,["title","data","columns","loading","pagination","refresh-loading","custom-actions"]),L(Pbe,{"is-open":R.value||!!M.value,"editing-item":M.value,"location-options":F(A),"customer-options":Ae.value,"product-options":me.value,onClose:de,onSaved:je,onLocationChanged:ee},null,8,["is-open","editing-item","location-options","customer-options","product-options"]),L(us,{"is-open":B.value,title:Ke.$t("sales.deleteSale"),message:`${Ke.$t("sales.deleteSaleMessage")} ${((mt=W.value)==null?void 0:mt.transaction_number)||"this sale"}?`,description:Ke.$t("sales.deleteSaleDescription"),"confirm-text":Ke.$t("sales.delete"),"cancel-text":Ke.$t("sales.cancel"),loading:F(i),onConfirm:nt,onCancel:Fe},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading"]),L(us,{"is-open":K.value,title:Ke.$t("sales.postSaleTransaction"),message:`${Ke.$t("sales.postSaleMessage")} ${($t=Z.value)==null?void 0:$t.transaction_number}?`,description:Ke.$t("sales.postSaleDescription"),"confirm-text":Ke.$t("sales.post"),"cancel-text":Ke.$t("sales.cancel"),type:"warning",loading:F(n),onConfirm:re,onCancel:Y},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading"]),L(us,{"is-open":Te.value,title:Ke.$t("sales.cancelSaleTransaction"),message:`${Ke.$t("sales.cancelSaleMessage")} ${(qe=_e.value)==null?void 0:qe.transaction_number}?`,description:Ke.$t("sales.cancelSaleDescription"),"confirm-text":Ke.$t("sales.cancelSale"),"cancel-text":Ke.$t("sales.close"),type:"danger",loading:F(n),onConfirm:we,onCancel:Ht},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading"]),L(rb,{"is-open":ye.value,sale:z.value,onClose:De},null,8,["is-open","sale"])]),($(),it(Yf,{to:"body"},[a("div",G1e,[a("div",J1e,[a("div",Q1e,[a("div",X1e,[a("div",Z1e,[s.logo_sistem?($(),S("img",{key:0,src:`/storage/logo/${s.logo_sistem}`,alt:s.nama_sistem,class:"w-full h-full object-contain p-2"},null,8,eke)):($(),S("span",tke,k(((ce=s.nama_sistem)==null?void 0:ce.charAt(0))||"S"),1))])]),a("h1",ske,k(s.nama_sistem||"SINTIYA WAREHOUSE"),1),s.nama_perusahaan?($(),S("p",ake,k(s.nama_perusahaan),1)):G("",!0),s.alamat_lengkap?($(),S("p",rke,k(s.alamat_lengkap),1)):G("",!0),s.nomor_telepon?($(),S("p",oke,"Telp: "+k(s.nomor_telepon),1)):G("",!0),s.email_perusahaan?($(),S("p",nke,"Email: "+k(s.email_perusahaan),1)):G("",!0)]),a("div",ike,[a("div",lke,[Se[2]||(Se[2]=a("span",null,"No. Transaksi:",-1)),a("span",dke,k(((Ve=q.value)==null?void 0:Ve.transaction_number)||"-"),1)]),a("div",cke,[Se[3]||(Se[3]=a("span",null,"Tanggal:",-1)),a("span",null,k(F(P)((ts=q.value)==null?void 0:ts.transaction_date)),1)]),a("div",uke,[Se[4]||(Se[4]=a("span",null,"Pelanggan:",-1)),a("span",null,k(((Pe=(xe=q.value)==null?void 0:xe.customer)==null?void 0:Pe.customer_name)||((Ye=q.value)==null?void 0:Ye.customer_name)||"Walk-in Customer"),1)]),a("div",hke,[Se[5]||(Se[5]=a("span",null,"Lokasi:",-1)),a("span",null,k(((tt=(Je=q.value)==null?void 0:Je.location)==null?void 0:tt.name)||((at=q.value)==null?void 0:at.location_name)||"-"),1)])]),a("div",gke,[a("table",pke,[Se[6]||(Se[6]=a("thead",null,[a("tr",{class:"border-b border-gray-300"},[a("th",{class:"text-left py-1"},"Item"),a("th",{class:"text-center py-1 w-12"},"Qty"),a("th",{class:"text-right py-1 w-16"},"Harga"),a("th",{class:"text-right py-1 w-16"},"Total")])],-1)),a("tbody",null,[($(!0),S(Qe,null,ot(((dt=q.value)==null?void 0:dt.details)||[],(gt,yt)=>{var Ct,wt;return $(),S("tr",{key:gt.id||yt,class:"border-b border-gray-200"},[a("td",mke,[a("div",fke,k(((Ct=gt.product)==null?void 0:Ct.product_name)||gt.product_name||"-"),1),a("div",yke,k(((wt=gt.product)==null?void 0:wt.product_code)||gt.product_code||""),1)]),a("td",vke,k(gt.quantity||0),1),a("td",xke,k(F(T)(gt.unit_price)),1),a("td",bke,k(F(T)(gt.total_price)),1)])}),128))])])]),a("div",kke,[a("div",wke,[Se[7]||(Se[7]=a("span",null,"TOTAL:",-1)),a("span",null,k(F(T)(((ht=q.value)==null?void 0:ht.total_amount)||0)),1)]),a("div",_ke,[Se[8]||(Se[8]=a("span",null,"Pembayaran:",-1)),a("span",null,k(Ge((ct=q.value)==null?void 0:ct.payment_method)),1)]),a("div",$ke,[Se[9]||(Se[9]=a("span",null,"Status:",-1)),a("span",null,k(F(C)((xt=q.value)==null?void 0:xt.status)),1)])]),a("div",Cke,[Se[10]||(Se[10]=a("p",null,"Terima kasih atas kunjungan Anda!",-1)),Se[11]||(Se[11]=a("p",null,"Barang yang sudah dibeli tidak dapat dikembalikan.",-1)),s.footer_text?($(),S("p",Ske,k(s.footer_text),1)):G("",!0),a("p",Eke,k(new Date().toLocaleString("id-ID")),1)])])])]))],64)}}},Ake="modulepreload",Lke=function(e){return"/build/"+e},Vm={},Mke=function(t,s,r){let o=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(s.map(u=>{if(u=Lke(u),u in Vm)return;Vm[u]=!0;const m=u.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${y}`))return;const f=document.createElement("link");if(f.rel=m?"stylesheet":Ake,m||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),m)return new Promise((x,c)=>{f.addEventListener("load",x),f.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${u}`)))})}))}function n(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&n(l.reason);return t().catch(n)})};function Pke(){const e=O(!1),t=O(null),s=O([]),r=O(null),o=O(null),n=O({current_page:1,per_page:10,total:0,last_page:1}),i=async(d={})=>{var p,v;e.value=!0,t.value=null;try{const b=await Xe.get("/customers",{params:d});return s.value=b.data,n.value={current_page:b.current_page,per_page:b.per_page,total:b.total,last_page:b.last_page},b}catch(b){throw t.value=((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Error fetching customers",b}finally{e.value=!1}},l=async(d="")=>{var p,v;try{return await Xe.get("/customers/active",{params:{search:d}})}catch(b){throw t.value=((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Error fetching active customers",b}};return{loading:e,error:t,customers:s,customer:r,stats:o,pagination:n,fetchCustomers:i,fetchActiveCustomers:l,fetchCustomer:async d=>{var p,v;e.value=!0,t.value=null;try{const b=await Xe.get(`/customers/${d}`);return r.value=b.data,o.value=b.stats,b}catch(b){throw t.value=((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Error fetching customer",b}finally{e.value=!1}},createCustomer:async d=>{var p,v;e.value=!0,t.value=null;try{return await Xe.post("/customers",d)}catch(b){throw t.value=((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Error creating customer",b}finally{e.value=!1}},updateCustomer:async(d,p)=>{var v,b;e.value=!0,t.value=null;try{return await Xe.put(`/customers/${d}`,p)}catch(w){throw t.value=((b=(v=w.response)==null?void 0:v.data)==null?void 0:b.message)||"Error updating customer",w}finally{e.value=!1}},deleteCustomer:async d=>{var p,v;e.value=!0,t.value=null;try{return await Xe.delete(`/customers/${d}`)}catch(b){throw t.value=((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Error deleting customer",b}finally{e.value=!1}},toggleCustomerStatus:async d=>{var p,v;e.value=!0,t.value=null;try{return await Xe.post(`/customers/${d}/toggle-status`)}catch(b){throw t.value=((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Error toggling customer status",b}finally{e.value=!1}},fetchCustomerStats:async(d={})=>{var p,v;try{const b=await Xe.get("/customers/statistics",{params:d});return o.value=b,b}catch(b){throw t.value=((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Error fetching statistics",b}},exportCustomers:async(d={})=>{var p,v;try{const b=(await Mke(async()=>{const{default:P}=await Promise.resolve().then(()=>Z1);return{default:P}},void 0)).default,w=localStorage.getItem("token"),E=await b.get("/api/customers/export",{params:d,responseType:"blob",headers:{Authorization:`Bearer ${w}`}}),C=window.URL.createObjectURL(new Blob([E.data])),T=document.createElement("a");return T.href=C,T.setAttribute("download",`customers_${new Date().getTime()}.csv`),document.body.appendChild(T),T.click(),T.remove(),E.data}catch(b){throw t.value=((v=(p=b.response)==null?void 0:p.data)==null?void 0:v.message)||"Error exporting customers",b}},searchCustomers:async(d,p={})=>await l(d)}}const Dke={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ike={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},Oke={class:"flex items-center justify-between"},Fke={class:"flex-1"},Rke={key:0,class:"mt-2"},jke={key:1,class:"text-2xl font-bold text-gray-900 dark:text-white mt-2"},Nke={key:0,class:"animate-pulse"},Vke={key:1,class:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg"},Bke={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},Uke={class:"flex items-center justify-between"},Hke={class:"flex-1"},qke={key:0,class:"mt-2"},zke={key:1,class:"text-2xl font-bold text-gray-900 dark:text-white mt-2"},Wke={key:0,class:"animate-pulse"},Kke={key:1,class:"bg-green-100 dark:bg-green-900 p-3 rounded-lg"},Yke={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},Gke={class:"flex items-center justify-between"},Jke={class:"flex-1"},Qke={key:0,class:"mt-2"},Xke={key:1,class:"text-2xl font-bold text-gray-900 dark:text-white mt-2"},Zke={key:0,class:"animate-pulse"},e2e={key:1,class:"bg-gray-100 dark:bg-gray-900 p-3 rounded-lg"},t2e={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},s2e={class:"flex items-center justify-between"},a2e={class:"flex-1"},r2e={key:0,class:"mt-2"},o2e={key:1,class:"text-2xl font-bold text-gray-900 dark:text-white mt-2"},n2e={key:0,class:"animate-pulse"},i2e={key:1,class:"bg-purple-100 dark:bg-purple-900 p-3 rounded-lg"},l2e={__name:"CustomerStats",props:{stats:{type:Object,default:()=>({total_customers:0,active_customers:0,inactive_customers:0,new_customers_this_month:0})},loading:{type:Boolean,default:!1}},setup(e){return(t,s)=>{var r,o,n,i;return $(),S("div",Dke,[a("div",Ike,[a("div",Oke,[a("div",Fke,[s[1]||(s[1]=a("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"}," Total Customers ",-1)),e.loading?($(),S("div",Rke,[...s[0]||(s[0]=[a("div",{class:"animate-pulse"},[a("div",{class:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-16"})],-1)])])):($(),S("p",jke,k(((r=e.stats)==null?void 0:r.total_customers)||0),1))]),e.loading?($(),S("div",Nke,[...s[2]||(s[2]=[a("div",{class:"bg-gray-200 dark:bg-gray-700 p-3 rounded-lg"},[a("div",{class:"w-6 h-6 bg-gray-300 dark:bg-gray-600 rounded"})],-1)])])):($(),S("div",Vke,[L(F(xd),{class:"w-6 h-6 text-blue-600 dark:text-blue-300"})]))])]),a("div",Bke,[a("div",Uke,[a("div",Hke,[s[4]||(s[4]=a("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"}," Active Customers ",-1)),e.loading?($(),S("div",qke,[...s[3]||(s[3]=[a("div",{class:"animate-pulse"},[a("div",{class:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-12"})],-1)])])):($(),S("p",zke,k(((o=e.stats)==null?void 0:o.active_customers)||0),1))]),e.loading?($(),S("div",Wke,[...s[5]||(s[5]=[a("div",{class:"bg-gray-200 dark:bg-gray-700 p-3 rounded-lg"},[a("div",{class:"w-6 h-6 bg-gray-300 dark:bg-gray-600 rounded"})],-1)])])):($(),S("div",Kke,[L(F(Fs),{class:"w-6 h-6 text-green-600 dark:text-green-300"})]))])]),a("div",Yke,[a("div",Gke,[a("div",Jke,[s[7]||(s[7]=a("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"}," Inactive Customers ",-1)),e.loading?($(),S("div",Qke,[...s[6]||(s[6]=[a("div",{class:"animate-pulse"},[a("div",{class:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-14"})],-1)])])):($(),S("p",Xke,k(((n=e.stats)==null?void 0:n.inactive_customers)||0),1))]),e.loading?($(),S("div",Zke,[...s[8]||(s[8]=[a("div",{class:"bg-gray-200 dark:bg-gray-700 p-3 rounded-lg"},[a("div",{class:"w-6 h-6 bg-gray-300 dark:bg-gray-600 rounded"})],-1)])])):($(),S("div",e2e,[L(F(il),{class:"w-6 h-6 text-gray-600 dark:text-gray-300"})]))])]),a("div",t2e,[a("div",s2e,[a("div",a2e,[s[10]||(s[10]=a("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"}," New This Month ",-1)),e.loading?($(),S("div",r2e,[...s[9]||(s[9]=[a("div",{class:"animate-pulse"},[a("div",{class:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-10"})],-1)])])):($(),S("p",o2e,k(((i=e.stats)==null?void 0:i.new_customers_this_month)||0),1))]),e.loading?($(),S("div",n2e,[...s[11]||(s[11]=[a("div",{class:"bg-gray-200 dark:bg-gray-700 p-3 rounded-lg"},[a("div",{class:"w-6 h-6 bg-gray-300 dark:bg-gray-600 rounded"})],-1)])])):($(),S("div",i2e,[L(F(DS),{class:"w-6 h-6 text-purple-600 dark:text-purple-300"})]))])])])}}},d2e={key:0,class:"absolute inset-0 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm z-10 flex items-center justify-center rounded-lg"},c2e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},u2e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},h2e={class:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700"},g2e=["disabled"],p2e={key:0,class:"flex items-center gap-2"},m2e={key:1},f2e={__name:"CustomerFormModal",props:{isOpen:{type:Boolean,default:!1},editingItem:{type:Object,default:null}},emits:["close","saved"],setup(e,{emit:t}){const s=e,r=t,o=O(!1),n=O(!1),i=O({}),l=O({customer_code:"",customer_name:"",address:"",phone:"",email:"",notes:"",status:"active"}),u=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}],m=()=>{l.value={customer_code:"",customer_name:"",address:"",phone:"",email:"",notes:"",status:"active"},i.value={}};Et(()=>s.editingItem,c=>{c?(n.value=!0,setTimeout(()=>{l.value={customer_code:c.customer_code||"",customer_name:c.customer_name||"",address:c.address||"",phone:c.phone||"",email:c.email||"",notes:c.notes||"",status:c.status||"active"},n.value=!1},300)):(m(),n.value=!1)},{immediate:!0});const y=async()=>{var c;if(i.value={},!((c=l.value.customer_name)!=null&&c.trim())){i.value.customer_name="Customer name is required";return}if(l.value.email&&!x(l.value.email)){i.value.email="Please enter a valid email address";return}o.value=!0;try{r("saved",l.value)}finally{o.value=!1}},f=()=>{o.value||(m(),r("close"))},x=c=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c);return(c,h)=>($(),it(Vt,{"is-open":e.isOpen,title:e.editingItem?"Edit Customer":"New Customer",size:"2xl",onClose:f,"close-on-backdrop":!o.value},{default:le(()=>{var g,d,p,v,b,w,E;return[n.value?($(),S("div",d2e,[...h[7]||(h[7]=[a("div",{class:"flex flex-col items-center gap-3"},[a("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Loading customer data... ")],-1)])])):G("",!0),a("form",{onSubmit:Bt(y,["prevent"]),class:"space-y-6 relative"},[a("div",c2e,[L(et,{modelValue:l.value.customer_code,"onUpdate:modelValue":h[0]||(h[0]=C=>l.value.customer_code=C),label:"Customer Code",placeholder:"Auto-generated if empty",error:(g=i.value)==null?void 0:g.customer_code,disabled:n.value},null,8,["modelValue","error","disabled"]),L(et,{modelValue:l.value.customer_name,"onUpdate:modelValue":h[1]||(h[1]=C=>l.value.customer_name=C),label:"Customer Name",placeholder:"Enter customer name",required:"",error:(d=i.value)==null?void 0:d.customer_name,disabled:n.value},null,8,["modelValue","error","disabled"])]),a("div",u2e,[L(et,{modelValue:l.value.phone,"onUpdate:modelValue":h[2]||(h[2]=C=>l.value.phone=C),label:"Phone",type:"tel",placeholder:"Enter phone number",error:(p=i.value)==null?void 0:p.phone,disabled:n.value},null,8,["modelValue","error","disabled"]),L(et,{modelValue:l.value.email,"onUpdate:modelValue":h[3]||(h[3]=C=>l.value.email=C),label:"Email",type:"email",placeholder:"Enter email address",error:(v=i.value)==null?void 0:v.email,disabled:n.value},null,8,["modelValue","error","disabled"])]),L(ws,{modelValue:l.value.address,"onUpdate:modelValue":h[4]||(h[4]=C=>l.value.address=C),label:"Address",placeholder:"Enter full address",rows:"3",error:(b=i.value)==null?void 0:b.address,disabled:n.value},null,8,["modelValue","error","disabled"]),L(ut,{modelValue:l.value.status,"onUpdate:modelValue":h[5]||(h[5]=C=>l.value.status=C),label:"Status",options:u,required:"",error:(w=i.value)==null?void 0:w.status,disabled:n.value},null,8,["modelValue","error","disabled"]),L(ws,{modelValue:l.value.notes,"onUpdate:modelValue":h[6]||(h[6]=C=>l.value.notes=C),label:"Notes",placeholder:"Additional notes (optional)",rows:"3",error:(E=i.value)==null?void 0:E.notes,disabled:n.value},null,8,["modelValue","error","disabled"]),a("div",h2e,[a("button",{type:"button",onClick:f,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"}," Cancel "),a("button",{type:"submit",disabled:o.value,class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[o.value?($(),S("span",p2e,[...h[8]||(h[8]=[a("svg",{class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),ke(" Saving... ",-1)])])):($(),S("span",m2e,k(e.editingItem?"Update":"Save"),1))],8,g2e)])],32)]}),_:1},8,["is-open","title","close-on-backdrop"]))}},y2e={class:"space-y-6 max-h-[calc(100vh-12rem)] overflow-y-auto custom-scrollbar"},v2e={key:0,class:"space-y-6"},x2e={key:1,class:"text-center py-12"},b2e={key:2,class:"space-y-6"},k2e={class:"flex items-start justify-between pb-6 border-b border-gray-200 dark:border-gray-700"},w2e={class:"flex items-start gap-4"},_2e={class:"flex-shrink-0 w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg"},$2e={class:"text-2xl font-bold text-white"},C2e={class:"text-2xl font-bold text-gray-900 dark:text-white"},S2e={class:"text-sm text-gray-500 dark:text-gray-400 mt-1 font-medium"},E2e={class:"flex items-center"},T2e={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},A2e={class:"space-y-4"},L2e={class:"space-y-4"},M2e={class:"group p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},P2e={class:"flex items-start gap-3"},D2e={class:"flex-1 min-w-0"},I2e={class:"text-base font-semibold text-gray-900 dark:text-white mt-1"},O2e={class:"group p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},F2e={class:"flex items-start gap-3"},R2e={class:"flex-1 min-w-0"},j2e={class:"text-base font-semibold text-gray-900 dark:text-white mt-1"},N2e={class:"space-y-4"},V2e={class:"space-y-4"},B2e={class:"group p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},U2e={class:"flex items-start gap-3"},H2e={class:"flex-1 min-w-0"},q2e={class:"text-base font-semibold text-gray-900 dark:text-white mt-1"},z2e={class:"group p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"},W2e={class:"flex items-start gap-3"},K2e={class:"flex-1 min-w-0"},Y2e={class:"text-base font-semibold text-gray-900 dark:text-white mt-1 truncate"},G2e={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},J2e={class:"space-y-4"},Q2e={class:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-800/30 rounded-lg p-5 border border-gray-200 dark:border-gray-700 min-h-[100px]"},X2e={class:"text-sm text-gray-900 dark:text-white leading-relaxed"},Z2e={class:"space-y-4"},ewe={class:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-800/30 rounded-lg p-5 border border-gray-200 dark:border-gray-700 min-h-[100px]"},twe={class:"text-sm text-gray-900 dark:text-white leading-relaxed"},swe={key:0,class:"space-y-4"},awe={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4"},rwe={class:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800 transition-all hover:shadow-md"},owe={class:"flex items-center"},nwe={class:"ml-4"},iwe={class:"text-2xl font-bold text-blue-900 dark:text-blue-100"},lwe={class:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-lg p-4 border border-green-200 dark:border-green-800 transition-all hover:shadow-md"},dwe={class:"flex items-center"},cwe={class:"ml-4"},uwe={class:"text-2xl font-bold text-green-900 dark:text-green-100"},hwe={class:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800 transition-all hover:shadow-md"},gwe={class:"flex items-center"},pwe={class:"ml-4"},mwe={class:"text-lg font-bold text-purple-900 dark:text-purple-100"},fwe={key:1,class:"space-y-4"},ywe={class:"overflow-x-auto custom-scrollbar"},vwe={class:"inline-block min-w-full align-middle"},xwe={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",role:"table"},bwe={class:"bg-white dark:bg-gray-900/50 divide-y divide-gray-200 dark:divide-gray-700"},kwe=["onClick"],wwe={class:"px-5 py-4 text-sm font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400"},_we={class:"px-5 py-4 text-sm text-gray-700 dark:text-gray-300"},$we={class:"px-5 py-4 text-sm font-semibold text-gray-900 dark:text-white"},Cwe={class:"px-5 py-4 text-sm"},Swe={class:"flex flex-col sm:flex-row justify-between items-center gap-4 pt-6 border-t-2 border-gray-200 dark:border-gray-700 sticky bottom-0 bg-white dark:bg-gray-900"},Ewe={class:"flex flex-col sm:flex-row gap-3 order-1 sm:order-2 w-full sm:w-auto"},Twe={__name:"CustomerDetailsModal",props:{isOpen:{type:Boolean,default:!1},customer:{type:Object,default:null},loading:{type:Boolean,default:!1}},emits:["close","edit","delete","view-sale"],setup(e,{emit:t}){const s=e,r=t,o={name:"CollapsibleSection",props:{title:{type:String,required:!0},icon:{type:String,default:"default"},defaultOpen:{type:Boolean,default:!1}},setup(x,{slots:c}){const h=O(x.defaultOpen),g=()=>{h.value=!h.value},d=()=>{const p={"chart-bar":as("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[as("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),receipt:as("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[as("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),default:as("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[as("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])};return p[x.icon]||p.default};return()=>{var p;return as("div",{class:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden transition-all hover:shadow-md"},[as("button",{type:"button",class:"w-full px-5 py-4 flex items-center justify-between text-sm font-semibold text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-800 transition-all focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",onClick:g,"aria-expanded":h.value},[as("div",{class:"flex items-center gap-3"},[d(),as("span",{class:"text-base"},x.title)]),as("svg",{class:`w-5 h-5 transition-transform duration-300 ${h.value?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[as("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])]),as("div",{class:`transition-all duration-300 ease-in-out ${h.value?"max-h-[500px] opacity-100":"max-h-0 opacity-0"} overflow-auto custom-scrollbar`},[as("div",{class:"px-5 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/30"},[(p=c.default)==null?void 0:p.call(c)])])])}}},n=x=>{if(!x)return"??";const c=x.trim().split(" ");return c.length===1?c[0].substring(0,2).toUpperCase():(c[0][0]+c[c.length-1][0]).toUpperCase()},i=async(x,c)=>{try{await navigator.clipboard.writeText(x),console.log(`${c} copied to clipboard`)}catch(h){console.error("Failed to copy:",h)}},l=x=>{s.isOpen&&x.key==="Escape"&&r("close")};Ot(()=>{document.addEventListener("keydown",l)}),Ea(()=>{document.removeEventListener("keydown",l)});const u=x=>{const c={active:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",inactive:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return c[x]||c.inactive},m=x=>{const c={draft:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",posted:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",cancelled:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"};return c[x]||c.draft},y=x=>!x&&x!==0?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(x),f=x=>x?new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";return(x,c)=>($(),it(Vt,{"is-open":e.isOpen,title:"Customer Details",size:"2xl",onClose:c[6]||(c[6]=h=>x.$emit("close")),role:"dialog","aria-labelledby":"customer-details-title","aria-describedby":"customer-details-content"},{default:le(()=>[a("div",y2e,[e.loading?($(),S("div",v2e,[...c[7]||(c[7]=[a("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[a("div",{class:"space-y-4"},[a("div",{class:"animate-pulse"},[a("div",{class:"h-6 bg-gray-200 dark:bg-gray-700 rounded-lg w-48 mb-4"})]),a("div",{class:"space-y-3"},[a("div",{class:"animate-pulse"},[a("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 mb-2"}),a("div",{class:"h-5 bg-gray-200 dark:bg-gray-700 rounded-lg w-32"})]),a("div",{class:"animate-pulse"},[a("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-28 mb-2"}),a("div",{class:"h-5 bg-gray-200 dark:bg-gray-700 rounded-lg w-40"})]),a("div",{class:"animate-pulse"},[a("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-16 mb-2"}),a("div",{class:"h-6 bg-gray-200 dark:bg-gray-700 rounded-lg w-20"})])])]),a("div",{class:"space-y-4"},[a("div",{class:"animate-pulse"},[a("div",{class:"h-6 bg-gray-200 dark:bg-gray-700 rounded-lg w-40 mb-4"})]),a("div",{class:"space-y-3"},[a("div",{class:"animate-pulse"},[a("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-16 mb-2"}),a("div",{class:"h-5 bg-gray-200 dark:bg-gray-700 rounded-lg w-36"})]),a("div",{class:"animate-pulse"},[a("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-12 mb-2"}),a("div",{class:"h-5 bg-gray-200 dark:bg-gray-700 rounded-lg w-44"})]),a("div",{class:"animate-pulse"},[a("div",{class:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-20 mb-2"}),a("div",{class:"h-16 bg-gray-200 dark:bg-gray-700 rounded-lg w-full"})])])])],-1)])])):e.customer?($(),S("div",b2e,[a("div",k2e,[a("div",w2e,[a("div",_2e,[a("span",$2e,k(n(e.customer.customer_name)),1)]),a("div",null,[a("h2",C2e,k(e.customer.customer_name),1),a("p",S2e,k(e.customer.customer_code),1)])]),a("div",E2e,[a("span",{class:Ee(u(e.customer.status))},k(e.customer.status.charAt(0).toUpperCase()+e.customer.status.slice(1)),3)])]),a("div",T2e,[a("div",A2e,[c[14]||(c[14]=a("h3",{class:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider flex items-center gap-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),ke(" Basic Information ")],-1)),a("div",L2e,[a("div",M2e,[a("div",P2e,[c[11]||(c[11]=a("div",{class:"flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},[a("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])],-1)),a("div",D2e,[c[9]||(c[9]=a("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," Customer Code ",-1)),a("p",I2e,k(e.customer.customer_code),1)]),a("button",{type:"button",onClick:c[0]||(c[0]=h=>i(e.customer.customer_code,"Customer code")),class:"flex-shrink-0 p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Copy to clipboard"},[...c[10]||(c[10]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)])])])]),a("div",O2e,[a("div",F2e,[c[13]||(c[13]=a("div",{class:"flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},[a("svg",{class:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),a("div",R2e,[c[12]||(c[12]=a("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," Customer Name ",-1)),a("p",j2e,k(e.customer.customer_name),1)])])])])]),a("div",N2e,[c[21]||(c[21]=a("h3",{class:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider flex items-center gap-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),ke(" Contact Information ")],-1)),a("div",V2e,[a("div",B2e,[a("div",U2e,[c[17]||(c[17]=a("div",{class:"flex-shrink-0 w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},[a("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})])],-1)),a("div",H2e,[c[15]||(c[15]=a("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," Phone ",-1)),a("p",q2e,k(e.customer.phone||"Not provided"),1)]),e.customer.phone?($(),S("button",{key:0,type:"button",onClick:c[1]||(c[1]=h=>i(e.customer.phone,"Phone number")),class:"flex-shrink-0 p-2 text-gray-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Copy to clipboard"},[...c[16]||(c[16]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)])])):G("",!0)])]),a("div",z2e,[a("div",W2e,[c[20]||(c[20]=a("div",{class:"flex-shrink-0 w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform"},[a("svg",{class:"w-5 h-5 text-orange-600 dark:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),a("div",K2e,[c[18]||(c[18]=a("p",{class:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," Email ",-1)),a("p",Y2e,k(e.customer.email||"Not provided"),1)]),e.customer.email?($(),S("button",{key:0,type:"button",onClick:c[2]||(c[2]=h=>i(e.customer.email,"Email")),class:"flex-shrink-0 p-2 text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-orange-50 dark:hover:bg-orange-900/30 rounded-lg transition-all opacity-0 group-hover:opacity-100",title:"Copy to clipboard"},[...c[19]||(c[19]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)])])):G("",!0)])])])])]),a("div",G2e,[a("div",J2e,[c[22]||(c[22]=a("h3",{class:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider flex items-center gap-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]),ke(" Address ")],-1)),a("div",Q2e,[a("p",X2e,k(e.customer.address||"No address provided"),1)])]),a("div",Z2e,[c[23]||(c[23]=a("h3",{class:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider flex items-center gap-2"},[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})]),ke(" Notes ")],-1)),a("div",ewe,[a("p",twe,k(e.customer.notes||"No notes available"),1)])])]),e.customer.stats?($(),S("div",swe,[L(o,{title:"Customer Statistics",icon:"chart-bar","default-open":!0},{default:le(()=>[a("div",awe,[a("div",rwe,[a("div",owe,[c[25]||(c[25]=a("div",{class:"flex-shrink-0 p-2 bg-blue-500 rounded-md"},[a("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),a("div",nwe,[c[24]||(c[24]=a("p",{class:"text-sm font-medium text-blue-600 dark:text-blue-400"}," Total Sales ",-1)),a("p",iwe,k(e.customer.stats.total_sales||0),1)])])]),a("div",lwe,[a("div",dwe,[c[27]||(c[27]=a("div",{class:"flex-shrink-0 p-2 bg-green-500 rounded-md"},[a("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a("div",cwe,[c[26]||(c[26]=a("p",{class:"text-sm font-medium text-green-600 dark:text-green-400"}," Total Revenue ",-1)),a("p",uwe,k(y(e.customer.stats.total_revenue||0)),1)])])]),a("div",hwe,[a("div",gwe,[c[29]||(c[29]=a("div",{class:"flex-shrink-0 p-2 bg-purple-500 rounded-md"},[a("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),a("div",pwe,[c[28]||(c[28]=a("p",{class:"text-sm font-medium text-purple-600 dark:text-purple-400"}," Last Purchase ",-1)),a("p",mwe,k(f(e.customer.stats.last_purchase_date)),1)])])])])]),_:1})])):G("",!0),e.customer.sales&&e.customer.sales.length>0?($(),S("div",fwe,[L(o,{title:`Recent Sales (${e.customer.sales.length})`,icon:"receipt","default-open":!1},{default:le(()=>[a("div",ywe,[a("div",vwe,[a("table",xwe,[c[30]||(c[30]=a("thead",{class:"bg-gray-100 dark:bg-gray-800/70"},[a("tr",null,[a("th",{class:"px-5 py-3.5 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"}," Transaction # "),a("th",{class:"px-5 py-3.5 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"}," Date "),a("th",{class:"px-5 py-3.5 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"}," Amount "),a("th",{class:"px-5 py-3.5 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase tracking-wider"}," Status ")])],-1)),a("tbody",bwe,[($(!0),S(Qe,null,ot(e.customer.sales,h=>($(),S("tr",{key:h.id,class:"hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer transition-all duration-200 group",onClick:g=>x.$emit("view-sale",h)},[a("td",wwe,k(h.transaction_number),1),a("td",_we,k(f(h.transaction_date)),1),a("td",$we,k(y(h.total_amount)),1),a("td",Cwe,[a("span",{class:Ee(m(h.status))},k(h.status.toUpperCase()),3)])],8,kwe))),128))])])])])]),_:1},8,["title"])])):G("",!0),a("div",Swe,[a("button",{type:"button",onClick:c[3]||(c[3]=h=>x.$emit("close")),class:"w-full sm:w-auto order-2 sm:order-1 px-5 py-2.5 text-sm font-semibold text-gray-700 bg-white border-2 border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:border-gray-500 transition-all shadow-sm hover:shadow"}," Close "),a("div",Ewe,[a("button",{type:"button",onClick:c[4]||(c[4]=h=>x.$emit("edit",e.customer)),class:"flex-1 sm:flex-none inline-flex items-center justify-center gap-2 px-5 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5"},[...c[31]||(c[31]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),ke(" Edit Customer ",-1)])]),a("button",{type:"button",onClick:c[5]||(c[5]=h=>x.$emit("delete",e.customer)),class:"flex-1 sm:flex-none inline-flex items-center justify-center gap-2 px-5 py-2.5 text-sm font-semibold text-white bg-gradient-to-r from-red-600 to-red-700 rounded-lg hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all shadow-md hover:shadow-lg transform hover:-translate-y-0.5"},[...c[32]||(c[32]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),ke(" Delete ",-1)])])])])])):($(),S("div",x2e,[...c[8]||(c[8]=[a("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full mb-4"},[a("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})])],-1),a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No Customer Data ",-1),a("p",{class:"text-gray-500 dark:text-gray-400"}," The customer information could not be loaded. ",-1)])]))])]),_:1},8,["is-open"]))}},Awe=ja(Twe,[["__scopeId","data-v-d2c45afb"]]),Lwe={class:"space-y-6"},Mwe={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Pwe={class:"text-2xl font-bold text-gray-900 dark:text-white"},Dwe={class:"text-gray-500 dark:text-gray-400 mt-1"},Iwe={class:"flex items-center gap-3"},Owe=["disabled"],Fwe={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Rwe={class:"flex items-center justify-end gap-2"},jwe=["onClick","title"],Nwe=["onClick","title"],Vwe=["onClick","title"],Bwe=["onClick","title"],Uwe={__name:"Customers",setup(e){const{t}=fa(),{customers:s,loading:r,pagination:o,fetchCustomers:n,fetchCustomer:i,createCustomer:l,updateCustomer:u,deleteCustomer:m,toggleCustomerStatus:y,fetchCustomerStats:f,exportCustomers:x}=Pke(),{fetchSale:c}=ah(),h=Ut(),g=O(!1),d=O(!1),p=O(!1),v=O(!1),b=O(!1),w=O(null),E=O(!1),C=O(null),T=O(!1),P=O(null),A=O(!1),j=O(!1),V=O(null),H=O(!1),R=O(!1),M=O(null),B=O({total_customers:0,active_customers:0,inactive_customers:0,new_customers_this_month:0}),W=fe(()=>s.value),K=fe(()=>o.value),Z=fe(()=>[{key:"customer_code",label:t("customers.code"),sortable:!0},{key:"customer_name",label:t("customers.name"),sortable:!0},{key:"phone",label:t("customers.phone"),sortable:!1,format:D=>D||"-"},{key:"email",label:t("customers.email"),sortable:!1,format:D=>D||"-"},{key:"status",label:t("customers.status"),sortable:!0,format:D=>({active:t("customers.statusActive"),inactive:t("customers.statusInactive")})[D]||D,class:D=>Ce(D)},{key:"created_at",label:t("customers.created"),sortable:!0,format:D=>J(D)}]),Te=async()=>{g.value=!0,v.value=!0;try{await n({page:K.value.current_page,per_page:K.value.per_page}),await f().then(D=>{B.value=D}),h.success(t("customers.refreshSuccess"))}catch(D){h.error(t("customers.refreshError"),D.message)}finally{g.value=!1,v.value=!1}},_e=D=>{n({page:D,per_page:K.value.per_page})},ye=({column:D,direction:N})=>{n({page:K.value.current_page,per_page:K.value.per_page,sort_by:D,sort_order:N})},z=async D=>{w.value={...D}},q=D=>{C.value=D,E.value=!0},X=async(D,N)=>{{A.value=!0,T.value=!0;try{const U=await i(N.id);P.value=U.data}catch(U){h.error(t("customers.detailsError"),U.message)}finally{A.value=!1}}},se=D=>{M.value=D,R.value=!0},Ae=async()=>{H.value=!0;try{await y(M.value.id),h.success(t("customers.statusUpdateSuccess")),await Te(),me()}catch(D){h.error(t("customers.statusError"),D.message)}finally{H.value=!1}},me=()=>{R.value=!1,M.value=null},Le=async()=>{d.value=!0;try{await x(),h.success(t("customers.exportSuccess"))}catch(D){h.error(t("customers.exportError"),D.message)}finally{d.value=!1}},Re=async D=>{try{w.value?(await u(w.value.id,D),h.success(t("customers.updateSuccess"))):(await l(D),h.success(t("customers.createSuccess"))),ae(),await Te()}catch(N){h.error(t("customers.saveError"),N.message)}},Ze=async()=>{p.value=!0;try{await m(C.value.id),h.success(t("customers.deleteSuccess")),E.value=!1,C.value=null,await Te()}catch(D){h.error(t("customers.deleteError"),D.message)}finally{p.value=!1}},We=()=>{E.value=!1,C.value=null},ae=()=>{b.value=!1,w.value=null},ge=()=>{T.value=!1,P.value=null},ne=D=>{ge(),z(D)},ee=D=>{ge(),q(D)},ue=async D=>{try{const N=await c(D.id);V.value=N,j.value=!0}catch(N){h.error(t("customers.detailsError"),N.message)}},he=()=>{j.value=!1,V.value=null},Ce=D=>{const N={active:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",inactive:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return N[D]||N.inactive},J=D=>D?new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";return Ot(async()=>{v.value=!0;try{await n(),await f().then(D=>{B.value=D})}finally{v.value=!1}}),(D,N)=>{var U,Q,Ge,He;return $(),S("div",Lwe,[a("div",Mwe,[a("div",null,[a("h1",Pwe,k(D.$t("customers.title")),1),a("p",Dwe,k(D.$t("customers.subtitle")),1)]),a("div",Iwe,[a("button",{onClick:Le,disabled:d.value,class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600"},[d.value?($(),S("svg",Fwe,[...N[1]||(N[1]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):($(),it(F(sn),{key:1,class:"w-4 h-4"})),ke(" "+k(d.value?D.$t("customers.exporting"):D.$t("customers.export")),1)],8,Owe),a("button",{onClick:N[0]||(N[0]=pe=>b.value=!0),class:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[L(F(la),{class:"w-4 h-4"}),ke(" "+k(D.$t("customers.newCustomer")),1)])])]),L(l2e,{stats:B.value,loading:v.value},null,8,["stats","loading"]),L(Us,{title:D.$t("customers.customersTable"),data:W.value,columns:Z.value,loading:F(r),"server-side-pagination":!0,pagination:K.value,onEdit:z,onDelete:q,onRefresh:Te,onPageChange:_e,onSort:ye,"show-refresh":!0,"refresh-loading":g.value,showAddButton:!1,showFilters:!0,showExport:!1},{actions:le(({item:pe})=>[a("div",Rwe,[a("button",{type:"button",onClick:Bt(ie=>X("view",pe),["stop","prevent"]),class:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200 dark:hover:text-blue-400 dark:hover:bg-blue-900/20",title:D.$t("customers.viewDetails")},[L(F(Ta),{class:"w-4 h-4"})],8,jwe),a("button",{type:"button",onClick:Bt(ie=>z(pe),["stop","prevent"]),class:"p-1.5 text-gray-400 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors duration-200 dark:hover:text-amber-400 dark:hover:bg-amber-900/20",title:D.$t("customers.editCustomer")},[L(F(Bs),{class:"w-4 h-4"})],8,Nwe),a("button",{type:"button",onClick:Bt(ie=>se(pe),["stop","prevent"]),class:"p-1.5 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors duration-200 dark:hover:text-purple-400 dark:hover:bg-purple-900/20",title:pe.status==="active"?D.$t("customers.setInactive"):D.$t("customers.setActive")},[L(F(Ur),{class:"w-4 h-4"})],8,Vwe),a("button",{type:"button",onClick:Bt(ie=>q(pe),["stop","prevent"]),class:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 dark:hover:text-red-400 dark:hover:bg-red-900/20",title:D.$t("customers.deleteCustomer")},[L(F(Ks),{class:"w-4 h-4"})],8,Bwe)])]),_:1},8,["title","data","columns","loading","pagination","refresh-loading"]),L(f2e,{"is-open":b.value||!!w.value,"editing-item":w.value,onClose:ae,onSaved:Re},null,8,["is-open","editing-item"]),L(us,{"is-open":E.value,title:D.$t("customers.deleteCustomerTitle"),message:`${D.$t("customers.deleteCustomerMessage")} ${((U=C.value)==null?void 0:U.customer_name)||D.$t("customers.thisCustomer")}?`,description:D.$t("customers.deleteCustomerDescription"),"confirm-text":D.$t("customers.delete"),"cancel-text":D.$t("customers.cancel"),loading:p.value,onConfirm:Ze,onCancel:We},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading"]),L(us,{"is-open":R.value,title:((Q=M.value)==null?void 0:Q.status)==="active"?D.$t("customers.deactivateCustomer"):D.$t("customers.activateCustomer"),message:`${((Ge=M.value)==null?void 0:Ge.status)==="active"?D.$t("customers.deactivateMessage"):D.$t("customers.activateMessage")} ${((He=M.value)==null?void 0:He.customer_name)||D.$t("customers.thisCustomer")}?`,description:D.$t("customers.toggleStatusDescription"),"confirm-text":D.$t("customers.confirm"),"cancel-text":D.$t("customers.cancel"),loading:H.value,onConfirm:Ae,onCancel:me},null,8,["is-open","title","message","description","confirm-text","cancel-text","loading"]),L(Awe,{"is-open":T.value,customer:P.value,loading:A.value,onClose:ge,onEdit:ne,onDelete:ee,onViewSale:ue},null,8,["is-open","customer","loading"]),L(rb,{"is-open":j.value,sale:V.value,onClose:he},null,8,["is-open","sale"])])}}},Hwe={class:"space-y-6"},qwe={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},zwe={class:"text-2xl font-bold text-gray-900 dark:text-white"},Wwe={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},Kwe={class:"flex gap-2"},Ywe={key:0,class:"flex gap-2"},Gwe={key:1},Jwe={key:2,class:"hs-dropdown relative inline-flex"},Qwe=["disabled"],Xwe={key:0,class:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24"},Zwe={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e_e={key:2,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t_e={class:"hs-dropdown-menu transition-all duration-200 hs-dropdown-open:opacity-100 opacity-0 hidden min-w-48 bg-white shadow-lg rounded-lg border border-gray-200 p-2 dark:bg-gray-800 dark:border-gray-700 mt-2"},s_e=["disabled"],a_e=["disabled"],r_e={class:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden"},o_e={key:0,class:"flex items-center justify-center py-12"},n_e={key:1,class:"flex items-center justify-center py-12"},i_e={class:"text-center"},l_e={class:"text-sm text-gray-500 dark:text-gray-400 mb-4"},d_e={key:2},hl={__name:"ReportLayout",props:{title:{type:String,required:!0},description:{type:String,default:""},showDateRange:{type:Boolean,default:!0},showSingleDate:{type:Boolean,default:!1},showExport:{type:Boolean,default:!0},defaultStartDate:{type:String,default:""},defaultEndDate:{type:String,default:""},exporting:{type:Boolean,default:!1}},emits:["generate","export"],setup(e,{expose:t,emit:s}){const r=e,o=s,n=O(!1),i=O(null),l=O(null),u=O(r.defaultStartDate),m=O(r.defaultEndDate),y=fe(()=>r.showSingleDate?{end_date:m.value}:{start_date:u.value,end_date:m.value}),f=async()=>{if(c()){n.value=!0,i.value=null;try{await o("generate",y.value)}catch(h){i.value=h.message||"Failed to generate report"}finally{n.value=!1}}},x=async h=>{if(c())try{await o("export",{...y.value,format:h})}catch(g){i.value=g.message||"Failed to export report"}},c=()=>{if(r.showDateRange){if(!u.value||!m.value)return i.value="Please select both start and end dates",!1;if(new Date(u.value)>new Date(m.value))return i.value="Start date must be before end date",!1}else if(r.showSingleDate&&!m.value)return i.value="Please select an end date",!1;return!0};return Ot(()=>{if(!u.value&&r.showDateRange){const h=new Date,g=new Date(h.getFullYear(),h.getMonth(),1);u.value=g.toISOString().split("T")[0]}if(!m.value){const h=new Date;m.value=h.toISOString().split("T")[0]}}),Et([u,m],()=>{i.value=null}),t({setReportData:h=>{l.value=h},setLoading:h=>{n.value=h},setError:h=>{i.value=h}}),(h,g)=>($(),S("div",Hwe,[a("div",qwe,[a("div",null,[a("h1",zwe,k(e.title),1),a("p",Wwe,k(e.description),1)]),a("div",Kwe,[e.showDateRange?($(),S("div",Ywe,[rt(a("input",{"onUpdate:modelValue":g[0]||(g[0]=d=>u.value=d),type:"date",class:"text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,512),[[It,u.value]]),rt(a("input",{"onUpdate:modelValue":g[1]||(g[1]=d=>m.value=d),type:"date",class:"text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,512),[[It,m.value]])])):e.showSingleDate?($(),S("div",Gwe,[rt(a("input",{"onUpdate:modelValue":g[2]||(g[2]=d=>m.value=d),type:"date",class:"text-sm border border-gray-300 rounded-lg px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"},null,512),[[It,m.value]])])):G("",!0),L(ft,{onClick:f,loading:n.value,variant:"primary",size:"sm"},{default:le(()=>[...g[5]||(g[5]=[a("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v1a1 1 0 001 1h4a1 1 0 001-1v-1m3-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6m9-4h-4"})],-1),ke(" Generate Report ",-1)])]),_:1},8,["loading"]),e.showExport?($(),S("div",Jwe,[a("button",{id:"hs-dropdown-export",type:"button",disabled:e.exporting,class:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"},[e.exporting?($(),S("svg",Xwe,[...g[6]||(g[6]=[a("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),a("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):($(),S("svg",Zwe,[...g[7]||(g[7]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])])),ke(" "+k(e.exporting?"Exporting...":"Export")+" ",1),e.exporting?G("",!0):($(),S("svg",e_e,[...g[8]||(g[8]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])]))],8,Qwe),a("div",t_e,[a("button",{onClick:g[3]||(g[3]=d=>x("pdf")),disabled:e.exporting,class:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed"},[...g[9]||(g[9]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),ke(" Export as PDF ",-1)])],8,s_e),a("button",{onClick:g[4]||(g[4]=d=>x("excel")),disabled:e.exporting,class:"flex items-center gap-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed"},[...g[10]||(g[10]=[a("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v1a1 1 0 001 1h4a1 1 0 001-1v-1m3-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6m9-4h-4"})],-1),ke(" Export as Excel ",-1)])],8,a_e)])])):G("",!0)])]),a("div",r_e,[n.value?($(),S("div",o_e,[...g[11]||(g[11]=[a("div",{class:"text-center"},[a("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Generating report... ")],-1)])])):i.value?($(),S("div",n_e,[a("div",i_e,[g[13]||(g[13]=a("svg",{class:"w-16 h-16 mx-auto text-red-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),g[14]||(g[14]=a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," Error Loading Report ",-1)),a("p",l_e,k(i.value),1),L(ft,{onClick:f,variant:"primary",size:"sm"},{default:le(()=>[...g[12]||(g[12]=[ke(" Try Again ",-1)])]),_:1})])])):($(),S("div",d_e,[Sa(h.$slots,"default",{data:l.value,period:y.value})]))])]))}},c_e={key:0,class:"p-6"},u_e={class:"mb-6 text-center"},h_e={class:"text-sm text-gray-600 dark:text-gray-400"},g_e={class:"text-sm text-gray-600 dark:text-gray-400 mt-2"},p_e={class:"overflow-x-auto"},m_e={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},f_e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},y_e={class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white"},v_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},x_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},b_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},k_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},w_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},__e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},$_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},C_e={class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white"},S_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},E_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},T_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},A_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},L_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},M_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},P_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},D_e={class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white"},I_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},O_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},F_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},R_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},j_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},N_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},V_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},B_e={class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white"},U_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},H_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},q_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},z_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},W_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},K_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},Y_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},G_e={class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white"},J_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},Q_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},X_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},Z_e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},e4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},t4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},s4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},a4e={class:"px-4 py-3 text-sm font-bold text-blue-900 dark:text-blue-300",colspan:"2"},r4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},o4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},n4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},i4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},l4e={class:"px-4 py-3 text-sm text-right text-blue-900 dark:text-blue-300 font-bold"},d4e={class:"px-4 py-3 text-sm text-right text-blue-900 dark:text-blue-300 font-bold"},c4e={class:"px-4 py-3 text-sm text-right text-blue-900 dark:text-blue-300 font-bold"},u4e={class:"px-4 py-3 text-sm text-right text-blue-900 dark:text-blue-300 font-bold"},h4e={class:"bg-gray-100 dark:bg-gray-700 font-semibold"},g4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},p4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},m4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},f4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},y4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},v4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},x4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},b4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},k4e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},w4e={class:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6"},_4e={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},$4e={class:"space-y-2"},C4e={class:"flex justify-between"},S4e={class:"text-sm font-medium text-gray-900 dark:text-white"},E4e={class:"flex justify-between"},T4e={class:"text-sm font-medium text-gray-900 dark:text-white"},A4e={class:"flex justify-between pt-2 border-t border-gray-300 dark:border-gray-600"},L4e={class:"text-sm font-semibold text-gray-900 dark:text-white"},M4e={class:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},P4e={class:"space-y-2"},D4e={class:"flex justify-between"},I4e={class:"text-sm font-medium text-gray-900 dark:text-white"},O4e={class:"flex justify-between"},F4e={class:"text-sm font-medium text-gray-900 dark:text-white"},R4e={class:"flex justify-between pt-2 border-t border-gray-300 dark:border-gray-600"},j4e={class:"text-sm font-semibold text-gray-900 dark:text-white"},N4e={class:"mt-16 bg-white dark:bg-gray-800 print:mt-32 page-break-inside-avoid"},V4e={class:"text-right mb-8 print:mb-16 pr-4"},B4e={class:"text-sm text-gray-600 dark:text-gray-400 print:text-base"},U4e={class:"grid grid-cols-1 md:grid-cols-3 gap-12 print:gap-24 items-end print:p-8"},H4e={class:"text-center"},q4e={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},z4e={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},W4e={class:"text-center"},K4e={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},Y4e={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},G4e={class:"text-center"},J4e={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},Q4e={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},X4e={key:1,class:"flex items-center justify-center py-12"},Z4e={__name:"NeracaLajurContent",props:{data:{type:Array,default:()=>[]},period:{type:Object,default:()=>({})},reportSettings:{type:Object,default:()=>({checker_name:"Nama Pemeriksa",approver_name:"Nama Penyetuju"})},printDate:{type:String,default:""},printUser:{type:String,default:""}},setup(e){const t=e,s=h=>t.data.filter(g=>g.account_type===h),r=()=>t.data.reduce((h,g)=>h+Math.abs(g.opening_balance||0),0),o=()=>t.data.reduce((h,g)=>h+(g.adjustment_debit||0),0),n=()=>t.data.reduce((h,g)=>h+(g.adjustment_credit||0),0),i=()=>t.data.reduce((h,g)=>h+(g.adjusted_debit||0),0),l=()=>t.data.reduce((h,g)=>h+(g.adjusted_credit||0),0),u=()=>t.data.filter(h=>h.account_type!=="closing").reduce((h,g)=>h+(g.neraca_debit||0),0),m=()=>t.data.filter(h=>h.account_type!=="closing").reduce((h,g)=>h+(g.neraca_credit||0),0),y=()=>t.data.filter(h=>h.account_type!=="closing").reduce((h,g)=>h+(g.laba_rugi_debit||0),0),f=()=>t.data.filter(h=>h.account_type!=="closing").reduce((h,g)=>h+(g.laba_rugi_credit||0),0),x=h=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(h),c=h=>h?new Date(h).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):null;return(h,g)=>e.data&&e.data.length>0?($(),S("div",c_e,[a("div",u_e,[g[0]||(g[0]=a("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"}," NERACA LAJUR ",-1)),a("p",h_e," Periode: "+k(c(e.period.start_date))+" s/d "+k(c(e.period.end_date)),1),a("p",g_e," Dicetak pada "+k(e.printDate)+" oleh "+k(e.printUser),1)]),a("div",p_e,[a("table",m_e,[g[12]||(g[12]=a("thead",{class:"bg-gray-50 dark:bg-gray-700"},[a("tr",null,[a("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Akun "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Saldo Awal "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Penyesuaian Debit "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Penyesuaian Kredit "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Saldo Disesuaikan Debit "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Saldo Disesuaikan Kredit "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Neraca Debit "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Neraca Kredit "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Laba Rugi Debit "),a("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Laba Rugi Kredit ")])],-1)),a("tbody",f_e,[($(!0),S(Qe,null,ot(s("asset"),d=>($(),S("tr",{key:d.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",y_e,k(d.account_code)+" - "+k(d.account_name),1),a("td",v_e,k(x(d.opening_balance||0)),1),a("td",x_e,k(d.adjustment_debit>0?x(d.adjustment_debit):"-"),1),a("td",b_e,k(d.adjustment_credit>0?x(d.adjustment_credit):"-"),1),a("td",k_e,k(d.adjusted_debit>0?x(d.adjusted_debit):"-"),1),a("td",w_e,k(d.adjusted_credit>0?x(d.adjusted_credit):"-"),1),a("td",__e,k(d.neraca_debit>0?x(d.neraca_debit):"-"),1),a("td",$_e,k(d.neraca_credit>0?x(d.neraca_credit):"-"),1),g[1]||(g[1]=a("td",{class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"}," - ",-1)),g[2]||(g[2]=a("td",{class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"}," - ",-1))]))),128)),($(!0),S(Qe,null,ot(s("liability"),d=>($(),S("tr",{key:d.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",C_e,k(d.account_code)+" - "+k(d.account_name),1),a("td",S_e,k(x(d.opening_balance||0)),1),a("td",E_e,k(d.adjustment_debit>0?x(d.adjustment_debit):"-"),1),a("td",T_e,k(d.adjustment_credit>0?x(d.adjustment_credit):"-"),1),a("td",A_e,k(d.adjusted_debit>0?x(d.adjusted_debit):"-"),1),a("td",L_e,k(d.adjusted_credit>0?x(d.adjusted_credit):"-"),1),a("td",M_e,k(d.neraca_debit>0?x(d.neraca_debit):"-"),1),a("td",P_e,k(d.neraca_credit>0?x(d.neraca_credit):"-"),1),g[3]||(g[3]=a("td",{class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"}," - ",-1)),g[4]||(g[4]=a("td",{class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"}," - ",-1))]))),128)),($(!0),S(Qe,null,ot(s("equity"),d=>($(),S("tr",{key:d.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",D_e,k(d.account_code)+" - "+k(d.account_name),1),a("td",I_e,k(x(d.opening_balance||0)),1),a("td",O_e,k(d.adjustment_debit>0?x(d.adjustment_debit):"-"),1),a("td",F_e,k(d.adjustment_credit>0?x(d.adjustment_credit):"-"),1),a("td",R_e,k(d.adjusted_debit>0?x(d.adjusted_debit):"-"),1),a("td",j_e,k(d.adjusted_credit>0?x(d.adjusted_credit):"-"),1),a("td",N_e,k(d.neraca_debit>0?x(d.neraca_debit):"-"),1),a("td",V_e,k(d.neraca_credit>0?x(d.neraca_credit):"-"),1),g[5]||(g[5]=a("td",{class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"}," - ",-1)),g[6]||(g[6]=a("td",{class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"}," - ",-1))]))),128)),($(!0),S(Qe,null,ot(s("revenue"),d=>($(),S("tr",{key:d.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",B_e,k(d.account_code)+" - "+k(d.account_name),1),a("td",U_e,k(x(d.opening_balance||0)),1),a("td",H_e,k(d.adjustment_debit>0?x(d.adjustment_debit):"-"),1),a("td",q_e,k(d.adjustment_credit>0?x(d.adjustment_credit):"-"),1),a("td",z_e,k(d.adjusted_debit>0?x(d.adjusted_debit):"-"),1),a("td",W_e,k(d.adjusted_credit>0?x(d.adjusted_credit):"-"),1),g[7]||(g[7]=a("td",{class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"}," - ",-1)),g[8]||(g[8]=a("td",{class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"}," - ",-1)),a("td",K_e,k(d.laba_rugi_debit>0?x(d.laba_rugi_debit):"-"),1),a("td",Y_e,k(d.laba_rugi_credit>0?x(d.laba_rugi_credit):"-"),1)]))),128)),($(!0),S(Qe,null,ot(s("expense"),d=>($(),S("tr",{key:d.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",G_e,k(d.account_code)+" - "+k(d.account_name),1),a("td",J_e,k(x(d.opening_balance||0)),1),a("td",Q_e,k(d.adjustment_debit>0?x(d.adjustment_debit):"-"),1),a("td",X_e,k(d.adjustment_credit>0?x(d.adjustment_credit):"-"),1),a("td",Z_e,k(d.adjusted_debit>0?x(d.adjusted_debit):"-"),1),a("td",e4e,k(d.adjusted_credit>0?x(d.adjusted_credit):"-"),1),g[9]||(g[9]=a("td",{class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"}," - ",-1)),g[10]||(g[10]=a("td",{class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"}," - ",-1)),a("td",t4e,k(d.laba_rugi_debit>0?x(d.laba_rugi_debit):"-"),1),a("td",s4e,k(d.laba_rugi_credit>0?x(d.laba_rugi_credit):"-"),1)]))),128)),($(!0),S(Qe,null,ot(s("closing"),d=>($(),S("tr",{key:d.id||"closing",class:"bg-blue-50 dark:bg-blue-900/20 font-semibold border-t-2 border-blue-300 dark:border-blue-700"},[a("td",a4e,k(d.account_name),1),a("td",r4e,k(d.adjustment_debit>0?x(d.adjustment_debit):"-"),1),a("td",o4e,k(d.adjustment_credit>0?x(d.adjustment_credit):"-"),1),a("td",n4e,k(d.adjusted_debit>0?x(d.adjusted_debit):"-"),1),a("td",i4e,k(d.adjusted_credit>0?x(d.adjusted_credit):"-"),1),a("td",l4e,k(d.neraca_debit>0?x(d.neraca_debit):"-"),1),a("td",d4e,k(d.neraca_credit>0?x(d.neraca_credit):"-"),1),a("td",c4e,k(d.laba_rugi_debit>0?x(d.laba_rugi_debit):"-"),1),a("td",u4e,k(d.laba_rugi_credit>0?x(d.laba_rugi_credit):"-"),1)]))),128)),a("tr",h4e,[g[11]||(g[11]=a("td",{class:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white"}," TOTAL ",-1)),a("td",g4e,k(x(r())),1),a("td",p4e,k(x(o())),1),a("td",m4e,k(x(n())),1),a("td",f4e,k(x(i())),1),a("td",y4e,k(x(l())),1),a("td",v4e,k(x(u())),1),a("td",x4e,k(x(m())),1),a("td",b4e,k(x(y())),1),a("td",k4e,k(x(f())),1)])])])]),a("div",w4e,[a("div",_4e,[g[16]||(g[16]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Summary Neraca ",-1)),a("div",$4e,[a("div",C4e,[g[13]||(g[13]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Debit:",-1)),a("span",S4e,k(x(u())),1)]),a("div",E4e,[g[14]||(g[14]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Kredit:",-1)),a("span",T4e,k(x(m())),1)]),a("div",A4e,[g[15]||(g[15]=a("span",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Balance:",-1)),a("span",L4e,k(x(u()-m())),1)])])]),a("div",M4e,[g[19]||(g[19]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Summary Laba Rugi ",-1)),a("div",P4e,[a("div",D4e,[g[17]||(g[17]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Debit:",-1)),a("span",I4e,k(x(y())),1)]),a("div",O4e,[g[18]||(g[18]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Total Kredit:",-1)),a("span",F4e,k(x(f())),1)]),a("div",R4e,[a("span",j4e,k(f()>y()?"Laba Bersih":"Rugi Bersih")+": ",1),a("span",{class:Ee(["text-sm font-semibold",f()>y()?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},k(x(Math.abs(f()-y()))),3)])])])]),a("div",N4e,[a("div",V4e,[a("p",B4e,"Denpasar, "+k(e.printDate.split(", ")[1]),1)]),a("div",U4e,[a("div",H4e,[g[21]||(g[21]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Dibuat oleh,",-1)),a("div",q4e,[a("p",z4e,k(e.printUser),1),g[20]||(g[20]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Akuntan",-1))])]),a("div",W4e,[g[23]||(g[23]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Diperiksa oleh,",-1)),a("div",K4e,[a("p",Y4e,k(e.reportSettings.checker_name),1),g[22]||(g[22]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Kepala Bagian Keuangan",-1))])]),a("div",G4e,[g[25]||(g[25]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Disetujui oleh,",-1)),a("div",J4e,[a("p",Q4e,k(e.reportSettings.approver_name),1),g[24]||(g[24]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Direktur Utama",-1))])])])])])):($(),S("div",X4e,[...g[26]||(g[26]=[po('<div class="text-center"><svg class="w-16 h-16 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v1a1 1 0 001 1h4a1 1 0 001-1v-1m3-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6m9-4h-4"></path></svg><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2"> No Data Available </h3><p class="text-sm text-gray-500 dark:text-gray-400"> Select a date range and generate the report to view the worksheet. </p></div>',1)])]))}},fr={async getNeracaLajur(e,t){try{return await Tt("reports/neraca-lajur",{params:{start_date:e,end_date:t}})}catch(s){throw console.error("Error fetching neraca lajur:",s),s}},async getNeraca(e){try{return await Tt("reports/neraca",{params:{end_date:e}})}catch(t){throw console.error("Error fetching neraca:",t),t}},async getLabaRugi(e,t){try{return await Tt("reports/laba-rugi",{params:{start_date:e,end_date:t}})}catch(s){throw console.error("Error fetching laba rugi:",s),s}},async getPerubahanModal(e,t){try{return await Tt("reports/perubahan-modal",{params:{start_date:e,end_date:t}})}catch(s){throw console.error("Error fetching perubahan modal:",s),s}},async getArusKas(e,t){try{return await Tt("reports/arus-kas",{params:{start_date:e,end_date:t}})}catch(s){throw console.error("Error fetching arus kas:",s),s}},async exportNeracaLajur(e,t,s="pdf"){try{const r=localStorage.getItem("token"),o="http://127.0.0.1:8000/api/reports/neraca-lajur/export",n=new URLSearchParams({start_date:e,end_date:t,format:s}),i=await fetch(`${o}?${n.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:s==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}});if(!i.ok)throw new Error("Export failed");const l=await i.blob(),u=window.URL.createObjectURL(l),m=document.createElement("a");return m.href=u,m.download=`neraca_lajur_${e}_${t}.${s}`,document.body.appendChild(m),m.click(),window.URL.revokeObjectURL(u),document.body.removeChild(m),{success:!0}}catch(r){throw console.error("Error exporting neraca lajur:",r),r}},async exportNeraca(e,t="pdf"){try{const s=localStorage.getItem("token"),r="http://127.0.0.1:8000/api/reports/neraca/export",o=new URLSearchParams({end_date:e,format:t}),n=await fetch(`${r}?${o.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${s}`,Accept:t==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}});if(!n.ok)throw new Error("Export failed");const i=await n.blob(),l=window.URL.createObjectURL(i),u=document.createElement("a");return u.href=l,u.download=`neraca_${e}.${t}`,document.body.appendChild(u),u.click(),window.URL.revokeObjectURL(l),document.body.removeChild(u),{success:!0}}catch(s){throw console.error("Error exporting neraca:",s),s}},async exportLabaRugi(e,t,s="pdf"){try{const r=localStorage.getItem("token"),o="http://127.0.0.1:8000/api/reports/laba-rugi/export",n=new URLSearchParams({start_date:e,end_date:t,format:s}),i=await fetch(`${o}?${n.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:s==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}});if(!i.ok)throw new Error("Export failed");const l=await i.blob(),u=window.URL.createObjectURL(l),m=document.createElement("a");return m.href=u,m.download=`laba_rugi_${e}_${t}.${s}`,document.body.appendChild(m),m.click(),window.URL.revokeObjectURL(u),document.body.removeChild(m),{success:!0}}catch(r){throw console.error("Error exporting laba rugi:",r),r}},async exportPerubahanModal(e,t,s="pdf"){try{const r=localStorage.getItem("token"),o="http://127.0.0.1:8000/api/reports/perubahan-modal/export",n=new URLSearchParams({start_date:e,end_date:t,format:s}),i=await fetch(`${o}?${n.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:s==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}});if(!i.ok)throw new Error("Export failed");const l=await i.blob(),u=window.URL.createObjectURL(l),m=document.createElement("a");return m.href=u,m.download=`perubahan_modal_${e}_${t}.${s}`,document.body.appendChild(m),m.click(),window.URL.revokeObjectURL(u),document.body.removeChild(m),{success:!0}}catch(r){throw console.error("Error exporting perubahan modal:",r),r}},async exportArusKas(e,t,s="pdf"){try{const r=localStorage.getItem("token"),o="http://127.0.0.1:8000/api/reports/arus-kas/export",n=new URLSearchParams({start_date:e,end_date:t,format:s}),i=await fetch(`${o}?${n.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,Accept:s==="pdf"?"application/pdf":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}});if(!i.ok)throw new Error("Export failed");const l=await i.blob(),u=window.URL.createObjectURL(l),m=document.createElement("a");return m.href=u,m.download=`arus_kas_${e}_${t}.${s}`,document.body.appendChild(m),m.click(),window.URL.revokeObjectURL(u),document.body.removeChild(m),{success:!0}}catch(r){throw console.error("Error exporting arus kas:",r),r}}},e5e={__name:"NeracaLajur",setup(e){const t=Ut(),s=O(null),r=O([]),o=fe(()=>`Denpasar, ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`),n=Qs(),i=fe(()=>{var x,c;return((x=n.user)==null?void 0:x.name)||((c=n.user)==null?void 0:c.full_name)||"Nama Pengguna"}),l=O({checker_name:"Nama Pemeriksa",approver_name:"Nama Penyetuju"}),u=O(!1),m=O(!1),y=async x=>{var c;if(!m.value){m.value=!0;try{const h=await fr.getNeracaLajur(x.start_date,x.end_date),g=h.data||h;r.value=g,(c=s.value)==null||c.setReportData(g);try{const d=await Tt("/settings");if(d.success){const p=d.data;l.value.checker_name=p.report_checker_name||l.value.checker_name,l.value.approver_name=p.report_approver_name||l.value.approver_name}}catch(d){console.warn("Failed to fetch settings:",d)}t.success("Neraca Lajur report generated successfully")}catch(h){throw t.error("Failed to generate Neraca Lajur report"),h}finally{m.value=!1}}},f=async x=>{if(!u.value){u.value=!0;try{await fr.exportNeracaLajur(x.start_date,x.end_date,x.format),t.success("Report exported successfully")}catch(c){throw t.error("Failed to export report"),c}finally{u.value=!1}}};return(x,c)=>($(),it(hl,{title:"Neraca Lajur",description:"Worksheet untuk menyiapkan Neraca dan Laporan Laba Rugi",ref_key:"reportLayout",ref:s,exporting:u.value,onGenerate:y,onExport:f},{default:le(({data:h,period:g})=>[L(Z4e,{data:h,period:g,"report-settings":l.value,"print-date":o.value,"print-user":i.value},null,8,["data","period","report-settings","print-date","print-user"])]),_:1},8,["exporting"]))}},t5e={key:0,class:"p-6"},s5e={class:"mb-6 text-center"},a5e={class:"text-sm text-gray-600 dark:text-gray-400"},r5e={class:"mb-6 flex justify-end"},o5e={class:"inline-flex rounded-lg bg-gray-100 dark:bg-gray-700 p-1"},n5e={class:"overflow-x-auto"},i5e={key:0,class:"min-w-full"},l5e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},d5e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},c5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},u5e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},h5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},g5e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},p5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},m5e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},f5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},y5e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},v5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},x5e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},b5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},k5e={class:"bg-gray-200 dark:bg-gray-600 font-bold"},w5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},_5e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},$5e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},C5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},S5e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},E5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},T5e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},A5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},L5e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},M5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},P5e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},D5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},I5e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},O5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},F5e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},R5e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},j5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},N5e={class:"bg-gray-200 dark:bg-gray-600 font-bold"},V5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},B5e={key:1,class:"min-w-full"},U5e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},H5e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},q5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},z5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},W5e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},K5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},Y5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},G5e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},J5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},Q5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},X5e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},Z5e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},e3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},t3e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},s3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},a3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},r3e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},o3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},n3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},i3e={class:"bg-gray-200 dark:bg-gray-600 font-bold"},l3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},d3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},c3e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},u3e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},h3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},g3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},p3e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},m3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},f3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},y3e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},v3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},x3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},b3e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},k3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},w3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},_3e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},$3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},C3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},S3e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},E3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},T3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},A3e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},L3e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},M3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},P3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},D3e={class:"bg-gray-200 dark:bg-gray-600 font-bold"},I3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},O3e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},F3e={class:"mt-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6"},R3e={class:"mb-4"},j3e={class:"space-y-2 text-sm text-blue-900 dark:text-blue-100"},N3e={class:"flex justify-between items-center py-2 border-b border-blue-200 dark:border-blue-700"},V3e={class:"font-semibold"},B3e={class:"ml-4 space-y-1 text-xs"},U3e={class:"flex justify-between"},H3e={class:"flex justify-between"},q3e={key:0,class:"flex justify-between"},z3e={class:"flex justify-between items-center py-2 border-b border-blue-200 dark:border-blue-700 mt-3"},W3e={class:"font-semibold"},K3e={class:"ml-4 space-y-1 text-xs"},Y3e={class:"flex justify-between"},G3e={key:0,class:"flex justify-between"},J3e={class:"flex justify-between items-center py-2 border-b border-blue-200 dark:border-blue-700 mt-3"},Q3e={class:"font-semibold"},X3e={class:"ml-4 space-y-1 text-xs"},Z3e={class:"flex justify-between"},e$e={class:"flex justify-between items-center py-3 border-t-2 border-blue-300 dark:border-blue-600 mt-3"},t$e={class:"font-bold"},s$e={class:"flex items-center justify-between"},a$e={class:"flex items-center"},r$e={key:0,class:"text-lg font-bold text-green-700 dark:text-green-300"},o$e={key:1,class:"text-lg font-bold text-red-700 dark:text-red-300"},n$e={key:0,class:"text-right"},i$e={class:"text-base font-bold text-red-700 dark:text-red-300"},l$e={key:1,class:"flex items-center justify-center py-12"},d$e={key:2,class:"mt-16 bg-white dark:bg-gray-800 print:mt-32 page-break-inside-avoid"},c$e={class:"text-right mb-8 print:mb-16 pr-4"},u$e={class:"text-sm text-gray-600 dark:text-gray-400 print:text-base"},h$e={class:"grid grid-cols-1 md:grid-cols-3 gap-12 print:gap-24 items-end print:p-8"},g$e={class:"text-center"},p$e={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},m$e={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},f$e={class:"text-center"},y$e={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},v$e={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},x$e={class:"text-center"},b$e={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},k$e={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},w$e={__name:"Neraca",setup(e){const t=Ut(),s=O(null),r=O(null),o=O("staffel"),n=fe(()=>`Denpasar, ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`),i=Qs(),l=fe(()=>{var J,D;return((J=i.user)==null?void 0:J.name)||((D=i.user)==null?void 0:D.full_name)||"Nama Pengguna"}),u=O({checker_name:"Nama Pemeriksa",approver_name:"Nama Penyetuju"}),m=O(!1),y=async J=>{var D,N,U,Q,Ge,He,pe,ie,Oe,nt,Fe;try{if(m.value)return;m.value=!0;const re=await fr.getNeraca(J.end_date),Y=re.data||re;r.value=Y,(D=s.value)==null||D.setReportData(Y),console.log("===== NERACA DEBUG INFO ====="),console.log("Backend Totals:"),console.log("  Total Assets:",(N=r.value.totals)==null?void 0:N.assets),console.log("  Total Liabilities:",(U=r.value.totals)==null?void 0:U.liabilities),console.log("  Total Equity:",(Q=r.value.totals)==null?void 0:Q.equity),console.log("  Net Income:",r.value.net_income),console.log("  Total Liabilities + Equity:",(Ge=r.value.totals)==null?void 0:Ge.liabilities_equity),console.log("---"),console.log("Account Counts:"),console.log("  Total Assets:",(He=r.value.assets)==null?void 0:He.length),console.log("  Total Liabilities:",(pe=r.value.liabilities)==null?void 0:pe.length),console.log("  Total Equity:",(ie=r.value.equity)==null?void 0:ie.length),console.log("---"),console.log("Asset Details:"),(Oe=r.value.assets)==null||Oe.forEach(we=>{console.log(`  ${we.code} - ${we.name}: ${we.balance}`)}),console.log("---"),console.log("Liability Details:"),(nt=r.value.liabilities)==null||nt.forEach(we=>{console.log(`  ${we.code} - ${we.name}: ${we.balance}`)}),console.log("---"),console.log("Equity Details:"),(Fe=r.value.equity)==null||Fe.forEach(we=>{console.log(`  ${we.code} - ${we.name}: ${we.balance}`)}),console.log("============================");try{const we=await Tt("/settings");if(we.success){const Ht=we.data;u.value.checker_name=Ht.report_checker_name||u.value.checker_name,u.value.approver_name=Ht.report_approver_name||u.value.approver_name}}catch(we){console.warn("Failed to fetch settings:",we)}}catch(re){throw t.error("Failed to generate Neraca report"),re}finally{m.value=!1}},f=async J=>{try{await fr.exportNeraca(J.end_date,J.format),t.success("Report exported successfully")}catch(D){throw t.error("Failed to export report"),D}},x=()=>{var J;return(J=r.value)!=null&&J.assets?r.value.assets.filter(D=>{const N=D.name.toLowerCase();return N.includes("kas")||N.includes("bank")||N.includes("piutang")||N.includes("persediaan")||N.includes("perlengkapan")||N.includes("beban dibayar dimuka")}):[]},c=()=>{var D;if(!((D=r.value)!=null&&D.assets))return[];const J=new Set(x().map(N=>N.code));return r.value.assets.filter(N=>{if(J.has(N.code))return!1;const U=N.name.toLowerCase();return U.includes("tanah")||U.includes("gedung")||U.includes("bangunan")||U.includes("kendaraan")||U.includes("peralatan")||U.includes("mesin")||U.includes("akumulasi")||U.includes("penyusutan")})},h=()=>{var N;if(!((N=r.value)!=null&&N.assets))return[];const J=new Set(x().map(U=>U.code)),D=new Set(c().map(U=>U.code));return r.value.assets.filter(U=>!J.has(U.code)&&!D.has(U.code))},g=()=>{var J;return(J=r.value)!=null&&J.liabilities?r.value.liabilities.filter(D=>{const N=D.name.toLowerCase();return N.includes("utang")&&!N.includes("jangka panjang")||N.includes("utang dagang")||N.includes("utang usaha")||N.includes("utang gaji")||N.includes("utang pajak")||N.includes("beban yang masih harus dibayar")}):[]},d=()=>{var D;if(!((D=r.value)!=null&&D.liabilities))return[];const J=new Set(g().map(N=>N.code));return r.value.liabilities.filter(N=>{if(J.has(N.code))return!1;const U=N.name.toLowerCase();return U.includes("jangka panjang")||U.includes("obligasi")||U.includes("hipotek")})},p=()=>x().reduce((J,D)=>J+(D.balance||0),0),v=()=>c().reduce((J,D)=>J+(D.balance||0),0),b=()=>h().reduce((J,D)=>J+(D.balance||0),0),w=()=>{var J;return(J=r.value)!=null&&J.totals&&r.value.totals.assets||0},E=()=>g().reduce((J,D)=>J+(D.balance||0),0),C=()=>d().reduce((J,D)=>J+(D.balance||0),0),T=()=>{var J;return(J=r.value)!=null&&J.totals&&r.value.totals.liabilities||0},P=()=>{var J;return(J=r.value)!=null&&J.totals?(r.value.totals.equity||0)+(r.value.net_income||0):0},A=()=>{var J;return(J=r.value)!=null&&J.totals&&r.value.totals.liabilities_equity||0},j=()=>{var D;return(((D=r.value)==null?void 0:D.net_income)||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"},V=()=>{var D;const J=((D=r.value)==null?void 0:D.net_income)||0;return J<0?he(Math.abs(J)):"-"},H=()=>{var D;const J=((D=r.value)==null?void 0:D.net_income)||0;return J>=0?he(J):"-"},R=()=>(console.log([w(),A()]),Math.abs(w()-A())<.01),M=()=>Math.abs(w()-A()),B=J=>{const D=J.balance||0;return J.normal_balance==="debit"?D>=0?he(D):"-":D<0?he(Math.abs(D)):"-"},W=J=>{const D=J.balance||0;return J.normal_balance==="debit"?D<0?he(Math.abs(D)):"-":D>=0?he(D):"-"},K=J=>{const D=J.balance||0;return J.normal_balance==="debit"?D>=0?D:0:D<0?Math.abs(D):0},Z=J=>{const D=J.balance||0;return J.normal_balance==="debit"?D<0?Math.abs(D):0:D>=0?D:0},Te=()=>x().reduce((J,D)=>J+K(D),0),_e=()=>x().reduce((J,D)=>J+Z(D),0),ye=()=>c().reduce((J,D)=>J+K(D),0),z=()=>c().reduce((J,D)=>J+Z(D),0),q=()=>h().reduce((J,D)=>J+K(D),0),X=()=>h().reduce((J,D)=>J+Z(D),0),se=()=>Te()+ye()+q(),Ae=()=>_e()+z()+X(),me=()=>g().reduce((J,D)=>J+K(D),0),Le=()=>g().reduce((J,D)=>J+Z(D),0),Re=()=>d().reduce((J,D)=>J+K(D),0),Ze=()=>d().reduce((J,D)=>J+Z(D),0),We=()=>me()+Re(),ae=()=>Le()+Ze(),ge=()=>{var N,U;if(!((N=r.value)!=null&&N.equity))return 0;const J=r.value.equity.reduce((Q,Ge)=>Q+K(Ge),0),D=((U=r.value)==null?void 0:U.net_income)||0;return J+(D<0?Math.abs(D):0)},ne=()=>{var N,U;if(!((N=r.value)!=null&&N.equity))return 0;const J=r.value.equity.reduce((Q,Ge)=>Q+Z(Ge),0),D=((U=r.value)==null?void 0:U.net_income)||0;return J+(D>=0?D:0)},ee=()=>We()+ge(),ue=()=>ae()+ne(),he=J=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(J),Ce=J=>J?new Date(J).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):null;return(J,D)=>($(),it(hl,{title:"Neraca",description:"Laporan posisi keuangan perusahaan pada tanggal tertentu","show-single-date":!0,ref_key:"reportLayout",ref:s,onGenerate:y,onExport:f},{default:le(({data:N,period:U})=>[N?($(),S("div",t5e,[a("div",s5e,[D[2]||(D[2]=a("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"}," NERACA ",-1)),a("p",a5e," Per tanggal: "+k(Ce(U.end_date)),1)]),a("div",r5e,[a("div",o5e,[a("button",{onClick:D[0]||(D[0]=Q=>o.value="staffel"),class:Ee(["px-4 py-2 rounded-md text-sm font-medium transition-colors",o.value==="staffel"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Staffel ",2),a("button",{onClick:D[1]||(D[1]=Q=>o.value="skontro"),class:Ee(["px-4 py-2 rounded-md text-sm font-medium transition-colors",o.value==="skontro"?"bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"])}," Skontro ",2)])]),a("div",n5e,[o.value==="staffel"?($(),S("table",i5e,[D[19]||(D[19]=a("thead",{class:"bg-gray-50 dark:bg-gray-700"},[a("tr",null,[a("th",{colspan:"2",class:"px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," AKTIVA ")])],-1)),a("tbody",l5e,[D[8]||(D[8]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"2",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Aktiva Lancar ")],-1)),($(!0),S(Qe,null,ot(x(),Q=>($(),S("tr",{key:"asset-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",d5e,k(Q.name),1),a("td",c5e,k(he(Q.balance)),1)]))),128)),a("tr",u5e,[D[3]||(D[3]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Aktiva Lancar ",-1)),a("td",h5e,k(he(p())),1)]),D[9]||(D[9]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"2",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Aktiva Tetap ")],-1)),($(!0),S(Qe,null,ot(c(),Q=>($(),S("tr",{key:"fixed-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",g5e,k(Q.name),1),a("td",p5e,k(he(Q.balance)),1)]))),128)),a("tr",m5e,[D[4]||(D[4]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Aktiva Tetap ",-1)),a("td",f5e,k(he(v())),1)]),h().length>0?($(),S(Qe,{key:0},[D[6]||(D[6]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"2",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Aktiva Lainnya ")],-1)),($(!0),S(Qe,null,ot(h(),Q=>($(),S("tr",{key:"other-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",y5e,k(Q.name),1),a("td",v5e,k(he(Q.balance)),1)]))),128)),a("tr",x5e,[D[5]||(D[5]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Aktiva Lainnya ",-1)),a("td",b5e,k(he(b())),1)])],64)):G("",!0),a("tr",k5e,[D[7]||(D[7]=a("td",{class:"px-6 py-3 text-sm text-gray-900 dark:text-white"}," JUMLAH AKTIVA ",-1)),a("td",w5e,k(he(w())),1)])]),D[20]||(D[20]=a("thead",{class:"bg-gray-50 dark:bg-gray-700 mt-8"},[a("tr",null,[a("th",{colspan:"2",class:"px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," KEWAJIBAN DAN EKUITAS ")])],-1)),a("tbody",_5e,[D[17]||(D[17]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"2",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Kewajiban Lancar ")],-1)),($(!0),S(Qe,null,ot(g(),Q=>($(),S("tr",{key:"liability-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",$5e,k(Q.name),1),a("td",C5e,k(he(Q.balance)),1)]))),128)),a("tr",S5e,[D[10]||(D[10]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Kewajiban Lancar ",-1)),a("td",E5e,k(he(E())),1)]),d().length>0?($(),S(Qe,{key:0},[D[12]||(D[12]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"2",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Kewajiban Jangka Panjang ")],-1)),($(!0),S(Qe,null,ot(d(),Q=>($(),S("tr",{key:"longterm-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",T5e,k(Q.name),1),a("td",A5e,k(he(Q.balance)),1)]))),128)),a("tr",L5e,[D[11]||(D[11]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Kewajiban Jangka Panjang ",-1)),a("td",M5e,k(he(C())),1)])],64)):G("",!0),a("tr",P5e,[D[13]||(D[13]=a("td",{class:"px-6 py-3 text-sm text-gray-900 dark:text-white"}," JUMLAH KEWAJIBAN ",-1)),a("td",D5e,k(he(T())),1)]),D[18]||(D[18]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"2",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Ekuitas ")],-1)),($(!0),S(Qe,null,ot(N.equity,Q=>($(),S("tr",{key:"equity-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",I5e,k(Q.name),1),a("td",O5e,k(he(Q.balance)),1)]))),128)),a("tr",F5e,[D[14]||(D[14]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Laba (Rugi) Bersih ",-1)),a("td",{class:Ee(["px-6 py-3 text-sm text-right",j()])},k(he(N.net_income||0)),3)]),a("tr",R5e,[D[15]||(D[15]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Ekuitas ",-1)),a("td",j5e,k(he(P())),1)]),a("tr",N5e,[D[16]||(D[16]=a("td",{class:"px-6 py-3 text-sm text-gray-900 dark:text-white"}," JUMLAH KEWAJIBAN DAN EKUITAS ",-1)),a("td",V5e,k(he(A())),1)])])])):($(),S("table",B5e,[D[37]||(D[37]=a("thead",{class:"bg-gray-50 dark:bg-gray-700"},[a("tr",null,[a("th",{class:"px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," AKTIVA "),a("th",{class:"px-6 py-3 text-right text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," DEBIT "),a("th",{class:"px-6 py-3 text-right text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," KREDIT ")])],-1)),a("tbody",U5e,[D[26]||(D[26]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"3",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Aktiva Lancar ")],-1)),($(!0),S(Qe,null,ot(x(),Q=>($(),S("tr",{key:"asset-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",H5e,k(Q.name),1),a("td",q5e,k(B(Q)),1),a("td",z5e,k(W(Q)),1)]))),128)),a("tr",W5e,[D[21]||(D[21]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Aktiva Lancar ",-1)),a("td",K5e,k(he(Te())),1),a("td",Y5e,k(he(_e())),1)]),D[27]||(D[27]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"3",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Aktiva Tetap ")],-1)),($(!0),S(Qe,null,ot(c(),Q=>($(),S("tr",{key:"fixed-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",G5e,k(Q.name),1),a("td",J5e,k(B(Q)),1),a("td",Q5e,k(W(Q)),1)]))),128)),a("tr",X5e,[D[22]||(D[22]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Aktiva Tetap ",-1)),a("td",Z5e,k(he(ye())),1),a("td",e3e,k(he(z())),1)]),h().length>0?($(),S(Qe,{key:0},[D[24]||(D[24]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"3",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Aktiva Lainnya ")],-1)),($(!0),S(Qe,null,ot(h(),Q=>($(),S("tr",{key:"other-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",t3e,k(Q.name),1),a("td",s3e,k(B(Q)),1),a("td",a3e,k(W(Q)),1)]))),128)),a("tr",r3e,[D[23]||(D[23]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Aktiva Lainnya ",-1)),a("td",o3e,k(he(q())),1),a("td",n3e,k(he(X())),1)])],64)):G("",!0),a("tr",i3e,[D[25]||(D[25]=a("td",{class:"px-6 py-3 text-sm text-gray-900 dark:text-white"}," JUMLAH AKTIVA ",-1)),a("td",l3e,k(he(se())),1),a("td",d3e,k(he(Ae())),1)])]),D[38]||(D[38]=a("thead",{class:"bg-gray-50 dark:bg-gray-700"},[a("tr",null,[a("th",{class:"px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," KEWAJIBAN DAN EKUITAS "),a("th",{class:"px-6 py-3 text-right text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," DEBIT "),a("th",{class:"px-6 py-3 text-right text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," KREDIT ")])],-1)),a("tbody",c3e,[D[35]||(D[35]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"3",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Kewajiban Lancar ")],-1)),($(!0),S(Qe,null,ot(g(),Q=>($(),S("tr",{key:"liability-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",u3e,k(Q.name),1),a("td",h3e,k(B(Q)),1),a("td",g3e,k(W(Q)),1)]))),128)),a("tr",p3e,[D[28]||(D[28]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Kewajiban Lancar ",-1)),a("td",m3e,k(he(me())),1),a("td",f3e,k(he(Le())),1)]),d().length>0?($(),S(Qe,{key:0},[D[30]||(D[30]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"3",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Kewajiban Jangka Panjang ")],-1)),($(!0),S(Qe,null,ot(d(),Q=>($(),S("tr",{key:"longterm-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",y3e,k(Q.name),1),a("td",v3e,k(B(Q)),1),a("td",x3e,k(W(Q)),1)]))),128)),a("tr",b3e,[D[29]||(D[29]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Kewajiban Jangka Panjang ",-1)),a("td",k3e,k(he(Re())),1),a("td",w3e,k(he(Ze())),1)])],64)):G("",!0),a("tr",_3e,[D[31]||(D[31]=a("td",{class:"px-6 py-3 text-sm text-gray-900 dark:text-white"}," JUMLAH KEWAJIBAN ",-1)),a("td",$3e,k(he(We())),1),a("td",C3e,k(he(ae())),1)]),D[36]||(D[36]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"3",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Ekuitas ")],-1)),($(!0),S(Qe,null,ot(N.equity,Q=>($(),S("tr",{key:"equity-"+Q.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",S3e,k(Q.name),1),a("td",E3e,k(B(Q)),1),a("td",T3e,k(W(Q)),1)]))),128)),a("tr",A3e,[D[32]||(D[32]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Laba (Rugi) Bersih ",-1)),a("td",{class:Ee(["px-6 py-3 text-sm text-right",j()])},k(V()),3),a("td",{class:Ee(["px-6 py-3 text-sm text-right",j()])},k(H()),3)]),a("tr",L3e,[D[33]||(D[33]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Ekuitas ",-1)),a("td",M3e,k(he(ge())),1),a("td",P3e,k(he(ne())),1)]),a("tr",D3e,[D[34]||(D[34]=a("td",{class:"px-6 py-3 text-sm text-gray-900 dark:text-white"}," JUMLAH KEWAJIBAN DAN EKUITAS ",-1)),a("td",I3e,k(he(ee())),1),a("td",O3e,k(he(ue())),1)])])]))]),a("div",F3e,[a("div",R3e,[D[50]||(D[50]=a("div",{class:"flex items-center mb-3"},[a("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),a("span",{class:"text-base font-bold text-blue-900 dark:text-blue-100"}," Verifikasi Keseimbangan Neraca ")],-1)),a("div",j3e,[a("div",N3e,[D[39]||(D[39]=a("span",{class:"font-medium"},"Total Aktiva:",-1)),a("span",V3e,k(he(w())),1)]),a("div",B3e,[a("div",U3e,[D[40]||(D[40]=a("span",null," Aktiva Lancar:",-1)),a("span",null,k(he(p())),1)]),a("div",H3e,[D[41]||(D[41]=a("span",null," Aktiva Tetap:",-1)),a("span",null,k(he(v())),1)]),h().length>0?($(),S("div",q3e,[D[42]||(D[42]=a("span",null," Aktiva Lainnya:",-1)),a("span",null,k(he(b())),1)])):G("",!0)]),a("div",z3e,[D[43]||(D[43]=a("span",{class:"font-medium"},"Total Kewajiban:",-1)),a("span",W3e,k(he(T())),1)]),a("div",K3e,[a("div",Y3e,[D[44]||(D[44]=a("span",null," Kewajiban Lancar:",-1)),a("span",null,k(he(E())),1)]),d().length>0?($(),S("div",G3e,[D[45]||(D[45]=a("span",null," Kewajiban Jangka Panjang:",-1)),a("span",null,k(he(C())),1)])):G("",!0)]),a("div",J3e,[D[46]||(D[46]=a("span",{class:"font-medium"},"Total Ekuitas:",-1)),a("span",Q3e,k(he(P())),1)]),a("div",X3e,[a("div",Z3e,[D[47]||(D[47]=a("span",null," Modal:",-1)),a("span",null,k(he(N.equity.reduce((Q,Ge)=>Q+(Ge.balance||0),0))),1)]),a("div",{class:Ee(["flex justify-between",j()])},[D[48]||(D[48]=a("span",null," Laba (Rugi) Bersih:",-1)),a("span",null,k(he(N.net_income||0)),1)],2)]),a("div",e$e,[D[49]||(D[49]=a("span",{class:"font-bold"},"Total Kewajiban + Ekuitas:",-1)),a("span",t$e,k(he(A())),1)])])]),a("div",{class:Ee(["mt-4 p-3 rounded-md",R()?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"])},[a("div",s$e,[a("div",a$e,[R()?($(),S("span",r$e,"  NERACA SEIMBANG ")):($(),S("span",o$e,"  NERACA TIDAK SEIMBANG "))]),R()?G("",!0):($(),S("div",n$e,[D[51]||(D[51]=a("div",{class:"text-xs text-red-600 dark:text-red-400"},"Selisih:",-1)),a("div",i$e,k(he(M())),1)]))])],2)])])):($(),S("div",l$e,[...D[52]||(D[52]=[a("div",{class:"text-center"},[a("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v1a1 1 0 001 1h4a1 1 0 001-1v-1m3-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6m9-4h-4"})]),a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No Data Available "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Select a date and generate report to view balance sheet. ")],-1)])])),N?($(),S("div",d$e,[a("div",c$e,[a("p",u$e,"Denpasar, "+k(n.value.split(", ")[1]),1)]),a("div",h$e,[a("div",g$e,[D[54]||(D[54]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Dibuat oleh,",-1)),a("div",p$e,[a("p",m$e,k(l.value),1),D[53]||(D[53]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Akuntan",-1))])]),a("div",f$e,[D[56]||(D[56]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Diperiksa oleh,",-1)),a("div",y$e,[a("p",v$e,k(u.value.checker_name),1),D[55]||(D[55]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Kepala Bagian Keuangan",-1))])]),a("div",x$e,[D[58]||(D[58]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Disetujui oleh,",-1)),a("div",b$e,[a("p",k$e,k(u.value.approver_name),1),D[57]||(D[57]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Direktur Utama",-1))])])])])):G("",!0),D[59]||(D[59]=a("br",null,null,-1)),D[60]||(D[60]=a("br",null,null,-1))]),_:1},512))}},_$e={key:0,class:"p-6"},$$e={class:"mb-6 text-center"},C$e={class:"text-sm text-gray-600 dark:text-gray-400"},S$e={class:"overflow-x-auto"},E$e={class:"min-w-full"},T$e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},A$e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},L$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},M$e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},P$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},D$e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},I$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},O$e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},F$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},R$e={class:"bg-gray-200 dark:bg-gray-600 font-bold"},j$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},N$e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},V$e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},B$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},U$e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},H$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},q$e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},z$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},W$e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},K$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},Y$e={class:"px-12 py-3 text-sm text-gray-900 dark:text-white"},G$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},J$e={class:"bg-gray-50 dark:bg-gray-700 font-semibold"},Q$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},X$e={class:"bg-gray-200 dark:bg-gray-600 font-bold"},Z$e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},eCe={class:"bg-white dark:bg-gray-800"},tCe={class:"bg-blue-100 dark:bg-blue-900/30"},sCe={class:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-6"},aCe={class:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800"},rCe={class:"flex items-center"},oCe={class:"ml-4"},nCe={class:"text-xl font-bold text-green-900 dark:text-green-100"},iCe={class:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800"},lCe={class:"flex items-center"},dCe={class:"ml-4"},cCe={class:"text-xl font-bold text-red-900 dark:text-red-100"},uCe={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800"},hCe={class:"flex items-center"},gCe={class:"ml-4"},pCe={class:"mt-6 bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},mCe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fCe={class:"flex justify-between"},yCe={class:"text-sm font-medium text-gray-900 dark:text-white"},vCe={class:"flex justify-between"},xCe={class:"text-sm font-medium text-gray-900 dark:text-white"},bCe={key:1,class:"mt-16 mb-16 bg-white dark:bg-gray-800 print:mt-32 page-break-inside-avoid"},kCe={class:"text-right mb-8 print:mb-16 pr-4"},wCe={class:"text-sm text-gray-600 dark:text-gray-400 print:text-base"},_Ce={class:"grid grid-cols-1 md:grid-cols-3 gap-12 print:gap-24 items-end print:p-8"},$Ce={class:"text-center"},CCe={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},SCe={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},ECe={class:"text-center"},TCe={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},ACe={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},LCe={class:"text-center"},MCe={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},PCe={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},DCe={key:2,class:"flex items-center justify-center py-12"},ICe={__name:"LabaRugi",setup(e){const t=Ut(),s=O(null),r=O(null),o=fe(()=>`Denpasar, ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`),n=Qs(),i=fe(()=>{var R,M;return((R=n.user)==null?void 0:R.name)||((M=n.user)==null?void 0:M.full_name)||"Nama Pengguna"}),l=O({checker_name:"Nama Pemeriksa",approver_name:"Nama Penyetuju"}),u=O(!1),m=async R=>{var M;if(!u.value){u.value=!0;try{const B=await fr.getLabaRugi(R.start_date,R.end_date),W=B.data||B;r.value=W,(M=s.value)==null||M.setReportData(W);try{const K=await Tt("/settings");if(K.success){const Z=K.data;l.value.checker_name=Z.report_checker_name||l.value.checker_name,l.value.approver_name=Z.report_approver_name||l.value.approver_name}}catch(K){console.warn("Failed to fetch settings:",K)}}catch(B){throw t.error("Failed to generate Laba Rugi report"),B}finally{u.value=!1}}},y=async R=>{try{await fr.exportLabaRugi(R.start_date,R.end_date,R.format),t.success("Report exported successfully")}catch(M){throw t.error("Failed to export report"),M}},f=()=>{var R;return(R=r.value)!=null&&R.revenues?r.value.revenues.filter(M=>M.name.toLowerCase().includes("penjualan")||M.name.toLowerCase().includes("pendapatan")||M.name.toLowerCase().includes("usaha")||M.level<=2):[]},x=()=>{var R;return(R=r.value)!=null&&R.revenues?r.value.revenues.filter(M=>!f().some(B=>B.code===M.code)):[]},c=()=>{var R;return(R=r.value)!=null&&R.expenses?r.value.expenses.filter(M=>M.name.toLowerCase().includes("pokok")||M.name.toLowerCase().includes("hpp")||M.name.toLowerCase().includes("persediaan")||M.name.toLowerCase().includes("pembelian")):[]},h=()=>{var R;return(R=r.value)!=null&&R.expenses?r.value.expenses.filter(M=>!c().some(B=>B.code===M.code)&&(M.name.toLowerCase().includes("gaji")||M.name.toLowerCase().includes("sewa")||M.name.toLowerCase().includes("listrik")||M.name.toLowerCase().includes("telepon")||M.name.toLowerCase().includes("administrasi")||M.name.toLowerCase().includes("pemasaran")||M.name.toLowerCase().includes("operasional")||M.level<=2)):[]},g=()=>{var R;return(R=r.value)!=null&&R.expenses?r.value.expenses.filter(M=>!c().some(B=>B.code===M.code)&&!h().some(B=>B.code===M.code)):[]},d=()=>f().reduce((R,M)=>R+(M.balance||0),0),p=()=>x().reduce((R,M)=>R+(M.balance||0),0),v=()=>{var R;return(R=r.value)!=null&&R.totals&&r.value.totals.revenue||0},b=()=>c().reduce((R,M)=>R+(M.balance||0),0),w=()=>h().reduce((R,M)=>R+(M.balance||0),0),E=()=>g().reduce((R,M)=>R+(M.balance||0),0),C=()=>{var R;return(R=r.value)!=null&&R.totals&&r.value.totals.expenses||0},T=()=>{var R;return(R=r.value)!=null&&R.totals&&r.value.totals.net_income||0},P=()=>T()>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",A=()=>{const R=d()-b(),M=d();return M===0?"0.00":(R/M*100).toFixed(2)},j=()=>{const R=T(),M=v();return M===0?"0.00":(R/M*100).toFixed(2)},V=R=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(R),H=R=>R?new Date(R).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):null;return(R,M)=>($(),it(hl,{title:"Laba Rugi",description:"Laporan pendapatan dan beban perusahaan untuk periode tertentu",ref_key:"reportLayout",ref:s,onGenerate:m,onExport:y},{default:le(({data:B,period:W})=>[B?($(),S("div",_$e,[a("div",$$e,[M[0]||(M[0]=a("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"}," LAPORAN LABA RUGI ",-1)),a("p",C$e," Periode: "+k(H(W.start_date))+" s/d "+k(H(W.end_date)),1)]),a("div",S$e,[a("table",E$e,[M[14]||(M[14]=a("thead",{class:"bg-gray-50 dark:bg-gray-700"},[a("tr",null,[a("th",{colspan:"2",class:"px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," PENDAPATAN ")])],-1)),a("tbody",T$e,[M[5]||(M[5]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"2",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Pendapatan Usaha ")],-1)),($(!0),S(Qe,null,ot(f(),K=>($(),S("tr",{key:"revenue-"+K.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",A$e,k(K.name),1),a("td",L$e,k(V(K.balance)),1)]))),128)),a("tr",M$e,[M[1]||(M[1]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Pendapatan Usaha ",-1)),a("td",P$e,k(V(d())),1)]),x().length>0?($(),S(Qe,{key:0},[M[3]||(M[3]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"2",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Pendapatan Lainnya ")],-1)),($(!0),S(Qe,null,ot(x(),K=>($(),S("tr",{key:"other-rev-"+K.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",D$e,k(K.name),1),a("td",I$e,k(V(K.balance)),1)]))),128)),a("tr",O$e,[M[2]||(M[2]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Pendapatan Lainnya ",-1)),a("td",F$e,k(V(p())),1)])],64)):G("",!0),a("tr",R$e,[M[4]||(M[4]=a("td",{class:"px-6 py-3 text-sm text-gray-900 dark:text-white"}," JUMLAH PENDAPATAN ",-1)),a("td",j$e,k(V(v())),1)])]),M[15]||(M[15]=a("thead",{class:"bg-gray-50 dark:bg-gray-700 mt-8"},[a("tr",null,[a("th",{colspan:"2",class:"px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," BEBAN ")])],-1)),a("tbody",N$e,[c().length>0?($(),S(Qe,{key:0},[M[7]||(M[7]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"2",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Harga Pokok Penjualan ")],-1)),($(!0),S(Qe,null,ot(c(),K=>($(),S("tr",{key:"cogs-"+K.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",V$e,k(K.name),1),a("td",B$e,k(V(K.balance)),1)]))),128)),a("tr",U$e,[M[6]||(M[6]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Harga Pokok Penjualan ",-1)),a("td",H$e,k(V(b())),1)])],64)):G("",!0),M[12]||(M[12]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"2",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Beban Usaha ")],-1)),($(!0),S(Qe,null,ot(h(),K=>($(),S("tr",{key:"expense-"+K.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",q$e,k(K.name),1),a("td",z$e,k(V(K.balance)),1)]))),128)),a("tr",W$e,[M[8]||(M[8]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Beban Usaha ",-1)),a("td",K$e,k(V(w())),1)]),g().length>0?($(),S(Qe,{key:1},[M[10]||(M[10]=a("tr",{class:"bg-gray-100 dark:bg-gray-700"},[a("td",{colspan:"2",class:"px-6 py-2 text-sm font-semibold text-gray-900 dark:text-white"}," Beban Lainnya ")],-1)),($(!0),S(Qe,null,ot(g(),K=>($(),S("tr",{key:"other-exp-"+K.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",Y$e,k(K.name),1),a("td",G$e,k(V(K.balance)),1)]))),128)),a("tr",J$e,[M[9]||(M[9]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Beban Lainnya ",-1)),a("td",Q$e,k(V(E())),1)])],64)):G("",!0),a("tr",X$e,[M[11]||(M[11]=a("td",{class:"px-6 py-3 text-sm text-gray-900 dark:text-white"}," JUMLAH BEBAN ",-1)),a("td",Z$e,k(V(C())),1)])]),a("tbody",eCe,[a("tr",tCe,[M[13]||(M[13]=a("td",{class:"px-6 py-4 text-sm font-bold text-gray-900 dark:text-white"}," LABA (RUGI) BERSIH ",-1)),a("td",{class:Ee(["px-6 py-4 text-sm text-right font-bold",P()])},k(V(T())),3)])])])]),a("div",sCe,[a("div",aCe,[a("div",rCe,[M[17]||(M[17]=a("div",{class:"p-2 bg-green-100 dark:bg-green-900/40 rounded-lg"},[a("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a("div",oCe,[M[16]||(M[16]=a("p",{class:"text-sm text-green-600 dark:text-green-400"}," Total Pendapatan ",-1)),a("p",nCe,k(V(v())),1)])])]),a("div",iCe,[a("div",lCe,[M[19]||(M[19]=a("div",{class:"p-2 bg-red-100 dark:bg-red-900/40 rounded-lg"},[a("svg",{class:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})])],-1)),a("div",dCe,[M[18]||(M[18]=a("p",{class:"text-sm text-red-600 dark:text-red-400"}," Total Beban ",-1)),a("p",cCe,k(V(C())),1)])])]),a("div",uCe,[a("div",hCe,[M[21]||(M[21]=a("div",{class:"p-2 bg-blue-100 dark:bg-blue-900/40 rounded-lg"},[a("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1)),a("div",gCe,[M[20]||(M[20]=a("p",{class:"text-sm text-blue-600 dark:text-blue-400"}," Laba/Rugi Bersih ",-1)),a("p",{class:Ee(["text-xl font-bold",P()])},k(V(T())),3)])])])]),a("div",pCe,[M[24]||(M[24]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Indikator Profitabilitas ",-1)),a("div",mCe,[a("div",fCe,[M[22]||(M[22]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Gross Profit Margin:",-1)),a("span",yCe,k(A())+"% ",1)]),a("div",vCe,[M[23]||(M[23]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Net Profit Margin:",-1)),a("span",xCe,k(j())+"% ",1)])])])])):G("",!0),B?($(),S("div",bCe,[a("div",kCe,[a("p",wCe,"Denpasar, "+k(o.value.split(", ")[1]),1)]),a("div",_Ce,[a("div",$Ce,[M[26]||(M[26]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Dibuat oleh,",-1)),a("div",CCe,[a("p",SCe,k(i.value),1),M[25]||(M[25]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Akuntan",-1))])]),a("div",ECe,[M[28]||(M[28]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Diperiksa oleh,",-1)),a("div",TCe,[a("p",ACe,k(l.value.checker_name),1),M[27]||(M[27]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Kepala Bagian Keuangan",-1))])]),a("div",LCe,[M[30]||(M[30]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Disetujui oleh,",-1)),a("div",MCe,[a("p",PCe,k(l.value.approver_name),1),M[29]||(M[29]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Direktur Utama",-1))])])])])):($(),S("div",DCe,[...M[31]||(M[31]=[a("div",{class:"text-center"},[a("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v1a1 1 0 001 1h4a1 1 0 001-1v-1m3-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6m9-4h-4"})]),a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No Data Available "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Select a date range and generate report to view income statement. ")],-1)])]))]),_:1},512))}},OCe={key:0,class:"p-6"},FCe={class:"mb-6 text-center"},RCe={class:"text-sm text-gray-600 dark:text-gray-400"},jCe={class:"overflow-x-auto"},NCe={class:"min-w-full"},VCe={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},BCe={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},UCe={class:"px-6 py-4 text-sm text-right text-gray-900 dark:text-white"},HCe={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},qCe={key:0,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},zCe={class:"px-6 py-4 text-sm text-right text-green-600 dark:text-green-400"},WCe={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},KCe={class:"px-6 py-4 text-sm text-right text-red-600 dark:text-red-400"},YCe={key:1,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},GCe={class:"px-6 py-4 text-sm text-right text-blue-600 dark:text-blue-400"},JCe={class:"bg-gray-100 dark:bg-gray-700 font-bold"},QCe={class:"px-6 py-4 text-sm text-right text-gray-900 dark:text-white"},XCe={class:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6"},ZCe={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800"},eSe={class:"flex items-center"},tSe={class:"ml-4"},sSe={class:"text-xl font-bold text-blue-900 dark:text-blue-100"},aSe={class:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800"},rSe={class:"flex items-center"},oSe={class:"ml-4"},nSe={class:"text-xl font-bold text-green-900 dark:text-green-100"},iSe={class:"mt-6 bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},lSe={class:"space-y-3"},dSe={class:"flex justify-between items-center"},cSe={class:"flex justify-between items-center"},uSe={class:"text-sm font-medium text-red-600 dark:text-red-400"},hSe={key:0,class:"flex justify-between items-center"},gSe={class:"text-sm font-medium text-green-600 dark:text-green-400"},pSe={key:1,class:"flex justify-between items-center"},mSe={class:"text-sm font-medium text-blue-600 dark:text-blue-400"},fSe={class:"flex justify-between items-center pt-3 border-t border-gray-300 dark:border-gray-600"},ySe={class:"text-sm font-bold text-gray-900 dark:text-white"},vSe={class:"mt-6 bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700"},xSe={class:"relative"},bSe={class:"flex items-end justify-between h-32"},kSe={class:"flex-1 flex flex-col items-center"},wSe={class:"text-xs font-medium text-gray-900 dark:text-white"},_Se={class:"flex-1 flex flex-col items-center"},$Se={class:"text-xs font-medium text-gray-900 dark:text-white"},CSe={class:"mt-4 text-center"},SSe={key:1,class:"mt-16 mb-16 bg-white dark:bg-gray-800 print:mt-32 page-break-inside-avoid"},ESe={class:"text-right mb-8 print:mb-16 pr-4"},TSe={class:"text-sm text-gray-600 dark:text-gray-400 print:text-base"},ASe={class:"grid grid-cols-1 md:grid-cols-3 gap-12 print:gap-24 items-end print:p-8"},LSe={class:"text-center"},MSe={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},PSe={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},DSe={class:"text-center"},ISe={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},OSe={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},FSe={class:"text-center"},RSe={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},jSe={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},NSe={key:2,class:"flex items-center justify-center py-12"},VSe={__name:"PerubahanModal",setup(e){const t=Ut(),s=O(null),r=O(null),o=fe(()=>`Denpasar, ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`),n=Qs(),i=fe(()=>{var C,T;return((C=n.user)==null?void 0:C.name)||((T=n.user)==null?void 0:T.full_name)||"Nama Pengguna"}),l=O({checker_name:"Nama Pemeriksa",approver_name:"Nama Penyetuju"}),u=O(!1),m=async C=>{var T;try{if(u.value)return;u.value=!0;const P=await fr.getPerubahanModal(C.start_date,C.end_date),A=P.data||P;r.value=A,(T=s.value)==null||T.setReportData(A);try{const j=await Tt("/settings");if(j.success){const V=j.data;l.value.checker_name=V.report_checker_name||l.value.checker_name,l.value.approver_name=V.report_approver_name||l.value.approver_name}}catch(j){console.warn("Failed to fetch settings:",j)}}catch(P){throw t.error("Failed to generate Perubahan Modal report"),P}finally{u.value=!1}},y=async C=>{try{await fr.exportPerubahanModal(C.start_date,C.end_date,C.format),t.success("Report exported successfully")}catch(T){throw t.error("Failed to export report"),T}},f=()=>r.value?(r.value.additional_investment||0)>0:!1,x=()=>!1,c=()=>r.value&&r.value.additional_investment||0,h=()=>0,g=()=>r.value?r.value.net_income+c()-r.value.prive+h():0,d=()=>r.value?r.value.net_income>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400",p=()=>{if(!r.value)return"0.00";const C=r.value.beginning_balance||0,T=r.value.ending_balance||0;return C===0?"0.00":((T-C)/Math.abs(C)*100).toFixed(2)},v=()=>{const C=parseFloat(p());return C>0?"text-green-600 dark:text-green-400":C<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"},b=C=>{if(!r.value)return 0;const T=Math.max(r.value.beginning_balance||0,r.value.ending_balance||0);return T===0?0:Math.max(20,C/T*100)},w=C=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(C),E=C=>C?new Date(C).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):null;return(C,T)=>($(),it(hl,{title:"Perubahan Modal",description:"Laporan perubahan ekuitas pemilik untuk periode tertentu",ref_key:"reportLayout",ref:s,onGenerate:m,onExport:y},{default:le(({data:P,period:A})=>[P?($(),S("div",OCe,[a("div",FCe,[T[0]||(T[0]=a("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"}," LAPORAN PERUBAHAN MODAL ",-1)),a("p",RCe," Periode: "+k(E(A.start_date))+" s/d "+k(E(A.end_date)),1)]),a("div",jCe,[a("table",NCe,[T[8]||(T[8]=a("thead",{class:"bg-gray-50 dark:bg-gray-700"},[a("tr",null,[a("th",{class:"px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," KETERANGAN "),a("th",{class:"px-6 py-3 text-right text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," JUMLAH (Rp) ")])],-1)),a("tbody",VCe,[a("tr",BCe,[T[1]||(T[1]=a("td",{class:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white"}," Saldo Awal Modal ",-1)),a("td",UCe,k(w(P.beginning_balance)),1)]),a("tr",HCe,[T[2]||(T[2]=a("td",{class:"px-6 py-4 text-sm text-gray-900 dark:text-white"}," Laba Bersih Periode Ini ",-1)),a("td",{class:Ee(["px-6 py-4 text-sm text-right",d()])},k(w(P.net_income)),3)]),f()?($(),S("tr",qCe,[T[3]||(T[3]=a("td",{class:"px-6 py-4 text-sm text-gray-900 dark:text-white"}," Tambahan Investasi Pemilik ",-1)),a("td",zCe,k(w(c())),1)])):G("",!0),a("tr",WCe,[T[4]||(T[4]=a("td",{class:"px-6 py-4 text-sm text-gray-900 dark:text-white"}," Prive (Penarikan oleh Pemilik) ",-1)),a("td",KCe," ("+k(w(P.prive))+") ",1)]),x()?($(),S("tr",YCe,[T[5]||(T[5]=a("td",{class:"px-6 py-4 text-sm text-gray-900 dark:text-white"}," Perubahan Lainnya ",-1)),a("td",GCe,k(w(h())),1)])):G("",!0),T[7]||(T[7]=a("tr",null,[a("td",{colspan:"2",class:"px-6 py-2"},[a("div",{class:"border-t-2 border-gray-300 dark:border-gray-600"})])],-1)),a("tr",JCe,[T[6]||(T[6]=a("td",{class:"px-6 py-4 text-sm text-gray-900 dark:text-white"}," Saldo Akhir Modal ",-1)),a("td",QCe,k(w(P.ending_balance)),1)])])])]),a("div",XCe,[a("div",ZCe,[a("div",eSe,[T[10]||(T[10]=a("div",{class:"p-2 bg-blue-100 dark:bg-blue-900/40 rounded-lg"},[a("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),a("div",tSe,[T[9]||(T[9]=a("p",{class:"text-sm text-blue-600 dark:text-blue-400"}," Saldo Awal ",-1)),a("p",sSe,k(w(P.beginning_balance)),1)])])]),a("div",aSe,[a("div",rSe,[T[12]||(T[12]=a("div",{class:"p-2 bg-green-100 dark:bg-green-900/40 rounded-lg"},[a("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a("div",oSe,[T[11]||(T[11]=a("p",{class:"text-sm text-green-600 dark:text-green-400"}," Saldo Akhir ",-1)),a("p",nSe,k(w(P.ending_balance)),1)])])])]),a("div",iSe,[T[18]||(T[18]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Rincian Perubahan ",-1)),a("div",lSe,[a("div",dSe,[T[13]||(T[13]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Laba Bersih:",-1)),a("span",{class:Ee(["text-sm font-medium",d()])},k(w(P.net_income)),3)]),a("div",cSe,[T[14]||(T[14]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Prive:",-1)),a("span",uSe," ("+k(w(P.prive))+") ",1)]),f()?($(),S("div",hSe,[T[15]||(T[15]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Tambahan Investasi:",-1)),a("span",gSe,k(w(c())),1)])):G("",!0),x()?($(),S("div",pSe,[T[16]||(T[16]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Perubahan Lainnya:",-1)),a("span",mSe,k(w(h())),1)])):G("",!0),a("div",fSe,[T[17]||(T[17]=a("span",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Total Perubahan:",-1)),a("span",ySe,k(w(g())),1)])])]),a("div",vSe,[T[22]||(T[22]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Pertumbuhan Modal ",-1)),a("div",xSe,[a("div",bSe,[a("div",kSe,[a("div",{class:"w-16 bg-blue-500 rounded-t",style:fs({height:b(P.beginning_balance)+"px"})},null,4),T[19]||(T[19]=a("span",{class:"text-xs text-gray-600 dark:text-gray-400 mt-2"},"Awal",-1)),a("span",wSe,k(w(P.beginning_balance)),1)]),a("div",_Se,[a("div",{class:"w-16 bg-green-500 rounded-t",style:fs({height:b(P.ending_balance)+"px"})},null,4),T[20]||(T[20]=a("span",{class:"text-xs text-gray-600 dark:text-gray-400 mt-2"},"Akhir",-1)),a("span",$Se,k(w(P.ending_balance)),1)])]),a("div",CSe,[T[21]||(T[21]=a("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Pertumbuhan:",-1)),a("span",{class:Ee(["text-lg font-bold",v()])},k(p())+"% ",3)])])])])):G("",!0),P?($(),S("div",SSe,[a("div",ESe,[a("p",TSe,"Denpasar, "+k(o.value.split(", ")[1]),1)]),a("div",ASe,[a("div",LSe,[T[24]||(T[24]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Dibuat oleh,",-1)),a("div",MSe,[a("p",PSe,k(i.value),1),T[23]||(T[23]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Akuntan",-1))])]),a("div",DSe,[T[26]||(T[26]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Diperiksa oleh,",-1)),a("div",ISe,[a("p",OSe,k(l.value.checker_name),1),T[25]||(T[25]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Kepala Bagian Keuangan",-1))])]),a("div",FSe,[T[28]||(T[28]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Disetujui oleh,",-1)),a("div",RSe,[a("p",jSe,k(l.value.approver_name),1),T[27]||(T[27]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Direktur Utama",-1))])])])])):($(),S("div",NSe,[...T[29]||(T[29]=[a("div",{class:"text-center"},[a("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v1a1 1 0 001 1h4a1 1 0 001-1v-1m3-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6m9-4h-4"})]),a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No Data Available "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Select a date range and generate report to view statement of changes in equity. ")],-1)])]))]),_:1},512))}},BSe={key:0,class:"p-6"},USe={class:"mb-6 text-center"},HSe={class:"text-sm text-gray-600 dark:text-gray-400"},qSe={class:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4"},zSe={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800"},WSe={class:"flex items-center"},KSe={class:"ml-4"},YSe={class:"text-lg font-bold text-blue-900 dark:text-blue-100"},GSe={class:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800"},JSe={class:"flex items-center"},QSe={class:"ml-4"},XSe={class:"text-lg font-bold text-green-900 dark:text-green-100"},ZSe={class:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800"},e6e={class:"flex items-center"},t6e={class:"ml-4"},s6e={class:"text-lg font-bold text-red-900 dark:text-red-100"},a6e={class:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800"},r6e={class:"flex items-center"},o6e={class:"ml-4"},n6e={class:"text-lg font-bold text-purple-900 dark:text-purple-100"},i6e={class:"overflow-x-auto"},l6e={class:"min-w-full"},d6e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},c6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},u6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},h6e={class:"px-6 py-3 text-sm text-right text-green-600 dark:text-green-400"},g6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},p6e={class:"px-6 py-3 text-sm text-right text-red-600 dark:text-red-400"},m6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},f6e={class:"px-6 py-3 text-sm text-right text-red-600 dark:text-red-400"},y6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},v6e={class:"px-6 py-3 text-sm text-right text-green-600 dark:text-green-400"},x6e={class:"bg-gray-100 dark:bg-gray-700 font-semibold"},b6e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},k6e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},w6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},_6e={class:"px-6 py-3 text-sm text-right text-red-600 dark:text-red-400"},$6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},C6e={class:"px-6 py-3 text-sm text-right text-green-600 dark:text-green-400"},S6e={class:"bg-gray-100 dark:bg-gray-700 font-semibold"},E6e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},T6e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},A6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},L6e={class:"px-6 py-3 text-sm text-right text-green-600 dark:text-green-400"},M6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},P6e={class:"px-6 py-3 text-sm text-right text-red-600 dark:text-red-400"},D6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},I6e={class:"px-6 py-3 text-sm text-right text-green-600 dark:text-green-400"},O6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},F6e={class:"px-6 py-3 text-sm text-right text-red-600 dark:text-red-400"},R6e={class:"bg-gray-100 dark:bg-gray-700 font-semibold"},j6e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},N6e={class:"bg-white dark:bg-gray-800"},V6e={class:"bg-gray-200 dark:bg-gray-600 font-bold"},B6e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},U6e={class:"hover:bg-gray-50 dark:hover:bg-gray-700"},H6e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},q6e={class:"bg-gray-100 dark:bg-gray-700 font-bold"},z6e={class:"px-6 py-3 text-sm text-right text-gray-900 dark:text-white"},W6e={class:"mt-6 bg-gray-50 dark:bg-gray-700 rounded-lg p-4"},K6e={class:"overflow-x-auto"},Y6e={class:"min-w-full"},G6e={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},J6e={class:"px-4 py-3 text-sm font-mono text-gray-900 dark:text-white"},Q6e={class:"px-4 py-3 text-sm text-gray-900 dark:text-white"},X6e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},Z6e={class:"px-4 py-3 text-sm text-right text-gray-900 dark:text-white"},e8e={class:"px-4 py-3 text-sm text-right font-medium text-gray-900 dark:text-white"},t8e={key:1,class:"mt-16 mb-16 bg-white dark:bg-gray-800 print:mt-32 page-break-inside-avoid"},s8e={class:"text-right mb-8 print:mb-16 pr-4"},a8e={class:"text-sm text-gray-600 dark:text-gray-400 print:text-base"},r8e={class:"grid grid-cols-1 md:grid-cols-3 gap-12 print:gap-24 items-end print:p-8"},o8e={class:"text-center"},n8e={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},i8e={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},l8e={class:"text-center"},d8e={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},c8e={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},u8e={class:"text-center"},h8e={class:"relative mx-auto w-52 md:w-64 print:w-80 h-28 print:h-36 border-t-0 border-gray-900 flex flex-col justify-end items-center pt-10 print:pt-16"},g8e={class:"font-bold text-sm md:text-base print:text-xl whitespace-nowrap"},p8e={key:2,class:"flex items-center justify-center py-12"},m8e={__name:"ArusKas",setup(e){const t=Ut(),s=O(null),r=O(null),o=fe(()=>`Denpasar, ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`),n=Qs(),i=fe(()=>{var H,R;return((H=n.user)==null?void 0:H.name)||((R=n.user)==null?void 0:R.full_name)||"Nama Pengguna"}),l=O({checker_name:"Nama Pemeriksa",approver_name:"Nama Penyetuju"}),u=async H=>{var R;try{const M=await fr.getArusKas(H.start_date,H.end_date),B=M.data||M;r.value=B,(R=s.value)==null||R.setReportData(B);try{const W=await Tt("/settings");if(W.success){const K=W.data;l.value.checker_name=K.report_checker_name||l.value.checker_name,l.value.approver_name=K.report_approver_name||l.value.approver_name}}catch(W){console.warn("Failed to fetch settings:",W)}}catch(M){throw t.error("Failed to generate Arus Kas report"),M}},m=async H=>{try{await fr.exportArusKas(H.start_date,H.end_date,H.format),t.success("Report exported successfully")}catch(R){throw t.error("Failed to export report"),R}},y=()=>0,f=()=>0,x=()=>0,c=()=>0,h=()=>0,g=()=>0,d=()=>0,p=()=>r.value&&r.value.prive||0,v=()=>0,b=()=>0,w=()=>r.value?r.value.net_income+y()-f()-x()+c():0,E=()=>g()-h(),C=()=>d()-p()+v()-b(),T=()=>r.value?Math.max(0,r.value.net_change)+r.value.beginning_balance:0,P=()=>r.value?Math.max(0,-r.value.net_change):0,A=()=>r.value?r.value.net_income>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400",j=H=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(H),V=H=>H?new Date(H).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):null;return(H,R)=>($(),it(hl,{title:"Arus Kas",description:"Laporan aliran masuk dan keluarnya kas untuk periode tertentu",ref_key:"reportLayout",ref:s,onGenerate:u,onExport:m},{default:le(({data:M,period:B})=>[M?($(),S("div",BSe,[a("div",USe,[R[0]||(R[0]=a("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"}," LAPORAN ARUS KAS ",-1)),a("p",HSe," Periode: "+k(V(B.start_date))+" s/d "+k(V(B.end_date)),1)]),a("div",qSe,[a("div",zSe,[a("div",WSe,[R[2]||(R[2]=a("div",{class:"p-2 bg-blue-100 dark:bg-blue-900/40 rounded-lg"},[a("svg",{class:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),a("div",KSe,[R[1]||(R[1]=a("p",{class:"text-sm text-blue-600 dark:text-blue-400"}," Saldo Awal ",-1)),a("p",YSe,k(j(M.beginning_balance)),1)])])]),a("div",GSe,[a("div",JSe,[R[4]||(R[4]=a("div",{class:"p-2 bg-green-100 dark:bg-green-900/40 rounded-lg"},[a("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 11l5-5m0 0l5 5m-5-5v12"})])],-1)),a("div",QSe,[R[3]||(R[3]=a("p",{class:"text-sm text-green-600 dark:text-green-400"}," Penerimaan ",-1)),a("p",XSe,k(j(T())),1)])])]),a("div",ZSe,[a("div",e6e,[R[6]||(R[6]=a("div",{class:"p-2 bg-red-100 dark:bg-red-900/40 rounded-lg"},[a("svg",{class:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 13l-5 5m0 0l-5-5m5 5V6"})])],-1)),a("div",t6e,[R[5]||(R[5]=a("p",{class:"text-sm text-red-600 dark:text-red-400"}," Pengeluaran ",-1)),a("p",s6e,k(j(P())),1)])])]),a("div",a6e,[a("div",r6e,[R[8]||(R[8]=a("div",{class:"p-2 bg-purple-100 dark:bg-purple-900/40 rounded-lg"},[a("svg",{class:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})])],-1)),a("div",o6e,[R[7]||(R[7]=a("p",{class:"text-sm text-purple-600 dark:text-purple-400"}," Saldo Akhir ",-1)),a("p",n6e,k(j(M.ending_balance)),1)])])])]),a("div",i6e,[a("table",l6e,[R[26]||(R[26]=a("thead",{class:"bg-gray-50 dark:bg-gray-700"},[a("tr",null,[a("th",{colspan:"2",class:"px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," ARUS KAS DARI AKTIVITAS OPERASI ")])],-1)),a("tbody",d6e,[a("tr",c6e,[R[9]||(R[9]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Laba Bersih ",-1)),a("td",{class:Ee(["px-6 py-3 text-sm text-right",A()])},k(j(M.net_income)),3)]),a("tr",u6e,[R[10]||(R[10]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Penyusutan Aktiva Tetap ",-1)),a("td",h6e,k(j(y())),1)]),a("tr",g6e,[R[11]||(R[11]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Kenaikan/penurunan Piutang Usaha ",-1)),a("td",p6e," ("+k(j(f()))+") ",1)]),a("tr",m6e,[R[12]||(R[12]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Kenaikan/penurunan Persediaan ",-1)),a("td",f6e," ("+k(j(x()))+") ",1)]),a("tr",y6e,[R[13]||(R[13]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Kenaikan/penurunan Utang Usaha ",-1)),a("td",v6e,k(j(c())),1)]),a("tr",x6e,[R[14]||(R[14]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Arus Kas dari Aktivitas Operasi ",-1)),a("td",b6e,k(j(w())),1)])]),R[27]||(R[27]=a("thead",{class:"bg-gray-50 dark:bg-gray-700"},[a("tr",null,[a("th",{colspan:"2",class:"px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," ARUS KAS DARI AKTIVITAS INVESTASI ")])],-1)),a("tbody",k6e,[a("tr",w6e,[R[15]||(R[15]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Pembelian Aktiva Tetap ",-1)),a("td",_6e," ("+k(j(h()))+") ",1)]),a("tr",$6e,[R[16]||(R[16]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Penjualan Aktiva Tetap ",-1)),a("td",C6e,k(j(g())),1)]),a("tr",S6e,[R[17]||(R[17]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Arus Kas dari Aktivitas Investasi ",-1)),a("td",E6e,k(j(E())),1)])]),R[28]||(R[28]=a("thead",{class:"bg-gray-50 dark:bg-gray-700"},[a("tr",null,[a("th",{colspan:"2",class:"px-6 py-3 text-left text-sm font-bold text-gray-900 dark:text-white uppercase tracking-wider"}," ARUS KAS DARI AKTIVITAS PENDANAAN ")])],-1)),a("tbody",T6e,[a("tr",A6e,[R[18]||(R[18]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Tambahan Modal ",-1)),a("td",L6e,k(j(d())),1)]),a("tr",M6e,[R[19]||(R[19]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Prive ",-1)),a("td",P6e," ("+k(j(p()))+") ",1)]),a("tr",D6e,[R[20]||(R[20]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Pinjaman ",-1)),a("td",I6e,k(j(v())),1)]),a("tr",O6e,[R[21]||(R[21]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Pelunasan Pinjaman ",-1)),a("td",F6e," ("+k(j(b()))+") ",1)]),a("tr",R6e,[R[22]||(R[22]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Jumlah Arus Kas dari Aktivitas Pendanaan ",-1)),a("td",j6e,k(j(C())),1)])]),a("tbody",N6e,[a("tr",V6e,[R[23]||(R[23]=a("td",{class:"px-6 py-3 text-sm text-gray-900 dark:text-white"}," KENAIKAN/PENURUNAN KAS BERSIH ",-1)),a("td",B6e,k(j(M.net_change)),1)]),a("tr",U6e,[R[24]||(R[24]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," Saldo Awal Kas ",-1)),a("td",H6e,k(j(M.beginning_balance)),1)]),a("tr",q6e,[R[25]||(R[25]=a("td",{class:"px-12 py-3 text-sm text-gray-900 dark:text-white"}," SALDO AKHIR KAS ",-1)),a("td",z6e,k(j(M.ending_balance)),1)])])])]),a("div",W6e,[R[30]||(R[30]=a("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Rincian Rekening Kas ",-1)),a("div",K6e,[a("table",Y6e,[R[29]||(R[29]=a("thead",{class:"bg-gray-100 dark:bg-gray-600"},[a("tr",null,[a("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Kode Rekening "),a("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Nama Rekening "),a("th",{class:"px-4 py-2 text-right text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Saldo Awal "),a("th",{class:"px-4 py-2 text-right text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Pergerakan "),a("th",{class:"px-4 py-2 text-right text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wider"}," Saldo Akhir ")])],-1)),a("tbody",G6e,[($(!0),S(Qe,null,ot(M.cash_accounts,W=>($(),S("tr",{key:W.code,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[a("td",J6e,k(W.code),1),a("td",Q6e,k(W.name),1),a("td",X6e,k(j(W.beginning_balance)),1),a("td",Z6e,k(j(W.movement)),1),a("td",e8e,k(j(W.ending_balance)),1)]))),128))])])])])])):G("",!0),M?($(),S("div",t8e,[a("div",s8e,[a("p",a8e,"Denpasar, "+k(o.value.split(", ")[1]),1)]),a("div",r8e,[a("div",o8e,[R[32]||(R[32]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Dibuat oleh,",-1)),a("div",n8e,[a("p",i8e,k(i.value),1),R[31]||(R[31]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Akuntan",-1))])]),a("div",l8e,[R[34]||(R[34]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Diperiksa oleh,",-1)),a("div",d8e,[a("p",c8e,k(l.value.checker_name),1),R[33]||(R[33]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Kepala Bagian Keuangan",-1))])]),a("div",u8e,[R[36]||(R[36]=a("p",{class:"text-xs md:text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-16 print:mb-24"},"Disetujui oleh,",-1)),a("div",h8e,[a("p",g8e,k(l.value.approver_name),1),R[35]||(R[35]=a("p",{class:"text-xs md:text-sm text-gray-600 dark:text-gray-400 italic mt-1 print:mt-2"},"Direktur Utama",-1))])])])])):($(),S("div",p8e,[...R[37]||(R[37]=[a("div",{class:"text-center"},[a("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v1a1 1 0 001 1h4a1 1 0 001-1v-1m3-2V8a2 2 0 00-2-2H8a2 2 0 00-2 2v6m9-4h-4"})]),a("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"}," No Data Available "),a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Select a date range and generate report to view cash flow statement. ")],-1)])]))]),_:1},512))}},f8e={class:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},y8e={class:"sm:mx-auto sm:w-full sm:max-w-md"},v8e={class:"text-center"},x8e={class:"space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center"},b8e={class:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700"},k8e={class:"space-y-2"},w8e={class:"fixed bottom-4 right-4"},_8e={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$8e={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},C8e={__name:"NotFound",setup(e){const t=vr(),s=_o(),r=()=>{window.history.length>1?t.go(-1):t.push("/")};return(o,n)=>{const i=pr("router-link");return $(),S("div",f8e,[a("div",y8e,[a("div",v8e,[n[7]||(n[7]=po('<div class="mx-auto h-32 w-32 text-gray-400 dark:text-gray-500 mb-6"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-full h-full"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><h1 class="text-6xl font-bold text-gray-900 dark:text-white mb-4"> 404 </h1><h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-2"> Page Not Found </h2><p class="text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto"> Sorry, we couldn&#39;t find the page you&#39;re looking for. The page might have been moved, deleted, or you entered the wrong URL. </p>',4)),a("div",x8e,[L(i,{to:"/",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},{default:le(()=>[...n[1]||(n[1]=[a("svg",{class:"mr-2 -ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),ke(" Go to Dashboard ",-1)])]),_:1}),a("button",{onClick:r,class:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[...n[2]||(n[2]=[a("svg",{class:"mr-2 -ml-1 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),ke(" Go Back ",-1)])])]),a("div",b8e,[n[6]||(n[6]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-4"}," You might be looking for: ",-1)),a("div",k8e,[L(i,{to:"/",class:"block text-sm text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300"},{default:le(()=>[...n[3]||(n[3]=[ke(" Dashboard ",-1)])]),_:1}),L(i,{to:"/profile",class:"block text-sm text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300"},{default:le(()=>[...n[4]||(n[4]=[ke(" Profile Settings ",-1)])]),_:1}),L(i,{to:"/settings",class:"block text-sm text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300"},{default:le(()=>[...n[5]||(n[5]=[ke(" Application Settings ",-1)])]),_:1})])])])]),a("div",w8e,[a("button",{onClick:n[0]||(n[0]=(...l)=>F(s).toggleTheme&&F(s).toggleTheme(...l)),type:"button",class:"p-2 rounded-full bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-700 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},[F(s).isDark?($(),S("svg",$8e,[...n[9]||(n[9]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])])):($(),S("svg",_8e,[...n[8]||(n[8]=[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))])])])}}},S8e={class:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8"},E8e={class:"max-w-4xl mx-auto"},T8e={key:0,class:"flex justify-center items-center py-12"},A8e={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6"},L8e={class:"flex items-center"},M8e={class:"text-sm text-red-600 dark:text-red-400 mt-1"},P8e={key:2,class:"space-y-6"},D8e={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},I8e={class:"flex items-start justify-between"},O8e={class:"flex items-start gap-4"},F8e={key:0,class:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0"},R8e=["src","alt"],j8e={key:1,class:"w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0"},N8e={class:"text-2xl font-bold text-gray-900 dark:text-white"},V8e={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},B8e={class:"flex items-center gap-2 mt-2"},U8e={key:0,class:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400"},H8e={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},q8e={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},z8e={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6"},W8e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K8e={class:"space-y-3"},Y8e={key:0},G8e={class:"text-sm text-gray-900 dark:text-white mt-1"},J8e={key:1},Q8e={class:"text-sm text-gray-900 dark:text-white mt-1"},X8e={key:2},Z8e={class:"text-sm text-gray-900 dark:text-white mt-1"},e7e={key:3},t7e={class:"text-sm text-gray-900 dark:text-white mt-1"},s7e={class:"space-y-3"},a7e={key:0},r7e={class:"text-sm text-gray-900 dark:text-white mt-1"},o7e={key:1},n7e={class:"text-sm text-gray-900 dark:text-white mt-1"},i7e={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},l7e={key:2},d7e={class:"text-sm text-gray-900 dark:text-white mt-1"},c7e={key:0,class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},u7e={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},h7e={key:0},g7e={class:"text-sm text-gray-900 dark:text-white mt-1"},p7e={key:1},m7e={class:"text-sm text-gray-900 dark:text-white mt-1"},f7e={key:2},y7e={class:"text-sm text-gray-900 dark:text-white mt-1"},v7e={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6"},x7e={class:"flex items-start gap-3"},b7e={__name:"AssetDetailPublic",setup(e){const t=wo(),s=vr();Qs(),Ut();const r=O(!0),o=O(null),n=O(null),i=async()=>{try{r.value=!0,o.value=null;const c=t.params.identifier,h=await Tt(`assets/${c}/public`);h.success?n.value=h.data:o.value=h.message||"Failed to load asset information"}catch(c){console.error("Load asset error:",c),o.value="Asset not found or unavailable"}finally{r.value=!1}},l=c=>({excellent:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",good:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",fair:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",poor:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400",damaged:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[c]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",u=c=>({active:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inactive:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",maintenance:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400",retired:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",lost:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"})[c]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",m=c=>new Date(c).toLocaleDateString(),y=()=>{s.push({name:"login",query:{redirect:t.fullPath}})},f=()=>{var c;s.push({name:"work-orders",query:{action:"create",asset_id:n.value.id,asset_name:n.value.name,asset_code:n.value.code,location_id:(c=n.value.location)==null?void 0:c.id}})},x=()=>{var c;s.push({name:"repair-requests",query:{action:"create",asset_id:n.value.id,asset_name:n.value.name,asset_code:n.value.code,location_id:(c=n.value.location)==null?void 0:c.id}})};return Ot(()=>{i()}),(c,h)=>($(),S("div",S8e,[a("div",E8e,[r.value?($(),S("div",T8e,[...h[0]||(h[0]=[a("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)])])):o.value?($(),S("div",A8e,[a("div",L8e,[L(F(yo),{class:"w-6 h-6 text-red-600 dark:text-red-400 mr-3"}),a("div",null,[h[1]||(h[1]=a("h3",{class:"text-lg font-medium text-red-800 dark:text-red-200"},"Error",-1)),a("p",M8e,k(o.value),1)])])])):n.value?($(),S("div",P8e,[a("div",D8e,[a("div",I8e,[a("div",O8e,[n.value.image_url?($(),S("div",F8e,[a("img",{src:n.value.image_url,alt:n.value.name,class:"w-full h-full object-cover"},null,8,R8e)])):($(),S("div",j8e,[L(F(ji),{class:"w-10 h-10 text-gray-400"})])),a("div",null,[a("h1",N8e,k(n.value.name),1),a("p",V8e,"Code: "+k(n.value.code),1),a("div",B8e,[a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",l(n.value.condition)])},k(n.value.condition),3),a("span",{class:Ee(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",u(n.value.status)])},k(n.value.status.replace("_"," ")),3)])])]),n.value.authenticated?($(),S("div",U8e,[L(F(Fs),{class:"w-5 h-5"}),h[2]||(h[2]=a("span",null,"Authenticated",-1))])):G("",!0)])]),n.value.shortcuts_enabled?($(),S("div",H8e,[h[5]||(h[5]=a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Quick Actions",-1)),a("div",q8e,[a("button",{onClick:f,class:"flex items-center justify-center gap-3 px-4 py-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors"},[L(F(O0),{class:"w-5 h-5 text-red-600 dark:text-red-400"}),h[3]||(h[3]=a("span",{class:"font-medium text-red-700 dark:text-red-300"},"Create Work Order",-1))]),a("button",{onClick:x,class:"flex items-center justify-center gap-3 px-4 py-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors"},[L(F(yo),{class:"w-5 h-5 text-orange-600 dark:text-orange-400"}),h[4]||(h[4]=a("span",{class:"font-medium text-orange-700 dark:text-orange-300"},"Create Repair Request",-1))])])])):G("",!0),a("div",z8e,[h[16]||(h[16]=a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Asset Information",-1)),a("div",W8e,[a("div",K8e,[n.value.description?($(),S("div",Y8e,[h[6]||(h[6]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Description",-1)),a("p",G8e,k(n.value.description),1)])):G("",!0),n.value.serial_number?($(),S("div",J8e,[h[7]||(h[7]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Serial Number",-1)),a("p",Q8e,k(n.value.serial_number),1)])):G("",!0),n.value.model_number?($(),S("div",X8e,[h[8]||(h[8]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Model Number",-1)),a("p",Z8e,k(n.value.model_number),1)])):G("",!0),n.value.manufacturer?($(),S("div",e7e,[h[9]||(h[9]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Manufacturer",-1)),a("p",t7e,k(n.value.manufacturer),1)])):G("",!0)]),a("div",s7e,[n.value.category?($(),S("div",a7e,[h[10]||(h[10]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Category",-1)),a("p",r7e,k(n.value.category.name),1)])):G("",!0),n.value.location?($(),S("div",o7e,[h[11]||(h[11]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Location",-1)),a("p",n7e,k(n.value.location.name),1),n.value.location.full_address?($(),S("p",i7e,k(n.value.location.full_address),1)):G("",!0)])):G("",!0),n.value.current_value?($(),S("div",l7e,[h[12]||(h[12]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Current Value",-1)),a("p",d7e,"$"+k(n.value.current_value.toLocaleString()),1)])):G("",!0)])]),n.value.authenticated?($(),S("div",c7e,[a("div",u7e,[n.value.purchase_date?($(),S("div",h7e,[h[13]||(h[13]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Purchase Date",-1)),a("p",g7e,k(m(n.value.purchase_date)),1)])):G("",!0),n.value.warranty_expiry?($(),S("div",p7e,[h[14]||(h[14]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Warranty",-1)),a("p",m7e,[ke(k(m(n.value.warranty_expiry))+" ",1),a("span",{class:Ee(n.value.is_warranty_valid?"text-green-600":"text-red-600")}," ("+k(n.value.is_warranty_valid?"Valid":"Expired")+") ",3)])])):G("",!0),n.value.quantity?($(),S("div",f7e,[h[15]||(h[15]=a("label",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Quantity",-1)),a("p",y7e,k(n.value.quantity),1)])):G("",!0)])])):G("",!0)]),n.value.authenticated?G("",!0):($(),S("div",v7e,[a("div",x7e,[L(F(MS),{class:"w-6 h-6 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),a("div",null,[h[17]||(h[17]=a("h3",{class:"text-lg font-medium text-red-900 dark:text-red-100"},"Want to see more details?",-1)),h[18]||(h[18]=a("p",{class:"text-sm text-red-700 dark:text-red-300 mt-1"}," Login to view complete asset information and access quick actions like creating work orders and repair requests. ",-1)),a("button",{onClick:y,class:"mt-3 inline-flex items-center px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg transition-colors"}," Login Now ")])])]))])):G("",!0)])]))}},k7e=[{path:"/login",name:"login",component:K4,meta:{requiresGuest:!0}},{path:"/forgot-password",name:"forgot-password",component:A5,meta:{requiresGuest:!0}},{path:"/verify-otp",name:"verify-otp",component:f3,meta:{requiresGuest:!0}},{path:"/reset-password",name:"reset-password",component:l$,meta:{requiresGuest:!0}},{path:"/assets/:identifier",name:"asset-detail-public",component:b7e,meta:{public:!0}},{path:"/",component:o7,meta:{requiresAuth:!0},children:[{path:"",name:"Dashboard",component:KP},{path:"/profile",name:"Profile",component:yI},{path:"/settings",name:"Settings",component:UI},{path:"/users",name:"Users",component:Kj},{path:"/roles",name:"Roles",component:_V},{path:"/permissions",name:"Permissions",component:RB},{path:"/asset-categories",name:"asset-categories.index",component:PU},{path:"/assets",name:"assets.index",component:bz},{path:"/locations",name:"locations.index",component:_W},{path:"/vendors",name:"vendors.index",component:kK},{path:"/products",name:"products.index",component:LY},{path:"/stock-masuk",name:"stock-masuk.index",component:rJ},{path:"/mutasi",name:"mutasi.index",component:BX},{path:"/adjustment",name:"adjustment.index",component:GZ},{path:"/stockopname",name:"stockopname.index",component:mte},{path:"/buku-stock",name:"buku-stock.index",component:Sde},{path:"/work-orders",name:"work-orders",component:Mue},{path:"/preventive-maintenance",name:"preventive-maintenance",component:$he},{path:"/repair-requests",name:"repair-requests",component:Wge},{path:"/chart-of-accounts",name:"chart-of-accounts",component:Lfe},{path:"/journal-entries",name:"journal-entries",component:vve},{path:"/sales",name:"sales.index",component:Tke},{path:"/customers",name:"customers.index",component:Uwe},{path:"/reports/neraca-lajur",name:"reports.neraca-lajur",component:e5e},{path:"/reports/neraca",name:"reports.neraca",component:w$e},{path:"/reports/laba-rugi",name:"reports.laba-rugi",component:ICe},{path:"/reports/perubahan-modal",name:"reports.perubahan-modal",component:VSe},{path:"/reports/arus-kas",name:"reports.arus-kas",component:m8e}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:C8e}],rh=o4({history:R_(),routes:k7e});rh.beforeEach(async(e,t,s)=>{Cn.start();const r=Qs();if(console.log("Router guard - navigating to:",e.name,"from:",t.name),console.log("Auth state:",{isAuthenticated:r.isAuthenticated,hasToken:!!r.token}),e.meta.public){console.log("Public route, allowing access"),s();return}if(e.meta.requiresGuest){if(r.isAuthenticated){console.log("User is authenticated, redirecting to Dashboard"),s({name:"Dashboard"});return}console.log("Guest route, allowing access"),s();return}if(e.meta.requiresAuth){if(!r.isAuthenticated){console.log("Not authenticated, redirecting to Login"),s({name:"login",query:{redirect:e.fullPath}});return}if(t.name!=="login"){console.log("Verifying token validity");try{if(!await r.checkAuth()){console.log("Token invalid, redirecting to Login"),s({name:"login",query:{redirect:e.fullPath}});return}}catch(o){console.error("Error checking auth:",o),s({name:"login",query:{redirect:e.fullPath}});return}}}console.log("Navigation allowed"),s()});const w7e={search:"Search menu...",main:"Main",dashboard:"Dashboard",accountingManagement:"Accounting Management",journalEntries:"General Journal",coa:"Chart of Accounts (COA)",neracaLajur:"Work Sheet",neraca:"Balance Sheet",labaRugi:"Profit & Loss",perubahanModal:"Changes in Equity",arusKas:"Cash Flow",warehouseManagement:"Warehouse Management",products:"Products",locations:"Locations",stockMasuk:"Stock In",mutasi:"Mutation",adjustment:"Adjustment",stockopname:"Stock Opname",bukuStock:"Stock Book",userManagement:"User Management",users:"Users",roles:"Roles",permissions:"Permissions",salesManagement:"Sales Management",sales:"Sales",customers:"Customers",settings:"System Settings",expandSidebar:"Expand Sidebar",collapseSidebar:"Collapse Sidebar"},_7e={dashboard:"Dashboard",users:"Users",roles:"Roles",permissions:"Permissions",settings:"System Settings",journalEntries:"General Journal",coa:"Chart of Accounts (COA)",neracaLajur:"Work Sheet",neraca:"Balance Sheet",labaRugi:"Profit & Loss",perubahanModal:"Changes in Equity",arusKas:"Cash Flow",locations:"Locations",stockMasuk:"Stock In",mutasi:"Mutation",adjustment:"Adjustment",stockopname:"Stock Opname",bukuStock:"Stock Book",sales:"Sales",products:"Products"},$7e={version:"Version",company:"Company Name"},C7e={select:"Select Language",english:"English",indonesian:"Bahasa Indonesia"},S7e={title:"Warehouse Dashboard",welcomeBack:"Welcome back",businessOverview:"Here's your business overview for today.",customers:"Customers",sales:"Sales",revenue:"Revenue",totalCustomers:"Total Customers",totalSales:"Total Sales",totalProducts:"Total Products",totalRevenue:"Total Revenue",active:"active",inactive:"inactive",thisMonth:"This month",lowStock:"Low stock",lowStockAlert:"Low Stock Alert",productsNeedAttention:"products need attention",stockMovements:"Stock Movements",transactionsToday:"transactions today",pendingApprovals:"Pending Approvals",itemsWaiting:"items waiting",viewAll:"View All",viewDetails:"View Details",review:"Review",salesRevenueTrend:"Sales Revenue Trend",last12Months:"Last 12 months",last6Months:"Last 6 months",last3Months:"Last 3 months",recentActivity:"Recent Activity",quickActions:"Quick Actions",addCustomer:"Add Customer",createSale:"Create Sale",addProduct:"Add Product",stockIn:"Stock In",stockOut:"Stock Out",viewReports:"View Reports",businessInsights:"Business Insights",analytics:"Analytics",revenueGrowth:"Revenue Growth",fromLastMonth:"from last month",customerAcquisition:"Customer Acquisition",activeCustomersThisMonth:"active customers this month",inventoryHealth:"Inventory Health",productsNeedRestocking:"products need restocking",systemAlerts:"System Alerts",liveUpdates:"Live Updates",productsRunningLow:"products are running low on stock",itemsWaitingApproval:"items waiting for approval",systemStatus:"System Status",allSystemsOperational:"All systems operational",newCustomer:"New Customer",newProduct:"New Product",sale:"Sale",stock:"Stock",stockTransactions:"Stock Transactions",in:"In",out:"Out",currentStock:"Current Stock",locationsWithStock:"locations with stock",totalLocations:"Total Locations",locations:"locations",productCategories:"Product Categories",categories:"categories",workOrders:"Work Orders",total:"total",stockMovementTrend:"Stock Movement Trend",productsByCategory:"Products by Category",stockMutation:"Stock Mutation",stockAdjustment:"Stock Adjustment",stockOpname:"Stock Opname",stockBook:"Stock Book",month:"Month",quantity:"Quantity",noData:"No Data",recentStockTransactions:"Recent Stock Transactions",recentProducts:"Recent Products",recentWorkOrders:"Recent Work Orders",noRecentTransactions:"No recent transactions",justNow:"just now",minutesAgo:"minutes ago",hoursAgo:"hours ago",daysAgo:"days ago"},E7e={title:"Sales Management",subtitle:"Manage your sales transactions and customer orders",filters:"Filters",export:"Export",exporting:"Exporting...",newSale:"New Sale",salesTransactions:"Sales Transactions",transactionNumber:"Transaction #",date:"Date",customer:"Customer",walkInCustomer:"Walk-in Customer",location:"Location",total:"Total",payment:"Payment",paymentCash:"Cash",paymentTransfer:"Transfer",paymentCredit:"Credit",status:"Status",statusDraft:"Draft",statusPosted:"Posted",statusCancelled:"Cancelled",view:"View",post:"Post",cancel:"Cancel",delete:"Delete",close:"Close",deleteSale:"Delete Sale",deleteSaleMessage:"Are you sure you want to delete",deleteSaleDescription:"This action cannot be undone. Only draft sales can be deleted.",postSaleTransaction:"Post Sale Transaction",postSaleMessage:"Are you sure you want to post",postSaleDescription:"This will update stock levels and create journal entries. This action cannot be undone.",cancelSaleTransaction:"Cancel Sale Transaction",cancelSaleMessage:"Are you sure you want to cancel",cancelSaleDescription:"This will reverse stock levels and journal entries. This action cannot be undone.",cancelSale:"Cancel Sale",totalTransactions:"Total Transactions",totalRevenue:"Total Revenue",filterSales:"Filter Sales",activeFilters:"Active Filters",search:"Search",searchPlaceholder:"Transaction number...",allStatus:"All Status",allLocations:"All Locations",allCustomers:"All Customers",startDate:"Start Date",endDate:"End Date",resetAllFilters:"Reset All Filters",form:{title:"Sale Transaction",editTitle:"Edit Sale Transaction",newTitle:"New Sale Transaction",transactionDate:"Transaction Date",location:"Location",customer:"Customer",notes:"Notes",notesPlaceholder:"Additional notes (optional)",subtotal:"Subtotal",discount:"Discount",tax:"Tax",total:"Total",paymentMethod:"Payment Method",paidAmount:"Paid Amount",changeAmount:"Change Amount",cancel:"Cancel",save:"Save",update:"Update",saving:"Saving...",paymentMethodCash:"Cash",paymentMethodTransfer:"Bank Transfer",paymentMethodCredit:"Credit",locationChangeWarning:"Changing location will clear all added items. Continue?",unsavedChangesWarning:"You have unsaved changes. Are you sure you want to close this form?",items:{title:"Sale Items",addItem:"Add Item",noItems:'No items added. Click "Add Item" to start.',selectLocationFirst:"Please select a location first",product:"Product",quantity:"Quantity",unitPrice:"Unit Price",discountPercent:"Disc %",taxPercent:"Tax %",total:"Total",action:"Action",selectProduct:"Select Product",outOfStock:"(Out of stock)",lowStock:"(Low stock)",confirmRemove:"Are you sure you want to remove",validationSelectProduct:"Please select a product",validationQuantityGreaterZero:"Quantity must be greater than 0",validationUnitPriceGreaterZero:"Unit price must be greater than 0",validationDiscountRange:"Discount must be between 0% and 100%",validationTaxRange:"Tax must be between 0% and 100%",validationOutOfStock:"Product is out of stock",validationExceedsStock:"Quantity exceeds available stock",warningLowStock:"Low stock: Only {count} units available"}}},T7e={title:"Customer Management",subtitle:"Manage your customer database and relationships",export:"Export",exporting:"Exporting...",newCustomer:"New Customer",customersTable:"Customers",code:"Code",name:"Name",phone:"Phone",email:"Email",status:"Status",created:"Created",statusActive:"Active",statusInactive:"Inactive",viewDetails:"View Details",editCustomer:"Edit Customer",setInactive:"Set Inactive",setActive:"Set Active",deleteCustomer:"Delete Customer",delete:"Delete",cancel:"Cancel",confirm:"Confirm",close:"Close",deleteCustomerTitle:"Delete Customer",deleteCustomerMessage:"Are you sure you want to delete",deleteCustomerDescription:"This action cannot be undone. Customers with existing sales cannot be deleted.",deactivateCustomer:"Deactivate Customer",activateCustomer:"Activate Customer",deactivateMessage:"Are you sure you want to deactivate",activateMessage:"Are you sure you want to activate",toggleStatusDescription:"This will change the customer's status and affect their ability to make purchases.",thisCustomer:"this customer",refreshSuccess:"Customers refreshed successfully",exportSuccess:"Customers exported successfully",updateSuccess:"Customer updated successfully",createSuccess:"Customer created successfully",deleteSuccess:"Customer deleted successfully",statusUpdateSuccess:"Customer status updated successfully",refreshError:"Error refreshing customers",exportError:"Error exporting customers",saveError:"Error saving customer",deleteError:"Error deleting customer",statusError:"Error toggling customer status",detailsError:"Error fetching customer details"},A7e={title:"Products Management",subtitle:"Manage your product catalog and inventory",filters:"Filters",export:"Export",exporting:"Exporting...",addProduct:"Add Product",productsTable:"Products",code:"Code",productName:"Product Name",type:"Type",unit:"Unit",purchasePrice:"Purchase Price",sellingPrice:"Selling Price",minStock:"Min Stock",maxStock:"Max Stock",status:"Status",createdAt:"Created At",typeFinishedGoods:"Finished Goods",typeRawMaterial:"Raw Material",typeConsumable:"Consumable",statusActive:"Active",statusInactive:"Inactive",deleteProduct:"Delete Product",deleteProductMessage:"Are you sure you want to delete",deleteProductDescription:"This action cannot be undone and will permanently remove the product from the system.",thisProduct:"this product",delete:"Delete",cancel:"Cancel"},L7e={title:"Locations",subtitle:"Manage physical locations and their hierarchical structure",totalLocations:"Total Locations",addLocation:"Add Location",activeLocations:"Active Locations",rootLocations:"Root Locations",newThisMonth:"New This Month",tableTitle:"Locations",tableDescription:"A list of all physical locations in your system including their hierarchy and status.",createLocation:"Create Location",searchPlaceholder:"Search locations...",emptyTitle:"No locations found",emptyDescription:"Get started by creating your first location.",location:"Location",address:"Address",noAddress:"No address",parent:"Parent",rootLocation:"Root Location",children:"Children",child:"child",childrenPlural:"children",created:"Created",editLocation:"Edit Location",deactivateLocation:"Deactivate Location",activateLocation:"Activate Location",deleteLocation:"Delete Location",createLocationTitle:"Create Location",editLocationTitle:"Edit Location",basicInformation:"Basic Information",name:"Name",namePlaceholder:"Enter location name",code:"Code",codePlaceholder:"Enter location code (optional - auto-generated if empty)",description:"Description",descriptionPlaceholder:"Enter location description",color:"Color",parentLocation:"Parent Location",selectParentPlaceholder:"Select parent location (optional)",noParent:"No Parent (Root Location)",addressInformation:"Address Information",addressLabel:"Address",addressPlaceholder:"Enter street address",city:"City",cityPlaceholder:"Enter city",state:"State/Province",statePlaceholder:"Enter state or province",country:"Country",countryPlaceholder:"Enter country",postalCode:"Postal Code",postalCodePlaceholder:"Enter postal code",latitude:"Latitude",latitudePlaceholder:"Enter latitude (-90 to 90)",longitude:"Longitude",longitudePlaceholder:"Enter longitude (-180 to 180)",cancel:"Cancel",update:"Update Location",create:"Create Location",deleteLocationTitle:"Delete Location",deleteLocationMessage:"Are you sure you want to delete",deleteLocationDescription:"This action cannot be undone. Make sure this location has no child locations or assets assigned to it.",cancelText:"Cancel",bulkDeleteTitle:"Bulk Delete Locations",bulkDeleteMessage:"Are you sure you want to delete",bulkDeleteMessageSingle:"location",bulkDeleteMessagePlural:"locations",bulkDeleteDescription:"This action cannot be undone. Make sure these locations have no child locations or assets assigned to them.",bulkDeleteConfirm:"Delete Locations",refreshSuccess:"Locations data refreshed successfully",refreshError:"Failed to refresh locations data",createSuccess:"Location created successfully",updateSuccess:"Location updated successfully",deleteSuccess:"Location deleted successfully",bulkDeleteSuccess:"deleted successfully",bulkDeleteSingle:"location",bulkDeletePlural:"locations",saveError:"Failed to save location",activateSuccess:"Location activated successfully",deactivateSuccess:"Location deactivated successfully",toggleError:"Failed to",formError:"Please fix the errors in the form",formCheckError:"Please check the form for errors",bulkActionWarning:"Please select locations to perform bulk action",bulkDeleteError:"Failed to delete some locations",loadError:"Failed to load locations",loadParentOptionsError:"Failed to load parent options",validationNameRequired:"Name is required",validationNameMinLength:"Name must be at least 2 characters",validationNameMaxLength:"Name must be less than 255 characters",validationCodeMaxLength:"Code must be less than 20 characters",validationDescriptionMaxLength:"Description must be less than 1000 characters",validationAddressMaxLength:"Address must be less than 500 characters",validationFieldMaxLength:"must be less than 100 characters",validationPostalCodeMaxLength:"Postal code must be less than 20 characters",validationLatitudeRange:"Latitude must be between -90 and 90",validationLongitudeRange:"Longitude must be between -180 and 180",validationColorFormat:"Please enter a valid hex color"},M7e={sidebar:w7e,header:_7e,footer:$7e,language:C7e,dashboard:S7e,sales:E7e,customers:T7e,products:A7e,locations:L7e},P7e={search:"Cari menu...",main:"Utama",dashboard:"Dasbor",accountingManagement:"Manajemen Akuntansi",journalEntries:"Jurnal Umum",coa:"Chart of Accounts (COA)",neracaLajur:"Neraca Lajur",neraca:"Neraca",labaRugi:"Laba Rugi",perubahanModal:"Perubahan Modal",arusKas:"Arus Kas",warehouseManagement:"Manajemen Gudang",products:"Produk",locations:"Lokasi",stockMasuk:"Stock Masuk",mutasi:"Mutasi",adjustment:"Penyesuaian",stockopname:"Stockopname",bukuStock:"Buku Stock",userManagement:"Manajemen Pengguna",users:"Pengguna",roles:"Peran",permissions:"Izin",salesManagement:"Manajemen Penjualan",sales:"Penjualan",customers:"Pelanggan",settings:"Pengaturan Sistem",expandSidebar:"Expand Sidebar",collapseSidebar:"Collapse Sidebar"},D7e={dashboard:"Dasbor",users:"Pengguna",roles:"Peran",permissions:"Izin",settings:"Pengaturan Sistem",journalEntries:"Jurnal Umum",coa:"Chart of Accounts (COA)",neracaLajur:"Neraca Lajur",neraca:"Neraca",labaRugi:"Laba Rugi",perubahanModal:"Perubahan Modal",arusKas:"Arus Kas",locations:"Lokasi",stockMasuk:"Stock Masuk",mutasi:"Mutasi",adjustment:"Penyesuaian",stockopname:"Stockopname",bukuStock:"Buku Stock",sales:"Penjualan",products:"Produk"},I7e={version:"Version",company:"Nama Perusahaan"},O7e={select:"Pilih Bahasa",english:"English",indonesian:"Bahasa Indonesia"},F7e={title:"Dasbor Gudang",welcomeBack:"Selamat datang kembali",businessOverview:"Berikut ringkasan bisnis Anda untuk hari ini.",customers:"Pelanggan",sales:"Penjualan",revenue:"Pendapatan",totalCustomers:"Total Pelanggan",totalSales:"Total Penjualan",totalProducts:"Total Produk",totalRevenue:"Total Pendapatan",active:"aktif",inactive:"tidak aktif",thisMonth:"Bulan ini",lowStock:"Stok rendah",lowStockAlert:"Peringatan Stok Rendah",productsNeedAttention:"produk memerlukan perhatian",stockMovements:"Pergerakan Stok",transactionsToday:"transaksi hari ini",pendingApprovals:"Menunggu Persetujuan",itemsWaiting:"item menunggu",viewAll:"Lihat Semua",viewDetails:"Lihat Detail",review:"Tinjau",salesRevenueTrend:"Tren Pendapatan Penjualan",last12Months:"12 bulan terakhir",last6Months:"6 bulan terakhir",last3Months:"3 bulan terakhir",recentActivity:"Aktivitas Terkini",quickActions:"Aksi Cepat",addCustomer:"Tambah Pelanggan",createSale:"Buat Penjualan",addProduct:"Tambah Produk",stockIn:"Stok Masuk",stockOut:"Stok Keluar",viewReports:"Lihat Laporan",businessInsights:"Wawasan Bisnis",analytics:"Analitik",revenueGrowth:"Pertumbuhan Pendapatan",fromLastMonth:"dari bulan lalu",customerAcquisition:"Akuisisi Pelanggan",activeCustomersThisMonth:"pelanggan aktif bulan ini",inventoryHealth:"Kesehatan Inventaris",productsNeedRestocking:"produk perlu pengisian ulang",systemAlerts:"Peringatan Sistem",liveUpdates:"Pembaruan Langsung",productsRunningLow:"produk hampir habis",itemsWaitingApproval:"item menunggu persetujuan",systemStatus:"Status Sistem",allSystemsOperational:"Semua sistem beroperasi normal",newCustomer:"Pelanggan Baru",newProduct:"Produk Baru",sale:"Penjualan",stock:"Stok",stockTransactions:"Transaksi Stok",in:"Masuk",out:"Keluar",currentStock:"Stok Saat Ini",locationsWithStock:"lokasi dengan stok",totalLocations:"Total Lokasi",locations:"lokasi",productCategories:"Kategori Produk",categories:"kategori",workOrders:"Work Order",total:"total",stockMovementTrend:"Tren Pergerakan Stok",productsByCategory:"Produk Berdasarkan Kategori",stockMutation:"Mutasi Stok",stockAdjustment:"Penyesuaian Stok",stockOpname:"Stock Opname",stockBook:"Buku Stok",month:"Bulan",quantity:"Jumlah",noData:"Tidak Ada Data",recentStockTransactions:"Transaksi Stok Terkini",recentProducts:"Produk Terkini",recentWorkOrders:"Work Order Terkini",noRecentTransactions:"Tidak ada transaksi terkini",justNow:"baru saja",minutesAgo:"menit yang lalu",hoursAgo:"jam yang lalu",daysAgo:"hari yang lalu"},R7e={title:"Manajemen Penjualan",subtitle:"Kelola transaksi penjualan dan pesanan pelanggan Anda",filters:"Filter",export:"Ekspor",exporting:"Mengekspor...",newSale:"Penjualan Baru",salesTransactions:"Transaksi Penjualan",transactionNumber:"No. Transaksi",date:"Tanggal",customer:"Pelanggan",walkInCustomer:"Pelanggan Umum",location:"Lokasi",total:"Total",payment:"Pembayaran",paymentCash:"Tunai",paymentTransfer:"Transfer",paymentCredit:"Kredit",status:"Status",statusDraft:"Draft",statusPosted:"Diposting",statusCancelled:"Dibatalkan",view:"Lihat",post:"Posting",cancel:"Batal",delete:"Hapus",close:"Tutup",deleteSale:"Hapus Penjualan",deleteSaleMessage:"Apakah Anda yakin ingin menghapus",deleteSaleDescription:"Tindakan ini tidak dapat dibatalkan. Hanya penjualan draft yang dapat dihapus.",postSaleTransaction:"Posting Transaksi Penjualan",postSaleMessage:"Apakah Anda yakin ingin memposting",postSaleDescription:"Ini akan memperbarui tingkat stok dan membuat entri jurnal. Tindakan ini tidak dapat dibatalkan.",cancelSaleTransaction:"Batalkan Transaksi Penjualan",cancelSaleMessage:"Apakah Anda yakin ingin membatalkan",cancelSaleDescription:"Ini akan membalikkan tingkat stok dan entri jurnal. Tindakan ini tidak dapat dibatalkan.",cancelSale:"Batalkan Penjualan",totalTransactions:"Total Transaksi",totalRevenue:"Total Pendapatan",filterSales:"Filter Penjualan",activeFilters:"Filter Aktif",search:"Cari",searchPlaceholder:"Nomor transaksi...",allStatus:"Semua Status",allLocations:"Semua Lokasi",allCustomers:"Semua Pelanggan",startDate:"Tanggal Mulai",endDate:"Tanggal Akhir",resetAllFilters:"Reset Semua Filter",form:{title:"Transaksi Penjualan",editTitle:"Edit Transaksi Penjualan",newTitle:"Transaksi Penjualan Baru",transactionDate:"Tanggal Transaksi",location:"Lokasi",customer:"Pelanggan",notes:"Catatan",notesPlaceholder:"Catatan tambahan (opsional)",subtotal:"Subtotal",discount:"Diskon",tax:"Pajak",total:"Total",paymentMethod:"Metode Pembayaran",paidAmount:"Jumlah Dibayar",changeAmount:"Jumlah Kembalian",cancel:"Batal",save:"Simpan",update:"Perbarui",saving:"Menyimpan...",paymentMethodCash:"Tunai",paymentMethodTransfer:"Transfer Bank",paymentMethodCredit:"Kredit",locationChangeWarning:"Mengubah lokasi akan menghapus semua item yang ditambahkan. Lanjutkan?",unsavedChangesWarning:"Anda memiliki perubahan yang belum disimpan. Apakah Anda yakin ingin menutup formulir ini?",items:{title:"Item Penjualan",addItem:"Tambah Item",noItems:'Belum ada item yang ditambahkan. Klik "Tambah Item" untuk memulai.',selectLocationFirst:"Silakan pilih lokasi terlebih dahulu",product:"Produk",quantity:"Jumlah",unitPrice:"Harga Satuan",discountPercent:"Disk %",taxPercent:"Pajak %",total:"Total",action:"Aksi",selectProduct:"Pilih Produk",outOfStock:"(Habis)",lowStock:"(Stok Rendah)",confirmRemove:"Apakah Anda yakin ingin menghapus",validationSelectProduct:"Silakan pilih produk",validationQuantityGreaterZero:"Jumlah harus lebih dari 0",validationUnitPriceGreaterZero:"Harga satuan harus lebih dari 0",validationDiscountRange:"Diskon harus antara 0% dan 100%",validationTaxRange:"Pajak harus antara 0% dan 100%",validationOutOfStock:"Produk habis stok",validationExceedsStock:"Jumlah melebihi stok yang tersedia",warningLowStock:"Stok rendah: Hanya tersedia {count} unit"}}},j7e={title:"Manajemen Pelanggan",subtitle:"Kelola database dan hubungan pelanggan Anda",export:"Ekspor",exporting:"Mengekspor...",newCustomer:"Pelanggan Baru",customersTable:"Pelanggan",code:"Kode",name:"Nama",phone:"Telepon",email:"Email",status:"Status",created:"Dibuat",statusActive:"Aktif",statusInactive:"Tidak Aktif",viewDetails:"Lihat Detail",editCustomer:"Edit Pelanggan",setInactive:"Nonaktifkan",setActive:"Aktifkan",deleteCustomer:"Hapus Pelanggan",delete:"Hapus",cancel:"Batal",confirm:"Konfirmasi",close:"Tutup",deleteCustomerTitle:"Hapus Pelanggan",deleteCustomerMessage:"Apakah Anda yakin ingin menghapus",deleteCustomerDescription:"Tindakan ini tidak dapat dibatalkan. Pelanggan dengan penjualan yang ada tidak dapat dihapus.",deactivateCustomer:"Nonaktifkan Pelanggan",activateCustomer:"Aktifkan Pelanggan",deactivateMessage:"Apakah Anda yakin ingin menonaktifkan",activateMessage:"Apakah Anda yakin ingin mengaktifkan",toggleStatusDescription:"Ini akan mengubah status pelanggan dan mempengaruhi kemampuan mereka untuk melakukan pembelian.",thisCustomer:"pelanggan ini",refreshSuccess:"Pelanggan berhasil diperbarui",exportSuccess:"Pelanggan berhasil diekspor",updateSuccess:"Pelanggan berhasil diperbarui",createSuccess:"Pelanggan berhasil dibuat",deleteSuccess:"Pelanggan berhasil dihapus",statusUpdateSuccess:"Status pelanggan berhasil diperbarui",refreshError:"Gagal memperbarui pelanggan",exportError:"Gagal mengekspor pelanggan",saveError:"Gagal menyimpan pelanggan",deleteError:"Gagal menghapus pelanggan",statusError:"Gagal mengubah status pelanggan",detailsError:"Gagal mengambil detail pelanggan"},N7e={title:"Manajemen Produk",subtitle:"Kelola katalog dan inventaris produk Anda",filters:"Filter",export:"Ekspor",exporting:"Mengekspor...",addProduct:"Tambah Produk",productsTable:"Produk",code:"Kode",productName:"Nama Produk",type:"Tipe",unit:"Satuan",purchasePrice:"Harga Beli",sellingPrice:"Harga Jual",minStock:"Stok Min",maxStock:"Stok Maks",status:"Status",createdAt:"Dibuat Pada",typeFinishedGoods:"Barang Jadi",typeRawMaterial:"Bahan Baku",typeConsumable:"Habis Pakai",statusActive:"Aktif",statusInactive:"Tidak Aktif",deleteProduct:"Hapus Produk",deleteProductMessage:"Apakah Anda yakin ingin menghapus",deleteProductDescription:"Tindakan ini tidak dapat dibatalkan dan akan menghapus produk secara permanen dari sistem.",thisProduct:"produk ini",delete:"Hapus",cancel:"Batal"},V7e={title:"Lokasi",subtitle:"Kelola lokasi fisik dan struktur hierarkinya",addLocation:"Tambah Lokasi",totalLocations:"Total Lokasi",activeLocations:"Lokasi Aktif",rootLocations:"Lokasi Utama",newThisMonth:"Baru Bulan Ini",tableTitle:"Lokasi",tableDescription:"Daftar semua lokasi fisik dalam sistem Anda termasuk hierarki dan statusnya.",createLocation:"Buat Lokasi",searchPlaceholder:"Cari lokasi...",emptyTitle:"Tidak ada lokasi ditemukan",emptyDescription:"Mulai dengan membuat lokasi pertama Anda.",location:"Lokasi",address:"Alamat",noAddress:"Tidak ada alamat",parent:"Induk",rootLocation:"Lokasi Utama",children:"Anak",child:"anak",childrenPlural:"anak",created:"Dibuat",editLocation:"Edit Lokasi",deactivateLocation:"Nonaktifkan Lokasi",activateLocation:"Aktifkan Lokasi",deleteLocation:"Hapus Lokasi",createLocationTitle:"Buat Lokasi",editLocationTitle:"Edit Lokasi",basicInformation:"Informasi Dasar",name:"Nama",namePlaceholder:"Masukkan nama lokasi",code:"Kode",codePlaceholder:"Masukkan kode lokasi (opsional - dibuat otomatis jika kosong)",description:"Deskripsi",descriptionPlaceholder:"Masukkan deskripsi lokasi",color:"Warna",parentLocation:"Lokasi Induk",selectParentPlaceholder:"Pilih lokasi induk (opsional)",noParent:"Tidak Ada Induk (Lokasi Utama)",addressInformation:"Informasi Alamat",addressLabel:"Alamat",addressPlaceholder:"Masukkan alamat jalan",city:"Kota",cityPlaceholder:"Masukkan kota",state:"Provinsi",statePlaceholder:"Masukkan provinsi",country:"Negara",countryPlaceholder:"Masukkan negara",postalCode:"Kode Pos",postalCodePlaceholder:"Masukkan kode pos",latitude:"Lintang",latitudePlaceholder:"Masukkan lintang (-90 hingga 90)",longitude:"Bujur",longitudePlaceholder:"Masukkan bujur (-180 hingga 180)",cancel:"Batal",update:"Perbarui Lokasi",create:"Buat Lokasi",deleteLocationTitle:"Hapus Lokasi",deleteLocationMessage:"Apakah Anda yakin ingin menghapus",deleteLocationDescription:"Tindakan ini tidak dapat dibatalkan. Pastikan lokasi ini tidak memiliki lokasi anak atau aset yang ditetapkan.",cancelText:"Batal",bulkDeleteTitle:"Hapus Lokasi Massal",bulkDeleteMessage:"Apakah Anda yakin ingin menghapus",bulkDeleteMessageSingle:"lokasi",bulkDeleteMessagePlural:"lokasi",bulkDeleteDescription:"Tindakan ini tidak dapat dibatalkan. Pastikan lokasi-lokasi ini tidak memiliki lokasi anak atau aset yang ditetapkan.",bulkDeleteConfirm:"Hapus Lokasi",refreshSuccess:"Data lokasi berhasil diperbarui",refreshError:"Gagal memperbarui data lokasi",createSuccess:"Lokasi berhasil dibuat",updateSuccess:"Lokasi berhasil diperbarui",deleteSuccess:"Lokasi berhasil dihapus",bulkDeleteSuccess:"berhasil dihapus",bulkDeleteSingle:"lokasi",bulkDeletePlural:"lokasi",saveError:"Gagal menyimpan lokasi",activateSuccess:"Lokasi berhasil diaktifkan",deactivateSuccess:"Lokasi berhasil dinonaktifkan",toggleError:"Gagal",formError:"Harap perbaiki kesalahan dalam formulir",formCheckError:"Harap periksa formulir untuk kesalahan",bulkActionWarning:"Harap pilih lokasi untuk melakukan tindakan massal",bulkDeleteError:"Gagal menghapus beberapa lokasi",loadError:"Gagal memuat lokasi",loadParentOptionsError:"Gagal memuat opsi induk",validationNameRequired:"Nama wajib diisi",validationNameMinLength:"Nama minimal 2 karakter",validationNameMaxLength:"Nama maksimal 255 karakter",validationCodeMaxLength:"Kode maksimal 20 karakter",validationDescriptionMaxLength:"Deskripsi maksimal 1000 karakter",validationAddressMaxLength:"Alamat maksimal 500 karakter",validationFieldMaxLength:"maksimal 100 karakter",validationPostalCodeMaxLength:"Kode pos maksimal 20 karakter",validationLatitudeRange:"Lintang harus antara -90 dan 90",validationLongitudeRange:"Bujur harus antara -180 dan 180",validationColorFormat:"Harap masukkan warna hex yang valid"},B7e={sidebar:P7e,header:D7e,footer:I7e,language:O7e,dashboard:F7e,sales:R7e,customers:j7e,products:N7e,locations:V7e},U7e={en:M7e,id:B7e},H7e=iS({legacy:!1,locale:"id",fallbackLocale:"en",messages:U7e,globalInjection:!0});var q7e={exports:{}};(function(e,t){(function(s,r){e.exports=r()})(self,()=>(()=>{var s={60:function(n,i,l){/*
* HSPinInput
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{elementInput(c,h){this.onInput(c,h)}elementPaste(c){this.onPaste(c)}elementKeydown(c,h){this.onKeydown(c,h)}elementFocusin(c){this.onFocusIn(c)}elementFocusout(c){this.onFocusOut(c)}constructor(c,h){super(c,h);const g=c.getAttribute("data-hs-pin-input"),d=g?JSON.parse(g):{},p=Object.assign(Object.assign({},d),h);this.items=this.el.querySelectorAll("[data-hs-pin-input-item]"),this.currentItem=null,this.currentValue=new Array(this.items.length).fill(""),this.placeholders=[],this.availableCharsRE=new RegExp((p==null?void 0:p.availableCharsRE)||"^[a-zA-Z0-9]+$"),this.onElementInputListener=[],this.onElementPasteListener=[],this.onElementKeydownListener=[],this.onElementFocusinListener=[],this.onElementFocusoutListener=[],this.init()}init(){this.createCollection(window.$hsPinInputCollection,this),this.items.length&&this.build()}build(){this.buildInputItems()}buildInputItems(){this.items.forEach((c,h)=>{this.placeholders.push(c.getAttribute("placeholder")||""),c.hasAttribute("autofocus")&&this.onFocusIn(h),this.onElementInputListener.push({el:c,fn:g=>this.elementInput(g,h)}),this.onElementPasteListener.push({el:c,fn:g=>this.elementPaste(g)}),this.onElementKeydownListener.push({el:c,fn:g=>this.elementKeydown(g,h)}),this.onElementFocusinListener.push({el:c,fn:()=>this.elementFocusin(h)}),this.onElementFocusoutListener.push({el:c,fn:()=>this.elementFocusout(h)}),c.addEventListener("input",this.onElementInputListener.find(g=>g.el===c).fn),c.addEventListener("paste",this.onElementPasteListener.find(g=>g.el===c).fn),c.addEventListener("keydown",this.onElementKeydownListener.find(g=>g.el===c).fn),c.addEventListener("focusin",this.onElementFocusinListener.find(g=>g.el===c).fn),c.addEventListener("focusout",this.onElementFocusoutListener.find(g=>g.el===c).fn)})}checkIfNumber(c){return c.match(this.availableCharsRE)}autoFillAll(c){Array.from(c).forEach((h,g)=>{if(!(this!=null&&this.items[g]))return!1;this.items[g].value=h,this.items[g].dispatchEvent(new Event("input",{bubbles:!0}))})}setCurrentValue(){this.currentValue=Array.from(this.items).map(c=>c.value)}toggleCompleted(){this.currentValue.includes("")?this.el.classList.remove("active"):this.el.classList.add("active")}onInput(c,h){const g=c.target.value;if(this.currentItem=c.target,this.currentItem.value="",this.currentItem.value=g[g.length-1],!this.checkIfNumber(this.currentItem.value))return this.currentItem.value=this.currentValue[h]||"",!1;if(this.setCurrentValue(),this.currentItem.value){if(h<this.items.length-1&&this.items[h+1].focus(),!this.currentValue.includes("")){const d={currentValue:this.currentValue};this.fireEvent("completed",d),(0,m.dispatch)("completed.hs.pinInput",this.el,d)}this.toggleCompleted()}else h>0&&this.items[h-1].focus()}onKeydown(c,h){c.key==="Backspace"&&h>0&&(this.items[h].value===""?(this.items[h-1].value="",this.items[h-1].focus()):this.items[h].value=""),this.setCurrentValue(),this.toggleCompleted()}onFocusIn(c){this.items[c].setAttribute("placeholder","")}onFocusOut(c){this.items[c].setAttribute("placeholder",this.placeholders[c])}onPaste(c){c.preventDefault(),this.items.forEach(h=>{document.activeElement===h&&this.autoFillAll(c.clipboardData.getData("text"))})}destroy(){this.el.classList.remove("active"),this.items.length&&this.items.forEach(c=>{c.removeEventListener("input",this.onElementInputListener.find(h=>h.el===c).fn),c.removeEventListener("paste",this.onElementPasteListener.find(h=>h.el===c).fn),c.removeEventListener("keydown",this.onElementKeydownListener.find(h=>h.el===c).fn),c.removeEventListener("focusin",this.onElementFocusinListener.find(h=>h.el===c).fn),c.removeEventListener("focusout",this.onElementFocusoutListener.find(h=>h.el===c).fn)}),this.items=null,this.currentItem=null,this.currentValue=null,window.$hsPinInputCollection=window.$hsPinInputCollection.filter(({element:c})=>c.el!==this.el)}static getInstance(c,h){const g=window.$hsPinInputCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element:null}static autoInit(){window.$hsPinInputCollection||(window.$hsPinInputCollection=[]),window.$hsPinInputCollection&&(window.$hsPinInputCollection=window.$hsPinInputCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-pin-input]:not(.--prevent-on-load-init)").forEach(c=>{window.$hsPinInputCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}}window.addEventListener("load",()=>{f.autoInit()}),typeof window<"u"&&(window.HSPinInput=f),i.default=f},97:function(n,i,l){/*
* HSStrongPassword
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h){super(c,h),this.isOpened=!1,this.strength=0,this.passedRules=new Set;const g=c.getAttribute("data-hs-strong-password"),d=g?JSON.parse(g):{},p=Object.assign(Object.assign({},d),h);this.target=p!=null&&p.target?typeof(p==null?void 0:p.target)=="string"?document.querySelector(p.target):p.target:null,this.hints=p!=null&&p.hints?typeof(p==null?void 0:p.hints)=="string"?document.querySelector(p.hints):p.hints:null,this.stripClasses=(p==null?void 0:p.stripClasses)||null,this.minLength=(p==null?void 0:p.minLength)||6,this.mode=(p==null?void 0:p.mode)||"default",this.popoverSpace=(p==null?void 0:p.popoverSpace)||10,this.checksExclude=(p==null?void 0:p.checksExclude)||[],this.availableChecks=["lowercase","uppercase","numbers","special-characters","min-length"].filter(v=>!this.checksExclude.includes(v)),this.specialCharactersSet=(p==null?void 0:p.specialCharactersSet)||"!\"#$%&'()*+,-./:;<=>?@[\\\\\\]^_`{|}~",this.target&&this.init()}targetInput(c){this.setStrength(c.target.value)}targetFocus(){this.isOpened=!0,this.hints.classList.remove("hidden"),this.hints.classList.add("block"),this.recalculateDirection()}targetBlur(){this.isOpened=!1,this.hints.classList.remove("block","bottom-full","top-full"),this.hints.classList.add("hidden"),this.hints.style.marginTop="",this.hints.style.marginBottom=""}targetInputSecond(){this.setWeaknessText()}targetInputThird(){this.setRulesText()}init(){this.createCollection(window.$hsStrongPasswordCollection,this),this.availableChecks.length&&this.build()}build(){this.buildStrips(),this.hints&&this.buildHints(),this.setStrength(this.target.value),this.onTargetInputListener=c=>this.targetInput(c),this.target.addEventListener("input",this.onTargetInputListener)}buildStrips(){if(this.el.innerHTML="",this.stripClasses)for(let c=0;c<this.availableChecks.length;c++){const h=(0,m.htmlToElement)("<div></div>");(0,m.classToClassList)(this.stripClasses,h),this.el.append(h)}}buildHints(){this.weakness=this.hints.querySelector("[data-hs-strong-password-hints-weakness-text]")||null,this.rules=Array.from(this.hints.querySelectorAll("[data-hs-strong-password-hints-rule-text]"))||null,this.rules.forEach(c=>{var h;const g=c.getAttribute("data-hs-strong-password-hints-rule-text");!((h=this.checksExclude)===null||h===void 0)&&h.includes(g)&&c.remove()}),this.weakness&&this.buildWeakness(),this.rules&&this.buildRules(),this.mode==="popover"&&(this.onTargetFocusListener=()=>this.targetFocus(),this.onTargetBlurListener=()=>this.targetBlur(),this.target.addEventListener("focus",this.onTargetFocusListener),this.target.addEventListener("blur",this.onTargetBlurListener))}buildWeakness(){this.checkStrength(this.target.value),this.setWeaknessText(),this.onTargetInputSecondListener=()=>setTimeout(()=>this.targetInputSecond()),this.target.addEventListener("input",this.onTargetInputSecondListener)}buildRules(){this.setRulesText(),this.onTargetInputThirdListener=()=>setTimeout(()=>this.targetInputThird()),this.target.addEventListener("input",this.onTargetInputThirdListener)}setWeaknessText(){const c=this.weakness.getAttribute("data-hs-strong-password-hints-weakness-text"),h=JSON.parse(c);this.weakness.textContent=h[this.strength]}setRulesText(){this.rules.forEach(c=>{const h=c.getAttribute("data-hs-strong-password-hints-rule-text");this.checkIfPassed(c,this.passedRules.has(h))})}togglePopover(){const c=this.el.querySelector(".popover");c&&c.classList.toggle("show")}checkStrength(c){const h=new Set,g={lowercase:/[a-z]+/,uppercase:/[A-Z]+/,numbers:/[0-9]+/,"special-characters":new RegExp(`[${this.specialCharactersSet}]`)};let d=0;return this.availableChecks.includes("lowercase")&&c.match(g.lowercase)&&(d+=1,h.add("lowercase")),this.availableChecks.includes("uppercase")&&c.match(g.uppercase)&&(d+=1,h.add("uppercase")),this.availableChecks.includes("numbers")&&c.match(g.numbers)&&(d+=1,h.add("numbers")),this.availableChecks.includes("special-characters")&&c.match(g["special-characters"])&&(d+=1,h.add("special-characters")),this.availableChecks.includes("min-length")&&c.length>=this.minLength&&(d+=1,h.add("min-length")),c.length||(d=0),d===this.availableChecks.length?this.el.classList.add("accepted"):this.el.classList.remove("accepted"),this.strength=d,this.passedRules=h,{strength:this.strength,rules:this.passedRules}}checkIfPassed(c,h=!1){const g=c.querySelector("[data-check]"),d=c.querySelector("[data-uncheck]");h?(c.classList.add("active"),g.classList.remove("hidden"),d.classList.add("hidden")):(c.classList.remove("active"),g.classList.add("hidden"),d.classList.remove("hidden"))}setStrength(c){const{strength:h,rules:g}=this.checkStrength(c),d={strength:h,rules:g};this.hideStrips(h),this.fireEvent("change",d),(0,m.dispatch)("change.hs.strongPassword",this.el,d)}hideStrips(c){Array.from(this.el.children).forEach((h,g)=>{g<c?h.classList.add("passed"):h.classList.remove("passed")})}recalculateDirection(){(0,m.isEnoughSpace)(this.hints,this.target,"bottom",this.popoverSpace)?(this.hints.classList.remove("bottom-full"),this.hints.classList.add("top-full"),this.hints.style.marginBottom="",this.hints.style.marginTop=`${this.popoverSpace}px`):(this.hints.classList.remove("top-full"),this.hints.classList.add("bottom-full"),this.hints.style.marginTop="",this.hints.style.marginBottom=`${this.popoverSpace}px`)}destroy(){this.target.removeEventListener("input",this.onTargetInputListener),this.target.removeEventListener("focus",this.onTargetFocusListener),this.target.removeEventListener("blur",this.onTargetBlurListener),this.target.removeEventListener("input",this.onTargetInputSecondListener),this.target.removeEventListener("input",this.onTargetInputThirdListener),window.$hsStrongPasswordCollection=window.$hsStrongPasswordCollection.filter(({element:c})=>c.el!==this.el)}static getInstance(c,h){const g=window.$hsStrongPasswordCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element.el:null}static autoInit(){window.$hsStrongPasswordCollection||(window.$hsStrongPasswordCollection=[]),window.$hsStrongPasswordCollection&&(window.$hsStrongPasswordCollection=window.$hsStrongPasswordCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-strong-password]:not(.--prevent-on-load-init)").forEach(c=>{if(!window.$hsStrongPasswordCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})){const h=c.getAttribute("data-hs-strong-password"),g=h?JSON.parse(h):{};new f(c,g)}})}}window.addEventListener("load",()=>{f.autoInit()}),document.addEventListener("scroll",()=>{if(!window.$hsStrongPasswordCollection)return!1;const x=window.$hsStrongPasswordCollection.find(c=>c.element.isOpened);x&&x.element.recalculateDirection()}),typeof window<"u"&&(window.HSStrongPassword=f),i.default=f},100:function(n,i,l){/*
* HSTogglePassword
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h){super(c,h);const g=c.getAttribute("data-hs-toggle-password"),d=g?JSON.parse(g):{},p=Object.assign(Object.assign({},d),h),v=[];p!=null&&p.target&&typeof(p==null?void 0:p.target)=="string"?(p==null?void 0:p.target.split(",")).forEach(b=>{v.push(document.querySelector(b))}):p!=null&&p.target&&typeof(p==null?void 0:p.target)=="object"?p.target.forEach(b=>v.push(document.querySelector(b))):p.target.forEach(b=>v.push(b)),this.target=v,this.isShown=!!this.el.hasAttribute("type")&&this.el.checked,this.eventType=(0,m.isFormElement)(this.el)?"change":"click",this.isMultiple=this.target.length>1&&!!this.el.closest("[data-hs-toggle-password-group]"),this.target&&this.init()}elementAction(){this.isShown?this.hide():this.show(),this.fireEvent("toggle",this.target),(0,m.dispatch)("toggle.hs.toggle-select",this.el,this.target)}init(){this.createCollection(window.$hsTogglePasswordCollection,this),this.isShown?this.show():this.hide(),this.onElementActionListener=()=>this.elementAction(),this.el.addEventListener(this.eventType,this.onElementActionListener)}getMultipleToggles(){const c=this.el.closest("[data-hs-toggle-password-group]").querySelectorAll("[data-hs-toggle-password]"),h=[];return c.forEach(g=>{h.push(f.getInstance(g))}),h}show(){this.isMultiple?(this.getMultipleToggles().forEach(c=>!!c&&(c.isShown=!0)),this.el.closest("[data-hs-toggle-password-group]").classList.add("active")):(this.isShown=!0,this.el.classList.add("active")),this.target.forEach(c=>{c.type="text"})}hide(){this.isMultiple?(this.getMultipleToggles().forEach(c=>!!c&&(c.isShown=!1)),this.el.closest("[data-hs-toggle-password-group]").classList.remove("active")):(this.isShown=!1,this.el.classList.remove("active")),this.target.forEach(c=>{c.type="password"})}destroy(){this.isMultiple?this.el.closest("[data-hs-toggle-password-group]").classList.remove("active"):this.el.classList.remove("active"),this.target.forEach(c=>{c.type="password"}),this.el.removeEventListener(this.eventType,this.onElementActionListener),this.isShown=!1,window.$hsTogglePasswordCollection=window.$hsTogglePasswordCollection.filter(({element:c})=>c.el!==this.el)}static getInstance(c,h){const g=window.$hsTogglePasswordCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element:null}static autoInit(){window.$hsTogglePasswordCollection||(window.$hsTogglePasswordCollection=[]),window.$hsTogglePasswordCollection&&(window.$hsTogglePasswordCollection=window.$hsTogglePasswordCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-toggle-password]:not(.--prevent-on-load-init)").forEach(c=>{window.$hsTogglePasswordCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}}window.addEventListener("load",()=>{f.autoInit()}),typeof window<"u"&&(window.HSTogglePassword=f),i.default=f},128:function(n,i,l){/*
* HSDatepicker
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(632)),f=l(191),x=l(852),c=l(292),h=u(l(442)),g=u(l(961));class d extends g.default{constructor(v,b,w){var E,C,T,P,A,j,V;super(v,b,w);const H=v.getAttribute("data-hs-datepicker")?JSON.parse(v.getAttribute("data-hs-datepicker")):{};this.dataOptions=Object.assign(Object.assign({},H),b);const R=((E=this.dataOptions)===null||E===void 0?void 0:E.removeDefaultStyles)!==void 0&&((C=this.dataOptions)===null||C===void 0?void 0:C.removeDefaultStyles);this.updatedStyles=_.mergeWith(R?{}:y.default.defaultStyles,((T=this.dataOptions)===null||T===void 0?void 0:T.styles)||{},(_e,ye)=>{if(typeof _e=="string"&&typeof ye=="string")return`${_e} ${ye}`});const M=new Date,B={selectedTheme:(P=this.dataOptions.selectedTheme)!==null&&P!==void 0?P:"",styles:this.updatedStyles,dateMin:(A=this.dataOptions.dateMin)!==null&&A!==void 0?A:M.toISOString().split("T")[0],dateMax:(j=this.dataOptions.dateMax)!==null&&j!==void 0?j:"2470-12-31",mode:(V=this.dataOptions.mode)!==null&&V!==void 0?V:"default",inputMode:this.dataOptions.inputMode===void 0||this.dataOptions.inputMode},W=(_e,ye)=>z=>{_e==null||_e(z),ye==null||ye(z)},K=_e=>{this.hasTime(_e)&&this.initCustomTime(_e)},Z={layouts:{month:f.templates.month(B.selectedTheme)},onInit:W(this.dataOptions.onInit,_e=>{B.mode!=="custom-select"||this.dataOptions.inputMode||K(_e)}),onShow:W(this.dataOptions.onShow,_e=>{B.mode==="custom-select"&&(this.updateCustomSelects(_e),K(_e))}),onHide:W(this.dataOptions.onHide,_e=>{B.mode==="custom-select"&&this.destroySelects(_e.context.mainElement)}),onUpdate:W(this.dataOptions.onUpdate,_e=>{this.updateCalendar(_e.context.mainElement)}),onCreateDateEls:W(this.dataOptions.onCreateDateEls,_e=>{B.mode==="custom-select"&&this.updateCustomSelects(_e)}),onChangeToInput:W(this.dataOptions.onChangeToInput,_e=>{if(!_e.context.inputElement)return;this.setInputValue(_e.context.inputElement,_e.context.selectedDates);const ye={selectedDates:_e.context.selectedDates,selectedTime:_e.context.selectedTime,rest:_e.context};this.fireEvent("change",ye),(0,m.dispatch)("change.hs.datepicker",this.el,ye)}),onChangeTime:W(this.dataOptions.onChangeTime,K),onClickYear:W(this.dataOptions.onClickYear,K),onClickMonth:W(this.dataOptions.onClickMonth,K),onClickArrow:W(this.dataOptions.onClickArrow,_e=>{B.mode==="custom-select"&&setTimeout(()=>{this.disableNav(),this.disableOptions(),this.updateCalendar(_e.context.mainElement)})})};this.concatOptions=_.merge(Z,this.dataOptions);const Te=Object.assign(Object.assign({},B),{layouts:{default:this.processCustomTemplate(f.templates.default(B.selectedTheme),"default"),multiple:this.processCustomTemplate(f.templates.multiple(B.selectedTheme),"multiple"),year:this.processCustomTemplate(f.templates.year(B.selectedTheme),"default")}});this.concatOptions=_.merge(this.concatOptions,Te),this.vanillaCalendar=new y.default(this.el,this.concatOptions),this.init()}init(){var v,b;this.createCollection(window.$hsDatepickerCollection,this),this.vanillaCalendar.init(),!((v=this.dataOptions)===null||v===void 0)&&v.selectedDates&&this.setInputValue(this.vanillaCalendar.context.inputElement,this.formatDateArrayToIndividualDates((b=this.dataOptions)===null||b===void 0?void 0:b.selectedDates))}getTimeParts(v){const[b,w]=v.split(" "),[E,C]=b.split(":");return[E,C,w]}getCurrentMonthAndYear(v){const b=v.querySelector('[data-vc="month"]'),w=v.querySelector('[data-vc="year"]');return{month:+b.getAttribute("data-vc-month"),year:+w.getAttribute("data-vc-year")}}setInputValue(v,b){var w,E,C,T,P,A,j,V,H;const R=(w=this.dataOptions)===null||w===void 0?void 0:w.dateFormat,M=(T=(C=(E=this.dataOptions)===null||E===void 0?void 0:E.inputModeOptions)===null||C===void 0?void 0:C.dateSeparator)!==null&&T!==void 0?T:".",B=(j=(A=(P=this.dataOptions)===null||P===void 0?void 0:P.inputModeOptions)===null||A===void 0?void 0:A.itemsSeparator)!==null&&j!==void 0?j:", ",W=(H=(V=this.dataOptions)===null||V===void 0?void 0:V.selectionDatesMode)!==null&&H!==void 0?H:"single";if(b.length&&b.length>1)if(W==="multiple"){const K=[];b.forEach(Z=>K.push(R?this.formatDate(Z,R):this.changeDateSeparator(Z,M))),v.value=K.join(B)}else{const K=R?this.formatDate(b[0],R):this.changeDateSeparator(b[0],M),Z=R?this.formatDate(b[1],R):this.changeDateSeparator(b[1],M);v.value=[K,Z].join(B)}else b.length&&b.length===1?v.value=R?this.formatDate(b[0],R):this.changeDateSeparator(b[0],M):v.value=""}getLocalizedTodayText(v){return x.todayTranslations[v]||"Today"}changeDateSeparator(v,b=".",w="-"){var E,C;const T=new Date(v);if(!((E=this.dataOptions)===null||E===void 0)&&E.replaceTodayWithText){const P=new Date;if(T.toDateString()===P.toDateString()){const A=(C=this.dataOptions)===null||C===void 0?void 0:C.dateLocale;return this.getLocalizedTodayText(A)}}return v.split(w).join(b)}formatDateArrayToIndividualDates(v){var b,w;const E=(w=(b=this.dataOptions)===null||b===void 0?void 0:b.selectionDatesMode)!==null&&w!==void 0?w:"single";return v.flatMap(C=>{if(typeof C=="string"){if(C.toLowerCase()==="today")return[new Date().toISOString().split("T")[0]];const T=C.match(/^(\d{4}-\d{2}-\d{2})\s*[^a-zA-Z0-9]*\s*(\d{4}-\d{2}-\d{2})$/);if(T){const[P,A,j]=T;return E==="multiple-ranged"?[A,j]:((V,H)=>{const R=new Date(V),M=new Date(H),B=[];for(;R<=M;)B.push(R.toISOString().split("T")[0]),R.setDate(R.getDate()+1);return B})(A.trim(),j.trim())}return[C]}return typeof C=="number"?[new Date(C).toISOString().split("T")[0]]:C instanceof Date?[C.toISOString().split("T")[0]]:[]})}hasTime(v){const{mainElement:b}=v.context,w=b.querySelector("[data-hs-select].--hours"),E=b.querySelector("[data-hs-select].--minutes"),C=b.querySelector("[data-hs-select].--meridiem");return w&&E&&C}createArrowFromTemplate(v,b=!1){if(!b)return v;const w=(0,c.htmlToElement)(v);return(0,c.classToClassList)(b,w),w.outerHTML}concatObjectProperties(v,b){const w={};return new Set([...Object.keys(v||{}),...Object.keys(b||{})]).forEach(E=>{const C=v[E]||"",T=b[E]||"";w[E]=`${C} ${T}`.trim()}),w}updateTemplate(v,b,w){if(!b)return v;const E=JSON.parse(v.match(/data-hs-select='([^']+)'/)[1]),C=this.concatObjectProperties(b,w),T=_.merge(E,C);return v.replace(/data-hs-select='[^']+'/,`data-hs-select='${JSON.stringify(T)}'`)}initCustomTime(v){var b;const{mainElement:w}=v.context,E=this.getTimeParts((b=v.selectedTime)!==null&&b!==void 0?b:"12:00 PM"),C={hours:w.querySelector("[data-hs-select].--hours"),minutes:w.querySelector("[data-hs-select].--minutes"),meridiem:w.querySelector("[data-hs-select].--meridiem")};Object.entries(C).forEach(([T,P])=>{if(!h.default.getInstance(P,!0)){const A=new h.default(P);A.setValue(E[T==="meridiem"?2:T==="minutes"?1:0]),A.el.addEventListener("change.hs.select",j=>{this.destroySelects(w);const V=T==="hours"?j.detail.payload:E[0],H=T==="minutes"?j.detail.payload:E[1],R=T==="meridiem"?j.detail.payload:E[2];v.set({selectedTime:`${V}:${H} ${R}`},{dates:!1,year:!1,month:!1})})}})}initCustomMonths(v){const{mainElement:b}=v.context,w=Array.from(b.querySelectorAll(".--single-month"));w.length&&w.forEach((E,C)=>{const T=E.querySelector("[data-hs-select].--month");if(h.default.getInstance(T,!0))return!1;const P=new h.default(T),{month:A,year:j}=this.getCurrentMonthAndYear(E);P.setValue(`${A}`),P.el.addEventListener("change.hs.select",V=>{this.destroySelects(b),v.set({selectedMonth:+V.detail.payload-C<0?11:+V.detail.payload-C,selectedYear:+V.detail.payload-C<0?+j-1:j},{dates:!1,time:!1})})})}initCustomYears(v){const{mainElement:b}=v.context,w=Array.from(b.querySelectorAll(".--single-month"));w.length&&w.forEach(E=>{const C=E.querySelector("[data-hs-select].--year");if(h.default.getInstance(C,!0))return!1;const T=new h.default(C),{month:P,year:A}=this.getCurrentMonthAndYear(E);T.setValue(`${A}`),T.el.addEventListener("change.hs.select",j=>{const{dateMax:V,displayMonthsCount:H}=this.vanillaCalendar.context,R=new Date(V).getFullYear(),M=new Date(V).getMonth();this.destroySelects(b),v.set({selectedMonth:P>M-H&&+j.detail.payload===R?M-H+1:P,selectedYear:j.detail.payload},{dates:!1,time:!1})})})}generateCustomTimeMarkup(){var v,b,w,E;const C=(v=this.updatedStyles)===null||v===void 0?void 0:v.customSelect,T=C?this.updateTemplate(f.templates.hours(this.concatOptions.selectedTheme),(C==null?void 0:C.shared)||{},(C==null?void 0:C.hours)||{}):f.templates.hours(this.concatOptions.selectedTheme),P=C?this.updateTemplate(f.templates.minutes(this.concatOptions.selectedTheme),(C==null?void 0:C.shared)||{},(C==null?void 0:C.minutes)||{}):f.templates.minutes(this.concatOptions.selectedTheme),A=C?this.updateTemplate(f.templates.meridiem(this.concatOptions.selectedTheme),(C==null?void 0:C.shared)||{},(C==null?void 0:C.meridiem)||{}):f.templates.meridiem(this.concatOptions.selectedTheme);return`<div class="--time">${(E=(w=(b=this==null?void 0:this.dataOptions)===null||b===void 0?void 0:b.templates)===null||w===void 0?void 0:w.time)!==null&&E!==void 0?E:`
			<div class="pt-3 flex justify-center items-center gap-x-2">
        ${T}
        <span class="text-gray-800 ${this.concatOptions.selectedTheme!=="light"?"dark:text-white":""}">:</span>
        ${P}
        ${A}
      </div>
		`}</div>`}generateCustomMonthMarkup(){var v,b,w;const E=(b=(v=this==null?void 0:this.dataOptions)===null||v===void 0?void 0:v.mode)!==null&&b!==void 0?b:"default",C=(w=this.updatedStyles)===null||w===void 0?void 0:w.customSelect,T=C?this.updateTemplate(f.templates.months(this.concatOptions.selectedTheme),(C==null?void 0:C.shared)||{},(C==null?void 0:C.months)||{}):f.templates.months(this.concatOptions.selectedTheme);return E==="custom-select"?T:"<#Month />"}generateCustomYearMarkup(){var v,b,w,E,C,T,P;if(((b=(v=this==null?void 0:this.dataOptions)===null||v===void 0?void 0:v.mode)!==null&&b!==void 0?b:"default")==="custom-select"){const A=new Date,j=(E=(w=this==null?void 0:this.dataOptions)===null||w===void 0?void 0:w.dateMin)!==null&&E!==void 0?E:A.toISOString().split("T")[0],V=(T=(C=this==null?void 0:this.dataOptions)===null||C===void 0?void 0:C.dateMax)!==null&&T!==void 0?T:"2470-12-31",H=new Date(j),R=new Date(V),M=H.getFullYear(),B=R.getFullYear(),W=()=>{let Te="";for(let _e=M;_e<=B;_e++)Te+=`<option value="${_e}">${_e}</option>`;return Te},K=f.templates.years(W(),this.concatOptions.selectedTheme),Z=(P=this.updatedStyles)===null||P===void 0?void 0:P.customSelect;return Z?this.updateTemplate(K,(Z==null?void 0:Z.shared)||{},(Z==null?void 0:Z.years)||{}):K}return"<#Year />"}generateCustomArrowPrevMarkup(){var v,b;return!((b=(v=this==null?void 0:this.dataOptions)===null||v===void 0?void 0:v.templates)===null||b===void 0)&&b.arrowPrev?this.createArrowFromTemplate(this.dataOptions.templates.arrowPrev,this.updatedStyles.arrowPrev):"<#ArrowPrev [month] />"}generateCustomArrowNextMarkup(){var v,b;return!((b=(v=this==null?void 0:this.dataOptions)===null||v===void 0?void 0:v.templates)===null||b===void 0)&&b.arrowNext?this.createArrowFromTemplate(this.dataOptions.templates.arrowNext,this.updatedStyles.arrowNext):"<#ArrowNext [month] />"}parseCustomTime(v){return v=v.replace(/<#CustomTime\s*\/>/g,this.generateCustomTimeMarkup())}parseCustomMonth(v){return v=v.replace(/<#CustomMonth\s*\/>/g,this.generateCustomMonthMarkup())}parseCustomYear(v){return v=v.replace(/<#CustomYear\s*\/>/g,this.generateCustomYearMarkup())}parseArrowPrev(v){return v=v.replace(/<#CustomArrowPrev\s*\/>/g,this.generateCustomArrowPrevMarkup())}parseArrowNext(v){return v=v.replace(/<#CustomArrowNext\s*\/>/g,this.generateCustomArrowNextMarkup())}processCustomTemplate(v,b){var w,E,C,T;const P=b==="default"?(E=(w=this==null?void 0:this.dataOptions)===null||w===void 0?void 0:w.layouts)===null||E===void 0?void 0:E.default:(T=(C=this==null?void 0:this.dataOptions)===null||C===void 0?void 0:C.layouts)===null||T===void 0?void 0:T.multiple,A=this.parseCustomMonth(P??v),j=this.parseCustomYear(A),V=this.parseCustomTime(j),H=this.parseArrowPrev(V);return this.parseArrowNext(H)}disableOptions(){const{mainElement:v,dateMax:b,displayMonthsCount:w}=this.vanillaCalendar.context,E=new Date(b);Array.from(v.querySelectorAll(".--single-month")).forEach((C,T)=>{var P;const A=+((P=C.querySelector('[data-vc="year"]'))===null||P===void 0?void 0:P.getAttribute("data-vc-year")),j=C.querySelectorAll("[data-hs-select].--month option"),V=C.querySelectorAll("[data-hs-select-dropdown] [data-value]"),H=R=>+R.getAttribute("data-value")>E.getMonth()-w+T+1&&A===E.getFullYear();Array.from(j).forEach(R=>R.toggleAttribute("disabled",H(R))),Array.from(V).forEach(R=>R.classList.toggle("disabled",H(R)))})}disableNav(){const{mainElement:v,dateMax:b,selectedYear:w,selectedMonth:E,displayMonthsCount:C}=this.vanillaCalendar.context,T=new Date(b).getFullYear(),P=v.querySelector('[data-vc-arrow="next"]');P.style.visibility=w===T&&E+C>11?"hidden":""}destroySelects(v){Array.from(v.querySelectorAll("[data-hs-select]")).forEach(b=>{const w=h.default.getInstance(b,!0);w&&w.element.destroy()})}updateSelect(v,b){const w=h.default.getInstance(v,!0);w&&w.element.setValue(b)}updateCalendar(v){const b=v.querySelectorAll(".--single-month");b.length&&b.forEach(w=>{const{month:E,year:C}=this.getCurrentMonthAndYear(w);this.updateSelect(w.querySelector("[data-hs-select].--month"),`${E}`),this.updateSelect(w.querySelector("[data-hs-select].--year"),`${C}`)})}updateCustomSelects(v){setTimeout(()=>{this.disableOptions(),this.disableNav(),this.initCustomMonths(v),this.initCustomYears(v)})}getCurrentState(){return{selectedDates:this.vanillaCalendar.selectedDates,selectedTime:this.vanillaCalendar.selectedTime}}formatDate(v,b){var w,E,C,T,P,A,j;const V=b||((w=this.dataOptions)===null||w===void 0?void 0:w.dateFormat),H=((E=this.dataOptions)===null||E===void 0?void 0:E.dateLocale)||void 0;if(!V){const W=(P=(T=(C=this.dataOptions)===null||C===void 0?void 0:C.inputModeOptions)===null||T===void 0?void 0:T.dateSeparator)!==null&&P!==void 0?P:".";return this.changeDateSeparator(v,W)}const R=new Date(v);if(isNaN(R.getTime()))return this.changeDateSeparator(v);let M="",B=0;for(;B<V.length;)if(V.slice(B,B+4)==="YYYY")M+=R.getFullYear().toString(),B+=4;else if(V.slice(B,B+4)==="dddd"){const W=R.toLocaleDateString(H,{weekday:"long"});if(!((A=this.dataOptions)===null||A===void 0)&&A.replaceTodayWithText){const K=new Date;M+=R.toDateString()===K.toDateString()?this.getLocalizedTodayText(H):W}else M+=W;B+=4}else if(V.slice(B,B+4)==="MMMM")M+=R.toLocaleDateString(H,{month:"long"}),B+=4;else if(V.slice(B,B+3)==="ddd"){const W=R.toLocaleDateString(H,{weekday:"short"});if(!((j=this.dataOptions)===null||j===void 0)&&j.replaceTodayWithText){const K=new Date;M+=R.toDateString()===K.toDateString()?this.getLocalizedTodayText(H):W}else M+=W;B+=3}else V.slice(B,B+3)==="MMM"?(M+=R.toLocaleDateString(H,{month:"short"}),B+=3):V.slice(B,B+2)==="YY"?(M+=R.getFullYear().toString().slice(-2),B+=2):V.slice(B,B+2)==="MM"?(M+=String(R.getMonth()+1).padStart(2,"0"),B+=2):V.slice(B,B+2)==="DD"?(M+=String(R.getDate()).padStart(2,"0"),B+=2):V.slice(B,B+2)==="HH"?(M+=String(R.getHours()).padStart(2,"0"),B+=2):V.slice(B,B+2)==="mm"?(M+=String(R.getMinutes()).padStart(2,"0"),B+=2):V.slice(B,B+2)==="ss"?(M+=String(R.getSeconds()).padStart(2,"0"),B+=2):V[B]==="Y"?(M+=R.getFullYear().toString(),B+=1):V[B]==="M"?(M+=String(R.getMonth()+1),B+=1):V[B]==="D"?(M+=String(R.getDate()),B+=1):V[B]==="H"?(M+=String(R.getHours()),B+=1):V[B]==="m"?(M+=String(R.getMinutes()),B+=1):V[B]==="s"?(M+=String(R.getSeconds()),B+=1):(M+=V[B],B+=1);return M}destroy(){this.vanillaCalendar&&(this.vanillaCalendar.destroy(),this.vanillaCalendar=null),window.$hsDatepickerCollection=window.$hsDatepickerCollection.filter(({element:v})=>v.el!==this.el)}static getInstance(v,b){const w=window.$hsDatepickerCollection.find(E=>E.element.el===(typeof v=="string"?document.querySelector(v):v));return w?b?w:w.element.el:null}static autoInit(){window.$hsDatepickerCollection||(window.$hsDatepickerCollection=[]),document.querySelectorAll(".hs-datepicker:not(.--prevent-on-load-init)").forEach(v=>{window.$hsDatepickerCollection.find(b=>{var w;return((w=b==null?void 0:b.element)===null||w===void 0?void 0:w.el)===v})||new d(v)})}}window.addEventListener("load",()=>{d.autoInit()}),typeof window<"u"&&(window.HSDatepicker=d),i.default=d},144:function(n,i,l){/*
* HSTextareaAutoHeight
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0});const m=u(l(961));class y extends m.default{constructor(x,c){super(x,c);const h=x.getAttribute("data-hs-copy-markup"),g=h?JSON.parse(h):{},d=Object.assign(Object.assign({},g),c);this.defaultHeight=(d==null?void 0:d.defaultHeight)||0,this.init()}elementInput(){this.textareaSetHeight(3)}init(){this.createCollection(window.$hsTextareaAutoHeightCollection,this),this.setAutoHeight()}setAutoHeight(){this.isParentHidden()?this.callbackAccordingToType():this.textareaSetHeight(3),this.onElementInputListener=()=>this.elementInput(),this.el.addEventListener("input",this.onElementInputListener)}textareaSetHeight(x=0){this.el.style.height="auto",this.el.style.height=this.checkIfOneLine()&&this.defaultHeight?`${this.defaultHeight}px`:`${this.el.scrollHeight+x}px`}checkIfOneLine(){const x=this.el.clientHeight;return!(this.el.scrollHeight>x)}isParentHidden(){return this.el.closest(".hs-overlay.hidden")||this.el.closest('[role="tabpanel"].hidden')||this.el.closest(".hs-collapse.hidden")}parentType(){return this.el.closest(".hs-collapse")?"collapse":this.el.closest(".hs-overlay")?"overlay":!!this.el.closest('[role="tabpanel"]')&&"tabs"}callbackAccordingToType(){var x;if(this.parentType()==="collapse"){const c=this.el.closest(".hs-collapse").id,{element:h}=window.HSCollapse.getInstance(`[data-hs-collapse="#${c}"]`,!0);h.on("beforeOpen",()=>{if(!this.el)return!1;this.textareaSetHeight(3)})}else if(this.parentType()==="overlay"){const c=window.HSOverlay.getInstance(this.el.closest(".hs-overlay"),!0);c.element.on("open",()=>{window.$hsTextareaAutoHeightCollection.filter(({element:h})=>h.el.closest(".hs-overlay")===c.element.el).forEach(({element:h})=>h.textareaSetHeight(3))})}else{if(this.parentType()!=="tabs")return!1;{const c=(x=this.el.closest('[role="tabpanel"]'))===null||x===void 0?void 0:x.id,h=document.querySelector(`[data-hs-tab="#${c}"]`).closest('[role="tablist"]'),{element:g}=window.HSTabs.getInstance(h,!0)||null;g.on("change",d=>{const p=document.querySelectorAll(`${d.current} [data-hs-textarea-auto-height]`);if(!p.length)return!1;p.forEach(v=>{const b=window.HSTextareaAutoHeight.getInstance(v,!0)||null;b&&b.element.textareaSetHeight(3)})})}}}destroy(){this.el.removeEventListener("input",this.onElementInputListener),window.$hsTextareaAutoHeightCollection=window.$hsTextareaAutoHeightCollection.filter(({element:x})=>x.el!==this.el)}static getInstance(x,c){const h=window.$hsTextareaAutoHeightCollection.find(g=>g.element.el===(typeof x=="string"?document.querySelector(x):x));return h?c?h:h.element:null}static autoInit(){window.$hsTextareaAutoHeightCollection||(window.$hsTextareaAutoHeightCollection=[]),window.$hsTextareaAutoHeightCollection&&(window.$hsTextareaAutoHeightCollection=window.$hsTextareaAutoHeightCollection.filter(({element:x})=>document.contains(x.el))),document.querySelectorAll("[data-hs-textarea-auto-height]:not(.--prevent-on-load-init)").forEach(x=>{if(!window.$hsTextareaAutoHeightCollection.find(c=>{var h;return((h=c==null?void 0:c.element)===null||h===void 0?void 0:h.el)===x})){const c=x.getAttribute("data-hs-textarea-auto-height"),h=c?JSON.parse(c):{};new y(x,h)}})}}window.addEventListener("load",()=>{y.autoInit()}),typeof window<"u"&&(window.HSTextareaAutoHeight=y),i.default=y},158:function(n,i,l){/*
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(i,"__esModule",{value:!0}),i.HSDatepicker=i.HSRangeSlider=i.HSFileUpload=i.HSDataTable=i.HSStaticMethods=i.HSTreeView=i.HSTooltip=i.HSTogglePassword=i.HSToggleCount=i.HSThemeSwitch=i.HSTextareaAutoHeight=i.HSTabs=i.HSStrongPassword=i.HSStepper=i.HSSelect=i.HSScrollspy=i.HSScrollNav=i.HSRemoveElement=i.HSPinInput=i.HSOverlay=i.HSLayoutSplitter=i.HSInputNumber=i.HSDropdown=i.HSComboBox=i.HSCollapse=i.HSCarousel=i.HSAccordion=i.HSCopyMarkup=void 0;const m=u(l(248));let y,f,x;typeof window<"u"&&(window.HSAccessibilityObserver=new m.default);let c=null;i.HSDatepicker=c;var h=l(406);Object.defineProperty(i,"HSCopyMarkup",{enumerable:!0,get:function(){return u(h).default}});var g=l(740);Object.defineProperty(i,"HSAccordion",{enumerable:!0,get:function(){return u(g).default}});var d=l(268);Object.defineProperty(i,"HSCarousel",{enumerable:!0,get:function(){return u(d).default}});var p=l(485);Object.defineProperty(i,"HSCollapse",{enumerable:!0,get:function(){return u(p).default}});var v=l(809);Object.defineProperty(i,"HSComboBox",{enumerable:!0,get:function(){return u(v).default}});var b=l(891);Object.defineProperty(i,"HSDropdown",{enumerable:!0,get:function(){return u(b).default}});var w=l(332);Object.defineProperty(i,"HSInputNumber",{enumerable:!0,get:function(){return u(w).default}});var E=l(812);Object.defineProperty(i,"HSLayoutSplitter",{enumerable:!0,get:function(){return u(E).default}});var C=l(850);Object.defineProperty(i,"HSOverlay",{enumerable:!0,get:function(){return u(C).default}});var T=l(60);Object.defineProperty(i,"HSPinInput",{enumerable:!0,get:function(){return u(T).default}});var P=l(911);Object.defineProperty(i,"HSRemoveElement",{enumerable:!0,get:function(){return u(P).default}});var A=l(639);Object.defineProperty(i,"HSScrollNav",{enumerable:!0,get:function(){return u(A).default}});var j=l(751);Object.defineProperty(i,"HSScrollspy",{enumerable:!0,get:function(){return u(j).default}});var V=l(442);Object.defineProperty(i,"HSSelect",{enumerable:!0,get:function(){return u(V).default}});var H=l(887);Object.defineProperty(i,"HSStepper",{enumerable:!0,get:function(){return u(H).default}});var R=l(97);Object.defineProperty(i,"HSStrongPassword",{enumerable:!0,get:function(){return u(R).default}});var M=l(166);Object.defineProperty(i,"HSTabs",{enumerable:!0,get:function(){return u(M).default}});var B=l(144);Object.defineProperty(i,"HSTextareaAutoHeight",{enumerable:!0,get:function(){return u(B).default}});var W=l(502);Object.defineProperty(i,"HSThemeSwitch",{enumerable:!0,get:function(){return u(W).default}});var K=l(684);Object.defineProperty(i,"HSToggleCount",{enumerable:!0,get:function(){return u(K).default}});var Z=l(100);Object.defineProperty(i,"HSTogglePassword",{enumerable:!0,get:function(){return u(Z).default}});var Te=l(969);Object.defineProperty(i,"HSTooltip",{enumerable:!0,get:function(){return u(Te).default}});var _e=l(772);Object.defineProperty(i,"HSTreeView",{enumerable:!0,get:function(){return u(_e).default}});var ye=l(957);if(Object.defineProperty(i,"HSStaticMethods",{enumerable:!0,get:function(){return u(ye).default}}),typeof window<"u"){try{typeof DataTable<"u"&&typeof jQuery<"u"&&(i.HSDataTable=y=l(814).default)}catch{console.warn("HSDataTable: Required dependencies not found"),i.HSDataTable=y=null}try{typeof _<"u"&&typeof Dropzone<"u"&&(i.HSFileUpload=f=l(234).default)}catch{console.warn("HSFileUpload: Required dependencies not found"),i.HSFileUpload=f=null}try{typeof noUiSlider<"u"&&(i.HSRangeSlider=x=l(347).default)}catch{console.warn("HSRangeSlider: Required dependencies not found"),i.HSRangeSlider=x=null}try{typeof VanillaCalendarPro<"u"&&(i.HSDatepicker=c=l(128).default)}catch{console.warn("HSDatepicker: Required dependencies not found"),i.HSDatepicker=c=null}}},166:function(n,i,l){/*
* HSTabs
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961)),f=u(l(248)),x=l(223);class c extends y.default{constructor(g,d,p){var v,b;super(g,d,p);const w=g.getAttribute("data-hs-tabs"),E=w?JSON.parse(w):{},C=Object.assign(Object.assign({},E),d);this.eventType=(v=C.eventType)!==null&&v!==void 0?v:"click",this.preventNavigationResolution=typeof C.preventNavigationResolution=="number"?C.preventNavigationResolution:x.BREAKPOINTS[C.preventNavigationResolution]||null,this.toggles=this.el.querySelectorAll("[data-hs-tab]"),this.extraToggleId=this.el.getAttribute("data-hs-tab-select"),this.extraToggle=this.extraToggleId?document.querySelector(this.extraToggleId):null,this.current=Array.from(this.toggles).find(T=>T.classList.contains("active")),this.currentContentId=((b=this.current)===null||b===void 0?void 0:b.getAttribute("data-hs-tab"))||null,this.currentContent=this.currentContentId?document.querySelector(this.currentContentId):null,this.prev=null,this.prevContentId=null,this.prevContent=null,this.onToggleHandler=[],this.init()}toggle(g){this.open(g)}extraToggleChange(g){this.change(g)}init(){this.createCollection(window.$hsTabsCollection,this),this.toggles.forEach(g=>{const d=v=>{this.eventType==="click"&&this.preventNavigationResolution&&document.body.clientWidth<=+this.preventNavigationResolution&&v.preventDefault(),this.toggle(g)},p=v=>{this.preventNavigationResolution&&document.body.clientWidth<=+this.preventNavigationResolution&&v.preventDefault()};this.onToggleHandler.push({el:g,fn:d,preventClickFn:p}),this.eventType==="click"?g.addEventListener("click",d):(g.addEventListener("mouseenter",d),g.addEventListener("click",p))}),this.extraToggle&&(this.onExtraToggleChangeListener=g=>this.extraToggleChange(g),this.extraToggle.addEventListener("change",this.onExtraToggleChangeListener)),typeof window<"u"&&(window.HSAccessibilityObserver||(window.HSAccessibilityObserver=new f.default),this.setupAccessibility())}open(g){var d,p,v,b,w;this.prev=this.current,this.prevContentId=this.currentContentId,this.prevContent=this.currentContent,this.current=g,this.currentContentId=g.getAttribute("data-hs-tab"),this.currentContent=this.currentContentId?document.querySelector(this.currentContentId):null,!((d=this==null?void 0:this.prev)===null||d===void 0)&&d.ariaSelected&&(this.prev.ariaSelected="false"),(p=this.prev)===null||p===void 0||p.classList.remove("active"),(v=this.prevContent)===null||v===void 0||v.classList.add("hidden"),!((b=this==null?void 0:this.current)===null||b===void 0)&&b.ariaSelected&&(this.current.ariaSelected="true"),this.current.classList.add("active"),(w=this.currentContent)===null||w===void 0||w.classList.remove("hidden"),this.fireEvent("change",{el:g,prev:this.prevContentId,current:this.currentContentId,tabsId:this.el.id}),(0,m.dispatch)("change.hs.tab",g,{el:g,prev:this.prevContentId,current:this.currentContentId,tabsId:this.el.id})}change(g){const d=document.querySelector(`[data-hs-tab="${g.target.value}"]`);d&&(this.eventType==="hover"?d.dispatchEvent(new Event("mouseenter")):d.click())}setupAccessibility(){this.accessibilityComponent=window.HSAccessibilityObserver.registerComponent(this.el,{onArrow:g=>{if(g.metaKey)return;const d=this.el.getAttribute("data-hs-tabs-vertical")==="true"||this.el.getAttribute("aria-orientation")==="vertical";switch(g.key){case(d?"ArrowUp":"ArrowLeft"):this.onArrow(!0);break;case(d?"ArrowDown":"ArrowRight"):this.onArrow(!1);break;case"Home":this.onStartEnd(!0);break;case"End":this.onStartEnd(!1)}}},!0,"Tabs",'[role="tablist"]')}onArrow(g=!0){const d=g?Array.from(this.toggles).reverse():Array.from(this.toggles),p=d.find(b=>document.activeElement===b);let v=d.findIndex(b=>b===p);v=v+1<d.length?v+1:0,d[v].focus(),d[v].click()}onStartEnd(g=!0){const d=g?Array.from(this.toggles):Array.from(this.toggles).reverse();d.length&&(d[0].focus(),d[0].click())}destroy(){this.toggles.forEach(g=>{var d;const p=(d=this.onToggleHandler)===null||d===void 0?void 0:d.find(({el:v})=>v===g);p&&(this.eventType==="click"?g.removeEventListener("click",p.fn):(g.removeEventListener("mouseenter",p.fn),g.removeEventListener("click",p.preventClickFn)))}),this.onToggleHandler=[],this.extraToggle&&this.extraToggle.removeEventListener("change",this.onExtraToggleChangeListener),typeof window<"u"&&window.HSAccessibilityObserver&&window.HSAccessibilityObserver.unregisterComponent(this.accessibilityComponent),window.$hsTabsCollection=window.$hsTabsCollection.filter(({element:g})=>g.el!==this.el)}static getInstance(g,d){const p=window.$hsTabsCollection.find(v=>v.element.el===(typeof g=="string"?document.querySelector(g):g));return p?d?p:p.element:null}static autoInit(){window.$hsTabsCollection||(window.$hsTabsCollection=[]),window.$hsTabsCollection&&(window.$hsTabsCollection=window.$hsTabsCollection.filter(({element:g})=>document.contains(g.el))),document.querySelectorAll('[role="tablist"]:not(select):not(.--prevent-on-load-init)').forEach(g=>{window.$hsTabsCollection.find(d=>{var p;return((p=d==null?void 0:d.element)===null||p===void 0?void 0:p.el)===g})||new c(g)})}static open(g){const d=window.$hsTabsCollection.find(v=>Array.from(v.element.toggles).includes(typeof g=="string"?document.querySelector(g):g)),p=d?Array.from(d.element.toggles).find(v=>v===(typeof g=="string"?document.querySelector(g):g)):null;p&&!p.classList.contains("active")&&d.element.open(p)}static on(g,d,p){const v=window.$hsTabsCollection.find(b=>Array.from(b.element.toggles).includes(typeof d=="string"?document.querySelector(d):d));v&&(v.element.events[g]=p)}}window.addEventListener("load",()=>{c.autoInit()}),typeof window<"u"&&(window.HSTabs=c),i.default=c},191:(n,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.templates=void 0,i.templates={default:(l=!1)=>`<div class="--single-month flex flex-col overflow-hidden">
    <div class="grid grid-cols-5 items-center gap-x-3 mx-1.5 pb-3" data-vc="header">
      <div class="col-span-1">
        <#CustomArrowPrev />
      </div>
      <div class="col-span-3 flex justify-center items-center gap-x-1">
        <#CustomMonth />
        <span class="text-gray-800 ${l!=="light"?"dark:text-neutral-200":""}">/</span>
        <#CustomYear />
      </div>
      <div class="col-span-1 flex justify-end">
        <#CustomArrowNext />
      </div>
    </div>
    <div data-vc="wrapper">
      <div data-vc="content">
        <#Week />
        <#Dates />
      </div>
    </div>
  </div>`,multiple:(l=!1)=>`<div class="relative flex flex-col overflow-hidden">
    <div class="absolute top-2 start-2">
      <#CustomArrowPrev />
    </div>
    <div class="absolute top-2 end-2">
      <#CustomArrowNext />
    </div>
    <div class="sm:flex" data-vc="grid">
      <#Multiple>
        <div class="p-3 space-y-0.5 --single-month" data-vc="column">
          <div class="pb-3" data-vc="header">
            <div class="flex justify-center items-center gap-x-1" data-vc-header="content">
              <#CustomMonth />
              <span class="text-gray-800 ${l!=="light"?"dark:text-neutral-200":""}">/</span>
              <#CustomYear />
            </div>
          </div>
          <div data-vc="wrapper">
            <div data-vc="content">
              <#Week />
              <#Dates />
            </div>
          </div>
        </div>
      <#/Multiple>
    </div>
  </div>`,year:(l=!1)=>`<div class="relative bg-white ${l!=="light"?"dark:bg-neutral-900":""}" data-vc="header" role="toolbar">
    <div class="grid grid-cols-5 items-center gap-x-3 mx-1.5 pb-3" data-vc="header">
      <div class="col-span-1">
        <#CustomArrowPrev />
      </div>
      <div class="col-span-3 flex justify-center items-center gap-x-1">
        <#Month />
        <span class="text-gray-800 ${l!=="light"?"dark:text-neutral-200":""}">/</span>
        <#Year />
      </div>
      <div class="col-span-1 flex justify-end">
        <#CustomArrowNext />
      </div>
    </div>
  </div>
  <div data-vc="wrapper">
    <div data-vc="content">
      <#Years />
    </div>
  </div>`,month:(l=!1)=>`<div class="pb-3" data-vc="header" role="toolbar">
    <div class="flex justify-center items-center gap-x-1" data-vc-header="content">
      <#Month />
      <span class="text-gray-800 ${l!=="light"?"dark:text-neutral-200":""}">/</span>
      <#Year />
    </div>
  </div>
  <div data-vc="wrapper">
    <div data-vc="content">
      <#Months />
    </div>
  </div>`,years:(l,u=!1)=>`<div class="relative">
      <span class="hidden" data-vc="year"></span>
      <select data-hs-select='{
          "placeholder": "Select year",
          "dropdownScope": "parent",
          "dropdownVerticalFixedPlacement": "bottom",
          "toggleTag": "<button type=\\"button\\"><span data-title></span></button>",
          "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative flex text-nowrap w-full cursor-pointer text-start font-medium text-gray-800 hover:text-gray-600 focus:outline-hidden focus:text-gray-600 before:absolute before:inset-0 before:z-1 ${u!=="light"?"dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300":""}",
          "dropdownClasses": "mt-2 z-50 w-20 max-h-60 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 ${u!=="light"?"dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700":""}",
          "optionClasses": "p-2 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 ${u!=="light"?"dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800":""}",
          "optionTemplate": "<div class=\\"flex justify-between items-center w-full\\"><span data-title></span><span class=\\"hidden hs-selected:block\\"><svg class=\\"shrink-0 size-3.5 text-gray-800 ${u!=="light"?"dark:text-neutral-200":""}\\" xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"><polyline points=\\"20 6 9 17 4 12\\"/></svg></span></div>"
        }' class="hidden --year --prevent-on-load-init">
        ${l}
      </select>
    </div>`,months:(l=!1)=>`<div class="relative">
    <span class="hidden" data-vc="month"></span>
    <select data-hs-select='{
        "placeholder": "Select month",
        "dropdownScope": "parent",
        "dropdownVerticalFixedPlacement": "bottom",
        "toggleTag": "<button type=\\"button\\"><span data-title></span></button>",
        "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative flex text-nowrap w-full cursor-pointer text-start font-medium text-gray-800 hover:text-gray-600 focus:outline-hidden focus:text-gray-600 before:absolute before:inset-0 before:z-1 ${l!=="light"?"dark:text-neutral-200 dark:hover:text-neutral-300 dark:focus:text-neutral-300":""}",
        "dropdownClasses": "mt-2 z-50 w-32 max-h-60 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 ${l!=="light"?"dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700":""}",
        "optionClasses": "p-2 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg hs-select-disabled:opacity-50 hs-select-disabled:pointer-events-none focus:outline-hidden focus:bg-gray-100 ${l!=="light"?"dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800":""}",
        "optionTemplate": "<div class=\\"flex justify-between items-center w-full\\"><span data-title></span><span class=\\"hidden hs-selected:block\\"><svg class=\\"shrink-0 size-3.5 text-gray-800 ${l!=="light"?"dark:text-neutral-200":""}\\" xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"24\\" height=\\"24\\" viewBox=\\"0 0 24 24\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"2\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"><polyline points=\\"20 6 9 17 4 12\\"/></svg></span></div>"
      }' class="hidden --month --prevent-on-load-init">
      <option value="0">January</option>
      <option value="1">February</option>
      <option value="2">March</option>
      <option value="3">April</option>
      <option value="4">May</option>
      <option value="5">June</option>
      <option value="6">July</option>
      <option value="7">August</option>
      <option value="8">September</option>
      <option value="9">October</option>
      <option value="10">November</option>
      <option value="11">December</option>
    </select>
  </div>`,hours:(l=!1)=>`<div class="relative">
    <select class="--hours hidden" data-hs-select='{
      "placeholder": "Select option...",
      "dropdownVerticalFixedPlacement": "top",
      "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-1 px-2 pe-6 flex text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:border-blue-500 focus:ring-blue-500 before:absolute before:inset-0 before:z-1 ${l!=="light"?"dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400":""}",
      "dropdownClasses": "mt-2 z-50 w-full min-w-24 max-h-72 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 ${l!=="light"?"dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700":""}",
      "optionClasses": "hs-selected:bg-gray-100 ${l!=="light"?"dark:hs-selected:bg-neutral-800":""} py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 ${l!=="light"?"dark:hs-selected:bg-gray-700":""} ${l!=="light"?"dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800":""}",
      "optionTemplate": "<div class=\\"flex justify-between items-center w-full\\"><span data-title></span></div>"
    }'>
      <option value="01">01</option>
      <option value="02">02</option>
      <option value="03">03</option>
      <option value="04">04</option>
      <option value="05">05</option>
      <option value="06">06</option>
      <option value="07">07</option>
      <option value="08">08</option>
      <option value="09">09</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12" selected>12</option>
    </select>
    <div class="absolute top-1/2 end-2 -translate-y-1/2">
      <svg class="shrink-0 size-3 text-gray-500 ${l!=="light"?"dark:text-neutral-500":""}" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/></svg>
    </div>
  </div>`,minutes:(l=!1)=>`<div class="relative">
    <select class="--minutes hidden" data-hs-select='{
      "placeholder": "Select option...",
      "dropdownVerticalFixedPlacement": "top",
      "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-1 px-2 pe-6 flex text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:border-blue-500 focus:ring-blue-500 before:absolute before:inset-0 before:z-1 ${l!=="light"?"dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400":""}",
      "dropdownClasses": "mt-2 z-50 w-full min-w-24 max-h-72 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 ${l!=="light"?"dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700":""}",
      "optionClasses": "hs-selected:bg-gray-100 ${l!=="light"?"dark:hs-selected:bg-neutral-800":""} py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 ${l!=="light"?"dark:hs-selected:bg-gray-700":""} ${l!=="light"?"dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800":""}",
      "optionTemplate": "<div class=\\"flex justify-between items-center w-full\\"><span data-title></span></div>"
    }'>
      <option value="00" selected>00</option>
      <option value="01">01</option>
      <option value="02">02</option>
      <option value="03">03</option>
      <option value="04">04</option>
      <option value="05">05</option>
      <option value="06">06</option>
      <option value="07">07</option>
      <option value="08">08</option>
      <option value="09">09</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
      <option value="13">13</option>
      <option value="14">14</option>
      <option value="15">15</option>
      <option value="16">16</option>
      <option value="17">17</option>
      <option value="18">18</option>
      <option value="19">19</option>
      <option value="20">20</option>
      <option value="21">21</option>
      <option value="22">22</option>
      <option value="23">23</option>
      <option value="24">24</option>
      <option value="25">25</option>
      <option value="26">26</option>
      <option value="27">27</option>
      <option value="28">28</option>
      <option value="29">29</option>
      <option value="30">30</option>
      <option value="31">31</option>
      <option value="32">32</option>
      <option value="33">33</option>
      <option value="34">34</option>
      <option value="35">35</option>
      <option value="36">36</option>
      <option value="37">37</option>
      <option value="38">38</option>
      <option value="39">39</option>
      <option value="40">40</option>
      <option value="41">41</option>
      <option value="42">42</option>
      <option value="43">43</option>
      <option value="44">44</option>
      <option value="45">45</option>
      <option value="46">46</option>
      <option value="47">47</option>
      <option value="48">48</option>
      <option value="49">49</option>
      <option value="50">50</option>
      <option value="51">51</option>
      <option value="52">52</option>
      <option value="53">53</option>
      <option value="54">54</option>
      <option value="55">55</option>
      <option value="56">56</option>
      <option value="57">57</option>
      <option value="58">58</option>
      <option value="59">59</option>
    </select>
    <div class="absolute top-1/2 end-2 -translate-y-1/2">
      <svg class="shrink-0 size-3 text-gray-500 ${l!=="light"?"dark:text-neutral-500":""}" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/></svg>
    </div>
  </div>`,meridiem:(l=!1)=>`<div class="relative">
    <select class="--meridiem hidden" data-hs-select='{
      "placeholder": "Select option...",
      "dropdownVerticalFixedPlacement": "top",
      "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-1 px-2 pe-6 flex text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:border-blue-500 focus:ring-blue-500 before:absolute before:inset-0 before:z-1 ${l!=="light"?"dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400":""}",
      "dropdownClasses": "mt-2 z-50 w-full min-w-24 max-h-72 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 ${l!=="light"?"dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700":""}",
      "optionClasses": "hs-selected:bg-gray-100 ${l!=="light"?"dark:hs-selected:bg-neutral-800":""} py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 ${l!=="light"?"dark:hs-selected:bg-gray-700":""} ${l!=="light"?"dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800":""}",
      "optionTemplate": "<div class=\\"flex justify-between items-center w-full\\"><span data-title></span></div>"
    }'>
      <option value="PM" selected>PM</option>
      <option value="AM">AM</option>
    </select>
    <div class="absolute top-1/2 end-2 -translate-y-1/2">
      <svg class="shrink-0 size-3 text-gray-500 ${l!=="light"?"dark:text-neutral-500":""}" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/></svg>
    </div>
  </div>`}},223:(n,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BREAKPOINTS=i.COMBO_BOX_ACCESSIBILITY_KEY_SET=i.SELECT_ACCESSIBILITY_KEY_SET=i.TABS_ACCESSIBILITY_KEY_SET=i.OVERLAY_ACCESSIBILITY_KEY_SET=i.DROPDOWN_ACCESSIBILITY_KEY_SET=i.POSITIONS=void 0,i.POSITIONS={auto:"auto","auto-start":"auto-start","auto-end":"auto-end",top:"top","top-left":"top-start","top-right":"top-end",bottom:"bottom","bottom-left":"bottom-start","bottom-right":"bottom-end",right:"right","right-start":"right-start","right-end":"right-end",left:"left","left-start":"left-start","left-end":"left-end"},i.DROPDOWN_ACCESSIBILITY_KEY_SET=["Escape","ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","Enter"],i.OVERLAY_ACCESSIBILITY_KEY_SET=["Escape","Tab"],i.TABS_ACCESSIBILITY_KEY_SET=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End"],i.SELECT_ACCESSIBILITY_KEY_SET=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End","Escape","Enter","Space","Tab"],i.COMBO_BOX_ACCESSIBILITY_KEY_SET=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End","Escape","Enter"],i.BREAKPOINTS={xs:0,sm:640,md:768,lg:1024,xl:1280,"2xl":1536}},234:function(n,i,l){/*
* HSFileUpload
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));typeof Dropzone<"u"&&(Dropzone.autoDiscover=!1);class f extends y.default{constructor(c,h,g){var d;super(c,h,g),this.extensions={},this.el=typeof c=="string"?document.querySelector(c):c;const p=this.el.getAttribute("data-hs-file-upload"),v=p?JSON.parse(p):{};this.previewTemplate=((d=this.el.querySelector("[data-hs-file-upload-preview]"))===null||d===void 0?void 0:d.innerHTML)||`<div class="p-3 bg-white border border-solid border-gray-300 rounded-xl dark:bg-neutral-800 dark:border-neutral-600">
			<div class="mb-2 flex justify-between items-center">
				<div class="flex items-center gap-x-3">
					<span class="size-8 flex justify-center items-center border border-gray-200 text-gray-500 rounded-lg dark:border-neutral-700 dark:text-neutral-500" data-hs-file-upload-file-icon></span>
					<div>
						<p class="text-sm font-medium text-gray-800 dark:text-white">
							<span class="truncate inline-block max-w-75 align-bottom" data-hs-file-upload-file-name></span>.<span data-hs-file-upload-file-ext></span>
						</p>
						<p class="text-xs text-gray-500 dark:text-neutral-500" data-hs-file-upload-file-size></p>
					</div>
				</div>
				<div class="inline-flex items-center gap-x-2">
					<button type="button" class="text-gray-500 hover:text-gray-800 dark:text-neutral-500 dark:hover:text-neutral-200" data-hs-file-upload-remove>
						<svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path><line x1="10" x2="10" y1="11" y2="17"></line><line x1="14" x2="14" y1="11" y2="17"></line></svg>
					</button>
				</div>
			</div>
			<div class="flex items-center gap-x-3 whitespace-nowrap">
				<div class="flex w-full h-2 bg-gray-200 rounded-full overflow-hidden dark:bg-neutral-700" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" data-hs-file-upload-progress-bar>
					<div class="flex flex-col justify-center rounded-full overflow-hidden bg-blue-600 text-xs text-white text-center whitespace-nowrap transition-all duration-500 hs-file-upload-complete:bg-green-600 dark:bg-blue-500" style="width: 0" data-hs-file-upload-progress-bar-pane></div>
				</div>
				<div class="w-10 text-end">
					<span class="text-sm text-gray-800 dark:text-white">
						<span data-hs-file-upload-progress-bar-value>0</span>%
					</span>
				</div>
			</div>
		</div>`,this.extensions=_.merge({default:{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></svg>',class:"size-5"},xls:{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.0243 1.43996H7.08805C6.82501 1.43996 6.57277 1.54445 6.38677 1.73043C6.20077 1.91642 6.09631 2.16868 6.09631 2.43171V6.64796L15.0243 11.856L19.4883 13.7398L23.9523 11.856V6.64796L15.0243 1.43996Z" fill="#21A366"></path><path d="M6.09631 6.64796H15.0243V11.856H6.09631V6.64796Z" fill="#107C41"></path><path d="M22.9605 1.43996H15.0243V6.64796H23.9523V2.43171C23.9523 2.16868 23.8478 1.91642 23.6618 1.73043C23.4758 1.54445 23.2235 1.43996 22.9605 1.43996Z" fill="#33C481"></path><path d="M15.0243 11.856H6.09631V21.2802C6.09631 21.5433 6.20077 21.7955 6.38677 21.9815C6.57277 22.1675 6.82501 22.272 7.08805 22.272H22.9606C23.2236 22.272 23.4759 22.1675 23.6618 21.9815C23.8478 21.7955 23.9523 21.5433 23.9523 21.2802V17.064L15.0243 11.856Z" fill="#185C37"></path><path d="M15.0243 11.856H23.9523V17.064H15.0243V11.856Z" fill="#107C41"></path><path opacity="0.1" d="M12.5446 5.15996H6.09631V19.296H12.5446C12.8073 19.2952 13.0591 19.1904 13.245 19.0046C13.4308 18.8188 13.5355 18.567 13.5363 18.3042V6.1517C13.5355 5.88892 13.4308 5.63712 13.245 5.4513C13.0591 5.26548 12.8073 5.16074 12.5446 5.15996Z" fill="black"></path><path opacity="0.2" d="M11.8006 5.90396H6.09631V20.04H11.8006C12.0633 20.0392 12.3151 19.9344 12.501 19.7486C12.6868 19.5628 12.7915 19.311 12.7923 19.0482V6.8957C12.7915 6.6329 12.6868 6.38114 12.501 6.19532C12.3151 6.0095 12.0633 5.90475 11.8006 5.90396Z" fill="black"></path><path opacity="0.2" d="M11.8006 5.90396H6.09631V18.552H11.8006C12.0633 18.5512 12.3151 18.4464 12.501 18.2606C12.6868 18.0748 12.7915 17.823 12.7923 17.5602V6.8957C12.7915 6.6329 12.6868 6.38114 12.501 6.19532C12.3151 6.0095 12.0633 5.90475 11.8006 5.90396Z" fill="black"></path><path opacity="0.2" d="M11.0566 5.90396H6.09631V18.552H11.0566C11.3193 18.5512 11.5711 18.4464 11.757 18.2606C11.9428 18.0748 12.0475 17.823 12.0483 17.5602V6.8957C12.0475 6.6329 11.9428 6.38114 11.757 6.19532C11.5711 6.0095 11.3193 5.90475 11.0566 5.90396Z" fill="black"></path><path d="M1.13604 5.90396H11.0566C11.3195 5.90396 11.5718 6.00842 11.7578 6.19442C11.9438 6.38042 12.0483 6.63266 12.0483 6.8957V16.8162C12.0483 17.0793 11.9438 17.3315 11.7578 17.5175C11.5718 17.7035 11.3195 17.808 11.0566 17.808H1.13604C0.873012 17.808 0.620754 17.7035 0.434765 17.5175C0.248775 17.3315 0.144287 17.0793 0.144287 16.8162V6.8957C0.144287 6.63266 0.248775 6.38042 0.434765 6.19442C0.620754 6.00842 0.873012 5.90396 1.13604 5.90396Z" fill="#107C41"></path><path d="M2.77283 15.576L5.18041 11.8455L2.9752 8.13596H4.74964L5.95343 10.5071C6.06401 10.7318 6.14015 10.8994 6.18185 11.01H6.19745C6.27683 10.8305 6.35987 10.6559 6.44669 10.4863L7.73309 8.13596H9.36167L7.09991 11.8247L9.41897 15.576H7.68545L6.29489 12.972C6.22943 12.861 6.17387 12.7445 6.12899 12.6238H6.10817C6.06761 12.7419 6.01367 12.855 5.94748 12.9608L4.51676 15.576H2.77283Z" fill="white"></path></svg>',class:"size-5"},doc:{icon:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M30.6141 1.91994H9.45071C9.09999 1.91994 8.76367 2.05926 8.51567 2.30725C8.26767 2.55523 8.12839 2.89158 8.12839 3.24228V8.86395L20.0324 12.3359L31.9364 8.86395V3.24228C31.9364 2.89158 31.797 2.55523 31.549 2.30725C31.3011 2.05926 30.9647 1.91994 30.6141 1.91994Z" fill="#41A5EE"></path><path d="M31.9364 8.86395H8.12839V15.8079L20.0324 19.2799L31.9364 15.8079V8.86395Z" fill="#2B7CD3"></path><path d="M31.9364 15.8079H8.12839V22.7519L20.0324 26.2239L31.9364 22.7519V15.8079Z" fill="#185ABD"></path><path d="M31.9364 22.752H8.12839V28.3736C8.12839 28.7244 8.26767 29.0607 8.51567 29.3087C8.76367 29.5567 9.09999 29.696 9.45071 29.696H30.6141C30.9647 29.696 31.3011 29.5567 31.549 29.3087C31.797 29.0607 31.9364 28.7244 31.9364 28.3736V22.752Z" fill="#103F91"></path><path opacity="0.1" d="M16.7261 6.87994H8.12839V25.7279H16.7261C17.0764 25.7269 17.4121 25.5872 17.6599 25.3395C17.9077 25.0917 18.0473 24.756 18.0484 24.4056V8.20226C18.0473 7.8519 17.9077 7.51616 17.6599 7.2684C17.4121 7.02064 17.0764 6.88099 16.7261 6.87994Z" class="fill-black dark:fill-neutral-200" fill="currentColor"></path><path opacity="0.2" d="M15.7341 7.87194H8.12839V26.7199H15.7341C16.0844 26.7189 16.4201 26.5792 16.6679 26.3315C16.9157 26.0837 17.0553 25.748 17.0564 25.3976V9.19426C17.0553 8.84386 16.9157 8.50818 16.6679 8.26042C16.4201 8.01266 16.0844 7.87299 15.7341 7.87194Z" class="fill-black dark:fill-neutral-200" fill="currentColor"></path><path opacity="0.2" d="M15.7341 7.87194H8.12839V24.7359H15.7341C16.0844 24.7349 16.4201 24.5952 16.6679 24.3475C16.9157 24.0997 17.0553 23.764 17.0564 23.4136V9.19426C17.0553 8.84386 16.9157 8.50818 16.6679 8.26042C16.4201 8.01266 16.0844 7.87299 15.7341 7.87194Z" class="fill-black dark:fill-neutral-200" fill="currentColor"></path><path opacity="0.2" d="M14.7421 7.87194H8.12839V24.7359H14.7421C15.0924 24.7349 15.4281 24.5952 15.6759 24.3475C15.9237 24.0997 16.0633 23.764 16.0644 23.4136V9.19426C16.0633 8.84386 15.9237 8.50818 15.6759 8.26042C15.4281 8.01266 15.0924 7.87299 14.7421 7.87194Z" class="fill-black dark:fill-neutral-200" fill="currentColor"></path><path d="M1.51472 7.87194H14.7421C15.0927 7.87194 15.4291 8.01122 15.6771 8.25922C15.925 8.50722 16.0644 8.84354 16.0644 9.19426V22.4216C16.0644 22.7723 15.925 23.1087 15.6771 23.3567C15.4291 23.6047 15.0927 23.7439 14.7421 23.7439H1.51472C1.16401 23.7439 0.827669 23.6047 0.579687 23.3567C0.3317 23.1087 0.192383 22.7723 0.192383 22.4216V9.19426C0.192383 8.84354 0.3317 8.50722 0.579687 8.25922C0.827669 8.01122 1.16401 7.87194 1.51472 7.87194Z" fill="#185ABD"></path><path d="M12.0468 20.7679H10.2612L8.17801 13.9231L5.99558 20.7679H4.20998L2.22598 10.8479H4.01158L5.40038 17.7919L7.48358 11.0463H8.97161L10.9556 17.7919L12.3444 10.8479H14.0308L12.0468 20.7679Z" fill="white"></path></svg>',class:"size-5"},zip:{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><circle cx="10" cy="20" r="2"/><path d="M10 7V6"/><path d="M10 12v-1"/><path d="M10 18v-2"/></svg>',class:"size-5"}},v.extensions),this.singleton=v.singleton,this.concatOptions=Object.assign(Object.assign({clickable:this.el.querySelector("[data-hs-file-upload-trigger]"),previewsContainer:this.el.querySelector("[data-hs-file-upload-previews]"),addRemoveLinks:!1,previewTemplate:this.previewTemplate,autoHideTrigger:!1},v),h),this.onReloadButtonClickListener=[],this.onTempFileInputChangeListener=[],this.init()}tempFileInputChange(c,h){var g;const d=(g=c.target.files)===null||g===void 0?void 0:g[0];if(d){const p=d;p.status=Dropzone.ADDED,p.accepted=!0,p.previewElement=h.previewElement,p.previewTemplate=h.previewTemplate,p.previewsContainer=h.previewsContainer,this.dropzone.removeFile(h),this.dropzone.addFile(p)}}reloadButtonClick(c,h){c.preventDefault(),c.stopPropagation();const g=document.createElement("input");g.type="file",this.onTempFileInputChangeListener.push({el:g,fn:d=>this.tempFileInputChange(d,h)}),g.click(),g.addEventListener("change",this.onTempFileInputChangeListener.find(d=>d.el===g).fn)}init(){this.createCollection(window.$hsFileUploadCollection,this),this.initDropzone()}initDropzone(){const c=this.el.querySelector("[data-hs-file-upload-clear]"),h=Array.from(this.el.querySelectorAll("[data-hs-file-upload-pseudo-trigger]"));this.dropzone=new Dropzone(this.el,this.concatOptions),this.dropzone.on("addedfile",g=>this.onAddFile(g)),this.dropzone.on("removedfile",()=>this.onRemoveFile()),this.dropzone.on("uploadprogress",(g,d)=>this.onUploadProgress(g,d)),this.dropzone.on("complete",g=>this.onComplete(g)),c&&(c.onclick=()=>{this.dropzone.files.length&&this.dropzone.removeAllFiles(!0)}),h.length&&h.forEach(g=>{g.onclick=()=>{var d,p;!((d=this.concatOptions)===null||d===void 0)&&d.clickable&&((p=this.concatOptions)===null||p===void 0?void 0:p.clickable).click()}})}destroy(){this.onTempFileInputChangeListener.forEach(c=>{c.el.removeEventListener("change",c.fn)}),this.onTempFileInputChangeListener=null,this.onReloadButtonClickListener.forEach(c=>{c.el.removeEventListener("click",c.fn)}),this.onReloadButtonClickListener=null,this.dropzone.destroy(),window.$hsFileUploadCollection=window.$hsFileUploadCollection.filter(({element:c})=>c.el!==this.el)}onAddFile(c){const{previewElement:h}=c,g=c.previewElement.querySelector("[data-hs-file-upload-reload]");if(!h)return!1;this.singleton&&this.dropzone.files.length>1&&this.dropzone.removeFile(this.dropzone.files[0]),g&&(this.onReloadButtonClickListener.push({el:g,fn:d=>this.reloadButtonClick(d,c)}),g.addEventListener("click",this.onReloadButtonClickListener.find(d=>d.el===g).fn)),this.previewAccepted(c)}previewAccepted(c){const{previewElement:h}=c,g=this.splitFileName(c.name),d=h.querySelector("[data-hs-file-upload-file-name]"),p=h.querySelector("[data-hs-file-upload-file-ext]"),v=h.querySelector("[data-hs-file-upload-file-size]"),b=h.querySelector("[data-hs-file-upload-file-icon]"),w=this.el.querySelector("[data-hs-file-upload-trigger]"),E=h.querySelector("[data-dz-thumbnail]"),C=h.querySelector("[data-hs-file-upload-remove]");d&&(d.textContent=g.name),p&&(p.textContent=g.extension),v&&(v.textContent=this.formatFileSize(c.size)),E&&(c.type.includes("image/")?E.classList.remove("hidden"):this.setIcon(g.extension,b)),this.dropzone.files.length>0&&this.concatOptions.autoHideTrigger&&(w.style.display="none"),C&&(C.onclick=()=>this.dropzone.removeFile(c))}onRemoveFile(){const c=this.el.querySelector("[data-hs-file-upload-trigger]");this.dropzone.files.length===0&&this.concatOptions.autoHideTrigger&&(c.style.display="")}onUploadProgress(c,h){const{previewElement:g}=c;if(!g)return!1;const d=g.querySelector("[data-hs-file-upload-progress-bar]"),p=g.querySelector("[data-hs-file-upload-progress-bar-pane]"),v=g.querySelector("[data-hs-file-upload-progress-bar-value]"),b=Math.floor(h);d&&d.setAttribute("aria-valuenow",`${b}`),p&&(p.style.width=`${b}%`),v&&(v.innerText=`${b}`)}onComplete(c){const{previewElement:h}=c;if(!h)return!1;h.classList.add("complete")}setIcon(c,h){const g=this.createIcon(c);h.append(g)}createIcon(c){var h,g;const d=!((h=this.extensions[c])===null||h===void 0)&&h.icon?(0,m.htmlToElement)(this.extensions[c].icon):(0,m.htmlToElement)(this.extensions.default.icon);return(0,m.classToClassList)(!((g=this.extensions[c])===null||g===void 0)&&g.class?this.extensions[c].class:this.extensions.default.class,d),d}formatFileSize(c){return c<1024?c.toFixed(2)+" B":c<1048576?(c/1024).toFixed(2)+" KB":c<1073741824?(c/1048576).toFixed(2)+" MB":c<1099511627776?(c/1073741824).toFixed(2)+" GB":(c/1099511627776).toFixed(2)+" TB"}splitFileName(c){let h=c.lastIndexOf(".");return h==-1?{name:c,extension:""}:{name:c.substring(0,h),extension:c.substring(h+1)}}static getInstance(c,h){const g=window.$hsFileUploadCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element.el:null}static autoInit(){window.$hsFileUploadCollection||(window.$hsFileUploadCollection=[]),window.$hsFileUploadCollection&&(window.$hsFileUploadCollection=window.$hsFileUploadCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-file-upload]:not(.--prevent-on-load-init)").forEach(c=>{window.$hsFileUploadCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}}window.addEventListener("load",()=>{document.querySelectorAll("[data-hs-file-upload]:not(.--prevent-on-load-init)").length&&(typeof _>"u"&&console.error("HSFileUpload: Lodash is not available, please add it to the page."),typeof Dropzone>"u"&&console.error("HSFileUpload: Dropzone is not available, please add it to the page.")),typeof _<"u"&&typeof Dropzone<"u"&&f.autoInit()}),typeof window<"u"&&(window.HSFileUpload=f),i.default=f},248:(n,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(){this.components=[],this.currentlyOpenedComponents=[],this.activeComponent=null,this.allowedKeybindings=new Set(["Escape","Enter"," ","Space","ArrowDown","ArrowUp","ArrowLeft","ArrowRight","Tab","Home","End"]),this.initGlobalListeners()}initGlobalListeners(){document.addEventListener("keydown",l=>this.handleGlobalKeydown(l)),document.addEventListener("focusin",l=>this.handleGlobalFocusin(l))}isAllowedKeybinding(l){return!!this.allowedKeybindings.has(l.key)||!(l.key.length!==1||!/^[a-zA-Z]$/.test(l.key)||l.metaKey||l.ctrlKey||l.altKey||l.shiftKey)}getActiveComponent(l){if(!l)return null;const u=this.components.filter(f=>f.wrapper.contains(l)||f.context&&f.context.contains(l));if(u.length===0)return null;if(u.length===1)return u[0];let m=null,y=Number.MAX_SAFE_INTEGER;for(const f of u){let x=0,c=l;for(;c&&c!==f.wrapper&&c!==f.context;)x++,c=c.parentElement;x<y&&(y=x,m=f)}return m}handleGlobalFocusin(l){const u=l.target;this.activeComponent=this.getActiveComponent(u)}handleGlobalKeydown(l){const u=l.target;if(this.activeComponent=this.getActiveComponent(u),this.activeComponent&&this.isAllowedKeybinding(l))switch(l.key){case"Escape":if(this.activeComponent.isOpened)this.activeComponent.handlers.onEsc&&(this.activeComponent.handlers.onEsc(),l.preventDefault(),l.stopPropagation());else{const y=this.findClosestOpenParent(u);y!=null&&y.handlers.onEsc&&(y.handlers.onEsc(),l.preventDefault(),l.stopPropagation())}break;case"Enter":this.activeComponent.handlers.onEnter&&(this.activeComponent.handlers.onEnter(),l.preventDefault(),l.stopPropagation());break;case" ":case"Space":if(u.tagName==="INPUT"||u.tagName==="TEXTAREA")return;this.activeComponent.handlers.onSpace&&(this.activeComponent.handlers.onSpace(),l.preventDefault(),l.stopPropagation());break;case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":if(this.activeComponent.handlers.onArrow){if(l.metaKey||l.ctrlKey||l.altKey||l.shiftKey)return;this.activeComponent.handlers.onArrow(l),l.preventDefault(),l.stopPropagation()}break;case"Tab":if(!this.activeComponent.handlers.onTab)break;const m=l.shiftKey?this.activeComponent.handlers.onShiftTab:this.activeComponent.handlers.onTab;m&&m();break;case"Home":this.activeComponent.handlers.onHome&&(this.activeComponent.handlers.onHome(),l.preventDefault(),l.stopPropagation());break;case"End":this.activeComponent.handlers.onEnd&&(this.activeComponent.handlers.onEnd(),l.preventDefault(),l.stopPropagation());break;default:this.activeComponent.handlers.onFirstLetter&&l.key.length===1&&/^[a-zA-Z]$/.test(l.key)&&(this.activeComponent.handlers.onFirstLetter(l.key),l.preventDefault(),l.stopPropagation())}}findClosestOpenParent(l){let u=l.parentElement;for(;u;){const m=this.currentlyOpenedComponents.find(y=>y.wrapper===u&&y!==this.activeComponent);if(m)return m;u=u.parentElement}return null}registerComponent(l,u,m=!0,y="",f="",x){const c={wrapper:l,handlers:u,isOpened:m,name:y,selector:f,context:x,isRegistered:!0};return this.components.push(c),c}updateComponentState(l,u){l.isOpened=u,u?this.currentlyOpenedComponents.includes(l)||this.currentlyOpenedComponents.push(l):this.currentlyOpenedComponents=this.currentlyOpenedComponents.filter(m=>m!==l)}unregisterComponent(l){this.components=this.components.filter(u=>u!==l),this.currentlyOpenedComponents=this.currentlyOpenedComponents.filter(u=>u!==l)}addAllowedKeybinding(l){this.allowedKeybindings.add(l)}removeAllowedKeybinding(l){this.allowedKeybindings.delete(l)}getAllowedKeybindings(){return Array.from(this.allowedKeybindings)}}},255:function(n,i,l){/*
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(_e){return _e&&_e.__esModule?_e:{default:_e}};Object.defineProperty(i,"__esModule",{value:!0}),i.COLLECTIONS=void 0;const m=u(l(406)),y=u(l(740)),f=u(l(268)),x=u(l(485)),c=u(l(809));let h,g,d,p;const v=u(l(891)),b=u(l(812)),w=u(l(332)),E=u(l(850)),C=u(l(60)),T=u(l(911)),P=u(l(639)),A=u(l(751)),j=u(l(442)),V=u(l(887)),H=u(l(97)),R=u(l(166)),M=u(l(144)),B=u(l(502)),W=u(l(684)),K=u(l(100)),Z=u(l(969)),Te=u(l(772));if(typeof window<"u"){try{typeof DataTable<"u"&&typeof jQuery<"u"&&(h=l(814).default)}catch{console.warn("HSDataTable: Required dependencies not found"),h=null}try{typeof _<"u"&&typeof Dropzone<"u"&&(g=l(234).default)}catch{console.warn("HSFileUpload: Required dependencies not found"),g=null}try{typeof noUiSlider<"u"&&(d=l(347).default)}catch{console.warn("HSRangeSlider: Required dependencies not found"),d=null}try{typeof VanillaCalendarPro<"u"&&(p=l(128).default)}catch{console.warn("HSDatepicker: Required dependencies not found"),p=null}}i.COLLECTIONS=[{key:"copy-markup",fn:m.default,collection:"$hsCopyMarkupCollection"},{key:"accordion",fn:y.default,collection:"$hsAccordionCollection"},{key:"carousel",fn:f.default,collection:"$hsCarouselCollection"},{key:"collapse",fn:x.default,collection:"$hsCollapseCollection"},{key:"combobox",fn:c.default,collection:"$hsComboBoxCollection"},...h?[{key:"datatable",fn:h,collection:"$hsDataTableCollection"}]:[],...p?[{key:"datepicker",fn:p,collection:"$hsDatepickerCollection"}]:[],{key:"dropdown",fn:v.default,collection:"$hsDropdownCollection"},...g?[{key:"file-upload",fn:g,collection:"$hsFileUploadCollection"}]:[],{key:"input-number",fn:w.default,collection:"$hsInputNumberCollection"},{key:"layout-splitter",fn:b.default,collection:"$hsLayoutSplitterCollection"},{key:"overlay",fn:E.default,collection:"$hsOverlayCollection"},{key:"pin-input",fn:C.default,collection:"$hsPinInputCollection"},...d?[{key:"range-slider",fn:d,collection:"$hsRangeSliderCollection"}]:[],{key:"remove-element",fn:T.default,collection:"$hsRemoveElementCollection"},{key:"scroll-nav",fn:P.default,collection:"$hsScrollNavCollection"},{key:"scrollspy",fn:A.default,collection:"$hsScrollspyCollection"},{key:"select",fn:j.default,collection:"$hsSelectCollection"},{key:"stepper",fn:V.default,collection:"$hsStepperCollection"},{key:"strong-password",fn:H.default,collection:"$hsStrongPasswordCollection"},{key:"tabs",fn:R.default,collection:"$hsTabsCollection"},{key:"textarea-auto-height",fn:M.default,collection:"$hsTextareaAutoHeightCollection"},{key:"theme-switch",fn:B.default,collection:"$hsThemeSwitchCollection"},{key:"toggle-count",fn:W.default,collection:"$hsToggleCountCollection"},{key:"toggle-password",fn:K.default,collection:"$hsTogglePasswordCollection"},{key:"tooltip",fn:Z.default,collection:"$hsTooltipCollection"},{key:"tree-view",fn:Te.default,collection:"$hsTreeViewCollection"}]},268:function(n,i,l){/*
* HSCarousel
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961)),f=l(223);class x extends y.default{constructor(h,g){var d,p,v,b,w;super(h,g);const E=h.getAttribute("data-hs-carousel"),C=E?JSON.parse(E):{},T=Object.assign(Object.assign({},C),g);this.currentIndex=T.currentIndex||0,this.loadingClasses=T.loadingClasses?`${T.loadingClasses}`.split(","):null,this.dotsItemClasses=T.dotsItemClasses?T.dotsItemClasses:null,this.isAutoHeight=T.isAutoHeight!==void 0&&T.isAutoHeight,this.isAutoPlay=T.isAutoPlay!==void 0&&T.isAutoPlay,this.isCentered=T.isCentered!==void 0&&T.isCentered,this.isDraggable=T.isDraggable!==void 0&&T.isDraggable,this.isInfiniteLoop=T.isInfiniteLoop!==void 0&&T.isInfiniteLoop,this.isRTL=T.isRTL!==void 0&&T.isRTL,this.isSnap=T.isSnap!==void 0&&T.isSnap,this.hasSnapSpacers=T.hasSnapSpacers===void 0||T.hasSnapSpacers,this.speed=T.speed||4e3,this.updateDelay=T.updateDelay||0,this.slidesQty=T.slidesQty||1,this.loadingClassesRemove=!((d=this.loadingClasses)===null||d===void 0)&&d[0]?this.loadingClasses[0].split(" "):"opacity-0",this.loadingClassesAdd=!((p=this.loadingClasses)===null||p===void 0)&&p[1]?this.loadingClasses[1].split(" "):"",this.afterLoadingClassesAdd=!((v=this.loadingClasses)===null||v===void 0)&&v[2]?this.loadingClasses[2].split(" "):"",this.container=this.el.querySelector(".hs-carousel")||null,this.inner=this.el.querySelector(".hs-carousel-body")||null,this.slides=this.el.querySelectorAll(".hs-carousel-slide")||[],this.prev=this.el.querySelector(".hs-carousel-prev")||null,this.next=this.el.querySelector(".hs-carousel-next")||null,this.dots=this.el.querySelector(".hs-carousel-pagination")||null,this.info=this.el.querySelector(".hs-carousel-info")||null,this.infoTotal=((b=this==null?void 0:this.info)===null||b===void 0?void 0:b.querySelector(".hs-carousel-info-total"))||null,this.infoCurrent=((w=this==null?void 0:this.info)===null||w===void 0?void 0:w.querySelector(".hs-carousel-info-current"))||null,this.sliderWidth=this.el.getBoundingClientRect().width,this.isDragging=!1,this.dragStartX=null,this.initialTranslateX=null,this.touchX={start:0,end:0},this.touchY={start:0,end:0},this.resizeContainer=document.querySelector("body"),this.resizeContainerWidth=0,this.init()}setIsSnap(){const h=this.container.getBoundingClientRect(),g=h.left+h.width/2;let d=null,p=null,v=1/0;Array.from(this.inner.children).forEach(b=>{const w=b.getBoundingClientRect(),E=this.inner.getBoundingClientRect(),C=w.left+w.width/2-E.left,T=Math.abs(g-(E.left+C));T<v&&(v=T,d=b)}),d&&(p=Array.from(this.slides).findIndex(b=>b===d)),this.setIndex(p),this.dots&&this.setCurrentDot()}prevClick(){this.goToPrev(),this.isAutoPlay&&(this.resetTimer(),this.setTimer())}nextClick(){this.goToNext(),this.isAutoPlay&&(this.resetTimer(),this.setTimer())}containerScroll(){clearTimeout(this.isScrolling),this.isScrolling=setTimeout(()=>{this.setIsSnap()},100)}elementTouchStart(h){this.touchX.start=h.changedTouches[0].screenX,this.touchY.start=h.changedTouches[0].screenY}elementTouchEnd(h){this.touchX.end=h.changedTouches[0].screenX,this.touchY.end=h.changedTouches[0].screenY,this.detectDirection()}innerMouseDown(h){this.handleDragStart(h)}innerTouchStart(h){this.handleDragStart(h)}documentMouseMove(h){this.handleDragMove(h)}documentTouchMove(h){this.handleDragMove(h)}documentMouseUp(){this.handleDragEnd()}documentTouchEnd(){this.handleDragEnd()}dotClick(h){this.goTo(h),this.isAutoPlay&&(this.resetTimer(),this.setTimer())}init(){this.createCollection(window.$hsCarouselCollection,this),this.inner&&(this.calculateWidth(),this.isDraggable&&!this.isSnap&&this.initDragHandling()),this.prev&&(this.onPrevClickListener=()=>this.prevClick(),this.prev.addEventListener("click",this.onPrevClickListener)),this.next&&(this.onNextClickListener=()=>this.nextClick(),this.next.addEventListener("click",this.onNextClickListener)),this.dots&&this.initDots(),this.info&&this.buildInfo(),this.slides.length&&(this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass(),this.isAutoPlay&&this.autoPlay()),setTimeout(()=>{this.isSnap&&this.setIsSnap(),this.loadingClassesRemove&&(typeof this.loadingClassesRemove=="string"?this.inner.classList.remove(this.loadingClassesRemove):this.inner.classList.remove(...this.loadingClassesRemove)),this.loadingClassesAdd&&(typeof this.loadingClassesAdd=="string"?this.inner.classList.add(this.loadingClassesAdd):this.inner.classList.add(...this.loadingClassesAdd)),this.inner&&this.afterLoadingClassesAdd&&setTimeout(()=>{typeof this.afterLoadingClassesAdd=="string"?this.inner.classList.add(this.afterLoadingClassesAdd):this.inner.classList.add(...this.afterLoadingClassesAdd)})},400),this.isSnap&&(this.onContainerScrollListener=()=>this.containerScroll(),this.container.addEventListener("scroll",this.onContainerScrollListener)),this.el.classList.add("init"),this.isSnap||(this.onElementTouchStartListener=h=>this.elementTouchStart(h),this.onElementTouchEndListener=h=>this.elementTouchEnd(h),this.el.addEventListener("touchstart",this.onElementTouchStartListener),this.el.addEventListener("touchend",this.onElementTouchEndListener)),this.observeResize()}initDragHandling(){const h=this.inner;this.onInnerMouseDownListener=g=>this.innerMouseDown(g),this.onInnerTouchStartListener=g=>this.innerTouchStart(g),this.onDocumentMouseMoveListener=g=>this.documentMouseMove(g),this.onDocumentTouchMoveListener=g=>this.documentTouchMove(g),this.onDocumentMouseUpListener=()=>this.documentMouseUp(),this.onDocumentTouchEndListener=()=>this.documentTouchEnd(),h&&(h.addEventListener("mousedown",this.onInnerMouseDownListener),h.addEventListener("touchstart",this.onInnerTouchStartListener,{passive:!0}),document.addEventListener("mousemove",this.onDocumentMouseMoveListener),document.addEventListener("touchmove",this.onDocumentTouchMoveListener,{passive:!1}),document.addEventListener("mouseup",this.onDocumentMouseUpListener),document.addEventListener("touchend",this.onDocumentTouchEndListener))}getTranslateXValue(){var h;const g=window.getComputedStyle(this.inner).transform;if(g!=="none"){const d=(h=g.match(/matrix.*\((.+)\)/))===null||h===void 0?void 0:h[1].split(", ");if(d){let p=parseFloat(d.length===6?d[4]:d[12]);return this.isRTL&&(p=-p),isNaN(p)||p===0?0:-p}}return 0}removeClickEventWhileDragging(h){h.preventDefault()}handleDragStart(h){h.preventDefault(),this.isDragging=!0,this.dragStartX=this.getEventX(h),this.initialTranslateX=this.isRTL?this.getTranslateXValue():-this.getTranslateXValue(),this.inner.classList.add("dragging")}handleDragMove(h){if(!this.isDragging)return;this.inner.querySelectorAll("a:not(.prevented-click)").forEach(p=>{p.classList.add("prevented-click"),p.addEventListener("click",this.removeClickEventWhileDragging)});let g=this.getEventX(h)-this.dragStartX;this.isRTL&&(g=-g);const d=this.initialTranslateX+g;this.setTranslate((()=>{let p=this.sliderWidth*this.slides.length/this.getCurrentSlidesQty()-this.sliderWidth;const v=this.sliderWidth,b=(v-v/this.getCurrentSlidesQty())/2,w=this.isCentered?b:0;this.isCentered&&(p+=b);const E=-p;return this.isRTL?d<w?w:d>p?E:-d:d>w?w:d<-p?E:d})())}handleDragEnd(){if(!this.isDragging)return;this.isDragging=!1;const h=this.sliderWidth/this.getCurrentSlidesQty(),g=this.getTranslateXValue();let d=Math.round(g/h);this.isRTL&&(d=Math.round(g/h)),this.inner.classList.remove("dragging"),setTimeout(()=>{this.calculateTransform(d),this.dots&&this.setCurrentDot(),this.dragStartX=null,this.initialTranslateX=null,this.inner.querySelectorAll("a.prevented-click").forEach(p=>{p.classList.remove("prevented-click"),p.removeEventListener("click",this.removeClickEventWhileDragging)})})}getEventX(h){return h instanceof MouseEvent?h.clientX:h.touches[0].clientX}getCurrentSlidesQty(){if(typeof this.slidesQty=="object"){const h=document.body.clientWidth;let g=0;return Object.keys(this.slidesQty).forEach(d=>{h>=(typeof d+1=="number"?this.slidesQty[d]:f.BREAKPOINTS[d])&&(g=this.slidesQty[d])}),g}return this.slidesQty}buildSnapSpacers(){const h=this.inner.querySelector(".hs-snap-before"),g=this.inner.querySelector(".hs-snap-after");h&&h.remove(),g&&g.remove();const d=this.sliderWidth,p=d/2-d/this.getCurrentSlidesQty()/2,v=(0,m.htmlToElement)(`<div class="hs-snap-before" style="height: 100%; width: ${p}px"></div>`),b=(0,m.htmlToElement)(`<div class="hs-snap-after" style="height: 100%; width: ${p}px"></div>`);this.inner.prepend(v),this.inner.appendChild(b)}initDots(){this.el.querySelectorAll(".hs-carousel-pagination-item").length?this.setDots():this.buildDots(),this.dots&&this.setCurrentDot()}buildDots(){this.dots.innerHTML="";const h=!this.isCentered&&this.slidesQty?this.slides.length-(this.getCurrentSlidesQty()-1):this.slides.length;for(let g=0;g<h;g++){const d=this.buildSingleDot(g);this.dots.append(d)}}setDots(){this.dotsItems=this.dots.querySelectorAll(".hs-carousel-pagination-item"),this.dotsItems.forEach((h,g)=>{const d=h.getAttribute("data-carousel-pagination-item-target");this.singleDotEvents(h,d?+d:g)})}goToCurrentDot(){const h=this.dots,g=h.getBoundingClientRect(),d=h.scrollLeft,p=h.scrollTop,v=h.clientWidth,b=h.clientHeight,w=this.dotsItems[this.currentIndex],E=w.getBoundingClientRect(),C=E.left-g.left+d,T=C+w.clientWidth,P=E.top-g.top+p,A=P+w.clientHeight;let j=d,V=p;(C<d||T>d+v)&&(j=T-v),(P<p||A>p+b)&&(V=A-b),h.scrollTo({left:j,top:V,behavior:"smooth"})}buildInfo(){this.infoTotal&&this.setInfoTotal(),this.infoCurrent&&this.setInfoCurrent()}setInfoTotal(){this.infoTotal.innerText=`${this.slides.length}`}setInfoCurrent(){this.infoCurrent.innerText=`${this.currentIndex+1}`}buildSingleDot(h){const g=(0,m.htmlToElement)("<span></span>");return this.dotsItemClasses&&(0,m.classToClassList)(this.dotsItemClasses,g),this.singleDotEvents(g,h),g}singleDotEvents(h,g){this.onDotClickListener=()=>this.dotClick(g),h.addEventListener("click",this.onDotClickListener)}observeResize(){new ResizeObserver((0,m.debounce)(h=>{for(let g of h){const d=g.contentRect.width;d!==this.resizeContainerWidth&&(this.recalculateWidth(),this.dots&&this.initDots(),this.addCurrentClass(),this.resizeContainerWidth=d)}},this.updateDelay)).observe(this.resizeContainer)}calculateWidth(){this.isSnap||(this.inner.style.width=this.sliderWidth*this.slides.length/this.getCurrentSlidesQty()+"px"),this.slides.forEach(h=>{h.style.width=this.sliderWidth/this.getCurrentSlidesQty()+"px"}),this.calculateTransform()}addCurrentClass(){if(this.isSnap){const h=Math.floor(this.getCurrentSlidesQty()/2);for(let g=0;g<this.slides.length;g++){const d=this.slides[g];g<=this.currentIndex+h&&g>=this.currentIndex-h?d.classList.add("active"):d.classList.remove("active")}}else{const h=this.isCentered?this.currentIndex+this.getCurrentSlidesQty()+(this.getCurrentSlidesQty()-1):this.currentIndex+this.getCurrentSlidesQty();this.slides.forEach((g,d)=>{d>=this.currentIndex&&d<h?g.classList.add("active"):g.classList.remove("active")})}}setCurrentDot(){const h=(g,d)=>{let p=!1;const v=Math.floor(this.getCurrentSlidesQty()/2);p=this.isSnap&&!this.hasSnapSpacers?d===(this.getCurrentSlidesQty()%2==0?this.currentIndex-v+1:this.currentIndex-v):d===this.currentIndex,p?g.classList.add("active"):g.classList.remove("active")};this.dotsItems?this.dotsItems.forEach((g,d)=>h(g,d)):this.dots.querySelectorAll(":scope > *").forEach((g,d)=>h(g,d))}setElementToDisabled(h){h.classList.add("disabled"),h.tagName!=="BUTTON"&&h.tagName!=="INPUT"||h.setAttribute("disabled","disabled")}unsetElementToDisabled(h){h.classList.remove("disabled"),h.tagName!=="BUTTON"&&h.tagName!=="INPUT"||h.removeAttribute("disabled")}addDisabledClass(){if(!this.prev||!this.next)return!1;const h=getComputedStyle(this.inner).getPropertyValue("gap"),g=Math.floor(this.getCurrentSlidesQty()/2);let d=0,p=0,v=!1,b=!1;this.isSnap?(d=this.currentIndex,p=this.hasSnapSpacers?this.slides.length-1:this.slides.length-g-1,v=this.hasSnapSpacers?d===0:this.getCurrentSlidesQty()%2==0?d-g<0:d-g==0,b=d>=p&&this.container.scrollLeft+this.container.clientWidth+(parseFloat(h)||0)>=this.container.scrollWidth):(d=this.currentIndex,p=this.isCentered?this.slides.length-this.getCurrentSlidesQty()+(this.getCurrentSlidesQty()-1):this.slides.length-this.getCurrentSlidesQty(),v=d===0,b=d>=p),v?(this.unsetElementToDisabled(this.next),this.setElementToDisabled(this.prev)):b?(this.unsetElementToDisabled(this.prev),this.setElementToDisabled(this.next)):(this.unsetElementToDisabled(this.prev),this.unsetElementToDisabled(this.next))}autoPlay(){this.setTimer()}setTimer(){this.timer=setInterval(()=>{this.currentIndex===this.slides.length-1?this.goTo(0):this.goToNext()},this.speed)}resetTimer(){clearInterval(this.timer)}detectDirection(){const h=this.touchX.end-this.touchX.start,g=this.touchY.end-this.touchY.start,d=Math.abs(h),p=Math.abs(g);if(d<30||d<p)return;const v=this.isRTL?h>0:h<0;this.isInfiniteLoop?v?this.goToNext():this.goToPrev():(v&&this.currentIndex<this.slides.length-this.getCurrentSlidesQty()&&this.goToNext(),!v&&this.currentIndex>0&&this.goToPrev())}calculateTransform(h){h!==void 0&&(this.currentIndex=h);const g=this.sliderWidth,d=g/this.getCurrentSlidesQty();let p=this.currentIndex*d;if(this.isSnap&&!this.isCentered&&this.container.scrollLeft<g&&this.container.scrollLeft+d/2>g&&(this.container.scrollLeft=this.container.scrollWidth),this.isCentered&&!this.isSnap){const v=(g-d)/2;this.currentIndex===0?p=-v:this.currentIndex>=this.slides.length-this.getCurrentSlidesQty()+(this.getCurrentSlidesQty()-1)?p=this.slides.length*d-g+v:p=this.currentIndex*d-v}this.isSnap||this.setTransform(p),this.isAutoHeight&&(this.inner.style.height=`${this.slides[this.currentIndex].clientHeight}px`),this.dotsItems&&this.goToCurrentDot(),this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass(),this.isSnap&&this.hasSnapSpacers&&this.buildSnapSpacers(),this.infoCurrent&&this.setInfoCurrent()}setTransform(h){this.slides.length>this.getCurrentSlidesQty()?this.inner.style.transform=this.isRTL?`translate(${h}px, 0px)`:`translate(${-h}px, 0px)`:this.inner.style.transform="translate(0px, 0px)"}setTranslate(h){this.inner.style.transform=this.isRTL?`translate(${-h}px, 0px)`:`translate(${h}px, 0px)`}setIndex(h){this.currentIndex=h,this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass()}recalculateWidth(){this.sliderWidth=this.inner.parentElement.getBoundingClientRect().width,this.calculateWidth(),this.sliderWidth!==this.inner.parentElement.getBoundingClientRect().width&&this.recalculateWidth()}goToPrev(){if(this.currentIndex>0?this.currentIndex--:this.currentIndex=this.slides.length-this.getCurrentSlidesQty(),this.fireEvent("update",this.currentIndex),this.isSnap){const h=this.sliderWidth/this.getCurrentSlidesQty();this.container.scrollBy({left:Math.max(-this.container.scrollLeft,-h),behavior:"smooth"}),this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass()}else this.calculateTransform();this.dots&&this.setCurrentDot()}goToNext(){const h=this.isCentered?this.slides.length-this.getCurrentSlidesQty()+(this.getCurrentSlidesQty()-1):this.slides.length-this.getCurrentSlidesQty();if(this.currentIndex<h?this.currentIndex++:this.currentIndex=0,this.fireEvent("update",this.currentIndex),this.isSnap){const g=this.sliderWidth/this.getCurrentSlidesQty(),d=this.container.scrollWidth-this.container.clientWidth;this.container.scrollBy({left:Math.min(g,d-this.container.scrollLeft),behavior:"smooth"}),this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass()}else this.calculateTransform();this.dots&&this.setCurrentDot()}goTo(h){const g=this.currentIndex;if(this.currentIndex=h,this.fireEvent("update",this.currentIndex),this.isSnap){const d=this.sliderWidth/this.getCurrentSlidesQty(),p=g>this.currentIndex?g-this.currentIndex:this.currentIndex-g,v=g>this.currentIndex?-d*p:d*p;this.container.scrollBy({left:v,behavior:"smooth"}),this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass()}else this.calculateTransform();this.dots&&this.setCurrentDot()}destroy(){var h,g;this.loadingClassesAdd&&(typeof this.loadingClassesAdd=="string"?this.inner.classList.remove(this.loadingClassesAdd):this.inner.classList.remove(...this.loadingClassesAdd)),this.inner&&this.afterLoadingClassesAdd&&setTimeout(()=>{typeof this.afterLoadingClassesAdd=="string"?this.inner.classList.remove(this.afterLoadingClassesAdd):this.inner.classList.remove(...this.afterLoadingClassesAdd)}),this.el.classList.remove("init"),this.inner.classList.remove("dragging"),this.slides.forEach(d=>d.classList.remove("active")),!((h=this==null?void 0:this.dotsItems)===null||h===void 0)&&h.length&&this.dotsItems.forEach(d=>d.classList.remove("active")),this.prev.classList.remove("disabled"),this.next.classList.remove("disabled"),this.inner.style.width="",this.slides.forEach(d=>d.style.width=""),this.isSnap||(this.inner.style.transform=""),this.isAutoHeight&&(this.inner.style.height=""),this.prev.removeEventListener("click",this.onPrevClickListener),this.next.removeEventListener("click",this.onNextClickListener),this.container.removeEventListener("scroll",this.onContainerScrollListener),this.el.removeEventListener("touchstart",this.onElementTouchStartListener),this.el.removeEventListener("touchend",this.onElementTouchEndListener),this.inner.removeEventListener("mousedown",this.onInnerMouseDownListener),this.inner.removeEventListener("touchstart",this.onInnerTouchStartListener),document.removeEventListener("mousemove",this.onDocumentMouseMoveListener),document.removeEventListener("touchmove",this.onDocumentTouchMoveListener),document.removeEventListener("mouseup",this.onDocumentMouseUpListener),document.removeEventListener("touchend",this.onDocumentTouchEndListener),this.inner.querySelectorAll("a:not(.prevented-click)").forEach(d=>{d.classList.remove("prevented-click"),d.removeEventListener("click",this.removeClickEventWhileDragging)}),(!((g=this==null?void 0:this.dotsItems)===null||g===void 0)&&g.length||this.dots.querySelectorAll(":scope > *").length)&&(((this==null?void 0:this.dotsItems)||this.dots.querySelectorAll(":scope > *")).forEach(d=>d.removeEventListener("click",this.onDotClickListener)),this.dots.innerHTML=null),this.inner.querySelector(".hs-snap-before").remove(),this.inner.querySelector(".hs-snap-after").remove(),this.dotsItems=null,this.isDragging=!1,this.dragStartX=null,this.initialTranslateX=null,window.$hsCarouselCollection=window.$hsCarouselCollection.filter(({element:d})=>d.el!==this.el)}static getInstance(h,g){const d=window.$hsCarouselCollection.find(p=>p.element.el===(typeof h=="string"?document.querySelector(h):h));return d?g?d:d.element:null}static autoInit(){window.$hsCarouselCollection||(window.$hsCarouselCollection=[]),window.$hsCarouselCollection&&(window.$hsCarouselCollection=window.$hsCarouselCollection.filter(({element:h})=>document.contains(h.el))),document.querySelectorAll("[data-hs-carousel]:not(.--prevent-on-load-init)").forEach(h=>{window.$hsCarouselCollection.find(g=>{var d;return((d=g==null?void 0:g.element)===null||d===void 0?void 0:d.el)===h})||new x(h)})}}window.addEventListener("load",()=>{x.autoInit()}),typeof window<"u"&&(window.HSCarousel=x),i.default=x},292:function(n,i){/*
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/Object.defineProperty(i,"__esModule",{value:!0}),i.stringToBoolean=i.menuSearchHistory=i.isScrollable=i.isParentOrElementHidden=i.isJson=i.isIpadOS=i.isIOS=i.isFormElement=i.isFocused=i.isEnoughSpace=i.isDirectChild=i.htmlToElement=i.getZIndex=i.getHighestZIndex=i.getClassPropertyAlt=i.getClassProperty=i.dispatch=i.debounce=i.classToClassList=i.afterTransition=void 0,i.stringToBoolean=y=>y==="true",i.getClassProperty=(y,f,x="")=>(window.getComputedStyle(y).getPropertyValue(f)||x).replace(" ",""),i.getClassPropertyAlt=(y,f,x="")=>{let c="";return y.classList.forEach(h=>{h.includes(f)&&(c=h)}),c.match(/:(.*)]/)?c.match(/:(.*)]/)[1]:x};const l=y=>window.getComputedStyle(y).getPropertyValue("z-index");i.getZIndex=l,i.getHighestZIndex=y=>{let f=Number.NEGATIVE_INFINITY;return y.forEach(x=>{let c=l(x);c!=="auto"&&(c=parseInt(c,10),c>f&&(f=c))}),f},i.isDirectChild=(y,f)=>{const x=y.children;for(let c=0;c<x.length;c++)if(x[c]===f)return!0;return!1},i.isEnoughSpace=(y,f,x="auto",c=10,h=null)=>{const g=f.getBoundingClientRect(),d=h?h.getBoundingClientRect():null,p=window.innerHeight,v=d?g.top-d.top:g.top,b=(h?d.bottom:p)-g.bottom,w=y.clientHeight+c;return x==="bottom"?b>=w:x==="top"?v>=w:v>=w||b>=w},i.isFocused=y=>document.activeElement===y,i.isFormElement=y=>y instanceof HTMLInputElement||y instanceof HTMLTextAreaElement||y instanceof HTMLSelectElement,i.isIOS=()=>!!/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),i.isIpadOS=()=>navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),i.isJson=y=>{if(typeof y!="string")return!1;const f=y.trim()[0],x=y.trim().slice(-1);if(f==="{"&&x==="}"||f==="["&&x==="]")try{return JSON.parse(y),!0}catch{return!1}return!1};const u=y=>y?window.getComputedStyle(y).display==="none"||u(y.parentElement):!1;i.isParentOrElementHidden=u,i.isScrollable=y=>{const f=window.getComputedStyle(y),x=f.overflowY,c=f.overflowX,h=(x==="scroll"||x==="auto")&&y.scrollHeight>y.clientHeight,g=(c==="scroll"||c==="auto")&&y.scrollWidth>y.clientWidth;return h||g},i.debounce=(y,f=200)=>{let x;return(...c)=>{clearTimeout(x),x=setTimeout(()=>{y.apply(this,c)},f)}},i.dispatch=(y,f,x=null)=>{const c=new CustomEvent(y,{detail:{payload:x},bubbles:!0,cancelable:!0,composed:!1});f.dispatchEvent(c)},i.afterTransition=(y,f)=>{const x=()=>{f(),y.removeEventListener("transitionend",x,!0)},c=window.getComputedStyle(y),h=c.getPropertyValue("transition-duration");c.getPropertyValue("transition-property")!=="none"&&parseFloat(h)>0?y.addEventListener("transitionend",x,!0):f()},i.htmlToElement=y=>{const f=document.createElement("template");return y=y.trim(),f.innerHTML=y,f.content.firstChild},i.classToClassList=(y,f,x=" ",c="add")=>{y.split(x).forEach(h=>{h.trim()&&(c==="add"?f.classList.add(h):f.classList.remove(h))})};const m={historyIndex:-1,addHistory(y){this.historyIndex=y},existsInHistory(y){return y>this.historyIndex},clearHistory(){this.historyIndex=-1}};i.menuSearchHistory=m},332:function(n,i,l){/*
* HSInputNumber
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h){super(c,h),this.input=this.el.querySelector("[data-hs-input-number-input]")||null,this.increment=this.el.querySelector("[data-hs-input-number-increment]")||null,this.decrement=this.el.querySelector("[data-hs-input-number-decrement]")||null,this.input&&this.checkIsNumberAndConvert();const g=this.el.dataset.hsInputNumber,d=g?JSON.parse(g):{step:1},p=Object.assign(Object.assign({},d),h);this.minInputValue="min"in p?p.min:0,this.maxInputValue="max"in p?p.max:null,this.step="step"in p&&p.step>0?p.step:1,this.init()}inputInput(){this.changeValue()}incrementClick(){this.changeValue("increment")}decrementClick(){this.changeValue("decrement")}init(){this.createCollection(window.$hsInputNumberCollection,this),this.input&&this.increment&&this.build()}checkIsNumberAndConvert(){const c=this.input.value.trim(),h=this.cleanAndExtractNumber(c);h!==null?(this.inputValue=h,this.input.value=h.toString()):(this.inputValue=0,this.input.value="0")}cleanAndExtractNumber(c){const h=[];let g=!1;c.split("").forEach(v=>{v>="0"&&v<="9"?h.push(v):v!=="."||g||(h.push(v),g=!0)});const d=h.join(""),p=parseFloat(d);return isNaN(p)?null:p}build(){this.input&&this.buildInput(),this.increment&&this.buildIncrement(),this.decrement&&this.buildDecrement(),this.inputValue<=this.minInputValue&&(this.inputValue=this.minInputValue,this.input.value=`${this.minInputValue}`),this.inputValue<=this.minInputValue&&this.changeValue(),this.input.hasAttribute("disabled")&&this.disableButtons()}buildInput(){this.onInputInputListener=()=>this.inputInput(),this.input.addEventListener("input",this.onInputInputListener)}buildIncrement(){this.onIncrementClickListener=()=>this.incrementClick(),this.increment.addEventListener("click",this.onIncrementClickListener)}buildDecrement(){this.onDecrementClickListener=()=>this.decrementClick(),this.decrement.addEventListener("click",this.onDecrementClickListener)}changeValue(c="none"){var h,g;const d={inputValue:this.inputValue},p=(h=this.minInputValue)!==null&&h!==void 0?h:Number.MIN_SAFE_INTEGER,v=(g=this.maxInputValue)!==null&&g!==void 0?g:Number.MAX_SAFE_INTEGER;switch(this.inputValue=isNaN(this.inputValue)?0:this.inputValue,c){case"increment":const b=this.inputValue+this.step;this.inputValue=b>=p&&b<=v?b:v,this.input.value=this.inputValue.toString();break;case"decrement":const w=this.inputValue-this.step;this.inputValue=w>=p&&w<=v?w:p,this.input.value=this.inputValue.toString();break;default:const E=isNaN(parseInt(this.input.value))?0:parseInt(this.input.value);this.inputValue=E>=v?v:E<=p?p:E,this.inputValue<=p&&(this.input.value=this.inputValue.toString())}d.inputValue=this.inputValue,this.inputValue===p?(this.el.classList.add("disabled"),this.decrement&&this.disableButtons("decrement")):(this.el.classList.remove("disabled"),this.decrement&&this.enableButtons("decrement")),this.inputValue===v?(this.el.classList.add("disabled"),this.increment&&this.disableButtons("increment")):(this.el.classList.remove("disabled"),this.increment&&this.enableButtons("increment")),this.fireEvent("change",d),(0,m.dispatch)("change.hs.inputNumber",this.el,d)}disableButtons(c="all"){c==="all"?(this.increment.tagName!=="BUTTON"&&this.increment.tagName!=="INPUT"||this.increment.setAttribute("disabled","disabled"),this.decrement.tagName!=="BUTTON"&&this.decrement.tagName!=="INPUT"||this.decrement.setAttribute("disabled","disabled")):c==="increment"?this.increment.tagName!=="BUTTON"&&this.increment.tagName!=="INPUT"||this.increment.setAttribute("disabled","disabled"):c==="decrement"&&(this.decrement.tagName!=="BUTTON"&&this.decrement.tagName!=="INPUT"||this.decrement.setAttribute("disabled","disabled"))}enableButtons(c="all"){c==="all"?(this.increment.tagName!=="BUTTON"&&this.increment.tagName!=="INPUT"||this.increment.removeAttribute("disabled"),this.decrement.tagName!=="BUTTON"&&this.decrement.tagName!=="INPUT"||this.decrement.removeAttribute("disabled")):c==="increment"?this.increment.tagName!=="BUTTON"&&this.increment.tagName!=="INPUT"||this.increment.removeAttribute("disabled"):c==="decrement"&&(this.decrement.tagName!=="BUTTON"&&this.decrement.tagName!=="INPUT"||this.decrement.removeAttribute("disabled"))}destroy(){this.el.classList.remove("disabled"),this.increment.removeAttribute("disabled"),this.decrement.removeAttribute("disabled"),this.input.removeEventListener("input",this.onInputInputListener),this.increment.removeEventListener("click",this.onIncrementClickListener),this.decrement.removeEventListener("click",this.onDecrementClickListener),window.$hsInputNumberCollection=window.$hsInputNumberCollection.filter(({element:c})=>c.el!==this.el)}static getInstance(c,h){const g=window.$hsInputNumberCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element:null}static autoInit(){window.$hsInputNumberCollection||(window.$hsInputNumberCollection=[]),window.$hsInputNumberCollection&&(window.$hsInputNumberCollection=window.$hsInputNumberCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-input-number]:not(.--prevent-on-load-init)").forEach(c=>{window.$hsInputNumberCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}}window.addEventListener("load",()=>{f.autoInit()}),typeof window<"u"&&(window.HSInputNumber=f),i.default=f},347:function(n,i,l){/*
* HSRangeSlider
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0});const m=u(l(961));class y extends m.default{constructor(x,c,h){var g;super(x,c,h);const d=x.getAttribute("data-hs-range-slider"),p=d?JSON.parse(d):{};this.concatOptions=Object.assign(Object.assign(Object.assign({},p),c),{cssClasses:Object.assign(Object.assign({},noUiSlider.cssClasses),this.processClasses(p.cssClasses))}),this.wrapper=this.concatOptions.wrapper||x.closest(".hs-range-slider-wrapper")||null,this.currentValue=this.concatOptions.currentValue?Array.from(this.concatOptions.currentValue):Array.from(((g=this.wrapper)===null||g===void 0?void 0:g.querySelectorAll(".hs-range-slider-current-value"))||[]),this.icons=this.concatOptions.icons||{},this.init()}get formattedValue(){const x=this.el.noUiSlider.get();if(Array.isArray(x)&&this.format){const c=[];return x.forEach(h=>{c.push(this.format.to(h))}),c}return this.format?this.format.to(x):x}processClasses(x){const c={};return Object.keys(x).forEach(h=>{h&&(c[h]=`${noUiSlider.cssClasses[h]} ${x[h]}`)}),c}init(){var x,c,h,g,d,p,v,b,w,E,C,T,P;this.createCollection(window.$hsRangeSliderCollection,this),(typeof((x=this.concatOptions)===null||x===void 0?void 0:x.formatter)=="object"?((h=(c=this.concatOptions)===null||c===void 0?void 0:c.formatter)===null||h===void 0?void 0:h.type)==="thousandsSeparatorAndDecimalPoints":((g=this.concatOptions)===null||g===void 0?void 0:g.formatter)==="thousandsSeparatorAndDecimalPoints")?this.thousandsSeparatorAndDecimalPointsFormatter():(typeof((d=this.concatOptions)===null||d===void 0?void 0:d.formatter)=="object"?((v=(p=this.concatOptions)===null||p===void 0?void 0:p.formatter)===null||v===void 0?void 0:v.type)==="integer":((b=this.concatOptions)===null||b===void 0?void 0:b.formatter)==="integer")?this.integerFormatter():typeof((w=this.concatOptions)===null||w===void 0?void 0:w.formatter)=="object"&&(!((C=(E=this.concatOptions)===null||E===void 0?void 0:E.formatter)===null||C===void 0)&&C.prefix||!((P=(T=this.concatOptions)===null||T===void 0?void 0:T.formatter)===null||P===void 0)&&P.postfix)&&this.prefixOrPostfixFormatter(),noUiSlider.create(this.el,this.concatOptions),this.currentValue&&this.currentValue.length>0&&this.el.noUiSlider.on("update",A=>{this.updateCurrentValue(A)}),this.concatOptions.disabled&&this.setDisabled(),this.icons.handle&&this.buildHandleIcon()}formatValue(x){var c,h,g,d,p,v,b,w,E;let C="";return typeof((c=this.concatOptions)===null||c===void 0?void 0:c.formatter)=="object"?(!((g=(h=this.concatOptions)===null||h===void 0?void 0:h.formatter)===null||g===void 0)&&g.prefix&&(C+=(p=(d=this.concatOptions)===null||d===void 0?void 0:d.formatter)===null||p===void 0?void 0:p.prefix),C+=x,!((b=(v=this.concatOptions)===null||v===void 0?void 0:v.formatter)===null||b===void 0)&&b.postfix&&(C+=(E=(w=this.concatOptions)===null||w===void 0?void 0:w.formatter)===null||E===void 0?void 0:E.postfix)):C+=x,C}integerFormatter(){var x;this.format={to:c=>this.formatValue(Math.round(c)),from:c=>Math.round(+c)},!((x=this.concatOptions)===null||x===void 0)&&x.tooltips&&(this.concatOptions.tooltips=this.format)}prefixOrPostfixFormatter(){var x;this.format={to:c=>this.formatValue(c),from:c=>+c},!((x=this.concatOptions)===null||x===void 0)&&x.tooltips&&(this.concatOptions.tooltips=this.format)}thousandsSeparatorAndDecimalPointsFormatter(){var x;this.format={to:c=>this.formatValue(new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(c)),from:c=>parseFloat(c.replace(/,/g,""))},!((x=this.concatOptions)===null||x===void 0)&&x.tooltips&&(this.concatOptions.tooltips=this.format)}setDisabled(){this.el.setAttribute("disabled","disabled"),this.el.classList.add("disabled")}buildHandleIcon(){if(!this.icons.handle)return!1;const x=this.el.querySelector(".noUi-handle");if(!x)return!1;x.innerHTML=this.icons.handle}updateCurrentValue(x){this.currentValue&&this.currentValue.length!==0&&x.forEach((c,h)=>{var g;const d=(g=this.currentValue)===null||g===void 0?void 0:g[h];if(!d)return;const p=this.format?this.format.to(c).toString():c.toString();d instanceof HTMLInputElement?d.value=p:d.textContent=p})}destroy(){this.el.noUiSlider.destroy(),this.format=null,window.$hsRangeSliderCollection=window.$hsRangeSliderCollection.filter(({element:x})=>x.el!==this.el)}static getInstance(x,c=!1){const h=window.$hsRangeSliderCollection.find(g=>g.element.el===(typeof x=="string"?document.querySelector(x):x));return h?c?h:h.element.el:null}static autoInit(){window.$hsRangeSliderCollection||(window.$hsRangeSliderCollection=[]),window.$hsRangeSliderCollection&&(window.$hsRangeSliderCollection=window.$hsRangeSliderCollection.filter(({element:x})=>document.contains(x.el))),document.querySelectorAll("[data-hs-range-slider]:not(.--prevent-on-load-init)").forEach(x=>{window.$hsRangeSliderCollection.find(c=>{var h;return((h=c==null?void 0:c.element)===null||h===void 0?void 0:h.el)===x})||new y(x)})}}window.addEventListener("load",()=>{y.autoInit()}),typeof window<"u"&&(window.HSRangeSlider=y),i.default=y},359:function(n,i){/*! name: vanilla-calendar-pro v3.0.5 | url: https://github.com/uvarov-frontend/vanilla-calendar-pro */(function(l){var u=Object.defineProperty,m=Object.defineProperties,y=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,h=(I,te,oe)=>te in I?u(I,te,{enumerable:!0,configurable:!0,writable:!0,value:oe}):I[te]=oe,g=(I,te)=>{for(var oe in te||(te={}))x.call(te,oe)&&h(I,oe,te[oe]);if(f)for(var oe of f(te))c.call(te,oe)&&h(I,oe,te[oe]);return I},d=(I,te,oe)=>(h(I,typeof te!="symbol"?te+"":te,oe),oe);const p=I=>`${I} is not found, check the first argument passed to new Calendar.`,v='The calendar has not been initialized, please initialize it using the "init()" method first.',b="You specified an incorrect language label or did not specify the required number of values for locale.weekdays or locale.months.",w="The value of the time property can be: false, 12 or 24.",E="For the multiple calendar type, the displayMonthsCount parameter can have a value from 2 to 12, and for all others it cannot be greater than 1.",C=(I,te,oe)=>{I.context[te]=oe},T=I=>{I.context.isShowInInputMode&&I.context.currentType&&(I.context.mainElement.dataset.vcCalendarHidden="",C(I,"isShowInInputMode",!1),I.context.cleanupHandlers[0]&&(I.context.cleanupHandlers.forEach(te=>te()),C(I,"cleanupHandlers",[])),I.onHide&&I.onHide(I))};function P(I){if(!I||!I.getBoundingClientRect)return{top:0,bottom:0,left:0,right:0};const te=I.getBoundingClientRect(),oe=document.documentElement;return{bottom:te.bottom,right:te.right,top:te.top+window.scrollY-oe.clientTop,left:te.left+window.scrollX-oe.clientLeft}}function A(){return{vw:Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),vh:Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)}}function j(I){const{top:te,left:oe}={left:window.scrollX||document.documentElement.scrollLeft||0,top:window.scrollY||document.documentElement.scrollTop||0},{top:be,left:ve}=P(I),{vh:$e,vw:Ie}=A(),Me=be-te,Ne=ve-oe;return{top:Me,bottom:$e-(Me+I.clientHeight),left:Ne,right:Ie-(Ne+I.clientWidth)}}function V(I,te,oe=5){const be={top:!0,bottom:!0,left:!0,right:!0},ve=[];if(!te||!I)return{canShow:be,parentPositions:ve};const{bottom:$e,top:Ie}=j(I),{top:Me,left:Ne}=P(I),{height:Be,width:ze}=te.getBoundingClientRect(),{vh:st,vw:lt}=A(),_t=lt/2,At=st/2;return[{condition:Me<At,position:"top"},{condition:Me>At,position:"bottom"},{condition:Ne<_t,position:"left"},{condition:Ne>_t,position:"right"}].forEach(({condition:Rt,position:Dt})=>{Rt&&ve.push(Dt)}),Object.assign(be,{top:Be<=Ie-oe,bottom:Be<=$e-oe,left:ze<=Ne,right:ze<=lt-Ne}),{canShow:be,parentPositions:ve}}const H=(I,te)=>{var oe;I.popups&&((oe=Object.entries(I.popups))==null||oe.forEach(([be,ve])=>(($e,Ie,Me,Ne)=>{var Be;const ze=Ne.querySelector(`[data-vc-date="${Ie}"]`),st=ze==null?void 0:ze.querySelector("[data-vc-date-btn]");if(!ze||!st||(Me!=null&&Me.modifier&&st.classList.add(...Me.modifier.trim().split(" ")),!(Me!=null&&Me.html)))return;const lt=document.createElement("div");lt.className=$e.styles.datePopup,lt.dataset.vcDatePopup="",lt.innerHTML=$e.sanitizerHTML(Me.html),st.ariaExpanded="true",st.ariaLabel=`${st.ariaLabel}, ${(Be=lt==null?void 0:lt.textContent)==null?void 0:Be.replace(/^\s+|\s+(?=\s)|\s+$/g,"").replace(/&nbsp;/g," ")}`,ze.appendChild(lt),requestAnimationFrame(()=>{if(!lt)return;const{canShow:_t}=V(ze,lt),At=_t.bottom?ze.offsetHeight:-lt.offsetHeight,Rt=_t.left&&!_t.right?ze.offsetWidth-lt.offsetWidth/2:!_t.left&&_t.right?lt.offsetWidth/2:0;Object.assign(lt.style,{left:`${Rt}px`,top:`${At}px`})})})(I,be,ve,te)))},R=I=>new Date(`${I}T00:00:00`),M=I=>`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`,B=I=>I.reduce((te,oe)=>{if(oe instanceof Date||typeof oe=="number"){const be=oe instanceof Date?oe:new Date(oe);te.push(be.toISOString().substring(0,10))}else oe.match(/^(\d{4}-\d{2}-\d{2})$/g)?te.push(oe):oe.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,(be,ve,$e)=>{const Ie=R(ve),Me=R($e),Ne=new Date(Ie.getTime());for(;Ne<=Me;Ne.setDate(Ne.getDate()+1))te.push(M(Ne));return be});return te},[]),W=(I,te,oe,be="")=>{te?I.setAttribute(oe,be):I.getAttribute(oe)===be&&I.removeAttribute(oe)},K=(I,te,oe,be,ve,$e,Ie)=>{var Me,Ne,Be,ze;const st=R(I.context.displayDateMin)>R($e)||R(I.context.displayDateMax)<R($e)||((Me=I.context.disableDates)==null?void 0:Me.includes($e))||!I.selectionMonthsMode&&Ie!=="current"||!I.selectionYearsMode&&R($e).getFullYear()!==te;W(oe,st,"data-vc-date-disabled"),be&&W(be,st,"aria-disabled","true"),be&&W(be,st,"tabindex","-1"),W(oe,!I.disableToday&&I.context.dateToday===$e,"data-vc-date-today"),W(oe,!I.disableToday&&I.context.dateToday===$e,"aria-current","date"),W(oe,(Ne=I.selectedWeekends)==null?void 0:Ne.includes(ve),"data-vc-date-weekend");const lt=(Be=I.selectedHolidays)!=null&&Be[0]?B(I.selectedHolidays):[];if(W(oe,lt.includes($e),"data-vc-date-holiday"),(ze=I.context.selectedDates)!=null&&ze.includes($e)?(oe.setAttribute("data-vc-date-selected",""),be&&be.setAttribute("aria-selected","true"),I.context.selectedDates.length>1&&I.selectionDatesMode==="multiple-ranged"&&(I.context.selectedDates[0]===$e&&I.context.selectedDates[I.context.selectedDates.length-1]===$e?oe.setAttribute("data-vc-date-selected","first-and-last"):I.context.selectedDates[0]===$e?oe.setAttribute("data-vc-date-selected","first"):I.context.selectedDates[I.context.selectedDates.length-1]===$e&&oe.setAttribute("data-vc-date-selected","last"),I.context.selectedDates[0]!==$e&&I.context.selectedDates[I.context.selectedDates.length-1]!==$e&&oe.setAttribute("data-vc-date-selected","middle"))):oe.hasAttribute("data-vc-date-selected")&&(oe.removeAttribute("data-vc-date-selected"),be&&be.removeAttribute("aria-selected")),!I.context.disableDates.includes($e)&&I.enableEdgeDatesOnly&&I.context.selectedDates.length>1&&I.selectionDatesMode==="multiple-ranged"){const _t=R(I.context.selectedDates[0]),At=R(I.context.selectedDates[I.context.selectedDates.length-1]),Rt=R($e);W(oe,Rt>_t&&Rt<At,"data-vc-date-selected","middle")}},Z=(I,te)=>{const oe=R(I),be=(oe.getDay()-te+7)%7;oe.setDate(oe.getDate()+4-be);const ve=new Date(oe.getFullYear(),0,1),$e=Math.ceil(((+oe-+ve)/864e5+1)/7);return{year:oe.getFullYear(),week:$e}},Te=(I,te,oe,be,ve,$e)=>{const Ie=R(ve).getDay(),Me=typeof I.locale=="string"&&I.locale.length?I.locale:"en",Ne=document.createElement("div");let Be;Ne.className=I.styles.date,Ne.dataset.vcDate=ve,Ne.dataset.vcDateMonth=$e,Ne.dataset.vcDateWeekDay=String(Ie),($e==="current"||I.displayDatesOutside)&&(Be=document.createElement("button"),Be.className=I.styles.dateBtn,Be.type="button",Be.role="gridcell",Be.ariaLabel=((ze,st,lt)=>new Date(`${ze}T00:00:00.000Z`).toLocaleString(st,lt))(ve,Me,{dateStyle:"long",timeZone:"UTC"}),Be.dataset.vcDateBtn="",Be.innerText=String(be),Ne.appendChild(Be)),I.enableWeekNumbers&&((ze,st,lt)=>{const _t=Z(lt,ze.firstWeekday);_t&&(st.dataset.vcDateWeekNumber=String(_t.week))})(I,Ne,ve),((ze,st,lt)=>{var _t,At,Rt,Dt,ds;const Xs=(_t=ze.disableWeekdays)==null?void 0:_t.includes(lt),er=ze.disableAllDates&&!!((At=ze.context.enableDates)!=null&&At[0]);!Xs&&!er||(Rt=ze.context.enableDates)!=null&&Rt.includes(st)||(Dt=ze.context.disableDates)!=null&&Dt.includes(st)||(ze.context.disableDates.push(st),(ds=ze.context.disableDates)==null||ds.sort((qn,wa)=>+new Date(qn)-+new Date(wa)))})(I,ve,Ie),K(I,te,Ne,Be,Ie,ve,$e),oe.appendChild(Ne),I.onCreateDateEls&&I.onCreateDateEls(I,Ne)},_e=I=>{const te=new Date(I.context.selectedYear,I.context.selectedMonth,1),oe=I.context.mainElement.querySelectorAll('[data-vc="dates"]'),be=I.context.mainElement.querySelectorAll('[data-vc-week="numbers"]');oe.forEach((ve,$e)=>{I.selectionDatesMode||(ve.dataset.vcDatesDisabled=""),ve.textContent="";const Ie=new Date(te);Ie.setMonth(Ie.getMonth()+$e);const Me=Ie.getMonth(),Ne=Ie.getFullYear(),Be=(new Date(Ne,Me,1).getDay()-I.firstWeekday+7)%7,ze=new Date(Ne,Me+1,0).getDate();((st,lt,_t,At,Rt)=>{let Dt=new Date(_t,At,0).getDate()-(Rt-1);const ds=At===0?_t-1:_t,Xs=At===0?12:At<10?`0${At}`:At;for(let er=Rt;er>0;er--,Dt++)Te(st,_t,lt,Dt,`${ds}-${Xs}-${Dt}`,"prev")})(I,ve,Ne,Me,Be),((st,lt,_t,At,Rt)=>{for(let Dt=1;Dt<=_t;Dt++){const ds=new Date(At,Rt,Dt);Te(st,At,lt,Dt,M(ds),"current")}})(I,ve,ze,Ne,Me),((st,lt,_t,At,Rt,Dt)=>{const ds=Dt+_t,Xs=7*Math.ceil(ds/7)-ds,er=Rt+1===12?At+1:At,qn=Rt+1===12?"01":Rt+2<10?`0${Rt+2}`:Rt+2;for(let wa=1;wa<=Xs;wa++){const ic=wa<10?`0${wa}`:String(wa);Te(st,At,lt,wa,`${er}-${qn}-${ic}`,"next")}})(I,ve,ze,Ne,Me,Be),H(I,ve),((st,lt,_t,At,Rt)=>{if(!st.enableWeekNumbers)return;At.textContent="";const Dt=document.createElement("b");Dt.className=st.styles.weekNumbersTitle,Dt.innerText="#",Dt.dataset.vcWeekNumbers="title",At.appendChild(Dt);const ds=document.createElement("div");ds.className=st.styles.weekNumbersContent,ds.dataset.vcWeekNumbers="content",At.appendChild(ds);const Xs=document.createElement("button");Xs.type="button",Xs.className=st.styles.weekNumber;const er=Rt.querySelectorAll("[data-vc-date]"),qn=Math.ceil((lt+_t)/7);for(let wa=0;wa<qn;wa++){const ic=er[wa===0?6:7*wa].dataset.vcDate,zn=Z(ic,st.firstWeekday);if(!zn)return;const on=Xs.cloneNode(!0);on.innerText=String(zn.week),on.dataset.vcWeekNumber=String(zn.week),on.dataset.vcWeekYear=String(zn.year),on.role="rowheader",on.ariaLabel=`${zn.week}`,ds.appendChild(on)}})(I,Be,ze,be[$e],ve)})},ye=I=>`
  <div class="${I.styles.header}" data-vc="header" role="toolbar" aria-label="${I.labels.navigation}">
    <#ArrowPrev [month] />
    <div class="${I.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
    <#ArrowNext [month] />
  </div>
  <div class="${I.styles.wrapper}" data-vc="wrapper">
    <#WeekNumbers />
    <div class="${I.styles.content}" data-vc="content">
      <#Week />
      <#Dates />
      <#DateRangeTooltip />
    </div>
  </div>
  <#ControlTime />
`,z=I=>`
  <div class="${I.styles.header}" data-vc="header" role="toolbar" aria-label="${I.labels.navigation}">
    <div class="${I.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
  </div>
  <div class="${I.styles.wrapper}" data-vc="wrapper">
    <div class="${I.styles.content}" data-vc="content">
      <#Months />
    </div>
  </div>
`,q=I=>`
  <div class="${I.styles.controls}" data-vc="controls" role="toolbar" aria-label="${I.labels.navigation}">
    <#ArrowPrev [month] />
    <#ArrowNext [month] />
  </div>
  <div class="${I.styles.grid}" data-vc="grid">
    <#Multiple>
      <div class="${I.styles.column}" data-vc="column" role="region">
        <div class="${I.styles.header}" data-vc="header">
          <div class="${I.styles.headerContent}" data-vc-header="content">
            <#Month />
            <#Year />
          </div>
        </div>
        <div class="${I.styles.wrapper}" data-vc="wrapper">
          <#WeekNumbers />
          <div class="${I.styles.content}" data-vc="content">
            <#Week />
            <#Dates />
          </div>
        </div>
      </div>
    <#/Multiple>
    <#DateRangeTooltip />
  </div>
  <#ControlTime />
`,X=I=>`
  <div class="${I.styles.header}" data-vc="header" role="toolbar" aria-label="${I.labels.navigation}">
    <#ArrowPrev [year] />
    <div class="${I.styles.headerContent}" data-vc-header="content">
      <#Month />
      <#Year />
    </div>
    <#ArrowNext [year] />
  </div>
  <div class="${I.styles.wrapper}" data-vc="wrapper">
    <div class="${I.styles.content}" data-vc="content">
      <#Years />
    </div>
  </div>
`,se={ArrowNext:(I,te)=>`<button type="button" class="${I.styles.arrowNext}" data-vc-arrow="next" aria-label="${I.labels.arrowNext[te]}"></button>`,ArrowPrev:(I,te)=>`<button type="button" class="${I.styles.arrowPrev}" data-vc-arrow="prev" aria-label="${I.labels.arrowPrev[te]}"></button>`,ControlTime:I=>I.selectionTimeMode?`<div class="${I.styles.time}" data-vc="time" role="group" aria-label="${I.labels.selectingTime}"></div>`:"",Dates:I=>`<div class="${I.styles.dates}" data-vc="dates" role="grid" aria-live="assertive" aria-label="${I.labels.dates}" ${I.type==="multiple"?"aria-multiselectable":""}></div>`,DateRangeTooltip:I=>I.onCreateDateRangeTooltip?`<div class="${I.styles.dateRangeTooltip}" data-vc-date-range-tooltip="hidden"></div>`:"",Month:I=>`<button type="button" class="${I.styles.month}" data-vc="month"></button>`,Months:I=>`<div class="${I.styles.months}" data-vc="months" role="grid" aria-live="assertive" aria-label="${I.labels.months}"></div>`,Week:I=>`<div class="${I.styles.week}" data-vc="week" role="row" aria-label="${I.labels.week}"></div>`,WeekNumbers:I=>I.enableWeekNumbers?`<div class="${I.styles.weekNumbers}" data-vc-week="numbers" role="row" aria-label="${I.labels.weekNumber}"></div>`:"",Year:I=>`<button type="button" class="${I.styles.year}" data-vc="year"></button>`,Years:I=>`<div class="${I.styles.years}" data-vc="years" role="grid" aria-live="assertive" aria-label="${I.labels.years}"></div>`},Ae=(I,te)=>te.replace(/[\n\t]/g,"").replace(/<#(?!\/?Multiple)(.*?)>/g,(oe,be)=>{const ve=(be.match(/\[(.*?)\]/)||[])[1],$e=be.replace(/[/\s\n\t]|\[(.*?)\]/g,""),Ie=se[$e],Me=Ie?Ie(I,ve??null):"";return I.sanitizerHTML(Me)}).replace(/[\n\t]/g,""),me=(I,te)=>{const oe={default:ye,month:z,year:X,multiple:q};if(Object.keys(oe).forEach(be=>{const ve=be;I.layouts[ve].length||(I.layouts[ve]=oe[ve](I))}),I.context.mainElement.className=I.styles.calendar,I.context.mainElement.dataset.vc="calendar",I.context.mainElement.dataset.vcType=I.context.currentType,I.context.mainElement.role="application",I.context.mainElement.tabIndex=0,I.context.mainElement.ariaLabel=I.labels.application,I.context.currentType!=="multiple"){if(I.type==="multiple"&&te){const be=I.context.mainElement.querySelector('[data-vc="controls"]'),ve=I.context.mainElement.querySelector('[data-vc="grid"]'),$e=te.closest('[data-vc="column"]');return be&&I.context.mainElement.removeChild(be),ve&&(ve.dataset.vcGrid="hidden"),$e&&($e.dataset.vcColumn=I.context.currentType),void($e&&($e.innerHTML=I.sanitizerHTML(Ae(I,I.layouts[I.context.currentType]))))}I.context.mainElement.innerHTML=I.sanitizerHTML(Ae(I,I.layouts[I.context.currentType]))}else I.context.mainElement.innerHTML=I.sanitizerHTML(((be,ve)=>ve.replace(new RegExp("<#Multiple>(.*?)<#\\/Multiple>","gs"),($e,Ie)=>{const Me=Array(be.context.displayMonthsCount).fill(Ie).join("");return be.sanitizerHTML(Me)}).replace(/[\n\t]/g,""))(I,Ae(I,I.layouts[I.context.currentType])))},Le=(I,te,oe,be)=>{I.style.visibility=oe?"hidden":"",te.style.visibility=be?"hidden":""},Re=I=>{if(I.context.currentType==="month")return;const te=I.context.mainElement.querySelector('[data-vc-arrow="prev"]'),oe=I.context.mainElement.querySelector('[data-vc-arrow="next"]');if(!te||!oe)return;({default:()=>((ve,$e,Ie)=>{const Me=R(M(new Date(ve.context.selectedYear,ve.context.selectedMonth,1))),Ne=new Date(Me.getTime()),Be=new Date(Me.getTime());Ne.setMonth(Ne.getMonth()-ve.monthsToSwitch),Be.setMonth(Be.getMonth()+ve.monthsToSwitch);const ze=R(ve.context.dateMin),st=R(ve.context.dateMax);ve.selectionYearsMode||(ze.setFullYear(Me.getFullYear()),st.setFullYear(Me.getFullYear()));const lt=!ve.selectionMonthsMode||Ne.getFullYear()<ze.getFullYear()||Ne.getFullYear()===ze.getFullYear()&&Ne.getMonth()<ze.getMonth(),_t=!ve.selectionMonthsMode||Be.getFullYear()>st.getFullYear()||Be.getFullYear()===st.getFullYear()&&Be.getMonth()>st.getMonth()-(ve.context.displayMonthsCount-1);Le($e,Ie,lt,_t)})(I,te,oe),year:()=>((ve,$e,Ie)=>{const Me=R(ve.context.dateMin),Ne=R(ve.context.dateMax),Be=!!(Me.getFullYear()&&ve.context.displayYear-7<=Me.getFullYear()),ze=!!(Ne.getFullYear()&&ve.context.displayYear+7>=Ne.getFullYear());Le($e,Ie,Be,ze)})(I,te,oe)})[I.context.currentType==="multiple"?"default":I.context.currentType]()},Ze=I=>{const te=I.context.mainElement.querySelectorAll('[data-vc="month"]'),oe=I.context.mainElement.querySelectorAll('[data-vc="year"]'),be=new Date(I.context.selectedYear,I.context.selectedMonth,1);[te,oe].forEach(ve=>ve==null?void 0:ve.forEach(($e,Ie)=>((Me,Ne,Be,ze,st)=>{const lt=new Date(ze.setFullYear(Me.context.selectedYear,Me.context.selectedMonth+Be)).getFullYear(),_t=new Date(ze.setMonth(Me.context.selectedMonth+Be)).getMonth(),At=Me.context.locale.months.long[_t],Rt=Ne.closest('[data-vc="column"]');Rt&&(Rt.ariaLabel=`${At} ${lt}`);const Dt={month:{id:_t,label:At},year:{id:lt,label:lt}};Ne.innerText=String(Dt[st].label),Ne.dataset[`vc${st.charAt(0).toUpperCase()+st.slice(1)}`]=String(Dt[st].id),Ne.ariaLabel=`${Me.labels[st]} ${Dt[st].label}`;const ds={month:Me.selectionMonthsMode,year:Me.selectionYearsMode},Xs=ds[st]===!1||ds[st]==="only-arrows";Xs&&(Ne.tabIndex=-1),Ne.disabled=Xs})(I,$e,Ie,be,$e.dataset.vc)))},We=(I,te,oe,be,ve)=>{var $e;const Ie={month:"[data-vc-months-month]",year:"[data-vc-years-year]"},Me={month:{selected:"data-vc-months-month-selected",aria:"aria-selected",value:"vcMonthsMonth",selectedProperty:"selectedMonth"},year:{selected:"data-vc-years-year-selected",aria:"aria-selected",value:"vcYearsYear",selectedProperty:"selectedYear"}};ve&&(($e=I.context.mainElement.querySelectorAll(Ie[oe]))==null||$e.forEach(Ne=>{Ne.removeAttribute(Me[oe].selected),Ne.removeAttribute(Me[oe].aria)}),C(I,Me[oe].selectedProperty,Number(te.dataset[Me[oe].value])),Ze(I),oe==="year"&&Re(I)),be&&(te.setAttribute(Me[oe].selected,""),te.setAttribute(Me[oe].aria,"true"))},ae=(I,te)=>{var oe;if(I.type!=="multiple")return{currentValue:null,columnID:0};const be=I.context.mainElement.querySelectorAll('[data-vc="column"]'),ve=Array.from(be).findIndex($e=>$e.closest(`[data-vc-column="${te}"]`));return{currentValue:ve>=0?Number((oe=be[ve].querySelector(`[data-vc="${te}"]`))==null?void 0:oe.getAttribute(`data-vc-${te}`)):null,columnID:Math.max(ve,0)}},ge=(I,te,oe,be,ve,$e,Ie)=>{const Me=te.cloneNode(!1);return Me.className=I.styles.monthsMonth,Me.innerText=be,Me.ariaLabel=ve,Me.role="gridcell",Me.dataset.vcMonthsMonth=`${Ie}`,$e&&(Me.ariaDisabled="true"),$e&&(Me.tabIndex=-1),Me.disabled=$e,We(I,Me,"month",oe===Ie,!1),Me},ne=(I,te)=>{var oe,be;const ve=(oe=te==null?void 0:te.closest('[data-vc="header"]'))==null?void 0:oe.querySelector('[data-vc="year"]'),$e=ve?Number(ve.dataset.vcYear):I.context.selectedYear,Ie=te!=null&&te.dataset.vcMonth?Number(te.dataset.vcMonth):I.context.selectedMonth;C(I,"currentType","month"),me(I,te),Ze(I);const Me=I.context.mainElement.querySelector('[data-vc="months"]');if(!I.selectionMonthsMode||!Me)return;const Ne=I.monthsToSwitch>1?I.context.locale.months.long.map((ze,st)=>Ie-I.monthsToSwitch*st).concat(I.context.locale.months.long.map((ze,st)=>Ie+I.monthsToSwitch*st)).filter(ze=>ze>=0&&ze<=12):Array.from(Array(12).keys()),Be=document.createElement("button");Be.type="button";for(let ze=0;ze<12;ze++){const st=R(I.context.dateMin),lt=R(I.context.dateMax),_t=I.context.displayMonthsCount-1,{columnID:At}=ae(I,"month"),Rt=$e<=st.getFullYear()&&ze<st.getMonth()+At||$e>=lt.getFullYear()&&ze>lt.getMonth()-_t+At||$e>lt.getFullYear()||ze!==Ie&&!Ne.includes(ze),Dt=ge(I,Be,Ie,I.context.locale.months.short[ze],I.context.locale.months.long[ze],Rt,ze);Me.appendChild(Dt),I.onCreateMonthEls&&I.onCreateMonthEls(I,Dt)}(be=I.context.mainElement.querySelector("[data-vc-months-month]:not([disabled])"))==null||be.focus()},ee=(I,te,oe,be,ve)=>`
  <label class="${te}" data-vc-time-input="${I}">
    <input type="text" name="${I}" maxlength="2" aria-label="${oe[`input${I.charAt(0).toUpperCase()+I.slice(1)}`]}" value="${be}" ${ve?"disabled":""}>
  </label>
`,ue=(I,te,oe,be,ve,$e,Ie)=>`
  <label class="${te}" data-vc-time-range="${I}">
    <input type="range" name="${I}" min="${be}" max="${ve}" step="${$e}" aria-label="${oe[`range${I.charAt(0).toUpperCase()+I.slice(1)}`]}" value="${Ie}">
  </label>
`,he=(I,te,oe,be)=>{({hour:()=>C(I,"selectedHours",oe),minute:()=>C(I,"selectedMinutes",oe)})[be](),C(I,"selectedTime",`${I.context.selectedHours}:${I.context.selectedMinutes}${I.context.selectedKeeping?` ${I.context.selectedKeeping}`:""}`),I.onChangeTime&&I.onChangeTime(I,te,!1),I.inputMode&&I.context.inputElement&&I.context.mainElement&&I.onChangeToInput&&I.onChangeToInput(I,te)},Ce=(I,te)=>{var oe;return((oe={0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"00",PM:"12"}}[Number(I)])==null?void 0:oe[te])||String(I)},J=I=>({0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"})[Number(I)]||String(I),D=(I,te,oe,be)=>{I.value=oe,te.value=be},N=(I,te,oe,be,ve,$e,Ie)=>{const Me={hour:(Be,ze,st)=>{if(!I.selectionTimeMode)return;({12:()=>{if(!I.context.selectedKeeping)return;const _t=Number(Ce(ze,I.context.selectedKeeping));if(!(_t<=$e&&_t>=Ie))return D(oe,te,I.context.selectedHours,I.context.selectedHours),void(I.onChangeTime&&I.onChangeTime(I,st,!0));D(oe,te,J(ze),Ce(ze,I.context.selectedKeeping)),Be>12&&((At,Rt,Dt)=>{Rt&&Dt&&(C(At,"selectedKeeping",Dt),Rt.innerText=Dt)})(I,be,"PM"),he(I,st,J(ze),ve)},24:()=>{if(!(Be<=$e&&Be>=Ie))return D(oe,te,I.context.selectedHours,I.context.selectedHours),void(I.onChangeTime&&I.onChangeTime(I,st,!0));D(oe,te,ze,ze),he(I,st,ze,ve)}})[I.selectionTimeMode]()},minute:(Be,ze,st)=>{if(!(Be<=$e&&Be>=Ie))return oe.value=I.context.selectedMinutes,void(I.onChangeTime&&I.onChangeTime(I,st,!0));oe.value=ze,te.value=ze,he(I,st,ze,ve)}},Ne=Be=>{const ze=Number(oe.value),st=oe.value.padStart(2,"0");Me[ve]&&Me[ve](ze,st,Be)};return oe.addEventListener("change",Ne),()=>{oe.removeEventListener("change",Ne)}},U=(I,te,oe,be,ve)=>{const $e=Ie=>{const Me=Number(te.value),Ne=te.value.padStart(2,"0"),Be=ve==="hour",ze=I.selectionTimeMode===24,st=Me>0&&Me<12;Be&&!ze&&((lt,_t,At)=>{_t&&(C(lt,"selectedKeeping",At),_t.innerText=At)})(I,be,Me===0||st?"AM":"PM"),((lt,_t,At,Rt,Dt)=>{_t.value=Dt,he(lt,At,Dt,Rt)})(I,oe,Ie,ve,!Be||ze||st?Ne:J(te.value))};return te.addEventListener("input",$e),()=>{te.removeEventListener("input",$e)}},Q=I=>I.setAttribute("data-vc-input-focus",""),Ge=I=>I.removeAttribute("data-vc-input-focus"),He=(I,te)=>{const oe=te.querySelector('[data-vc-time-range="hour"] input[name="hour"]'),be=te.querySelector('[data-vc-time-range="minute"] input[name="minute"]'),ve=te.querySelector('[data-vc-time-input="hour"] input[name="hour"]'),$e=te.querySelector('[data-vc-time-input="minute"] input[name="minute"]'),Ie=te.querySelector('[data-vc-time="keeping"]');if(!(oe&&be&&ve&&$e))return;const Me=Be=>{Be.target===oe&&Q(ve),Be.target===be&&Q($e)},Ne=Be=>{Be.target===oe&&Ge(ve),Be.target===be&&Ge($e)};return te.addEventListener("mouseover",Me),te.addEventListener("mouseout",Ne),N(I,oe,ve,Ie,"hour",I.timeMaxHour,I.timeMinHour),N(I,be,$e,Ie,"minute",I.timeMaxMinute,I.timeMinMinute),U(I,oe,ve,Ie,"hour"),U(I,be,$e,Ie,"minute"),Ie&&((Be,ze,st,lt,_t)=>{const At=Rt=>{const Dt=Be.context.selectedKeeping==="AM"?"PM":"AM",ds=Ce(Be.context.selectedHours,Dt);Number(ds)<=lt&&Number(ds)>=_t?(C(Be,"selectedKeeping",Dt),st.value=ds,he(Be,Rt,Be.context.selectedHours,"hour"),ze.ariaLabel=`${Be.labels.btnKeeping} ${Be.context.selectedKeeping}`,ze.innerText=Be.context.selectedKeeping):Be.onChangeTime&&Be.onChangeTime(Be,Rt,!0)};ze.addEventListener("click",At)})(I,Ie,oe,I.timeMaxHour,I.timeMinHour),()=>{te.removeEventListener("mouseover",Me),te.removeEventListener("mouseout",Ne)}},pe=I=>{const te=I.selectedWeekends?[...I.selectedWeekends]:[],oe=[...I.context.locale.weekdays.long].reduce((ve,$e,Ie)=>[...ve,{id:Ie,titleShort:I.context.locale.weekdays.short[Ie],titleLong:$e,isWeekend:te.includes(Ie)}],[]),be=[...oe.slice(I.firstWeekday),...oe.slice(0,I.firstWeekday)];I.context.mainElement.querySelectorAll('[data-vc="week"]').forEach(ve=>{const $e=I.onClickWeekDay?document.createElement("button"):document.createElement("b");I.onClickWeekDay&&($e.type="button"),be.forEach(Ie=>{const Me=$e.cloneNode(!0);Me.innerText=Ie.titleShort,Me.className=I.styles.weekDay,Me.role="columnheader",Me.ariaLabel=Ie.titleLong,Me.dataset.vcWeekDay=String(Ie.id),Ie.isWeekend&&(Me.dataset.vcWeekDayOff=""),ve.appendChild(Me)})})},ie=(I,te,oe,be,ve)=>{const $e=te.cloneNode(!1);return $e.className=I.styles.yearsYear,$e.innerText=String(ve),$e.ariaLabel=String(ve),$e.role="gridcell",$e.dataset.vcYearsYear=`${ve}`,be&&($e.ariaDisabled="true"),be&&($e.tabIndex=-1),$e.disabled=be,We(I,$e,"year",oe===ve,!1),$e},Oe=(I,te)=>{var oe;const be=te!=null&&te.dataset.vcYear?Number(te.dataset.vcYear):I.context.selectedYear;C(I,"currentType","year"),me(I,te),Ze(I),Re(I);const ve=I.context.mainElement.querySelector('[data-vc="years"]');if(!I.selectionYearsMode||!ve)return;const $e=I.type!=="multiple"||I.context.selectedYear===be?0:1,Ie=document.createElement("button");Ie.type="button";for(let Me=I.context.displayYear-7;Me<I.context.displayYear+8;Me++){const Ne=Me<R(I.context.dateMin).getFullYear()+$e||Me>R(I.context.dateMax).getFullYear(),Be=ie(I,Ie,be,Ne,Me);ve.appendChild(Be),I.onCreateYearEls&&I.onCreateYearEls(I,Be)}(oe=I.context.mainElement.querySelector("[data-vc-years-year]:not([disabled])"))==null||oe.focus()},nt={value:!1,set:()=>nt.value=!0,check:()=>nt.value},Fe=(I,te)=>I.dataset.vcTheme=te,re=(I,te)=>{if(Fe(I.context.mainElement,te.matches?"dark":"light"),I.selectedTheme!=="system"||nt.check())return;const oe=be=>{const ve=document.querySelectorAll('[data-vc="calendar"]');ve==null||ve.forEach($e=>Fe($e,be.matches?"dark":"light"))};te.addEventListener?te.addEventListener("change",oe):te.addListener(oe),nt.set()},Y=(I,te)=>{const oe=I.themeAttrDetect.length?document.querySelector(I.themeAttrDetect):null,be=I.themeAttrDetect.replace(/^.*\[(.+)\]/g,($e,Ie)=>Ie);if(!oe||oe.getAttribute(be)==="system")return void re(I,te);const ve=oe.getAttribute(be);ve?(Fe(I.context.mainElement,ve),(($e,Ie,Me)=>{new MutationObserver(Ne=>{for(let Be=0;Be<Ne.length;Be++)if(Ne[Be].attributeName===Ie){Me();break}}).observe($e,{attributes:!0})})(oe,be,()=>{const $e=oe.getAttribute(be);$e&&Fe(I.context.mainElement,$e)})):re(I,te)},we=I=>I.charAt(0).toUpperCase()+I.slice(1).replace(/\./,""),Ht=I=>{var te,oe,be,ve,$e,Ie,Me,Ne;if(!(I.context.locale.weekdays.short[6]&&I.context.locale.weekdays.long[6]&&I.context.locale.months.short[11]&&I.context.locale.months.long[11]))if(typeof I.locale=="string"){if(typeof I.locale=="string"&&!I.locale.length)throw new Error(b);Array.from({length:7},(Be,ze)=>((st,lt,_t)=>{const At=new Date(`1978-01-0${lt+1}T00:00:00.000Z`),Rt=At.toLocaleString(_t,{weekday:"short",timeZone:"UTC"}),Dt=At.toLocaleString(_t,{weekday:"long",timeZone:"UTC"});st.context.locale.weekdays.short.push(we(Rt)),st.context.locale.weekdays.long.push(we(Dt))})(I,ze,I.locale)),Array.from({length:12},(Be,ze)=>((st,lt,_t)=>{const At=new Date(`1978-${String(lt+1).padStart(2,"0")}-01T00:00:00.000Z`),Rt=At.toLocaleString(_t,{month:"short",timeZone:"UTC"}),Dt=At.toLocaleString(_t,{month:"long",timeZone:"UTC"});st.context.locale.months.short.push(we(Rt)),st.context.locale.months.long.push(we(Dt))})(I,ze,I.locale))}else{if(!((oe=(te=I.locale)==null?void 0:te.weekdays)!=null&&oe.short[6]&&((ve=(be=I.locale)==null?void 0:be.weekdays)!=null&&ve.long[6])&&((Ie=($e=I.locale)==null?void 0:$e.months)!=null&&Ie.short[11])&&((Ne=(Me=I.locale)==null?void 0:Me.months)!=null&&Ne.long[11])))throw new Error(b);C(I,"locale",g({},I.locale))}},je=I=>{const te={default:()=>{pe(I),_e(I)},multiple:()=>{pe(I),_e(I)},month:()=>ne(I),year:()=>Oe(I)};(oe=>{window.matchMedia("(prefers-color-scheme)").media!=="not all"?oe.selectedTheme==="system"?Y(oe,window.matchMedia("(prefers-color-scheme: dark)")):Fe(oe.context.mainElement,oe.selectedTheme):Fe(oe.context.mainElement,"light")})(I),Ht(I),me(I),Ze(I),Re(I),(oe=>{const be=oe.context.mainElement.querySelector('[data-vc="time"]');if(!oe.selectionTimeMode||!be)return;const[ve,$e]=[oe.timeMinHour,oe.timeMaxHour],[Ie,Me]=[oe.timeMinMinute,oe.timeMaxMinute],Ne=oe.context.selectedKeeping?Ce(oe.context.selectedHours,oe.context.selectedKeeping):oe.context.selectedHours,Be=oe.timeControls==="range";var ze;be.innerHTML=oe.sanitizerHTML(`
    <div class="${oe.styles.timeContent}" data-vc-time="content">
      ${ee("hour",oe.styles.timeHour,oe.labels,oe.context.selectedHours,Be)}
      ${ee("minute",oe.styles.timeMinute,oe.labels,oe.context.selectedMinutes,Be)}
      ${oe.selectionTimeMode===12?(ze=oe.context.selectedKeeping,`<button type="button" class="${oe.styles.timeKeeping}" aria-label="${oe.labels.btnKeeping} ${ze}" data-vc-time="keeping" ${Be?"disabled":""}>${ze}</button>`):""}
    </div>
    <div class="${oe.styles.timeRanges}" data-vc-time="ranges">
      ${ue("hour",oe.styles.timeRange,oe.labels,ve,$e,oe.timeStepHour,Ne)}
      ${ue("minute",oe.styles.timeRange,oe.labels,Ie,Me,oe.timeStepMinute,oe.context.selectedMinutes)}
    </div>
  `),He(oe,be)})(I),te[I.context.currentType]()},de=I=>{const te=oe=>{var be;const ve=oe.target;if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(oe.key)||ve.localName!=="button")return;const $e=Array.from(I.context.mainElement.querySelectorAll('[data-vc="calendar"] button')),Ie=$e.indexOf(ve);if(Ie===-1)return;const Me=(Ne=$e[Ie]).hasAttribute("data-vc-date-btn")?7:Ne.hasAttribute("data-vc-months-month")?4:Ne.hasAttribute("data-vc-years-year")?5:1;var Ne;const Be=(0,{ArrowUp:()=>Math.max(0,Ie-Me),ArrowDown:()=>Math.min($e.length-1,Ie+Me),ArrowLeft:()=>Math.max(0,Ie-1),ArrowRight:()=>Math.min($e.length-1,Ie+1)}[oe.key])();(be=$e[Be])==null||be.focus()};return I.context.mainElement.addEventListener("keydown",te),()=>I.context.mainElement.removeEventListener("keydown",te)},De=(I,te)=>{const oe=R(M(new Date(I.context.selectedYear,I.context.selectedMonth,1)));({prev:()=>oe.setMonth(oe.getMonth()-I.monthsToSwitch),next:()=>oe.setMonth(oe.getMonth()+I.monthsToSwitch)})[te](),C(I,"selectedMonth",oe.getMonth()),C(I,"selectedYear",oe.getFullYear()),Ze(I),Re(I),_e(I)},Yt=I=>I.enableDateToggle===void 0||(typeof I.enableDateToggle=="function"?I.enableDateToggle(I):I.enableDateToggle),rs=(I,te,oe)=>{const be=te.dataset.vcDate,ve=te.closest("[data-vc-date][data-vc-date-selected]"),$e=Yt(I);if(ve&&!$e)return;const Ie=ve?I.context.selectedDates.filter(Me=>Me!==be):oe?[...I.context.selectedDates,be]:[be];C(I,"selectedDates",Ie)},Ke=(I,te,oe)=>{if(!te)return;if(!oe)return te.dataset.vcDateRangeTooltip="hidden",void(te.textContent="");const be=I.context.mainElement.getBoundingClientRect(),ve=oe.getBoundingClientRect();te.style.left=ve.left-be.left+ve.width/2+"px",te.style.top=ve.bottom-be.top-ve.height+"px",te.dataset.vcDateRangeTooltip="visible",te.innerHTML=I.sanitizerHTML(I.onCreateDateRangeTooltip(I,oe,te,ve,be))},Se={self:null,lastDateEl:null,isHovering:!1,rangeMin:void 0,rangeMax:void 0,tooltipEl:null,timeoutId:null},mt=(I,te,oe)=>{var be,ve,$e;if(!((ve=(be=Se.self)==null?void 0:be.context)!=null&&ve.selectedDates[0]))return;const Ie=M(I);($e=Se.self.context.disableDates)!=null&&$e.includes(Ie)||(Se.self.context.mainElement.querySelectorAll(`[data-vc-date="${Ie}"]`).forEach(Me=>Me.dataset.vcDateHover=""),te.forEach(Me=>Me.dataset.vcDateHover="first"),oe.forEach(Me=>{Me.dataset.vcDateHover==="first"?Me.dataset.vcDateHover="first-and-last":Me.dataset.vcDateHover="last"}))},$t=()=>{var I,te;(te=(I=Se.self)==null?void 0:I.context)!=null&&te.mainElement&&Se.self.context.mainElement.querySelectorAll("[data-vc-date-hover]").forEach(oe=>oe.removeAttribute("data-vc-date-hover"))},qe=I=>te=>{const oe=te.target;Se.isHovering||(Se.isHovering=!0,requestAnimationFrame(()=>{I(oe),Se.isHovering=!1}))},ce=qe(I=>{var te,oe;if(!I||!((oe=(te=Se.self)==null?void 0:te.context)!=null&&oe.selectedDates[0]))return;if(!I.closest('[data-vc="dates"]'))return Se.lastDateEl=null,Ke(Se.self,Se.tooltipEl,null),void $t();const be=I.closest("[data-vc-date]");if(!be||Se.lastDateEl===be)return;Se.lastDateEl=be,Ke(Se.self,Se.tooltipEl,be),$t();const ve=be.dataset.vcDate,$e=R(Se.self.context.selectedDates[0]),Ie=R(ve),Me=Se.self.context.mainElement.querySelectorAll(`[data-vc-date="${Se.self.context.selectedDates[0]}"]`),Ne=Se.self.context.mainElement.querySelectorAll(`[data-vc-date="${ve}"]`),[Be,ze]=$e<Ie?[Me,Ne]:[Ne,Me],[st,lt]=$e<Ie?[$e,Ie]:[Ie,$e];for(let _t=new Date(st);_t<=lt;_t.setDate(_t.getDate()+1))mt(_t,Be,ze)}),Ve=qe(I=>{const te=I==null?void 0:I.closest("[data-vc-date-selected]");if(!te&&Se.lastDateEl)return Se.lastDateEl=null,void Ke(Se.self,Se.tooltipEl,null);te&&Se.lastDateEl!==te&&(Se.lastDateEl=te,Ke(Se.self,Se.tooltipEl,te))}),ts=I=>{Se.self&&I.key==="Escape"&&(Se.lastDateEl=null,C(Se.self,"selectedDates",[]),Se.self.context.mainElement.removeEventListener("mousemove",ce),Se.self.context.mainElement.removeEventListener("keydown",ts),Ke(Se.self,Se.tooltipEl,null),$t())},xe=()=>{Se.timeoutId!==null&&clearTimeout(Se.timeoutId),Se.timeoutId=setTimeout(()=>{Se.lastDateEl=null,Ke(Se.self,Se.tooltipEl,null),$t()},50)},Pe=(I,te)=>{Se.self=I,Se.lastDateEl=te,$t(),I.disableDatesGaps&&(Se.rangeMin=Se.rangeMin?Se.rangeMin:I.context.displayDateMin,Se.rangeMax=Se.rangeMax?Se.rangeMax:I.context.displayDateMax),I.onCreateDateRangeTooltip&&(Se.tooltipEl=I.context.mainElement.querySelector("[data-vc-date-range-tooltip]"));const oe=te==null?void 0:te.dataset.vcDate;if(oe){const be=I.context.selectedDates.length===1&&I.context.selectedDates[0].includes(oe),ve=be&&!Yt(I)?[oe,oe]:be&&Yt(I)?[]:I.context.selectedDates.length>1?[oe]:[...I.context.selectedDates,oe];C(I,"selectedDates",ve),I.context.selectedDates.length>1&&I.context.selectedDates.sort(($e,Ie)=>+new Date($e)-+new Date(Ie))}({set:()=>(I.disableDatesGaps&&(()=>{var be,ve,$e,Ie;if(!(($e=(ve=(be=Se.self)==null?void 0:be.context)==null?void 0:ve.selectedDates)!=null&&$e[0])||!((Ie=Se.self.context.disableDates)!=null&&Ie[0]))return;const Me=R(Se.self.context.selectedDates[0]),[Ne,Be]=Se.self.context.disableDates.map(ze=>R(ze)).reduce(([ze,st],lt)=>[Me>=lt?lt:ze,Me<lt&&st===null?lt:st],[null,null]);Ne&&C(Se.self,"displayDateMin",M(new Date(Ne.setDate(Ne.getDate()+1)))),Be&&C(Se.self,"displayDateMax",M(new Date(Be.setDate(Be.getDate()-1)))),Se.self.disableDatesPast&&!Se.self.disableAllDates&&R(Se.self.context.displayDateMin)<R(Se.self.context.dateToday)&&C(Se.self,"displayDateMin",Se.self.context.dateToday)})(),Ke(Se.self,Se.tooltipEl,te),Se.self.context.mainElement.removeEventListener("mousemove",Ve),Se.self.context.mainElement.removeEventListener("mouseleave",xe),Se.self.context.mainElement.removeEventListener("keydown",ts),Se.self.context.mainElement.addEventListener("mousemove",ce),Se.self.context.mainElement.addEventListener("mouseleave",xe),Se.self.context.mainElement.addEventListener("keydown",ts),()=>{Se.self.context.mainElement.removeEventListener("mousemove",ce),Se.self.context.mainElement.removeEventListener("mouseleave",xe),Se.self.context.mainElement.removeEventListener("keydown",ts)}),reset:()=>{const[be,ve]=[I.context.selectedDates[0],I.context.selectedDates[I.context.selectedDates.length-1]],$e=I.context.selectedDates[0]!==I.context.selectedDates[I.context.selectedDates.length-1],Ie=B([`${be}:${ve}`]).filter(Ne=>!I.context.disableDates.includes(Ne)),Me=$e?I.enableEdgeDatesOnly?[be,ve]:Ie:[I.context.selectedDates[0],I.context.selectedDates[0]];if(C(I,"selectedDates",Me),I.disableDatesGaps&&(C(I,"displayDateMin",Se.rangeMin),C(I,"displayDateMax",Se.rangeMax)),Se.self.context.mainElement.removeEventListener("mousemove",ce),Se.self.context.mainElement.removeEventListener("mouseleave",xe),Se.self.context.mainElement.removeEventListener("keydown",ts),I.onCreateDateRangeTooltip)return I.context.selectedDates[0]||(Se.self.context.mainElement.removeEventListener("mousemove",Ve),Se.self.context.mainElement.removeEventListener("mouseleave",xe),Ke(Se.self,Se.tooltipEl,null)),I.context.selectedDates[0]&&(Se.self.context.mainElement.addEventListener("mousemove",Ve),Se.self.context.mainElement.addEventListener("mouseleave",xe),Ke(Se.self,Se.tooltipEl,te)),()=>{Se.self.context.mainElement.removeEventListener("mousemove",Ve),Se.self.context.mainElement.removeEventListener("mouseleave",xe)}}})[I.context.selectedDates.length===1?"set":"reset"]()},Ye=I=>{I.context.mainElement.querySelectorAll("[data-vc-date]").forEach(te=>{const oe=te.querySelector("[data-vc-date-btn]"),be=te.dataset.vcDate,ve=R(be).getDay();K(I,I.context.selectedYear,te,oe,ve,be,"current")})},Je=["month","year"],tt=(I,te,oe)=>{const{currentValue:be,columnID:ve}=ae(I,te);return I.context.currentType==="month"&&ve>=0?oe-ve:I.context.currentType==="year"&&I.context.selectedYear!==be?oe-1:oe},at=(I,te,oe,be)=>{var ve;({year:()=>{if(I.type==="multiple")return((Ie,Me)=>{const Ne=tt(Ie,"year",Number(Me.dataset.vcYearsYear)),Be=R(Ie.context.dateMin),ze=R(Ie.context.dateMax),st=Ie.context.displayMonthsCount-1,{columnID:lt}=ae(Ie,"year"),_t=Ie.context.selectedMonth<Be.getMonth()&&Ne<=Be.getFullYear(),At=Ie.context.selectedMonth>ze.getMonth()-st+lt&&Ne>=ze.getFullYear(),Rt=Ne<Be.getFullYear(),Dt=Ne>ze.getFullYear(),ds=_t||Rt?Be.getFullYear():At||Dt?ze.getFullYear():Ne,Xs=_t||Rt?Be.getMonth():At||Dt?ze.getMonth()-st+lt:Ie.context.selectedMonth;C(Ie,"selectedYear",ds),C(Ie,"selectedMonth",Xs)})(I,be);C(I,"selectedYear",Number(be.dataset.vcYearsYear))},month:()=>{if(I.type==="multiple")return((Ie,Me)=>{const Ne=Me.closest('[data-vc-column="month"]').querySelector('[data-vc="year"]'),Be=tt(Ie,"month",Number(Me.dataset.vcMonthsMonth)),ze=Number(Ne.dataset.vcYear),st=R(Ie.context.dateMin),lt=R(Ie.context.dateMax),_t=Be<st.getMonth()&&ze<=st.getFullYear(),At=Be>lt.getMonth()&&ze>=lt.getFullYear();C(Ie,"selectedYear",ze),C(Ie,"selectedMonth",_t?st.getMonth():At?lt.getMonth():Be)})(I,be);C(I,"selectedMonth",Number(be.dataset.vcMonthsMonth))}})[oe](),{year:()=>{var Ie;return(Ie=I.onClickYear)==null?void 0:Ie.call(I,I,te)},month:()=>{var Ie;return(Ie=I.onClickMonth)==null?void 0:Ie.call(I,I,te)}}[oe](),I.context.currentType!==I.type?(C(I,"currentType",I.type),je(I),(ve=I.context.mainElement.querySelector(`[data-vc="${oe}"]`))==null||ve.focus()):We(I,be,oe,!0,!0)},dt=(I,te)=>{const oe={month:I.selectionMonthsMode,year:I.selectionYearsMode};Je.forEach(be=>{oe[be]&&te.target&&((ve,$e,Ie)=>{var Me;const Ne=$e.target,Be=Ne.closest(`[data-vc="${Ie}"]`),ze={year:()=>Oe(ve,Ne),month:()=>ne(ve,Ne)};if(Be&&ve.onClickTitle&&ve.onClickTitle(ve,$e),Be&&ve.context.currentType!==Ie)return ze[Ie]();const st=Ne.closest(`[data-vc-${Ie}s-${Ie}]`);if(st)return at(ve,$e,Ie,st);const lt=Ne.closest('[data-vc="grid"]'),_t=Ne.closest('[data-vc="column"]');(ve.context.currentType===Ie&&Be||ve.type==="multiple"&&ve.context.currentType===Ie&&lt&&!_t)&&(C(ve,"currentType",ve.type),je(ve),(Me=ve.context.mainElement.querySelector(`[data-vc="${Ie}"]`))==null||Me.focus())})(I,te,be)})},ht=I=>{const te=oe=>{((be,ve)=>{const $e=ve.target.closest("[data-vc-arrow]");if($e){if(["default","multiple"].includes(be.context.currentType))De(be,$e.dataset.vcArrow);else if(be.context.currentType==="year"&&be.context.displayYear!==void 0){const Ie={prev:-15,next:15}[$e.dataset.vcArrow];C(be,"displayYear",be.context.displayYear+Ie),Oe(be,ve.target)}be.onClickArrow&&be.onClickArrow(be,ve)}})(I,oe),((be,ve)=>{if(!be.onClickWeekDay)return;const $e=ve.target.closest("[data-vc-week-day]"),Ie=ve.target.closest('[data-vc="column"]'),Me=Ie?Ie.querySelectorAll("[data-vc-date-week-day]"):be.context.mainElement.querySelectorAll("[data-vc-date-week-day]");if(!$e||!Me[0])return;const Ne=Number($e.dataset.vcWeekDay),Be=Array.from(Me).filter(ze=>Number(ze.dataset.vcDateWeekDay)===Ne);be.onClickWeekDay(be,Ne,Be,ve)})(I,oe),((be,ve)=>{if(!be.enableWeekNumbers||!be.onClickWeekNumber)return;const $e=ve.target.closest("[data-vc-week-number]"),Ie=be.context.mainElement.querySelectorAll("[data-vc-date-week-number]");if(!$e||!Ie[0])return;const Me=Number($e.innerText),Ne=Number($e.dataset.vcWeekYear),Be=Array.from(Ie).filter(ze=>Number(ze.dataset.vcDateWeekNumber)===Me);be.onClickWeekNumber(be,Me,Ne,Be,ve)})(I,oe),((be,ve)=>{var $e;const Ie=ve.target,Me=Ie.closest("[data-vc-date-btn]");if(!be.selectionDatesMode||!["single","multiple","multiple-ranged"].includes(be.selectionDatesMode)||!Me)return;const Ne=Me.closest("[data-vc-date]");({single:()=>rs(be,Ne,!1),multiple:()=>rs(be,Ne,!0),"multiple-ranged":()=>Pe(be,Ne)})[be.selectionDatesMode](),($e=be.context.selectedDates)==null||$e.sort((st,lt)=>+new Date(st)-+new Date(lt)),be.onClickDate&&be.onClickDate(be,ve),be.inputMode&&be.context.inputElement&&be.context.mainElement&&be.onChangeToInput&&be.onChangeToInput(be,ve);const Be=Ie.closest('[data-vc-date-month="prev"]'),ze=Ie.closest('[data-vc-date-month="next"]');({prev:()=>be.enableMonthChangeOnDayClick?De(be,"prev"):Ye(be),next:()=>be.enableMonthChangeOnDayClick?De(be,"next"):Ye(be),current:()=>Ye(be)})[Be?"prev":ze?"next":"current"]()})(I,oe),dt(I,oe)};return I.context.mainElement.addEventListener("click",te),()=>I.context.mainElement.removeEventListener("click",te)},ct=(I,te)=>I==="today"?(()=>{const oe=new Date;return new Date(oe.getTime()-6e4*oe.getTimezoneOffset()).toISOString().substring(0,10)})():I instanceof Date||typeof I=="number"||typeof I=="string"?B([I])[0]:te,xt=(I,te,oe)=>{C(I,"selectedMonth",te),C(I,"selectedYear",oe),C(I,"displayYear",oe)},gt=I=>{var te;if(I.enableJumpToSelectedDate&&((te=I.selectedDates)!=null&&te[0])&&I.selectedMonth===void 0&&I.selectedYear===void 0){const ve=R(B(I.selectedDates)[0]);return void xt(I,ve.getMonth(),ve.getFullYear())}if((ve=>{const $e=Ne=>{const Be=new Date(Ne);xt(ve,Be.getMonth(),Be.getFullYear())};if(ve.displayDateMin&&ve.displayDateMin!=="today"&&(Ie=ve.displayDateMin,Me=new Date,new Date(Ie).getTime()>Me.getTime())){const Ne=ve.selectedDates.length&&ve.selectedDates[0]?B(ve.selectedDates)[0]:ve.displayDateMin;return $e(R(ct(Ne,ve.displayDateMin))),!0}var Ie,Me;if(ve.displayDateMax&&ve.displayDateMax!=="today"&&((Ne,Be)=>new Date(Ne).getTime()<Be.getTime())(ve.displayDateMax,new Date)){const Ne=ve.selectedDates.length&&ve.selectedDates[0]?B(ve.selectedDates)[0]:ve.displayDateMax;return $e(R(ct(Ne,ve.displayDateMax))),!0}return!1})(I))return;const oe=I.selectedMonth!==void 0&&Number(I.selectedMonth)>=0&&Number(I.selectedMonth)<12,be=I.selectedYear!==void 0&&Number(I.selectedYear)>=0&&Number(I.selectedYear)<=9999;xt(I,oe?Number(I.selectedMonth):R(I.context.dateToday).getMonth(),be?Number(I.selectedYear):R(I.context.dateToday).getFullYear())},yt=I=>{C(I,"currentType",I.type),(te=>{if(te.type==="multiple"&&(te.displayMonthsCount<=1||te.displayMonthsCount>12))throw new Error(E);if(te.type!=="multiple"&&te.displayMonthsCount>1)throw new Error(E);C(te,"displayMonthsCount",te.displayMonthsCount?te.displayMonthsCount:te.type==="multiple"?2:1)})(I),(te=>{var oe,be,ve;const $e=ct(te.dateMin,te.dateMin),Ie=ct(te.dateMax,te.dateMax),Me=ct(te.displayDateMin,$e),Ne=ct(te.displayDateMax,Ie);C(te,"dateToday",ct(te.dateToday,te.dateToday)),C(te,"displayDateMin",Me?R($e)>=R(Me)?$e:Me:$e),C(te,"displayDateMax",Ne?R(Ie)<=R(Ne)?Ie:Ne:Ie);const Be=te.disableDatesPast&&!te.disableAllDates&&R(Me)<R(te.context.dateToday);C(te,"displayDateMin",Be||te.disableAllDates?te.context.dateToday:Me),C(te,"displayDateMax",te.disableAllDates?te.context.dateToday:Ne),C(te,"disableDates",te.disableDates[0]&&!te.disableAllDates?B(te.disableDates):te.disableAllDates?[te.context.displayDateMin]:[]),te.context.disableDates.length>1&&te.context.disableDates.sort((ze,st)=>+new Date(ze)-+new Date(st)),C(te,"enableDates",te.enableDates[0]?B(te.enableDates):[]),(oe=te.context.enableDates)!=null&&oe[0]&&((be=te.context.disableDates)!=null&&be[0])&&C(te,"disableDates",te.context.disableDates.filter(ze=>!te.context.enableDates.includes(ze))),te.context.enableDates.length>1&&te.context.enableDates.sort((ze,st)=>+new Date(ze)-+new Date(st)),(ve=te.context.enableDates)!=null&&ve[0]&&te.disableAllDates&&(C(te,"displayDateMin",te.context.enableDates[0]),C(te,"displayDateMax",te.context.enableDates[te.context.enableDates.length-1])),C(te,"dateMin",te.displayDisabledDates?$e:te.context.displayDateMin),C(te,"dateMax",te.displayDisabledDates?Ie:te.context.displayDateMax)})(I),gt(I),(te=>{var oe;C(te,"selectedDates",(oe=te.selectedDates)!=null&&oe[0]?B(te.selectedDates):[])})(I),(te=>{var oe,be,ve;if(!te.selectionTimeMode)return;if(![12,24].includes(te.selectionTimeMode))throw new Error(w);const $e=te.selectionTimeMode===12,Ie=$e?/^(0[1-9]|1[0-2]):([0-5][0-9]) ?(AM|PM)?$/i:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])$/;let[Me,Ne,Be]=(ve=(be=(oe=te.selectedTime)==null?void 0:oe.match(Ie))==null?void 0:be.slice(1))!=null?ve:[];Me?$e&&!Be&&(Be="AM"):(Me=$e?J(String(te.timeMinHour)):String(te.timeMinHour),Ne=String(te.timeMinMinute),Be=$e?Number(J(String(te.timeMinHour)))>=12?"PM":"AM":null),C(te,"selectedHours",Me.padStart(2,"0")),C(te,"selectedMinutes",Ne.padStart(2,"0")),C(te,"selectedKeeping",Be),C(te,"selectedTime",`${te.context.selectedHours}:${te.context.selectedMinutes}${Be?` ${Be}`:""}`)})(I)},Ct=(I,{year:te,month:oe,dates:be,time:ve,locale:$e},Ie=!0)=>{var Me;const Ne={year:I.selectedYear,month:I.selectedMonth,dates:I.selectedDates,time:I.selectedTime};I.selectedYear=te?Ne.year:I.context.selectedYear,I.selectedMonth=oe?Ne.month:I.context.selectedMonth,I.selectedTime=ve?Ne.time:I.context.selectedTime,I.selectedDates=be==="only-first"&&((Me=I.context.selectedDates)!=null&&Me[0])?[I.context.selectedDates[0]]:be===!0?Ne.dates:I.context.selectedDates,$e&&C(I,"locale",{months:{short:[],long:[]},weekdays:{short:[],long:[]}}),yt(I),Ie&&je(I),I.selectedYear=Ne.year,I.selectedMonth=Ne.month,I.selectedDates=Ne.dates,I.selectedTime=Ne.time,I.selectionDatesMode==="multiple-ranged"&&be&&Pe(I,null)},wt=I=>{C(I,"inputElement",I.context.mainElement);const te=()=>{I.context.inputModeInit?setTimeout(()=>Lt(I)):(oe=>{const be=document.createElement("div");be.className=oe.styles.calendar,be.dataset.vc="calendar",be.dataset.vcInput="",be.dataset.vcCalendarHidden="",C(oe,"inputModeInit",!0),C(oe,"isShowInInputMode",!1),C(oe,"mainElement",be),document.body.appendChild(oe.context.mainElement),Ct(oe,{year:!0,month:!0,dates:!0,time:!0,locale:!0}),setTimeout(()=>Lt(oe)),oe.onInit&&oe.onInit(oe),de(oe),ht(oe)})(I)};return I.context.inputElement.addEventListener("click",te),I.context.inputElement.addEventListener("focus",te),()=>{I.context.inputElement.removeEventListener("click",te),I.context.inputElement.removeEventListener("focus",te)}},vt=(I,te)=>{if(!I.context.isInit)throw new Error(v);Ct(I,g(g({},{year:!0,month:!0,dates:!0,time:!0,locale:!0}),te),!(I.inputMode&&!I.context.inputModeInit)),I.onUpdate&&I.onUpdate(I)},St=(I,te)=>{const oe=Object.keys(te);for(let be=0;be<oe.length;be++){const ve=oe[be];typeof I[ve]!="object"||typeof te[ve]!="object"||te[ve]instanceof Date||Array.isArray(te[ve])?te[ve]!==void 0&&(I[ve]=te[ve]):St(I[ve],te[ve])}},bt=(I,te,oe)=>{if(!I)return;const be=oe==="auto"?function(lt,_t){const At="left";if(!_t||!lt)return At;const{canShow:Rt,parentPositions:Dt}=V(lt,_t),ds=Rt.left&&Rt.right;return(ds&&Rt.bottom?"center":ds&&Rt.top?["top","center"]:Array.isArray(Dt)?[Dt[0]==="bottom"?"top":"bottom",...Dt.slice(1)]:Dt)||At}(I,te):oe,ve={top:-te.offsetHeight,bottom:I.offsetHeight,left:0,center:I.offsetWidth/2-te.offsetWidth/2,right:I.offsetWidth-te.offsetWidth},$e=Array.isArray(be)?be[0]:"bottom",Ie=Array.isArray(be)?be[1]:be;te.dataset.vcPosition=$e;const{top:Me,left:Ne}=P(I),Be=Me+ve[$e];let ze=Ne+ve[Ie];const{vw:st}=A();if(ze+te.clientWidth>st){const lt=window.innerWidth-document.body.clientWidth;ze=st-te.clientWidth-lt}else ze<0&&(ze=0);Object.assign(te.style,{left:`${ze}px`,top:`${Be}px`})},Lt=I=>{if(I.context.isShowInInputMode)return;if(!I.context.currentType)return void I.context.mainElement.click();C(I,"cleanupHandlers",[]),C(I,"isShowInInputMode",!0),bt(I.context.inputElement,I.context.mainElement,I.positionToInput),I.context.mainElement.removeAttribute("data-vc-calendar-hidden");const te=()=>{bt(I.context.inputElement,I.context.mainElement,I.positionToInput)};window.addEventListener("resize",te),I.context.cleanupHandlers.push(()=>window.removeEventListener("resize",te));const oe=ve=>{ve.key==="Escape"&&T(I)};document.addEventListener("keydown",oe),I.context.cleanupHandlers.push(()=>document.removeEventListener("keydown",oe));const be=ve=>{ve.target===I.context.inputElement||I.context.mainElement.contains(ve.target)||T(I)};document.addEventListener("click",be,{capture:!0}),I.context.cleanupHandlers.push(()=>document.removeEventListener("click",be,{capture:!0})),I.onShow&&I.onShow(I)},Ft={application:"Calendar",navigation:"Calendar Navigation",arrowNext:{month:"Next month",year:"Next list of years"},arrowPrev:{month:"Previous month",year:"Previous list of years"},month:"Select month, current selected month:",months:"List of months",year:"Select year, current selected year:",years:"List of years",week:"Days of the week",weekNumber:"Numbers of weeks in a year",dates:"Dates in the current month",selectingTime:"Selecting a time ",inputHour:"Hours",inputMinute:"Minutes",rangeHour:"Slider for selecting hours",rangeMinute:"Slider for selecting minutes",btnKeeping:"Switch AM/PM, current position:"},Pt={calendar:"vc",controls:"vc-controls",grid:"vc-grid",column:"vc-column",header:"vc-header",headerContent:"vc-header__content",month:"vc-month",year:"vc-year",arrowPrev:"vc-arrow vc-arrow_prev",arrowNext:"vc-arrow vc-arrow_next",wrapper:"vc-wrapper",content:"vc-content",months:"vc-months",monthsMonth:"vc-months__month",years:"vc-years",yearsYear:"vc-years__year",week:"vc-week",weekDay:"vc-week__day",weekNumbers:"vc-week-numbers",weekNumbersTitle:"vc-week-numbers__title",weekNumbersContent:"vc-week-numbers__content",weekNumber:"vc-week-number",dates:"vc-dates",date:"vc-date",dateBtn:"vc-date__btn",datePopup:"vc-date__popup",dateRangeTooltip:"vc-date-range-tooltip",time:"vc-time",timeContent:"vc-time__content",timeHour:"vc-time__hour",timeMinute:"vc-time__minute",timeKeeping:"vc-time__keeping",timeRanges:"vc-time__ranges",timeRange:"vc-time__range"};class Nt{constructor(){d(this,"type","default"),d(this,"inputMode",!1),d(this,"positionToInput","left"),d(this,"firstWeekday",1),d(this,"monthsToSwitch",1),d(this,"themeAttrDetect","html[data-theme]"),d(this,"locale","en"),d(this,"dateToday","today"),d(this,"dateMin","1970-01-01"),d(this,"dateMax","2470-12-31"),d(this,"displayDateMin"),d(this,"displayDateMax"),d(this,"displayDatesOutside",!0),d(this,"displayDisabledDates",!1),d(this,"displayMonthsCount"),d(this,"disableDates",[]),d(this,"disableAllDates",!1),d(this,"disableDatesPast",!1),d(this,"disableDatesGaps",!1),d(this,"disableWeekdays",[]),d(this,"disableToday",!1),d(this,"enableDates",[]),d(this,"enableEdgeDatesOnly",!0),d(this,"enableDateToggle",!0),d(this,"enableWeekNumbers",!1),d(this,"enableMonthChangeOnDayClick",!0),d(this,"enableJumpToSelectedDate",!1),d(this,"selectionDatesMode","single"),d(this,"selectionMonthsMode",!0),d(this,"selectionYearsMode",!0),d(this,"selectionTimeMode",!1),d(this,"selectedDates",[]),d(this,"selectedMonth"),d(this,"selectedYear"),d(this,"selectedHolidays",[]),d(this,"selectedWeekends",[0,6]),d(this,"selectedTime"),d(this,"selectedTheme","system"),d(this,"timeMinHour",0),d(this,"timeMaxHour",23),d(this,"timeMinMinute",0),d(this,"timeMaxMinute",59),d(this,"timeControls","all"),d(this,"timeStepHour",1),d(this,"timeStepMinute",1),d(this,"sanitizerHTML",te=>te),d(this,"onClickDate"),d(this,"onClickWeekDay"),d(this,"onClickWeekNumber"),d(this,"onClickTitle"),d(this,"onClickMonth"),d(this,"onClickYear"),d(this,"onClickArrow"),d(this,"onChangeTime"),d(this,"onChangeToInput"),d(this,"onCreateDateRangeTooltip"),d(this,"onCreateDateEls"),d(this,"onCreateMonthEls"),d(this,"onCreateYearEls"),d(this,"onInit"),d(this,"onUpdate"),d(this,"onDestroy"),d(this,"onShow"),d(this,"onHide"),d(this,"popups",{}),d(this,"labels",g({},Ft)),d(this,"layouts",{default:"",multiple:"",month:"",year:""}),d(this,"styles",g({},Pt))}}const Jt=class Yu extends Nt{constructor(te,oe){var be,ve;super(),d(this,"init",()=>{return C($e=this,"originalElement",$e.context.mainElement.cloneNode(!0)),C($e,"isInit",!0),$e.inputMode?wt($e):(yt($e),je($e),$e.onInit&&$e.onInit($e),de($e),ht($e));var $e}),d(this,"update",$e=>vt(this,$e)),d(this,"destroy",()=>($e=>{var Ie,Me,Ne,Be,ze;if(!$e.context.isInit)throw new Error(v);$e.inputMode?((Ie=$e.context.mainElement.parentElement)==null||Ie.removeChild($e.context.mainElement),(Ne=(Me=$e.context.inputElement)==null?void 0:Me.replaceWith)==null||Ne.call(Me,$e.context.originalElement),C($e,"inputElement",void 0)):(ze=(Be=$e.context.mainElement).replaceWith)==null||ze.call(Be,$e.context.originalElement),C($e,"mainElement",$e.context.originalElement),$e.onDestroy&&$e.onDestroy($e)})(this)),d(this,"show",()=>Lt(this)),d(this,"hide",()=>T(this)),d(this,"set",($e,Ie)=>((Me,Ne,Be)=>{St(Me,Ne),Me.context.isInit&&vt(Me,Be)})(this,$e,Ie)),d(this,"context"),this.context=(ve=g({},this.context),m(ve,y({locale:{months:{short:[],long:[]},weekdays:{short:[],long:[]}}}))),C(this,"mainElement",typeof te=="string"?(be=Yu.memoizedElements.get(te))!=null?be:this.queryAndMemoize(te):te),oe&&St(this,oe)}queryAndMemoize(te){const oe=document.querySelector(te);if(!oe)throw new Error(p(te));return Yu.memoizedElements.set(te,oe),oe}};d(Jt,"memoizedElements",new Map);let ss=Jt;l.Calendar=ss,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})(i)},406:function(n,i,l){/*
* HSCopyMarkup
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h){super(c,h);const g=c.getAttribute("data-hs-copy-markup"),d=g?JSON.parse(g):{},p=Object.assign(Object.assign({},d),h);this.targetSelector=(p==null?void 0:p.targetSelector)||null,this.wrapperSelector=(p==null?void 0:p.wrapperSelector)||null,this.limit=(p==null?void 0:p.limit)||null,this.items=[],this.targetSelector&&this.init()}elementClick(){this.copy()}deleteItemButtonClick(c){this.delete(c)}init(){this.createCollection(window.$hsCopyMarkupCollection,this),this.onElementClickListener=()=>this.elementClick(),this.setTarget(),this.setWrapper(),this.addPredefinedItems(),this.el.addEventListener("click",this.onElementClickListener)}copy(){if(this.limit&&this.items.length>=this.limit)return!1;this.el.hasAttribute("disabled")&&this.el.setAttribute("disabled","");const c=this.target.cloneNode(!0);this.addToItems(c),this.limit&&this.items.length>=this.limit&&this.el.setAttribute("disabled","disabled"),this.fireEvent("copy",c),(0,m.dispatch)("copy.hs.copyMarkup",c,c)}addPredefinedItems(){Array.from(this.wrapper.children).filter(c=>!c.classList.contains("[--ignore-for-count]")).forEach(c=>{this.addToItems(c)}),this.limit&&this.items.length>=this.limit&&this.el.setAttribute("disabled","disabled")}setTarget(){const c=typeof this.targetSelector=="string"?document.querySelector(this.targetSelector).cloneNode(!0):this.targetSelector.cloneNode(!0);c.removeAttribute("id"),this.target=c}setWrapper(){this.wrapper=typeof this.wrapperSelector=="string"?document.querySelector(this.wrapperSelector):this.wrapperSelector}addToItems(c){const h=c.querySelector("[data-hs-copy-markup-delete-item]");this.wrapper?this.wrapper.append(c):this.el.before(c),h&&(this.onDeleteItemButtonClickListener=()=>this.deleteItemButtonClick(c),h.addEventListener("click",this.onDeleteItemButtonClickListener)),this.items.push(c)}delete(c){const h=this.items.indexOf(c);h!==-1&&this.items.splice(h,1),c.remove(),this.limit&&this.items.length<this.limit&&this.el.removeAttribute("disabled"),this.fireEvent("delete",c),(0,m.dispatch)("delete.hs.copyMarkup",c,c)}destroy(){const c=this.wrapper.querySelectorAll("[data-hs-copy-markup-delete-item]");this.el.removeEventListener("click",this.onElementClickListener),c.length&&c.forEach(h=>h.removeEventListener("click",this.onDeleteItemButtonClickListener)),this.el.removeAttribute("disabled"),this.target=null,this.wrapper=null,this.items=null,window.$hsCopyMarkupCollection=window.$hsCopyMarkupCollection.filter(({element:h})=>h.el!==this.el)}static getInstance(c,h){const g=window.$hsCopyMarkupCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element:null}static autoInit(){window.$hsCopyMarkupCollection||(window.$hsCopyMarkupCollection=[]),window.$hsCopyMarkupCollection&&(window.$hsCopyMarkupCollection=window.$hsCopyMarkupCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-copy-markup]:not(.--prevent-on-load-init)").forEach(c=>{if(!window.$hsCopyMarkupCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})){const h=c.getAttribute("data-hs-copy-markup"),g=h?JSON.parse(h):{};new f(c,g)}})}}window.addEventListener("load",()=>{f.autoInit()}),typeof window<"u"&&(window.HSCopyMarkup=f),i.default=f},442:function(n,i,l){/*
* HSSelect
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__awaiter||function(g,d,p,v){return new(p||(p=Promise))(function(b,w){function E(P){try{T(v.next(P))}catch(A){w(A)}}function C(P){try{T(v.throw(P))}catch(A){w(A)}}function T(P){var A;P.done?b(P.value):(A=P.value,A instanceof p?A:new p(function(j){j(A)})).then(E,C)}T((v=v.apply(g,d||[])).next())})},m=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(i,"__esModule",{value:!0});const y=l(292),f=m(l(961)),x=m(l(248)),c=l(223);class h extends f.default{constructor(d,p){var v,b,w,E,C;super(d,p),this.disabledObserver=null,this.optionId=0;const T=d.getAttribute("data-hs-select"),P=T?JSON.parse(T):{},A=Object.assign(Object.assign({},P),p);this.value=(A==null?void 0:A.value)||this.el.value||null,this.placeholder=(A==null?void 0:A.placeholder)||"Select...",this.hasSearch=(A==null?void 0:A.hasSearch)||!1,this.minSearchLength=(v=A==null?void 0:A.minSearchLength)!==null&&v!==void 0?v:0,this.preventSearchFocus=(A==null?void 0:A.preventSearchFocus)||!1,this.mode=(A==null?void 0:A.mode)||"default",this.viewport=(A==null?void 0:A.viewport)!==void 0?document.querySelector(A==null?void 0:A.viewport):null,this._isOpened=!!(A!=null&&A.isOpened)||!1,this.isMultiple=this.el.hasAttribute("multiple")||!1,this.isDisabled=this.el.hasAttribute("disabled")||!1,this.selectedItems=[],this.apiUrl=(A==null?void 0:A.apiUrl)||null,this.apiQuery=(A==null?void 0:A.apiQuery)||null,this.apiOptions=(A==null?void 0:A.apiOptions)||null,this.apiSearchQueryKey=(A==null?void 0:A.apiSearchQueryKey)||null,this.apiDataPart=(A==null?void 0:A.apiDataPart)||null,this.apiLoadMore=(A==null?void 0:A.apiLoadMore)===!0?{perPage:10,scrollThreshold:100}:typeof(A==null?void 0:A.apiLoadMore)=="object"&&(A==null?void 0:A.apiLoadMore)!==null&&{perPage:A.apiLoadMore.perPage||10,scrollThreshold:A.apiLoadMore.scrollThreshold||100},this.apiFieldsMap=(A==null?void 0:A.apiFieldsMap)||null,this.apiIconTag=(A==null?void 0:A.apiIconTag)||null,this.apiSelectedValues=(A==null?void 0:A.apiSelectedValues)||null,this.currentPage=0,this.isLoading=!1,this.hasMore=!0,this.wrapperClasses=(A==null?void 0:A.wrapperClasses)||null,this.toggleTag=(A==null?void 0:A.toggleTag)||null,this.toggleClasses=(A==null?void 0:A.toggleClasses)||null,this.toggleCountText=typeof(A==null?void 0:A.toggleCountText)===void 0?null:A.toggleCountText,this.toggleCountTextPlacement=(A==null?void 0:A.toggleCountTextPlacement)||"postfix",this.toggleCountTextMinItems=(A==null?void 0:A.toggleCountTextMinItems)||1,this.toggleCountTextMode=(A==null?void 0:A.toggleCountTextMode)||"countAfterLimit",this.toggleSeparators={items:((b=A==null?void 0:A.toggleSeparators)===null||b===void 0?void 0:b.items)||", ",betweenItemsAndCounter:((w=A==null?void 0:A.toggleSeparators)===null||w===void 0?void 0:w.betweenItemsAndCounter)||"and"},this.tagsItemTemplate=(A==null?void 0:A.tagsItemTemplate)||null,this.tagsItemClasses=(A==null?void 0:A.tagsItemClasses)||null,this.tagsInputId=(A==null?void 0:A.tagsInputId)||null,this.tagsInputClasses=(A==null?void 0:A.tagsInputClasses)||null,this.dropdownTag=(A==null?void 0:A.dropdownTag)||null,this.dropdownClasses=(A==null?void 0:A.dropdownClasses)||null,this.dropdownDirectionClasses=(A==null?void 0:A.dropdownDirectionClasses)||null,this.dropdownSpace=(A==null?void 0:A.dropdownSpace)||10,this.dropdownPlacement=(A==null?void 0:A.dropdownPlacement)||null,this.dropdownVerticalFixedPlacement=(A==null?void 0:A.dropdownVerticalFixedPlacement)||null,this.dropdownScope=(A==null?void 0:A.dropdownScope)||"parent",this.dropdownAutoPlacement=(A==null?void 0:A.dropdownAutoPlacement)||!1,this.searchTemplate=(A==null?void 0:A.searchTemplate)||null,this.searchWrapperTemplate=(A==null?void 0:A.searchWrapperTemplate)||null,this.searchWrapperClasses=(A==null?void 0:A.searchWrapperClasses)||"bg-white p-2 sticky top-0",this.searchId=(A==null?void 0:A.searchId)||null,this.searchLimit=(A==null?void 0:A.searchLimit)||1/0,this.isSearchDirectMatch=(A==null?void 0:A.isSearchDirectMatch)===void 0||(A==null?void 0:A.isSearchDirectMatch),this.searchClasses=(A==null?void 0:A.searchClasses)||"block w-[calc(100%-32px)] text-sm border-gray-200 rounded-md focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 py-2 px-3 my-2 mx-4",this.searchPlaceholder=(A==null?void 0:A.searchPlaceholder)||"Search...",this.searchNoResultTemplate=(A==null?void 0:A.searchNoResultTemplate)||"<span></span>",this.searchNoResultText=(A==null?void 0:A.searchNoResultText)||"No results found",this.searchNoResultClasses=(A==null?void 0:A.searchNoResultClasses)||"px-4 text-sm text-gray-800 dark:text-neutral-200",this.optionAllowEmptyOption=(A==null?void 0:A.optionAllowEmptyOption)!==void 0&&(A==null?void 0:A.optionAllowEmptyOption),this.optionTemplate=(A==null?void 0:A.optionTemplate)||null,this.optionTag=(A==null?void 0:A.optionTag)||null,this.optionClasses=(A==null?void 0:A.optionClasses)||null,this.extraMarkup=(A==null?void 0:A.extraMarkup)||null,this.descriptionClasses=(A==null?void 0:A.descriptionClasses)||null,this.iconClasses=(A==null?void 0:A.iconClasses)||null,this.isAddTagOnEnter=(E=A==null?void 0:A.isAddTagOnEnter)===null||E===void 0||E,this.isSelectedOptionOnTop=(C=A==null?void 0:A.isSelectedOptionOnTop)!==null&&C!==void 0&&C,this.animationInProcess=!1,this.selectOptions=[],this.remoteOptions=[],this.tagsInputHelper=null,this.disabledObserver=new MutationObserver(j=>{j.some(V=>V.attributeName==="disabled")&&this.setDisabledState(this.el.hasAttribute("disabled"))}),this.disabledObserver.observe(this.el,{attributes:!0,attributeFilter:["disabled"]}),this.init()}wrapperClick(d){d.target.closest("[data-hs-select-dropdown]")||d.target.closest("[data-tag-value]")||this.tagsInput.focus()}toggleClick(){if(this.isDisabled)return!1;this.toggleFn()}tagsInputFocus(){this._isOpened||this.open()}tagsInputInput(){this.calculateInputWidth()}tagsInputInputSecond(d){this.apiUrl||this.searchOptions(d.target.value)}tagsInputKeydown(d){if(d.key==="Enter"&&this.isAddTagOnEnter){const p=d.target.value;if(this.selectOptions.find(v=>v.val===p))return!1;this.addSelectOption(p,p),this.buildOption(p,p),this.buildOriginalOption(p,p),this.dropdown.querySelector(`[data-value="${p}"]`).click(),this.resetTagsInputField()}}searchInput(d){const p=d.target.value;this.apiUrl?this.remoteSearch(p):this.searchOptions(p)}setValue(d){this.value=d,this.clearSelections(),Array.isArray(d)?this.mode==="tags"?(this.unselectMultipleItems(),this.selectMultipleItems(),this.selectedItems=[],this.wrapper.querySelectorAll("[data-tag-value]").forEach(p=>p.remove()),this.setTagsItems(),this.reassignTagsInputPlaceholder(this.hasValue()?"":this.placeholder)):(this.toggleTextWrapper.innerHTML=this.hasValue()?this.stringFromValue():this.placeholder,this.unselectMultipleItems(),this.selectMultipleItems()):(this.setToggleTitle(),this.toggle.querySelector("[data-icon]")&&this.setToggleIcon(),this.toggle.querySelector("[data-title]")&&this.setToggleTitle(),this.selectSingleItem())}setDisabledState(d){this.isDisabled=d;const p=this.mode==="tags"?this.wrapper:this.toggle;p==null||p.classList.toggle("disabled",d),d&&this.isOpened()&&this.close()}hasValue(){return this.isMultiple?Array.isArray(this.value)&&this.value.length>0&&this.value.some(d=>d!=null&&d!==""):this.value!==null&&this.value!==void 0&&this.value!==""}init(){this.createCollection(window.$hsSelectCollection,this),this.build(),typeof window<"u"&&(window.HSAccessibilityObserver||(window.HSAccessibilityObserver=new x.default),this.setupAccessibility())}build(){if(this.el.style.display="none",this.el.children&&Array.from(this.el.children).filter(d=>this.optionAllowEmptyOption||!this.optionAllowEmptyOption&&d.value&&d.value!=="").forEach(d=>{const p=d.getAttribute("data-hs-select-option");this.selectOptions=[...this.selectOptions,{title:d.textContent,val:d.value,disabled:d.disabled,options:p!=="undefined"?JSON.parse(p):null}]}),this.optionAllowEmptyOption&&!this.value&&(this.value=""),this.isMultiple){const d=Array.from(this.el.children).filter(v=>v.selected),p=[];d.forEach(v=>{p.push(v.value)}),this.value=p}this.buildWrapper(),this.mode==="tags"?this.buildTags():this.buildToggle(),this.buildDropdown(),this.extraMarkup&&this.buildExtraMarkup()}buildWrapper(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("hs-select","relative"),this.setDisabledState(this.isDisabled),this.mode==="tags"&&(this.onWrapperClickListener=d=>this.wrapperClick(d),this.wrapper.addEventListener("click",this.onWrapperClickListener)),this.wrapperClasses&&(0,y.classToClassList)(this.wrapperClasses,this.wrapper),this.el.before(this.wrapper),this.wrapper.append(this.el)}buildExtraMarkup(){const d=v=>{const b=(0,y.htmlToElement)(v);return this.wrapper.append(b),b},p=v=>{v.classList.contains("--prevent-click")||v.addEventListener("click",b=>{b.stopPropagation(),this.isDisabled||this.toggleFn()})};if(Array.isArray(this.extraMarkup))this.extraMarkup.forEach(v=>{const b=d(v);p(b)});else{const v=d(this.extraMarkup);p(v)}}buildToggle(){var d,p;let v,b;this.toggleTextWrapper=document.createElement("span"),this.toggleTextWrapper.classList.add("truncate"),this.toggle=(0,y.htmlToElement)(this.toggleTag||"<div></div>"),v=this.toggle.querySelector("[data-icon]"),b=this.toggle.querySelector("[data-title]"),!this.isMultiple&&v&&this.setToggleIcon(),!this.isMultiple&&b&&this.setToggleTitle(),this.isMultiple?this.toggleTextWrapper.innerHTML=this.hasValue()?this.stringFromValue():this.placeholder:this.toggleTextWrapper.innerHTML=((d=this.getItemByValue(this.value))===null||d===void 0?void 0:d.title)||this.placeholder,b||this.toggle.append(this.toggleTextWrapper),this.toggleClasses&&(0,y.classToClassList)(this.toggleClasses,this.toggle),this.isDisabled&&this.toggle.classList.add("disabled"),this.wrapper&&this.wrapper.append(this.toggle),!((p=this.toggle)===null||p===void 0)&&p.ariaExpanded&&(this._isOpened?this.toggle.ariaExpanded="true":this.toggle.ariaExpanded="false"),this.onToggleClickListener=()=>this.toggleClick(),this.toggle.addEventListener("click",this.onToggleClickListener)}setToggleIcon(){var d;const p=this.getItemByValue(this.value),v=this.toggle.querySelector("[data-icon]");if(v){v.innerHTML="";const b=(0,y.htmlToElement)(this.apiUrl&&this.apiIconTag?this.apiIconTag||"":((d=p==null?void 0:p.options)===null||d===void 0?void 0:d.icon)||"");this.value&&this.apiUrl&&this.apiIconTag&&p[this.apiFieldsMap.icon]&&(b.src=p[this.apiFieldsMap.icon]||""),v.append(b),b!=null&&b.src?v.classList.remove("hidden"):v.classList.add("hidden")}}setToggleTitle(){const d=this.toggle.querySelector("[data-title]");let p=this.placeholder;if(this.optionAllowEmptyOption&&this.value===""){const v=this.selectOptions.find(b=>b.val==="");p=(v==null?void 0:v.title)||this.placeholder}else if(this.value)if(this.apiUrl){const v=this.remoteOptions.find(b=>`${b[this.apiFieldsMap.val]}`===this.value||`${b[this.apiFieldsMap.title]}`===this.value);v&&(p=v[this.apiFieldsMap.title])}else{const v=this.selectOptions.find(b=>b.val===this.value);v&&(p=v.title)}d?(d.innerHTML=p,d.classList.add("truncate"),this.toggle.append(d)):this.toggleTextWrapper.innerHTML=p}buildTags(){this.isDisabled&&this.wrapper.classList.add("disabled"),this.wrapper.setAttribute("tabindex","0"),this.buildTagsInput(),this.setTagsItems()}reassignTagsInputPlaceholder(d){this.tagsInput.placeholder=d,this.tagsInputHelper.innerHTML=d,this.calculateInputWidth()}buildTagsItem(d){var p,v,b,w,E;const C=this.getItemByValue(d);let T,P,A,j;const V=document.createElement("div");if(V.setAttribute("data-tag-value",d),this.tagsItemClasses&&(0,y.classToClassList)(this.tagsItemClasses,V),this.tagsItemTemplate&&(T=(0,y.htmlToElement)(this.tagsItemTemplate),V.append(T)),((p=C==null?void 0:C.options)===null||p===void 0?void 0:p.icon)||this.apiIconTag){const H=(0,y.htmlToElement)(this.apiUrl&&this.apiIconTag?this.apiIconTag:(v=C==null?void 0:C.options)===null||v===void 0?void 0:v.icon);this.apiUrl&&this.apiIconTag&&C[this.apiFieldsMap.icon]&&(H.src=C[this.apiFieldsMap.icon]||""),j=T?T.querySelector("[data-icon]"):document.createElement("span"),j.append(H),T||V.append(j)}!T||!T.querySelector("[data-icon]")||!((b=C==null?void 0:C.options)===null||b===void 0)&&b.icon||this.apiUrl||this.apiIconTag||C[(w=this.apiFieldsMap)===null||w===void 0?void 0:w.icon]||T.querySelector("[data-icon]").classList.add("hidden"),P=T?T.querySelector("[data-title]"):document.createElement("span"),this.apiUrl&&(!((E=this.apiFieldsMap)===null||E===void 0)&&E.title)&&C[this.apiFieldsMap.title]?P.textContent=C[this.apiFieldsMap.title]:P.textContent=C.title||"",T||V.append(P),T?A=T.querySelector("[data-remove]"):(A=document.createElement("span"),A.textContent="X",V.append(A)),A.addEventListener("click",()=>{this.value=this.value.filter(H=>H!==d),this.selectedItems=this.selectedItems.filter(H=>H!==d),this.hasValue()||this.reassignTagsInputPlaceholder(this.placeholder),this.unselectMultipleItems(),this.selectMultipleItems(),V.remove(),this.triggerChangeEventForNativeSelect()}),this.wrapper.append(V)}getItemByValue(d){return this.apiUrl?this.remoteOptions.find(p=>`${p[this.apiFieldsMap.val]}`===d||p[this.apiFieldsMap.title]===d):this.selectOptions.find(p=>p.val===d)}setTagsItems(){this.value&&(Array.isArray(this.value)?this.value:this.value!=null?[this.value]:[]).forEach(d=>{this.selectedItems.includes(d)||this.buildTagsItem(d),this.selectedItems=this.selectedItems.includes(d)?this.selectedItems:[...this.selectedItems,d]}),this._isOpened&&this.floatingUIInstance&&this.floatingUIInstance.update()}buildTagsInput(){this.tagsInput=document.createElement("input"),this.tagsInputId&&(this.tagsInput.id=this.tagsInputId),this.tagsInputClasses&&(0,y.classToClassList)(this.tagsInputClasses,this.tagsInput),this.tagsInput.setAttribute("tabindex","-1"),this.onTagsInputFocusListener=()=>this.tagsInputFocus(),this.onTagsInputInputListener=()=>this.tagsInputInput(),this.onTagsInputInputSecondListener=(0,y.debounce)(d=>this.tagsInputInputSecond(d)),this.onTagsInputKeydownListener=d=>this.tagsInputKeydown(d),this.tagsInput.addEventListener("focus",this.onTagsInputFocusListener),this.tagsInput.addEventListener("input",this.onTagsInputInputListener),this.tagsInput.addEventListener("input",this.onTagsInputInputSecondListener),this.tagsInput.addEventListener("keydown",this.onTagsInputKeydownListener),this.wrapper.append(this.tagsInput),setTimeout(()=>{this.adjustInputWidth(),this.reassignTagsInputPlaceholder(this.hasValue()?"":this.placeholder)})}buildDropdown(){this.dropdown=(0,y.htmlToElement)(this.dropdownTag||"<div></div>"),this.dropdown.setAttribute("data-hs-select-dropdown",""),this.dropdownScope==="parent"&&(this.dropdown.classList.add("absolute"),this.dropdownVerticalFixedPlacement||this.dropdown.classList.add("top-full")),this.dropdown.role="listbox",this.dropdown.tabIndex=-1,this.dropdown.ariaOrientation="vertical",this._isOpened||this.dropdown.classList.add("hidden"),this.dropdownClasses&&(0,y.classToClassList)(this.dropdownClasses,this.dropdown),this.wrapper&&this.wrapper.append(this.dropdown),this.dropdown&&this.hasSearch&&this.buildSearch(),this.selectOptions&&this.selectOptions.forEach((d,p)=>this.buildOption(d.title,d.val,d.disabled,d.selected,d.options,`${p}`)),this.apiUrl&&this.optionsFromRemoteData(),this.apiUrl||(this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")),this.dropdownScope==="window"&&this.buildFloatingUI(),this.dropdown&&this.apiLoadMore&&this.setupInfiniteScroll()}setupInfiniteScroll(){this.dropdown.addEventListener("scroll",this.handleScroll.bind(this))}handleScroll(){return u(this,void 0,void 0,function*(){if(!this.dropdown||this.isLoading||!this.hasMore||!this.apiLoadMore)return;const{scrollTop:d,scrollHeight:p,clientHeight:v}=this.dropdown;p-d-v<(typeof this.apiLoadMore=="object"?this.apiLoadMore.scrollThreshold:100)&&(yield this.loadMore())})}loadMore(){return u(this,void 0,void 0,function*(){var d,p,v,b;if(this.apiUrl&&!this.isLoading&&this.hasMore&&this.apiLoadMore){this.isLoading=!0;try{const w=new URL(this.apiUrl),E=((d=this.apiFieldsMap)===null||d===void 0?void 0:d.page)||((p=this.apiFieldsMap)===null||p===void 0?void 0:p.offset)||"page",C=!!(!((v=this.apiFieldsMap)===null||v===void 0)&&v.offset),T=typeof this.apiLoadMore=="object"?this.apiLoadMore.perPage:10;if(C){const R=this.currentPage*T;w.searchParams.set(E,R.toString()),this.currentPage++}else this.currentPage++,w.searchParams.set(E,this.currentPage.toString());w.searchParams.set(((b=this.apiFieldsMap)===null||b===void 0?void 0:b.limit)||"limit",T.toString());const P=yield fetch(w.toString(),this.apiOptions||{}),A=yield P.json(),j=this.apiDataPart?A[this.apiDataPart]:A.results,V=A.count||0,H=this.currentPage*T;j&&j.length>0?(this.remoteOptions=[...this.remoteOptions||[],...j],this.buildOptionsFromRemoteData(j),this.hasMore=H<V):this.hasMore=!1}catch(w){this.hasMore=!1,console.error("Error loading more options:",w)}finally{this.isLoading=!1}}})}buildFloatingUI(){if(typeof FloatingUIDOM<"u"&&FloatingUIDOM.computePosition){document.body.appendChild(this.dropdown);const d=this.mode==="tags"?this.wrapper:this.toggle,p=[FloatingUIDOM.offset([0,5])];this.dropdownAutoPlacement&&typeof FloatingUIDOM.flip=="function"&&p.push(FloatingUIDOM.flip({fallbackPlacements:["bottom-start","bottom-end","top-start","top-end"]}));const v={placement:c.POSITIONS[this.dropdownPlacement]||"bottom",strategy:"fixed",middleware:p},b=()=>{FloatingUIDOM.computePosition(d,this.dropdown,v).then(({x:E,y:C,placement:T})=>{Object.assign(this.dropdown.style,{position:"fixed",left:`${E}px`,top:`${C}px`,["margin"+(T==="bottom"?"Top":T==="top"?"Bottom":T==="right"?"Left":"Right")]:`${this.dropdownSpace}px`}),this.dropdown.setAttribute("data-placement",T)})};b();const w=FloatingUIDOM.autoUpdate(d,this.dropdown,b);this.floatingUIInstance={update:b,destroy:w}}else console.error("FloatingUIDOM not found! Please enable it on the page.")}updateDropdownWidth(){const d=this.mode==="tags"?this.wrapper:this.toggle;this.dropdown.style.width=`${d.clientWidth}px`}buildSearch(){let d;this.searchWrapper=(0,y.htmlToElement)(this.searchWrapperTemplate||"<div></div>"),this.searchWrapperClasses&&(0,y.classToClassList)(this.searchWrapperClasses,this.searchWrapper),d=this.searchWrapper.querySelector("[data-input]");const p=(0,y.htmlToElement)(this.searchTemplate||'<input type="text">');this.search=p.tagName==="INPUT"?p:p.querySelector(":scope input"),this.search.placeholder=this.searchPlaceholder,this.searchClasses&&(0,y.classToClassList)(this.searchClasses,this.search),this.searchId&&(this.search.id=this.searchId),this.onSearchInputListener=(0,y.debounce)(v=>this.searchInput(v)),this.search.addEventListener("input",this.onSearchInputListener),d?d.append(p):this.searchWrapper.append(p),this.dropdown.append(this.searchWrapper)}buildOption(d,p,v=!1,b=!1,w,E="1",C){var T;let P=null,A=null,j=null,V=null;const H=(0,y.htmlToElement)(this.optionTag||"<div></div>");if(H.setAttribute("data-value",p),H.setAttribute("data-title-value",d),H.setAttribute("tabIndex",E),H.classList.add("cursor-pointer"),H.setAttribute("data-id",C||`${this.optionId}`),C||this.optionId++,v&&H.classList.add("disabled"),b&&(this.isMultiple?this.value=[...this.value,p]:this.value=p),this.optionTemplate&&(P=(0,y.htmlToElement)(this.optionTemplate),H.append(P)),P?(A=P.querySelector("[data-title]"),A.textContent=d||""):H.textContent=d||"",w){if(w.icon){const R=(0,y.htmlToElement)((T=this.apiIconTag)!==null&&T!==void 0?T:w.icon);if(R.classList.add("max-w-full"),this.apiUrl&&(R.setAttribute("alt",d),R.setAttribute("src",w.icon)),P)j=P.querySelector("[data-icon]"),j.append(R);else{const M=(0,y.htmlToElement)("<div></div>");this.iconClasses&&(0,y.classToClassList)(this.iconClasses,M),M.append(R),H.append(M)}}if(w.description)if(P)V=P.querySelector("[data-description]"),V&&V.append(w.description);else{const R=(0,y.htmlToElement)("<div></div>");R.textContent=w.description,this.descriptionClasses&&(0,y.classToClassList)(this.descriptionClasses,R),H.append(R)}}P&&P.querySelector("[data-icon]")&&!w&&!(w!=null&&w.icon)&&P.querySelector("[data-icon]").classList.add("hidden"),this.value&&(this.isMultiple?this.value.includes(p):this.value===p)&&H.classList.add("selected"),v||H.addEventListener("click",()=>this.onSelectOption(p)),this.optionClasses&&(0,y.classToClassList)(this.optionClasses,H),this.dropdown&&this.dropdown.append(H),b&&this.setNewValue()}buildOptionFromRemoteData(d,p,v=!1,b=!1,w="1",E,C){w?this.buildOption(d,p,v,b,C,w,E):alert("ID parameter is required for generating remote options! Please check your API endpoint have it.")}buildOptionsFromRemoteData(d){d.forEach((p,v)=>{let b=null,w="",E="";const C={id:"",val:"",title:"",icon:null,description:null,rest:{}};if(Object.keys(p).forEach(T=>{var P;p[this.apiFieldsMap.id]&&(b=p[this.apiFieldsMap.id]),p[this.apiFieldsMap.val]&&(E=`${p[this.apiFieldsMap.val]}`),p[this.apiFieldsMap.title]&&(w=p[this.apiFieldsMap.title],p[this.apiFieldsMap.val]||(E=w)),p[this.apiFieldsMap.icon]&&(C.icon=p[this.apiFieldsMap.icon]),p[(P=this.apiFieldsMap)===null||P===void 0?void 0:P.description]&&(C.description=p[this.apiFieldsMap.description]),C.rest[T]=p[T]}),!this.dropdown.querySelector(`[data-value="${E}"]`)){const T=!!this.apiSelectedValues&&(Array.isArray(this.apiSelectedValues)?this.apiSelectedValues.includes(E):this.apiSelectedValues===E);this.buildOriginalOption(w,E,b,!1,T,C),this.buildOptionFromRemoteData(w,E,!1,T,`${v}`,b,C),T&&(this.isMultiple?(this.value||(this.value=[]),Array.isArray(this.value)&&(this.value=[...this.value,E])):this.value=E)}}),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}optionsFromRemoteData(){return u(this,arguments,void 0,function*(d=""){const p=yield this.apiRequest(d);this.remoteOptions=p,p.length?this.buildOptionsFromRemoteData(this.remoteOptions):console.log("There is no data were responded!")})}apiRequest(){return u(this,arguments,void 0,function*(d=""){var p,v,b,w,E,C,T,P,A,j;try{const V=new URL(this.apiUrl),H=new URLSearchParams((p=this.apiQuery)!==null&&p!==void 0?p:""),R=(v=this.apiOptions)!==null&&v!==void 0?v:{},M=(b=this.apiSearchQueryKey)!==null&&b!==void 0?b:"q",B=(d??"").trim().toLowerCase();if(B!==""&&H.set(M,encodeURIComponent(B)),this.apiLoadMore){const Z=typeof this.apiLoadMore=="object"?this.apiLoadMore.perPage:10,Te=(T=(E=(w=this.apiFieldsMap)===null||w===void 0?void 0:w.page)!==null&&E!==void 0?E:(C=this.apiFieldsMap)===null||C===void 0?void 0:C.offset)!==null&&T!==void 0?T:"page",_e=(A=(P=this.apiFieldsMap)===null||P===void 0?void 0:P.limit)!==null&&A!==void 0?A:"limit",ye=!!(!((j=this.apiFieldsMap)===null||j===void 0)&&j.offset);H.delete(Te),H.delete(_e),H.set(Te,ye?"0":"1"),H.set(_e,String(Z))}V.search=H.toString();const W=yield fetch(V.toString(),R),K=yield W.json();return this.apiDataPart?K[this.apiDataPart]:K}catch(V){console.error(V)}})}sortElements(d,p){const v=Array.from(d.querySelectorAll(p));this.isSelectedOptionOnTop&&v.sort((b,w)=>{const E=b.classList.contains("selected")||b.hasAttribute("selected"),C=w.classList.contains("selected")||w.hasAttribute("selected");return E&&!C?-1:!E&&C?1:0}),v.forEach(b=>d.appendChild(b))}remoteSearch(d){return u(this,void 0,void 0,function*(){if(d.length<=this.minSearchLength){const E=yield this.apiRequest("");return this.remoteOptions=E,Array.from(this.dropdown.querySelectorAll("[data-value]")).forEach(C=>C.remove()),Array.from(this.el.querySelectorAll("option[value]")).forEach(C=>{C.remove()}),E.length?this.buildOptionsFromRemoteData(E):console.log("No data responded!"),!1}const p=yield this.apiRequest(d);this.remoteOptions=p;let v=p.map(E=>`${E.id}`),b=null;const w=this.dropdown.querySelectorAll("[data-value]");this.el.querySelectorAll("[data-hs-select-option]").forEach(E=>{var C;const T=E.getAttribute("data-id");v.includes(T)||!((C=this.value)===null||C===void 0)&&C.includes(E.value)||this.destroyOriginalOption(E.value)}),w.forEach(E=>{var C;const T=E.getAttribute("data-id");v.includes(T)||!((C=this.value)===null||C===void 0)&&C.includes(E.getAttribute("data-value"))?v=v.filter(P=>P!==T):this.destroyOption(E.getAttribute("data-value"))}),b=p.filter(E=>v.includes(`${E.id}`)),b.length?this.buildOptionsFromRemoteData(b):console.log("No data responded!")})}destroyOption(d){const p=this.dropdown.querySelector(`[data-value="${d}"]`);if(!p)return!1;p.remove()}buildOriginalOption(d,p,v,b,w,E){const C=(0,y.htmlToElement)("<option></option>");C.setAttribute("value",p),b&&C.setAttribute("disabled","disabled"),w&&C.setAttribute("selected","selected"),v&&C.setAttribute("data-id",v),C.setAttribute("data-hs-select-option",JSON.stringify(E)),C.innerText=d,this.el.append(C)}destroyOriginalOption(d){const p=this.el.querySelector(`[value="${d}"]`);if(!p)return!1;p.remove()}buildTagsInputHelper(){this.tagsInputHelper=document.createElement("span"),this.tagsInputHelper.style.fontSize=window.getComputedStyle(this.tagsInput).fontSize,this.tagsInputHelper.style.fontFamily=window.getComputedStyle(this.tagsInput).fontFamily,this.tagsInputHelper.style.fontWeight=window.getComputedStyle(this.tagsInput).fontWeight,this.tagsInputHelper.style.letterSpacing=window.getComputedStyle(this.tagsInput).letterSpacing,this.tagsInputHelper.style.visibility="hidden",this.tagsInputHelper.style.whiteSpace="pre",this.tagsInputHelper.style.position="absolute",this.wrapper.appendChild(this.tagsInputHelper)}calculateInputWidth(){this.tagsInputHelper.textContent=this.tagsInput.value||this.tagsInput.placeholder;const d=parseInt(window.getComputedStyle(this.tagsInput).paddingLeft)+parseInt(window.getComputedStyle(this.tagsInput).paddingRight),p=parseInt(window.getComputedStyle(this.tagsInput).borderLeftWidth)+parseInt(window.getComputedStyle(this.tagsInput).borderRightWidth),v=this.tagsInputHelper.offsetWidth+d+p,b=this.wrapper.offsetWidth-(parseInt(window.getComputedStyle(this.wrapper).paddingLeft)+parseInt(window.getComputedStyle(this.wrapper).paddingRight));this.tagsInput.style.width=`${Math.min(v,b)+2}px`}adjustInputWidth(){this.buildTagsInputHelper(),this.calculateInputWidth()}onSelectOption(d){if(this.clearSelections(),this.isMultiple?(Array.isArray(this.value)||(this.value=[]),this.value=this.value.includes(d)?this.value.filter(p=>p!==d):[...this.value,d],this.selectMultipleItems(),this.setNewValue()):(this.value=d,this.selectSingleItem(),this.setNewValue()),this.fireEvent("change",this.value),this.mode==="tags"){const p=this.selectedItems.filter(v=>!this.value.includes(v));p.length&&p.forEach(v=>{this.selectedItems=this.selectedItems.filter(b=>b!==v),this.wrapper.querySelector(`[data-tag-value="${v}"]`).remove()}),this.resetTagsInputField()}this.isMultiple||(this.toggle.querySelector("[data-icon]")&&this.setToggleIcon(),this.toggle.querySelector("[data-title]")&&this.setToggleTitle(),this.close(!0)),this.hasValue()||this.mode!=="tags"||this.reassignTagsInputPlaceholder(this.placeholder),this._isOpened&&this.mode==="tags"&&this.tagsInput&&this.tagsInput.focus(),this.triggerChangeEventForNativeSelect()}triggerChangeEventForNativeSelect(){const d=new Event("change",{bubbles:!0});this.el.dispatchEvent(d),(0,y.dispatch)("change.hs.select",this.el,this.value)}addSelectOption(d,p,v,b,w){this.selectOptions=[...this.selectOptions,{title:d,val:p,disabled:v,selected:b,options:w}]}removeSelectOption(d,p=!1){if(!this.selectOptions.some(v=>v.val===d))return!1;this.selectOptions=this.selectOptions.filter(v=>v.val!==d),this.value=p?this.value.filter(v=>v!==d):d}resetTagsInputField(){this.tagsInput.value="",this.reassignTagsInputPlaceholder(""),this.searchOptions("")}clearSelections(){Array.from(this.dropdown.children).forEach(d=>{d.classList.contains("selected")&&d.classList.remove("selected")}),Array.from(this.el.children).forEach(d=>{d.selected&&(d.selected=!1)})}setNewValue(){if(this.mode==="tags")this.setTagsItems();else if(this.optionAllowEmptyOption&&this.value===""){const d=this.selectOptions.find(p=>p.val==="");this.toggleTextWrapper.innerHTML=(d==null?void 0:d.title)||this.placeholder}else if(this.hasValue())if(this.apiUrl){const d=this.dropdown.querySelector(`[data-value="${this.value}"]`);if(d)this.toggleTextWrapper.innerHTML=d.getAttribute("data-title-value")||this.placeholder;else{const p=this.remoteOptions.find(v=>(v[this.apiFieldsMap.val]?`${v[this.apiFieldsMap.val]}`:v[this.apiFieldsMap.title])===this.value);this.toggleTextWrapper.innerHTML=p?`${p[this.apiFieldsMap.title]}`:this.stringFromValue()}}else this.toggleTextWrapper.innerHTML=this.stringFromValue();else this.toggleTextWrapper.innerHTML=this.placeholder}stringFromValueBasic(d){var p;const v=[];let b="";if(d.forEach(w=>{this.isMultiple?Array.isArray(this.value)&&this.value.includes(w.val)&&v.push(w.title):this.value===w.val&&v.push(w.title)}),this.toggleCountText!==void 0&&this.toggleCountText!==null&&v.length>=this.toggleCountTextMinItems)if(this.toggleCountTextMode==="nItemsAndCount"){const w=v.slice(0,this.toggleCountTextMinItems-1),E=[w.join(this.toggleSeparators.items)],C=""+(v.length-w.length);if(!((p=this==null?void 0:this.toggleSeparators)===null||p===void 0)&&p.betweenItemsAndCounter&&E.push(this.toggleSeparators.betweenItemsAndCounter),this.toggleCountText)switch(this.toggleCountTextPlacement){case"postfix-no-space":E.push(`${C}${this.toggleCountText}`);break;case"prefix-no-space":E.push(`${this.toggleCountText}${C}`);break;case"prefix":E.push(`${this.toggleCountText} ${C}`);break;default:E.push(`${C} ${this.toggleCountText}`)}b=E.join(" ")}else b=`${v.length} ${this.toggleCountText}`;else b=v.join(this.toggleSeparators.items);return b}stringFromValueRemoteData(){const d=this.dropdown.querySelectorAll("[data-title-value]"),p=[];let v="";if(d.forEach(b=>{const w=b.getAttribute("data-value"),E=b.getAttribute("data-title-value");this.isMultiple?Array.isArray(this.value)&&this.value.includes(w)&&p.push(E):this.value===w&&p.push(E)}),this.toggleCountText&&this.toggleCountText!==""&&p.length>=this.toggleCountTextMinItems)if(this.toggleCountTextMode==="nItemsAndCount"){const b=p.slice(0,this.toggleCountTextMinItems-1);v=`${b.join(this.toggleSeparators.items)} ${this.toggleSeparators.betweenItemsAndCounter} ${p.length-b.length} ${this.toggleCountText}`}else v=`${p.length} ${this.toggleCountText}`;else v=p.join(this.toggleSeparators.items);return v}stringFromValue(){return this.apiUrl?this.stringFromValueRemoteData():this.stringFromValueBasic(this.selectOptions)}selectSingleItem(){Array.from(this.el.children).find(p=>this.value===p.value).selected=!0;const d=Array.from(this.dropdown.children).find(p=>this.value===p.getAttribute("data-value"));d&&d.classList.add("selected"),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}selectMultipleItems(){Array.isArray(this.value)&&(Array.from(this.dropdown.children).filter(d=>this.value.includes(d.getAttribute("data-value"))).forEach(d=>d.classList.add("selected")),Array.from(this.el.children).filter(d=>this.value.includes(d.value)).forEach(d=>d.selected=!0),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]"))}unselectMultipleItems(){Array.from(this.dropdown.children).forEach(d=>d.classList.remove("selected")),Array.from(this.el.children).forEach(d=>d.selected=!1),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}searchOptions(d){if(d.length<=this.minSearchLength)return this.searchNoResult&&(this.searchNoResult.remove(),this.searchNoResult=null),this.dropdown.querySelectorAll("[data-value]").forEach(w=>{w.classList.remove("hidden")}),!1;this.searchNoResult&&(this.searchNoResult.remove(),this.searchNoResult=null),this.searchNoResult=(0,y.htmlToElement)(this.searchNoResultTemplate),this.searchNoResult.innerText=this.searchNoResultText,(0,y.classToClassList)(this.searchNoResultClasses,this.searchNoResult);const p=this.dropdown.querySelectorAll("[data-value]");let v,b=!1;this.searchLimit&&(v=0),p.forEach(w=>{const E=w.getAttribute("data-title-value").toLocaleLowerCase();let C;if(this.isSearchDirectMatch)C=!E.includes(d.toLowerCase())||this.searchLimit&&v>=this.searchLimit;else{const T=d?d.split("").map(P=>/\w/.test(P)?`${P}[\\W_]*`:"\\W*").join(""):"";C=!new RegExp(T,"i").test(E.trim())||this.searchLimit&&v>=this.searchLimit}C?w.classList.add("hidden"):(w.classList.remove("hidden"),b=!0,this.searchLimit&&v++)}),b||this.dropdown.append(this.searchNoResult)}eraseToggleIcon(){const d=this.toggle.querySelector("[data-icon]");d&&(d.innerHTML=null,d.classList.add("hidden"))}eraseToggleTitle(){const d=this.toggle.querySelector("[data-title]");d?d.innerHTML=this.placeholder:this.toggleTextWrapper.innerHTML=this.placeholder}toggleFn(){this._isOpened?this.close():this.open()}setupAccessibility(){this.accessibilityComponent=window.HSAccessibilityObserver.registerComponent(this.wrapper,{onEnter:()=>{if(this._isOpened){const d=this.dropdown.querySelector(".hs-select-option-highlighted");d&&(this.onSelectOption(d.getAttribute("data-value")||""),this._isOpened&&d.focus())}else this.open()},onSpace:()=>{if(this._isOpened){const d=this.dropdown.querySelector(".hs-select-option-highlighted");d&&(this.onSelectOption(d.getAttribute("data-value")||""),this._isOpened&&d.focus())}else this.open()},onEsc:()=>{this._isOpened&&this.close(!0)},onArrow:d=>{if(!d.metaKey)if(this._isOpened||d.key!=="ArrowDown"){if(this._isOpened)switch(d.key){case"ArrowDown":this.focusMenuItem("next");break;case"ArrowUp":this.focusMenuItem("prev");break;case"Home":this.onStartEnd(!0);break;case"End":this.onStartEnd(!1)}}else this.open()},onHome:()=>{this._isOpened&&this.onStartEnd(!0)},onEnd:()=>{this._isOpened&&this.onStartEnd(!1)},onTab:()=>{this._isOpened&&this.close()}},this._isOpened,"Select",".hs-select",this.dropdown)}focusMenuItem(d){const p=Array.from(this.dropdown.querySelectorAll(":scope > *:not(.hidden)")).filter(E=>!E.classList.contains("disabled"));if(!p.length)return;const v=this.dropdown.querySelector(".hs-select-option-highlighted"),b=v?p.indexOf(v):-1,w=d==="next"?(b+1)%p.length:(b-1+p.length)%p.length;v&&v.classList.remove("hs-select-option-highlighted"),p[w].classList.add("hs-select-option-highlighted"),p[w].focus()}onStartEnd(d=!0){if(!this.dropdown)return;const p=Array.from(this.dropdown.querySelectorAll(":scope > *:not(.hidden)")).filter(w=>!w.classList.contains("disabled"));if(!p.length)return;const v=this.dropdown.querySelector(".hs-select-option-highlighted");v&&v.classList.remove("hs-select-option-highlighted");const b=d?0:p.length-1;p[b].classList.add("hs-select-option-highlighted"),p[b].focus()}destroy(){var d;this.wrapper&&this.wrapper.removeEventListener("click",this.onWrapperClickListener),this.toggle&&this.toggle.removeEventListener("click",this.onToggleClickListener),this.tagsInput&&(this.tagsInput.removeEventListener("focus",this.onTagsInputFocusListener),this.tagsInput.removeEventListener("input",this.onTagsInputInputListener),this.tagsInput.removeEventListener("input",this.onTagsInputInputSecondListener),this.tagsInput.removeEventListener("keydown",this.onTagsInputKeydownListener)),this.search&&this.search.removeEventListener("input",this.onSearchInputListener);const p=this.el.parentElement.parentElement;this.el.classList.add("hidden"),this.el.style.display="",p.prepend(this.el),p.querySelector(".hs-select").remove(),this.wrapper=null,(d=this.disabledObserver)===null||d===void 0||d.disconnect(),this.disabledObserver=null,window.$hsSelectCollection=window.$hsSelectCollection.filter(({element:v})=>v.el!==this.el)}open(){var d;const p=((d=window==null?void 0:window.$hsSelectCollection)===null||d===void 0?void 0:d.find(v=>v.element.isOpened()))||null;if(p&&p.element.close(),this.animationInProcess)return!1;this.animationInProcess=!0,this.dropdownScope==="window"&&this.dropdown.classList.add("invisible"),this.dropdown.classList.remove("hidden"),this.dropdownScope!=="window"&&this.recalculateDirection(),setTimeout(()=>{var v;!((v=this==null?void 0:this.toggle)===null||v===void 0)&&v.ariaExpanded&&(this.toggle.ariaExpanded="true"),this.wrapper.classList.add("active"),this.dropdown.classList.add("opened"),this.dropdown.classList.contains("w-full")&&this.dropdownScope==="window"&&this.updateDropdownWidth(),this.floatingUIInstance&&this.dropdownScope==="window"&&(this.floatingUIInstance.update(),this.dropdown.classList.remove("invisible")),this.hasSearch&&!this.preventSearchFocus&&this.search.focus(),this.animationInProcess=!1}),this._isOpened=!0,window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,this._isOpened)}close(d=!1){var p,v,b,w;if(this.animationInProcess)return!1;this.animationInProcess=!0,!((p=this==null?void 0:this.toggle)===null||p===void 0)&&p.ariaExpanded&&(this.toggle.ariaExpanded="false"),this.wrapper.classList.remove("active"),this.dropdown.classList.remove("opened","bottom-full","top-full"),!((v=this.dropdownDirectionClasses)===null||v===void 0)&&v.bottom&&this.dropdown.classList.remove(this.dropdownDirectionClasses.bottom),!((b=this.dropdownDirectionClasses)===null||b===void 0)&&b.top&&this.dropdown.classList.remove(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop="",this.dropdown.style.marginBottom="",(0,y.afterTransition)(this.dropdown,()=>{var E;this.dropdown.classList.add("hidden"),this.hasSearch&&(this.search.value="",this.apiUrl||this.search.dispatchEvent(new Event("input",{bubbles:!0})),this.search.blur()),d&&(!((E=this.mode)===null||E===void 0)&&E.includes("tags")?this.wrapper.focus():this.toggle.focus()),this.animationInProcess=!1}),(w=this.dropdown.querySelector(".hs-select-option-highlighted"))===null||w===void 0||w.classList.remove("hs-select-option-highlighted"),this._isOpened=!1,window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,this._isOpened)}addOption(d){let p=`${this.selectOptions.length}`;const v=b=>{const{title:w,val:E,disabled:C,selected:T,options:P}=b;this.selectOptions.some(A=>A.val===E)||(this.addSelectOption(w,E,C,T,P),this.buildOption(w,E,C,T,P,p),this.buildOriginalOption(w,E,null,C,T,P),T&&!this.isMultiple&&this.onSelectOption(E))};Array.isArray(d)?d.forEach(b=>{v(b)}):v(d),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}removeOption(d){const p=(v,b=!1)=>{this.selectOptions.some(w=>w.val===v)&&(this.removeSelectOption(v,b),this.destroyOption(v),this.destroyOriginalOption(v),this.value===v&&(this.value=null,this.eraseToggleTitle(),this.eraseToggleIcon()))};Array.isArray(d)?d.forEach(v=>{p(v,this.isMultiple)}):p(d,this.isMultiple),this.setNewValue(),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}recalculateDirection(){var d,p,v,b;if(this!=null&&this.dropdownVerticalFixedPlacement&&(this.dropdown.classList.contains("bottom-full")||this.dropdown.classList.contains("top-full")))return!1;(this==null?void 0:this.dropdownVerticalFixedPlacement)==="top"?(this.dropdown.classList.add("bottom-full"),this.dropdown.style.marginBottom=`${this.dropdownSpace}px`):(this==null?void 0:this.dropdownVerticalFixedPlacement)==="bottom"?(this.dropdown.classList.add("top-full"),this.dropdown.style.marginTop=`${this.dropdownSpace}px`):(0,y.isEnoughSpace)(this.dropdown,this.toggle||this.tagsInput,"bottom",this.dropdownSpace,this.viewport)?(this.dropdown.classList.remove("bottom-full"),!((d=this.dropdownDirectionClasses)===null||d===void 0)&&d.bottom&&this.dropdown.classList.remove(this.dropdownDirectionClasses.bottom),this.dropdown.style.marginBottom="",this.dropdown.classList.add("top-full"),!((p=this.dropdownDirectionClasses)===null||p===void 0)&&p.top&&this.dropdown.classList.add(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop=`${this.dropdownSpace}px`):(this.dropdown.classList.remove("top-full"),!((v=this.dropdownDirectionClasses)===null||v===void 0)&&v.top&&this.dropdown.classList.remove(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop="",this.dropdown.classList.add("bottom-full"),!((b=this.dropdownDirectionClasses)===null||b===void 0)&&b.bottom&&this.dropdown.classList.add(this.dropdownDirectionClasses.bottom),this.dropdown.style.marginBottom=`${this.dropdownSpace}px`)}isOpened(){return this._isOpened||!1}containsElement(d){var p;return((p=this.wrapper)===null||p===void 0?void 0:p.contains(d))||!1}static findInCollection(d){return window.$hsSelectCollection.find(p=>d instanceof h?p.element.el===d.el:typeof d=="string"?p.element.el===document.querySelector(d):p.element.el===d)||null}static getInstance(d,p){const v=window.$hsSelectCollection.find(b=>b.element.el===(typeof d=="string"?document.querySelector(d):d));return v?p?v:v.element:null}static autoInit(){window.$hsSelectCollection||(window.$hsSelectCollection=[],window.addEventListener("click",d=>{const p=d.target;h.closeCurrentlyOpened(p)})),window.$hsSelectCollection&&(window.$hsSelectCollection=window.$hsSelectCollection.filter(({element:d})=>document.contains(d.el))),document.querySelectorAll("[data-hs-select]:not(.--prevent-on-load-init)").forEach(d=>{if(!window.$hsSelectCollection.find(p=>{var v;return((v=p==null?void 0:p.element)===null||v===void 0?void 0:v.el)===d})){const p=d.getAttribute("data-hs-select"),v=p?JSON.parse(p):{};new h(d,v)}})}static open(d){const p=h.findInCollection(d);p&&!p.element.isOpened()&&p.element.open()}static close(d){const p=h.findInCollection(d);p&&p.element.isOpened()&&p.element.close()}static closeCurrentlyOpened(d=null){if(!d.closest(".hs-select.active")&&!d.closest("[data-hs-select-dropdown].opened")){const p=window.$hsSelectCollection.filter(v=>v.element.isOpened())||null;p&&p.forEach(v=>{v.element.close()})}}}window.addEventListener("load",()=>{h.autoInit()}),document.addEventListener("scroll",()=>{if(!window.$hsSelectCollection)return!1;const g=window.$hsSelectCollection.find(d=>d.element.isOpened());g&&g.element.recalculateDirection()}),typeof window<"u"&&(window.HSSelect=h),i.default=h},485:function(n,i,l){/*
* HSCollapse
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h,g){super(c,h,g),this.contentId=this.el.dataset.hsCollapse,this.content=document.querySelector(this.contentId),this.animationInProcess=!1,this.content&&this.init()}elementClick(){this.content.classList.contains("open")?this.hide():this.show()}init(){var c;this.createCollection(window.$hsCollapseCollection,this),this.onElementClickListener=()=>this.elementClick(),!((c=this==null?void 0:this.el)===null||c===void 0)&&c.ariaExpanded&&(this.el.classList.contains("open")?this.el.ariaExpanded="true":this.el.ariaExpanded="false"),this.el.addEventListener("click",this.onElementClickListener)}hideAllMegaMenuItems(){this.content.querySelectorAll(".hs-mega-menu-content.block").forEach(c=>{c.classList.remove("block"),c.classList.add("hidden")})}show(){var c;if(this.animationInProcess||this.el.classList.contains("open"))return!1;this.animationInProcess=!0,this.el.classList.add("open"),!((c=this==null?void 0:this.el)===null||c===void 0)&&c.ariaExpanded&&(this.el.ariaExpanded="true"),this.content.classList.add("open"),this.content.classList.remove("hidden"),this.content.style.height="0",setTimeout(()=>{this.content.style.height=`${this.content.scrollHeight}px`,this.fireEvent("beforeOpen",this.el),(0,m.dispatch)("beforeOpen.hs.collapse",this.el,this.el)}),(0,m.afterTransition)(this.content,()=>{this.content.style.height="",this.fireEvent("open",this.el),(0,m.dispatch)("open.hs.collapse",this.el,this.el),this.animationInProcess=!1})}hide(){var c;if(this.animationInProcess||!this.el.classList.contains("open"))return!1;this.animationInProcess=!0,this.el.classList.remove("open"),!((c=this==null?void 0:this.el)===null||c===void 0)&&c.ariaExpanded&&(this.el.ariaExpanded="false"),this.content.style.height=`${this.content.scrollHeight}px`,setTimeout(()=>{this.content.style.height="0"}),this.content.classList.remove("open"),(0,m.afterTransition)(this.content,()=>{this.content.classList.add("hidden"),this.content.style.height="",this.fireEvent("hide",this.el),(0,m.dispatch)("hide.hs.collapse",this.el,this.el),this.animationInProcess=!1}),this.content.querySelectorAll(".hs-mega-menu-content.block").length&&this.hideAllMegaMenuItems()}destroy(){this.el.removeEventListener("click",this.onElementClickListener),this.content=null,this.animationInProcess=!1,window.$hsCollapseCollection=window.$hsCollapseCollection.filter(({element:c})=>c.el!==this.el)}static findInCollection(c){return window.$hsCollapseCollection.find(h=>c instanceof f?h.element.el===c.el:typeof c=="string"?h.element.el===document.querySelector(c):h.element.el===c)||null}static getInstance(c,h=!1){const g=window.$hsCollapseCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element.el:null}static autoInit(){window.$hsCollapseCollection||(window.$hsCollapseCollection=[]),window.$hsCollapseCollection&&(window.$hsCollapseCollection=window.$hsCollapseCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll(".hs-collapse-toggle:not(.--prevent-on-load-init)").forEach(c=>{window.$hsCollapseCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}static show(c){const h=f.findInCollection(c);h&&h.element.content.classList.contains("hidden")&&h.element.show()}static hide(c){const h=f.findInCollection(c);h&&!h.element.content.classList.contains("hidden")&&h.element.hide()}static on(c,h,g){const d=f.findInCollection(h);d&&(d.element.events[c]=g)}}window.addEventListener("load",()=>{f.autoInit()}),typeof window<"u"&&(window.HSCollapse=f),i.default=f},502:function(n,i,l){/*
* HSThemeSwitch
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0});const m=u(l(961));class y extends m.default{constructor(x,c){super(x,c);const h=x.getAttribute("data-hs-theme-switch"),g=h?JSON.parse(h):{},d=Object.assign(Object.assign({},g),c);this.theme=(d==null?void 0:d.theme)||localStorage.getItem("hs_theme")||"default",this.type=(d==null?void 0:d.type)||"change",this.init()}elementChange(x){const c=x.target.checked?"dark":"default";this.setAppearance(c),this.toggleObserveSystemTheme()}elementClick(x){this.setAppearance(x),this.toggleObserveSystemTheme()}init(){this.createCollection(window.$hsThemeSwitchCollection,this),this.theme!=="default"&&this.setAppearance(),this.type==="click"?this.buildSwitchTypeOfClick():this.buildSwitchTypeOfChange()}buildSwitchTypeOfChange(){this.el.checked=this.theme==="dark",this.toggleObserveSystemTheme(),this.onElementChangeListener=x=>this.elementChange(x),this.el.addEventListener("change",this.onElementChangeListener)}buildSwitchTypeOfClick(){const x=this.el.getAttribute("data-hs-theme-click-value");this.toggleObserveSystemTheme(),this.onElementClickListener=()=>this.elementClick(x),this.el.addEventListener("click",this.onElementClickListener)}setResetStyles(){const x=document.createElement("style");return x.innerText="*{transition: unset !important;}",x.setAttribute("data-hs-appearance-onload-styles",""),document.head.appendChild(x),x}addSystemThemeObserver(){y.systemThemeObserver||(y.systemThemeObserver=x=>{var c;(c=window.$hsThemeSwitchCollection)===null||c===void 0||c.forEach(h=>{localStorage.getItem("hs_theme")==="auto"&&h.element.setAppearance("auto",!1)})},window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",y.systemThemeObserver))}removeSystemThemeObserver(){y.systemThemeObserver&&(window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",y.systemThemeObserver),y.systemThemeObserver=null)}toggleObserveSystemTheme(){localStorage.getItem("hs_theme")==="auto"?this.addSystemThemeObserver():this.removeSystemThemeObserver()}setAppearance(x=this.theme,c=!0,h=!0){const g=document.querySelector("html"),d=this.setResetStyles();c&&localStorage.setItem("hs_theme",x);let p=x;p==="default"&&(p="light"),p==="auto"&&(p=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),g.classList.remove("light","dark","default","auto"),x==="auto"?g.classList.add("auto",p):g.classList.add(p),setTimeout(()=>d.remove()),h&&window.dispatchEvent(new CustomEvent("on-hs-appearance-change",{detail:x}))}destroy(){this.type==="change"&&this.el.removeEventListener("change",this.onElementChangeListener),this.type==="click"&&this.el.removeEventListener("click",this.onElementClickListener),window.$hsThemeSwitchCollection=window.$hsThemeSwitchCollection.filter(({element:x})=>x.el!==this.el)}static getInstance(x,c){const h=window.$hsThemeSwitchCollection.find(g=>g.element.el===(typeof x=="string"?document.querySelector(x):x));return h?c?h:h.element.el:null}static autoInit(){window.$hsThemeSwitchCollection||(window.$hsThemeSwitchCollection=[]),window.$hsThemeSwitchCollection&&(window.$hsThemeSwitchCollection=window.$hsThemeSwitchCollection.filter(({element:x})=>document.contains(x.el))),document.querySelectorAll("[data-hs-theme-switch]:not(.--prevent-on-load-init)").forEach(x=>{window.$hsThemeSwitchCollection.find(c=>{var h;return((h=c==null?void 0:c.element)===null||h===void 0?void 0:h.el)===x})||new y(x,{type:"change"})}),document.querySelectorAll("[data-hs-theme-click-value]:not(.--prevent-on-load-init)").forEach(x=>{window.$hsThemeSwitchCollection.find(c=>{var h;return((h=c==null?void 0:c.element)===null||h===void 0?void 0:h.el)===x})||new y(x,{type:"click"})})}}y.systemThemeObserver=null,window.addEventListener("load",()=>{y.autoInit()}),window.$hsThemeSwitchCollection&&window.addEventListener("on-hs-appearance-change",f=>{window.$hsThemeSwitchCollection.forEach(x=>{x.element.el.checked=f.detail==="dark"})}),typeof window<"u"&&(window.HSThemeSwitch=y),i.default=y},632:(n,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0});const u=l(359);class m extends u.Calendar{constructor(f,x){super(f,x);const c=this.set;this.set=(h,g)=>{c&&c.call(this,h,g),h.selectedTime&&this.onChangeTime&&this.onChangeTime(this,null,!0),h.selectedMonth&&this.onClickMonth&&this.onClickMonth(this,null),h.selectedYear&&this.onClickYear&&this.onClickYear(this,null)}}static get defaultStyles(){return{calendar:"vc",controls:"vc-controls",grid:"vc-grid",column:"vc-column",header:"vc-header",headerContent:"vc-header__content",month:"vc-month",year:"vc-year",arrowPrev:"vc-arrow vc-arrow_prev",arrowNext:"vc-arrow vc-arrow_next",wrapper:"vc-wrapper",content:"vc-content",months:"vc-months",monthsMonth:"vc-months__month",years:"vc-years",yearsYear:"vc-years__year",week:"vc-week",weekDay:"vc-week__day",weekNumbers:"vc-week-numbers",weekNumbersTitle:"vc-week-numbers__title",weekNumbersContent:"vc-week-numbers__content",weekNumber:"vc-week-number",dates:"vc-dates",date:"vc-date",dateBtn:"vc-date__btn",datePopup:"vc-date__popup",dateRangeTooltip:"vc-date-range-tooltip",time:"vc-time",timeContent:"vc-time__content",timeHour:"vc-time__hour",timeMinute:"vc-time__minute",timeKeeping:"vc-time__keeping",timeRanges:"vc-time__ranges",timeRange:"vc-time__range"}}logInfo(){console.log("This log is from CustomVanillaCalendar!",this)}}i.default=m},639:function(n,i,l){/*
* HSScrollNav
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h){var g,d;super(c,h);const p=c.getAttribute("data-hs-scroll-nav"),v=p?JSON.parse(p):{},b=Object.assign(Object.assign(Object.assign({},{paging:!0,autoCentering:!1}),v),h);this.paging=(g=b.paging)===null||g===void 0||g,this.autoCentering=(d=b.autoCentering)!==null&&d!==void 0&&d,this.body=this.el.querySelector(".hs-scroll-nav-body"),this.items=this.body?Array.from(this.body.querySelectorAll(":scope > *")):[],this.prev=this.el.querySelector(".hs-scroll-nav-prev")||null,this.next=this.el.querySelector(".hs-scroll-nav-next")||null,this.setCurrentState(),this.init()}init(){if(!this.body||!this.items.length)return!1;this.createCollection(window.$hsScrollNavCollection,this),this.setCurrentState(),this.paging?(this.prev&&this.buildPrev(),this.next&&this.buildNext()):(this.prev&&this.buildPrevSingle(),this.next&&this.buildNextSingle()),this.autoCentering&&this.scrollToActiveElement(),this.body.addEventListener("scroll",(0,m.debounce)(()=>this.setCurrentState(),200)),window.addEventListener("resize",(0,m.debounce)(()=>{this.setCurrentState(),this.autoCentering&&this.scrollToActiveElement()},200))}setCurrentState(){this.currentState={first:this.getFirstVisibleItem(),last:this.getLastVisibleItem(),center:this.getCenterVisibleItem()},this.prev&&this.setPrevToDisabled(),this.next&&this.setNextToDisabled()}setPrevToDisabled(){this.currentState.first===this.items[0]?(this.prev.setAttribute("disabled","disabled"),this.prev.classList.add("disabled")):(this.prev.removeAttribute("disabled"),this.prev.classList.remove("disabled"))}setNextToDisabled(){this.currentState.last===this.items[this.items.length-1]?(this.next.setAttribute("disabled","disabled"),this.next.classList.add("disabled")):(this.next.removeAttribute("disabled"),this.next.classList.remove("disabled"))}buildPrev(){this.prev&&this.prev.addEventListener("click",()=>{const c=this.currentState.first;if(!c)return;const h=this.getVisibleItemsCount();let g=c;for(let d=0;d<h&&g.previousElementSibling;d++)g=g.previousElementSibling;this.goTo(g)})}buildNext(){this.next&&this.next.addEventListener("click",()=>{const c=this.currentState.last;if(!c)return;const h=this.getVisibleItemsCount();let g=c;for(let d=0;d<h&&g.nextElementSibling;d++)g=g.nextElementSibling;this.goTo(g)})}buildPrevSingle(){var c;(c=this.prev)===null||c===void 0||c.addEventListener("click",()=>{const h=this.currentState.first;if(!h)return;const g=h.previousElementSibling;g&&this.goTo(g)})}buildNextSingle(){var c;(c=this.next)===null||c===void 0||c.addEventListener("click",()=>{const h=this.currentState.last;if(!h)return;const g=h.nextElementSibling;g&&this.goTo(g)})}getCenterVisibleItem(){const c=this.body.scrollLeft+this.body.clientWidth/2;let h=null,g=1/0;return this.items.forEach(d=>{const p=d.offsetLeft+d.offsetWidth/2,v=Math.abs(p-c);v<g&&(g=v,h=d)}),h}getFirstVisibleItem(){const c=this.body.getBoundingClientRect();for(let h of this.items){const g=h.getBoundingClientRect();if(g.left>=c.left&&g.right<=c.right)return h}return null}getLastVisibleItem(){const c=this.body.getBoundingClientRect();for(let h=this.items.length-1;h>=0;h--){const g=this.items[h],d=g.getBoundingClientRect();if(d.left<c.right&&d.right>c.left)return g}return null}getVisibleItemsCount(){const c=this.body.clientWidth;let h=0,g=0;for(let d of this.items){if(g+=d.offsetWidth,!(g<=c))break;h++}return h}scrollToActiveElement(){const c=this.body.querySelector(".active");if(!c)return!1;this.centerElement(c)}getCurrentState(){return this.currentState}goTo(c,h){c.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),new IntersectionObserver((g,d)=>{g.forEach(p=>{p.target===c&&p.isIntersecting&&(typeof h=="function"&&h(),d.disconnect())})},{root:this.body,threshold:1}).observe(c)}centerElement(c,h="smooth"){if(!this.body.contains(c))return;const g=c.offsetLeft+c.offsetWidth/2-this.body.clientWidth/2;this.body.scrollTo({left:g,behavior:h})}destroy(){this.paging?(this.prev&&this.prev.removeEventListener("click",this.buildPrev),this.next&&this.next.removeEventListener("click",this.buildNext)):(this.prev&&this.prev.removeEventListener("click",this.buildPrevSingle),this.next&&this.next.removeEventListener("click",this.buildNextSingle)),window.removeEventListener("resize",(0,m.debounce)(()=>this.setCurrentState(),200)),window.$hsScrollNavCollection=window.$hsScrollNavCollection.filter(({element:c})=>c.el!==this.el)}static getInstance(c,h){const g=window.$hsScrollNavCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c)||d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element.el:null}static autoInit(){window.$hsScrollNavCollection||(window.$hsScrollNavCollection=[]),window.$hsScrollNavCollection&&(window.$hsRemoveElementCollection=window.$hsRemoveElementCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-scroll-nav]:not(.--prevent-on-load-init)").forEach(c=>{window.$hsScrollNavCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}}window.addEventListener("load",()=>{f.autoInit()}),typeof window<"u"&&(window.HSScrollNav=f),i.default=f},684:function(n,i,l){/*
* HSToggleCount
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0});const m=u(l(961));class y extends m.default{constructor(x,c){super(x,c);const h=x.getAttribute("data-hs-toggle-count"),g=h?JSON.parse(h):{},d=Object.assign(Object.assign({},g),c);this.target=d!=null&&d.target?typeof(d==null?void 0:d.target)=="string"?document.querySelector(d.target):d.target:null,this.min=(d==null?void 0:d.min)||0,this.max=(d==null?void 0:d.max)||0,this.duration=(d==null?void 0:d.duration)||700,this.isChecked=this.target.checked||!1,this.target&&this.init()}toggleChange(){this.isChecked=!this.isChecked,this.toggle()}init(){this.createCollection(window.$hsToggleCountCollection,this),this.isChecked&&(this.el.innerText=String(this.max)),this.onToggleChangeListener=()=>this.toggleChange(),this.target.addEventListener("change",this.onToggleChangeListener)}toggle(){this.isChecked?this.countUp():this.countDown()}animate(x,c){let h=0;const g=d=>{h||(h=d);const p=Math.min((d-h)/this.duration,1);this.el.innerText=String(Math.floor(p*(c-x)+x)),p<1&&window.requestAnimationFrame(g)};window.requestAnimationFrame(g)}countUp(){this.animate(this.min,this.max)}countDown(){this.animate(this.max,this.min)}destroy(){this.target.removeEventListener("change",this.onToggleChangeListener),window.$hsToggleCountCollection=window.$hsToggleCountCollection.filter(({element:x})=>x.el!==this.el)}static getInstance(x,c){const h=window.$hsToggleCountCollection.find(g=>g.element.el===(typeof x=="string"?document.querySelector(x):x));return h?c?h:h.element:null}static autoInit(){window.$hsToggleCountCollection||(window.$hsToggleCountCollection=[]),window.$hsToggleCountCollection&&(window.$hsToggleCountCollection=window.$hsToggleCountCollection.filter(({element:x})=>document.contains(x.el))),document.querySelectorAll("[data-hs-toggle-count]:not(.--prevent-on-load-init)").forEach(x=>{window.$hsToggleCountCollection.find(c=>{var h;return((h=c==null?void 0:c.element)===null||h===void 0?void 0:h.el)===x})||new y(x)})}}window.addEventListener("load",()=>{y.autoInit()}),typeof window<"u"&&(window.HSToggleCount=y),i.default=y},740:function(n,i,l){/*
* HSAccordion
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h,g){super(c,h,g),this.toggle=this.el.querySelector(".hs-accordion-toggle")||null,this.content=this.el.querySelector(".hs-accordion-content")||null,this.group=this.el.closest(".hs-accordion-group")||null,this.update(),this.isToggleStopPropagated=(0,m.stringToBoolean)((0,m.getClassProperty)(this.toggle,"--stop-propagation","false")||"false"),this.keepOneOpen=!!this.group&&(0,m.stringToBoolean)((0,m.getClassProperty)(this.group,"--keep-one-open","false")||"false"),this.toggle&&this.content&&this.init()}init(){this.createCollection(window.$hsAccordionCollection,this),this.onToggleClickListener=c=>this.toggleClick(c),this.toggle.addEventListener("click",this.onToggleClickListener)}toggleClick(c){if(this.el.classList.contains("active")&&this.keepOneOpen)return!1;this.isToggleStopPropagated&&c.stopPropagation(),this.el.classList.contains("active")?this.hide():this.show()}show(){var c;if(this.group&&!this.isAlwaysOpened&&this.group.querySelector(":scope > .hs-accordion.active")&&this.group.querySelector(":scope > .hs-accordion.active")!==this.el&&window.$hsAccordionCollection.find(h=>h.element.el===this.group.querySelector(":scope > .hs-accordion.active")).element.hide(),this.el.classList.contains("active"))return!1;this.el.classList.add("active"),!((c=this==null?void 0:this.toggle)===null||c===void 0)&&c.ariaExpanded&&(this.toggle.ariaExpanded="true"),this.fireEvent("beforeOpen",this.el),(0,m.dispatch)("beforeOpen.hs.accordion",this.el,this.el),this.content.style.display="block",this.content.style.height="0",setTimeout(()=>{this.content.style.height=`${this.content.scrollHeight}px`,(0,m.afterTransition)(this.content,()=>{this.content.style.display="block",this.content.style.height="",this.fireEvent("open",this.el),(0,m.dispatch)("open.hs.accordion",this.el,this.el)})})}hide(){var c;if(!this.el.classList.contains("active"))return!1;this.el.classList.remove("active"),!((c=this==null?void 0:this.toggle)===null||c===void 0)&&c.ariaExpanded&&(this.toggle.ariaExpanded="false"),this.fireEvent("beforeClose",this.el),(0,m.dispatch)("beforeClose.hs.accordion",this.el,this.el),this.content.style.height=`${this.content.scrollHeight}px`,setTimeout(()=>{this.content.style.height="0"}),(0,m.afterTransition)(this.content,()=>{this.content.style.display="none",this.content.style.height="",this.fireEvent("close",this.el),(0,m.dispatch)("close.hs.accordion",this.el,this.el)})}update(){if(this.group=this.el.closest(".hs-accordion-group")||null,!this.group)return!1;this.isAlwaysOpened=this.group.hasAttribute("data-hs-accordion-always-open")||!1,window.$hsAccordionCollection.map(c=>(c.id===this.el.id&&(c.element.group=this.group,c.element.isAlwaysOpened=this.isAlwaysOpened),c))}destroy(){var c;!((c=f==null?void 0:f.selectable)===null||c===void 0)&&c.length&&f.selectable.forEach(h=>{h.listeners.forEach(({el:g,listener:d})=>{g.removeEventListener("click",d)})}),this.onToggleClickListener&&this.toggle.removeEventListener("click",this.onToggleClickListener),this.toggle=null,this.content=null,this.group=null,this.onToggleClickListener=null,window.$hsAccordionCollection=window.$hsAccordionCollection.filter(({element:h})=>h.el!==this.el)}static findInCollection(c){return window.$hsAccordionCollection.find(h=>c instanceof f?h.element.el===c.el:typeof c=="string"?h.element.el===document.querySelector(c):h.element.el===c)||null}static autoInit(){window.$hsAccordionCollection||(window.$hsAccordionCollection=[]),window.$hsAccordionCollection&&(window.$hsAccordionCollection=window.$hsAccordionCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll(".hs-accordion:not(.--prevent-on-load-init)").forEach(c=>{window.$hsAccordionCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}static getInstance(c,h){const g=window.$hsAccordionCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element.el:null}static show(c){const h=f.findInCollection(c);h&&h.element.content.style.display!=="block"&&h.element.show()}static hide(c){const h=f.findInCollection(c),g=h?window.getComputedStyle(h.element.content):null;h&&g.display!=="none"&&h.element.hide()}static treeView(){if(!document.querySelectorAll(".hs-accordion-treeview-root").length)return!1;this.selectable=[],document.querySelectorAll(".hs-accordion-treeview-root").forEach(c=>{const h=c==null?void 0:c.getAttribute("data-hs-accordion-options"),g=h?JSON.parse(h):{};this.selectable.push({el:c,options:Object.assign({},g),listeners:[]})}),this.selectable.length&&this.selectable.forEach(c=>{const{el:h}=c;h.querySelectorAll(".hs-accordion-selectable").forEach(g=>{const d=p=>this.onSelectableClick(p,c,g);g.addEventListener("click",d),c.listeners.push({el:g,listener:d})})})}static toggleSelected(c,h){h.classList.contains("selected")?h.classList.remove("selected"):(c.el.querySelectorAll(".hs-accordion-selectable").forEach(g=>g.classList.remove("selected")),h.classList.add("selected"))}static on(c,h,g){const d=f.findInCollection(h);d&&(d.element.events[c]=g)}}f.onSelectableClick=(x,c,h)=>{x.stopPropagation(),f.toggleSelected(c,h)},window.addEventListener("load",()=>{f.autoInit(),document.querySelectorAll(".hs-accordion-treeview-root").length&&f.treeView()}),typeof window<"u"&&(window.HSAccordion=f),i.default=f},751:function(n,i,l){/*
* HSScrollspy
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h={}){super(c,h),this.isScrollingDown=!1,this.lastScrollTop=0;const g=c.getAttribute("data-hs-scrollspy-options"),d=g?JSON.parse(g):{},p=Object.assign(Object.assign({},d),h);this.ignoreScrollUp=p.ignoreScrollUp!==void 0&&p.ignoreScrollUp,this.links=this.el.querySelectorAll("[href]"),this.sections=[],this.scrollableId=this.el.getAttribute("data-hs-scrollspy-scrollable-parent"),this.scrollable=this.scrollableId?document.querySelector(this.scrollableId):document,this.onLinkClickListener=[],this.init()}scrollableScroll(c){const h=this.scrollable instanceof HTMLElement?this.scrollable.scrollTop:window.scrollY;this.isScrollingDown=h>this.lastScrollTop,this.lastScrollTop=h<=0?0:h,Array.from(this.sections).forEach(g=>{if(!g.getAttribute("id"))return!1;this.update(c,g)})}init(){this.createCollection(window.$hsScrollspyCollection,this),this.links.forEach(c=>{this.sections.push(this.scrollable.querySelector(c.getAttribute("href")))}),this.onScrollableScrollListener=c=>this.scrollableScroll(c),this.scrollable.addEventListener("scroll",this.onScrollableScrollListener),this.links.forEach(c=>{this.onLinkClickListener.push({el:c,fn:h=>this.linkClick(h,c)}),c.addEventListener("click",this.onLinkClickListener.find(h=>h.el===c).fn)})}determineScrollDirection(c){const h=this.el.querySelector("a.active");if(!h)return!0;const g=Array.from(this.links).indexOf(h),d=Array.from(this.links).indexOf(c);return d===-1||d>g}linkClick(c,h){c.preventDefault();const g=h.getAttribute("href");!g||g==="javascript:;"||g&&document.querySelector(g)&&(this.isScrollingDown=this.determineScrollDirection(h),this.scrollTo(h))}update(c,h){const g=parseInt((0,m.getClassProperty)(this.el,"--scrollspy-offset","0")),d=parseInt((0,m.getClassProperty)(h,"--scrollspy-offset"))||g,p=c.target===document?0:parseInt(String(c.target.getBoundingClientRect().top)),v=parseInt(String(h.getBoundingClientRect().top))-d-p,b=h.offsetHeight;if(this.ignoreScrollUp||this.isScrollingDown?v<=0&&v+b>0:v<=0&&v<b){this.links.forEach(E=>E.classList.remove("active"));const w=this.el.querySelector(`[href="#${h.getAttribute("id")}"]`);if(w){w.classList.add("active");const E=w.closest("[data-hs-scrollspy-group]");if(E){const C=E.querySelector("[href]");C&&C.classList.add("active")}}this.fireEvent("afterScroll",w),(0,m.dispatch)("afterScroll.hs.scrollspy",w,this.el)}}scrollTo(c){const h=c.getAttribute("href"),g=document.querySelector(h),d=parseInt((0,m.getClassProperty)(this.el,"--scrollspy-offset","0")),p=parseInt((0,m.getClassProperty)(g,"--scrollspy-offset"))||d,v=this.scrollable===document?0:this.scrollable.offsetTop,b=g.offsetTop-p-v,w=this.scrollable===document?window:this.scrollable,E=()=>{window.history.replaceState(null,null,c.getAttribute("href")),"scrollTo"in w&&w.scrollTo({top:b,left:0,behavior:"smooth"})},C=this.fireEvent("beforeScroll",this.el);(0,m.dispatch)("beforeScroll.hs.scrollspy",this.el,this.el),C instanceof Promise?C.then(()=>E()):E()}destroy(){this.el.querySelector("[href].active").classList.remove("active"),this.scrollable.removeEventListener("scroll",this.onScrollableScrollListener),this.onLinkClickListener.length&&this.onLinkClickListener.forEach(({el:c,fn:h})=>{c.removeEventListener("click",h)}),window.$hsScrollspyCollection=window.$hsScrollspyCollection.filter(({element:c})=>c.el!==this.el)}static getInstance(c,h=!1){const g=window.$hsScrollspyCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element.el:null}static autoInit(){window.$hsScrollspyCollection||(window.$hsScrollspyCollection=[]),window.$hsScrollspyCollection&&(window.$hsScrollspyCollection=window.$hsScrollspyCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-scrollspy]:not(.--prevent-on-load-init)").forEach(c=>{window.$hsScrollspyCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}}window.addEventListener("load",()=>{f.autoInit()}),typeof window<"u"&&(window.HSScrollspy=f),i.default=f},772:function(n,i,l){/*
* HSTreeView
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h,g){super(c,h,g),this.items=[];const d=c.getAttribute("data-hs-tree-view"),p=d?JSON.parse(d):{},v=Object.assign(Object.assign({},p),h);this.controlBy=(v==null?void 0:v.controlBy)||"button",this.autoSelectChildren=(v==null?void 0:v.autoSelectChildren)||!1,this.isIndeterminate=(v==null?void 0:v.isIndeterminate)||!0,this.onElementClickListener=[],this.onControlChangeListener=[],this.init()}elementClick(c,h,g){if(c.stopPropagation(),h.classList.contains("disabled"))return!1;c.metaKey||c.shiftKey||this.unselectItem(g),this.selectItem(h,g),this.fireEvent("click",{el:h,data:g}),(0,m.dispatch)("click.hs.treeView",this.el,{el:h,data:g})}controlChange(c,h){this.autoSelectChildren?(this.selectItem(c,h),h.isDir&&this.selectChildren(c,h),this.toggleParent(c)):this.selectItem(c,h)}init(){this.createCollection(window.$hsTreeViewCollection,this),f.group+=1,this.initItems()}initItems(){this.el.querySelectorAll("[data-hs-tree-view-item]").forEach((c,h)=>{var g,d;const p=JSON.parse(c.getAttribute("data-hs-tree-view-item"));c.id||(c.id=`tree-view-item-${f.group}-${h}`);const v=Object.assign(Object.assign({},p),{id:(g=p.id)!==null&&g!==void 0?g:c.id,path:this.getPath(c),isSelected:(d=p.isSelected)!==null&&d!==void 0&&d});this.items.push(v),this.controlBy==="checkbox"?this.controlByCheckbox(c,v):this.controlByButton(c,v)})}controlByButton(c,h){this.onElementClickListener.push({el:c,fn:g=>this.elementClick(g,c,h)}),c.addEventListener("click",this.onElementClickListener.find(g=>g.el===c).fn)}controlByCheckbox(c,h){const g=c.querySelector(`input[value="${h.value}"]`);g&&(this.onControlChangeListener.push({el:g,fn:()=>this.controlChange(c,h)}),g.addEventListener("change",this.onControlChangeListener.find(d=>d.el===g).fn))}getItem(c){return this.items.find(h=>h.id===c)}getPath(c){var h;const g=[];let d=c.closest("[data-hs-tree-view-item]");for(;d;){const p=JSON.parse(d.getAttribute("data-hs-tree-view-item"));g.push(p.value),d=(h=d.parentElement)===null||h===void 0?void 0:h.closest("[data-hs-tree-view-item]")}return g.reverse().join("/")}unselectItem(c=null){let h=this.getSelectedItems();c&&(h=h.filter(g=>g.id!==c.id)),h.length&&h.forEach(g=>{document.querySelector(`#${g.id}`).classList.remove("selected"),this.changeItemProp(g.id,"isSelected",!1)})}selectItem(c,h){h.isSelected?(c.classList.remove("selected"),this.changeItemProp(h.id,"isSelected",!1)):(c.classList.add("selected"),this.changeItemProp(h.id,"isSelected",!0))}selectChildren(c,h){const g=c.querySelectorAll("[data-hs-tree-view-item]");Array.from(g).filter(d=>!d.classList.contains("disabled")).forEach(d=>{const p=d.id?this.getItem(d.id):null;if(!p)return!1;h.isSelected?(d.classList.add("selected"),this.changeItemProp(p.id,"isSelected",!0)):(d.classList.remove("selected"),this.changeItemProp(p.id,"isSelected",!1));const v=this.getItem(d.id),b=d.querySelector(`input[value="${v.value}"]`);this.isIndeterminate&&(b.indeterminate=!1),v.isSelected?b.checked=!0:b.checked=!1})}toggleParent(c){var h,g;let d=(h=c.parentElement)===null||h===void 0?void 0:h.closest("[data-hs-tree-view-item]");for(;d;){const p=d.querySelectorAll("[data-hs-tree-view-item]:not(.disabled)"),v=JSON.parse(d.getAttribute("data-hs-tree-view-item")),b=d.querySelector(`input[value="${v.value}"]`);let w=!1,E=0;p.forEach(C=>{const T=this.getItem(C.id);T.isSelected&&(E+=1),T.isSelected||(w=!0)}),w?(d.classList.remove("selected"),this.changeItemProp(d.id,"isSelected",!1),b.checked=!1):(d.classList.add("selected"),this.changeItemProp(d.id,"isSelected",!0),b.checked=!0),this.isIndeterminate&&(E>0&&E<p.length?b.indeterminate=!0:b.indeterminate=!1),d=(g=d.parentElement)===null||g===void 0?void 0:g.closest("[data-hs-tree-view-item]")}}update(){this.items.map(c=>{const h=document.querySelector(`#${c.id}`);return c.path!==this.getPath(h)&&(c.path=this.getPath(h)),c})}getSelectedItems(){return this.items.filter(c=>c.isSelected)}changeItemProp(c,h,g){this.items.map(d=>(d.id===c&&(d[h]=g),d))}destroy(){this.onElementClickListener.forEach(({el:c,fn:h})=>{c.removeEventListener("click",h)}),this.onControlChangeListener.length&&this.onElementClickListener.forEach(({el:c,fn:h})=>{c.removeEventListener("change",h)}),this.unselectItem(),this.items=[],window.$hsTreeViewCollection=window.$hsTreeViewCollection.filter(({element:c})=>c.el!==this.el),f.group-=1}static findInCollection(c){return window.$hsTreeViewCollection.find(h=>c instanceof f?h.element.el===c.el:typeof c=="string"?h.element.el===document.querySelector(c):h.element.el===c)||null}static getInstance(c,h){const g=window.$hsTreeViewCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element.el:null}static autoInit(){window.$hsTreeViewCollection||(window.$hsTreeViewCollection=[]),window.$hsTreeViewCollection&&(window.$hsTreeViewCollection=window.$hsTreeViewCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-tree-view]:not(.--prevent-on-load-init)").forEach(c=>{window.$hsTreeViewCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}static on(c,h,g){const d=f.findInCollection(h);d&&(d.element.events[c]=g)}}f.group=0,window.addEventListener("load",()=>{f.autoInit()}),typeof window<"u"&&(window.HSTreeView=f),i.default=f},809:function(n,i,l){/*
* HSComboBox
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__awaiter||function(h,g,d,p){return new(d||(d=Promise))(function(v,b){function w(T){try{C(p.next(T))}catch(P){b(P)}}function E(T){try{C(p.throw(T))}catch(P){b(P)}}function C(T){var P;T.done?v(T.value):(P=T.value,P instanceof d?P:new d(function(A){A(P)})).then(w,E)}C((p=p.apply(h,g||[])).next())})},m=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(i,"__esModule",{value:!0});const y=l(292),f=m(l(961)),x=m(l(248));class c extends f.default{constructor(g,d,p){var v,b,w,E,C,T,P,A,j,V,H,R,M,B,W,K,Z,Te,_e,ye,z,q,X,se,Ae,me,Le,Re,Ze,We,ae;super(g,d,p),this.isSearchLengthExceeded=!1;const ge=g.getAttribute("data-hs-combo-box"),ne=ge?JSON.parse(ge):{},ee=Object.assign(Object.assign({},ne),d);this.gap=5,this.viewport=(v=typeof(ee==null?void 0:ee.viewport)=="string"?document.querySelector(ee==null?void 0:ee.viewport):ee==null?void 0:ee.viewport)!==null&&v!==void 0?v:null,this.preventVisibility=(b=ee==null?void 0:ee.preventVisibility)!==null&&b!==void 0&&b,this.minSearchLength=(w=ee==null?void 0:ee.minSearchLength)!==null&&w!==void 0?w:0,this.apiUrl=(E=ee==null?void 0:ee.apiUrl)!==null&&E!==void 0?E:null,this.apiDataPart=(C=ee==null?void 0:ee.apiDataPart)!==null&&C!==void 0?C:null,this.apiQuery=(T=ee==null?void 0:ee.apiQuery)!==null&&T!==void 0?T:null,this.apiSearchQuery=(P=ee==null?void 0:ee.apiSearchQuery)!==null&&P!==void 0?P:null,this.apiSearchPath=(A=ee==null?void 0:ee.apiSearchPath)!==null&&A!==void 0?A:null,this.apiSearchDefaultPath=(j=ee==null?void 0:ee.apiSearchDefaultPath)!==null&&j!==void 0?j:null,this.apiHeaders=(V=ee==null?void 0:ee.apiHeaders)!==null&&V!==void 0?V:{},this.apiGroupField=(H=ee==null?void 0:ee.apiGroupField)!==null&&H!==void 0?H:null,this.outputItemTemplate=(R=ee==null?void 0:ee.outputItemTemplate)!==null&&R!==void 0?R:`<div class="cursor-pointer py-2 px-4 w-full text-sm text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800" data-hs-combo-box-output-item>
				<div class="flex justify-between items-center w-full">
					<span data-hs-combo-box-search-text></span>
					<span class="hidden hs-combo-box-selected:block">
						<svg class="shrink-0 size-3.5 text-blue-600 dark:text-blue-500" xmlns="http:.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<polyline points="20 6 9 17 4 12"></polyline>
						</svg>
					</span>
				</div>
			</div>`,this.outputEmptyTemplate=(M=ee==null?void 0:ee.outputEmptyTemplate)!==null&&M!==void 0?M:'<div class="py-2 px-4 w-full text-sm text-gray-800 rounded-lg dark:bg-neutral-900 dark:text-neutral-200">Nothing found...</div>',this.outputLoaderTemplate=(B=ee==null?void 0:ee.outputLoaderTemplate)!==null&&B!==void 0?B:`<div class="flex justify-center items-center py-2 px-4 text-sm text-gray-800 rounded-lg bg-white dark:bg-neutral-900 dark:text-neutral-200">
				<div class="animate-spin inline-block size-6 border-3 border-current border-t-transparent text-blue-600 rounded-full dark:text-blue-500" role="status" aria-label="loading">
					<span class="sr-only">Loading...</span>
				</div>
			</div>`,this.groupingType=(W=ee==null?void 0:ee.groupingType)!==null&&W!==void 0?W:null,this.groupingTitleTemplate=(K=ee==null?void 0:ee.groupingTitleTemplate)!==null&&K!==void 0?K:this.groupingType==="default"?'<div class="block mb-1 text-xs font-semibold uppercase text-blue-600 dark:text-blue-500"></div>':'<button type="button" class="py-2 px-3 inline-flex items-center gap-x-2 text-sm font-semibold whitespace-nowrap rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none"></button>',this.tabsWrapperTemplate=(Z=ee==null?void 0:ee.tabsWrapperTemplate)!==null&&Z!==void 0?Z:'<div class="overflow-x-auto p-4"></div>',this.preventSelection=(Te=ee==null?void 0:ee.preventSelection)!==null&&Te!==void 0&&Te,this.preventAutoPosition=(_e=ee==null?void 0:ee.preventAutoPosition)!==null&&_e!==void 0&&_e,this.preventClientFiltering=(ye=d==null?void 0:d.preventClientFiltering)!==null&&ye!==void 0?ye:!!(ee!=null&&ee.apiSearchQuery)||!!(ee!=null&&ee.apiSearchPath),this.isOpenOnFocus=(z=ee==null?void 0:ee.isOpenOnFocus)!==null&&z!==void 0&&z,this.keepOriginalOrder=(q=ee==null?void 0:ee.keepOriginalOrder)!==null&&q!==void 0&&q,this.preserveSelectionOnEmpty=(X=ee==null?void 0:ee.preserveSelectionOnEmpty)===null||X===void 0||X,this.input=(se=this.el.querySelector("[data-hs-combo-box-input]"))!==null&&se!==void 0?se:null,this.output=(Ae=this.el.querySelector("[data-hs-combo-box-output]"))!==null&&Ae!==void 0?Ae:null,this.itemsWrapper=(me=this.el.querySelector("[data-hs-combo-box-output-items-wrapper]"))!==null&&me!==void 0?me:null,this.items=(Le=Array.from(this.el.querySelectorAll("[data-hs-combo-box-output-item]")))!==null&&Le!==void 0?Le:[],this.tabs=[],this.toggle=(Re=this.el.querySelector("[data-hs-combo-box-toggle]"))!==null&&Re!==void 0?Re:null,this.toggleClose=(Ze=this.el.querySelector("[data-hs-combo-box-close]"))!==null&&Ze!==void 0?Ze:null,this.toggleOpen=(We=this.el.querySelector("[data-hs-combo-box-open]"))!==null&&We!==void 0?We:null,this.outputPlaceholder=null,this.selected=this.value=(ae=this.el.querySelector("[data-hs-combo-box-input]").value)!==null&&ae!==void 0?ae:"",this.currentData=null,this.isOpened=!1,this.isCurrent=!1,this.animationInProcess=!1,this.selectedGroup="all",this.init()}inputFocus(){this.isOpened||(this.setResultAndRender(),this.open())}inputInput(g){const d=g.target.value.trim();d.length<=this.minSearchLength?this.setResultAndRender(""):this.setResultAndRender(d),this.preserveSelectionOnEmpty||d!==""||(this.selected="",this.value="",this.currentData=null),this.input.value!==""?this.el.classList.add("has-value"):this.el.classList.remove("has-value"),this.isOpened||this.open()}toggleClick(){this.isOpened?this.close():this.open(this.toggle.getAttribute("data-hs-combo-box-toggle"))}toggleCloseClick(){this.close()}toggleOpenClick(){this.open()}init(){this.createCollection(window.$hsComboBoxCollection,this),this.build(),typeof window<"u"&&(window.HSAccessibilityObserver||(window.HSAccessibilityObserver=new x.default),this.setupAccessibility())}build(){this.buildInput(),this.groupingType&&this.setGroups(),this.buildItems(),this.preventVisibility&&(this.preventAutoPosition||this.recalculateDirection()),this.toggle&&this.buildToggle(),this.toggleClose&&this.buildToggleClose(),this.toggleOpen&&this.buildToggleOpen()}getNestedProperty(g,d){return d.split(".").reduce((p,v)=>p&&p[v],g)}setValue(g,d=null){this.selected=g,this.value=g,this.input.value=g,d&&(this.currentData=d),this.fireEvent("select",this.currentData),(0,y.dispatch)("select.hs.combobox",this.el,this.currentData)}setValueAndOpen(g){this.value=g,this.items.length&&this.setItemsVisibility()}setValueAndClear(g,d=null){g?this.setValue(g,d):this.setValue(this.selected,d),this.outputPlaceholder&&this.destroyOutputPlaceholder()}setSelectedByValue(g){this.items.forEach(d=>{const p=d.querySelector("[data-hs-combo-box-value]");p&&g.includes(p.textContent)?d.classList.add("selected"):d.classList.remove("selected")})}setResultAndRender(g=""){let d=this.preventVisibility?this.input.value:g;this.setResults(d),(this.apiSearchQuery||this.apiSearchPath||this.apiSearchDefaultPath)&&this.itemsFromJson(),this.isSearchLengthExceeded=d==="",this.updatePlaceholderVisibility()}setResults(g){this.value=g,this.resultItems(),this.updatePlaceholderVisibility()}updatePlaceholderVisibility(){this.hasVisibleItems()?this.destroyOutputPlaceholder():this.buildOutputPlaceholder()}setGroups(){const g=[];this.items.forEach(d=>{const{group:p}=JSON.parse(d.getAttribute("data-hs-combo-box-output-item"));g.some(v=>(v==null?void 0:v.name)===p.name)||g.push(p)}),this.groups=g}setApiGroups(g){const d=[];g.forEach(p=>{const v=p[this.apiGroupField];d.some(b=>b.name===v)||d.push({name:v,title:v})}),this.groups=d}setItemsVisibility(){if(this.preventClientFiltering)return this.items.forEach(d=>{d.style.display=""}),!1;this.groupingType==="tabs"&&this.selectedGroup!=="all"&&this.items.forEach(d=>{d.style.display="none"});const g=this.groupingType==="tabs"?this.selectedGroup==="all"?this.items:this.items.filter(d=>{const{group:p}=JSON.parse(d.getAttribute("data-hs-combo-box-output-item"));return p.name===this.selectedGroup}):this.items;this.groupingType==="tabs"&&this.selectedGroup!=="all"&&g.forEach(d=>{d.style.display="block"}),g.forEach(d=>{this.isTextExistsAny(d,this.value)?d.style.display="block":d.style.display="none"}),this.groupingType==="default"&&this.output.querySelectorAll("[data-hs-combo-box-group-title]").forEach(d=>{const p=d.getAttribute("data-hs-combo-box-group-title");this.items.filter(v=>{const{group:b}=JSON.parse(v.getAttribute("data-hs-combo-box-output-item"));return b.name===p&&v.style.display==="block"}).length?d.style.display="block":d.style.display="none"})}isTextExistsAny(g,d){return Array.from(g.querySelectorAll("[data-hs-combo-box-search-text]")).some(p=>p.getAttribute("data-hs-combo-box-search-text").toLowerCase().includes(d.toLowerCase()))}hasVisibleItems(){return!!this.items.length&&this.items.some(g=>{const d=window.getComputedStyle(g);return d.display!=="none"&&d.visibility!=="hidden"})}valuesBySelector(g){return Array.from(g.querySelectorAll("[data-hs-combo-box-search-text]")).reduce((d,p)=>[...d,p.getAttribute("data-hs-combo-box-search-text")],[])}sortItems(){return this.keepOriginalOrder?this.items:this.items.sort((g,d)=>{const p=g.querySelector("[data-hs-combo-box-value]").textContent,v=d.querySelector("[data-hs-combo-box-value]").textContent;return p<v?-1:p>v?1:0})}buildInput(){this.isOpenOnFocus&&(this.onInputFocusListener=()=>this.inputFocus(),this.input.addEventListener("focus",this.onInputFocusListener)),this.onInputInputListener=(0,y.debounce)(g=>this.inputInput(g)),this.input.addEventListener("input",this.onInputInputListener)}buildItems(){return u(this,void 0,void 0,function*(){this.output.role="listbox",this.output.tabIndex=-1,this.output.ariaOrientation="vertical",this.apiUrl?yield this.itemsFromJson():(this.itemsWrapper?this.itemsWrapper.innerHTML="":this.output.innerHTML="",this.itemsFromHtml()),this!=null&&this.items.length&&this.items[0].classList.contains("selected")&&(this.currentData=JSON.parse(this.items[0].getAttribute("data-hs-combo-box-item-stored-data")))})}buildOutputLoader(){if(this.outputLoader)return!1;this.outputLoader=(0,y.htmlToElement)(this.outputLoaderTemplate),this.items.length||this.outputPlaceholder?(this.outputLoader.style.position="absolute",this.outputLoader.style.top="0",this.outputLoader.style.bottom="0",this.outputLoader.style.left="0",this.outputLoader.style.right="0",this.outputLoader.style.zIndex="2"):(this.outputLoader.style.position="",this.outputLoader.style.top="",this.outputLoader.style.bottom="",this.outputLoader.style.left="",this.outputLoader.style.right="",this.outputLoader.style.zIndex="",this.outputLoader.style.height="30px"),this.output.append(this.outputLoader)}buildToggle(){var g,d,p,v;this.isOpened?(!((g=this==null?void 0:this.toggle)===null||g===void 0)&&g.ariaExpanded&&(this.toggle.ariaExpanded="true"),!((d=this==null?void 0:this.input)===null||d===void 0)&&d.ariaExpanded&&(this.input.ariaExpanded="true")):(!((p=this==null?void 0:this.toggle)===null||p===void 0)&&p.ariaExpanded&&(this.toggle.ariaExpanded="false"),!((v=this==null?void 0:this.input)===null||v===void 0)&&v.ariaExpanded&&(this.input.ariaExpanded="false")),this.onToggleClickListener=()=>this.toggleClick(),this.toggle.addEventListener("click",this.onToggleClickListener)}buildToggleClose(){this.onToggleCloseClickListener=()=>this.toggleCloseClick(),this.toggleClose.addEventListener("click",this.onToggleCloseClickListener)}buildToggleOpen(){this.onToggleOpenClickListener=()=>this.toggleOpenClick(),this.toggleOpen.addEventListener("click",this.onToggleOpenClickListener)}buildOutputPlaceholder(){this.outputPlaceholder||(this.outputPlaceholder=(0,y.htmlToElement)(this.outputEmptyTemplate)),this.appendItemsToWrapper(this.outputPlaceholder)}destroyOutputLoader(){this.outputLoader&&this.outputLoader.remove(),this.outputLoader=null}itemRender(g){var d;const p=g.querySelector("[data-hs-combo-box-value]").textContent,v=(d=JSON.parse(g.getAttribute("data-hs-combo-box-item-stored-data")))!==null&&d!==void 0?d:null;this.itemsWrapper?this.itemsWrapper.append(g):this.output.append(g),this.preventSelection||g.addEventListener("click",()=>{this.close(p,v),this.setSelectedByValue(this.valuesBySelector(g))})}plainRender(g){g.forEach(d=>{this.itemRender(d)})}jsonItemsRender(g){g.forEach((d,p)=>{const v=(0,y.htmlToElement)(this.outputItemTemplate);v.setAttribute("data-hs-combo-box-item-stored-data",JSON.stringify(d)),v.querySelectorAll("[data-hs-combo-box-output-item-field]").forEach(b=>{const w=b.getAttribute("data-hs-combo-box-output-item-field");let E="";try{const C=JSON.parse(w);E=Array.isArray(C)?C.map(T=>this.getNestedProperty(d,T)).filter(Boolean).join(" "):this.getNestedProperty(d,w)}catch{E=this.getNestedProperty(d,w)}b.textContent=E??"",!E&&b.hasAttribute("data-hs-combo-box-output-item-hide-if-empty")&&(b.style.display="none")}),v.querySelectorAll("[data-hs-combo-box-search-text]").forEach(b=>{const w=b.getAttribute("data-hs-combo-box-output-item-field");let E="";try{const C=JSON.parse(w);E=Array.isArray(C)?C.map(T=>this.getNestedProperty(d,T)).filter(Boolean).join(" "):this.getNestedProperty(d,w)}catch{E=this.getNestedProperty(d,w)}b.setAttribute("data-hs-combo-box-search-text",E??"")}),v.querySelectorAll("[data-hs-combo-box-output-item-attr]").forEach(b=>{JSON.parse(b.getAttribute("data-hs-combo-box-output-item-attr")).forEach(w=>{let E=d[w.valueFrom];w.attr==="class"&&b.className?b.className=`${b.className} ${E}`.trim():b.setAttribute(w.attr,E)})}),v.setAttribute("tabIndex",`${p}`),this.groupingType!=="tabs"&&this.groupingType!=="default"||v.setAttribute("data-hs-combo-box-output-item",`{"group": {"name": "${d[this.apiGroupField]}", "title": "${d[this.apiGroupField]}"}}`),this.items=[...this.items,v],this.preventSelection||v.addEventListener("click",()=>{this.close(v.querySelector("[data-hs-combo-box-value]").textContent,JSON.parse(v.getAttribute("data-hs-combo-box-item-stored-data"))),this.setSelectedByValue(this.valuesBySelector(v))}),this.appendItemsToWrapper(v)})}groupDefaultRender(){this.groups.forEach(g=>{const d=(0,y.htmlToElement)(this.groupingTitleTemplate);d.setAttribute("data-hs-combo-box-group-title",g.name),d.classList.add("--exclude-accessibility"),d.innerText=g.title,this.itemsWrapper?this.itemsWrapper.append(d):this.output.append(d);const p=this.sortItems().filter(v=>{const{group:b}=JSON.parse(v.getAttribute("data-hs-combo-box-output-item"));return b.name===g.name});this.plainRender(p)})}groupTabsRender(){const g=(0,y.htmlToElement)(this.tabsWrapperTemplate),d=(0,y.htmlToElement)('<div class="flex flex-nowrap gap-x-2"></div>');g.append(d),this.output.insertBefore(g,this.output.firstChild);const p=(0,y.htmlToElement)(this.groupingTitleTemplate);p.setAttribute("data-hs-combo-box-group-title","all"),p.classList.add("--exclude-accessibility","active"),p.innerText="All",this.tabs=[...this.tabs,p],d.append(p),p.addEventListener("click",()=>{this.selectedGroup="all";const v=this.tabs.find(b=>b.getAttribute("data-hs-combo-box-group-title")===this.selectedGroup);this.tabs.forEach(b=>b.classList.remove("active")),v.classList.add("active"),this.setItemsVisibility()}),this.groups.forEach(v=>{const b=(0,y.htmlToElement)(this.groupingTitleTemplate);b.setAttribute("data-hs-combo-box-group-title",v.name),b.classList.add("--exclude-accessibility"),b.innerText=v.title,this.tabs=[...this.tabs,b],d.append(b),b.addEventListener("click",()=>{this.selectedGroup=v.name;const w=this.tabs.find(E=>E.getAttribute("data-hs-combo-box-group-title")===this.selectedGroup);this.tabs.forEach(E=>E.classList.remove("active")),w.classList.add("active"),this.setItemsVisibility()})})}itemsFromHtml(){if(this.groupingType==="default")this.groupDefaultRender();else if(this.groupingType==="tabs"){const g=this.sortItems();this.groupTabsRender(),this.plainRender(g)}else{const g=this.sortItems();this.plainRender(g)}this.setResults(this.input.value)}itemsFromJson(){return u(this,void 0,void 0,function*(){if(this.isSearchLengthExceeded)return this.buildOutputPlaceholder(),!1;this.buildOutputLoader();try{const g=`${this.apiQuery}`;let d,p,v=this.apiUrl;!this.apiSearchQuery&&this.apiSearchPath?(p=this.apiSearchDefaultPath&&this.value===""?`/${this.apiSearchDefaultPath}`:`/${this.apiSearchPath}/${this.value.toLowerCase()}`,(this.apiSearchPath||this.apiSearchDefaultPath)&&(v+=p)):(d=`${this.apiSearchQuery}=${this.value.toLowerCase()}`,this.apiQuery&&this.apiSearchQuery?v+=`?${d}&${g}`:this.apiQuery?v+=`?${g}`:this.apiSearchQuery&&(v+=`?${d}`));const b=yield fetch(v,this.apiHeaders);if(!b.ok)return this.items=[],this.itemsWrapper?this.itemsWrapper.innerHTML="":this.output.innerHTML="",void this.setResults(this.input.value);let w=yield b.json();this.apiDataPart&&(w=w[this.apiDataPart]),Array.isArray(w)||(w=[]),(this.apiSearchQuery||this.apiSearchPath)&&(this.items=[]),this.itemsWrapper?this.itemsWrapper.innerHTML="":this.output.innerHTML="",this.groupingType==="tabs"?(this.setApiGroups(w),this.groupTabsRender(),this.jsonItemsRender(w)):this.groupingType==="default"?(this.setApiGroups(w),this.groups.forEach(E=>{const C=(0,y.htmlToElement)(this.groupingTitleTemplate);C.setAttribute("data-hs-combo-box-group-title",E.name),C.classList.add("--exclude-accessibility"),C.innerText=E.title;const T=w.filter(P=>P[this.apiGroupField]===E.name);this.itemsWrapper?this.itemsWrapper.append(C):this.output.append(C),this.jsonItemsRender(T)})):this.jsonItemsRender(w),this.setResults(this.input.value.length<=this.minSearchLength?"":this.input.value),this.updatePlaceholderVisibility()}catch(g){console.error("Error fetching items:",g),this.items=[],this.itemsWrapper?this.itemsWrapper.innerHTML="":this.output.innerHTML="",this.setResults(this.input.value)}finally{this.destroyOutputLoader()}})}appendItemsToWrapper(g){this.itemsWrapper?this.itemsWrapper.append(g):this.output.append(g)}resultItems(){if(!this.items.length)return!1;this.setItemsVisibility(),this.setSelectedByValue([this.selected])}destroyOutputPlaceholder(){this.outputPlaceholder&&this.outputPlaceholder.remove(),this.outputPlaceholder=null}getPreparedItems(g=!1,d){return d?(g?Array.from(d.querySelectorAll(":scope > *:not(.--exclude-accessibility)")).filter(p=>p.style.display!=="none").reverse():Array.from(d.querySelectorAll(":scope > *:not(.--exclude-accessibility)")).filter(p=>p.style.display!=="none")).filter(p=>!p.classList.contains("disabled")):null}setHighlighted(g,d,p){d.focus(),p.value=d.querySelector("[data-hs-combo-box-value]").getAttribute("data-hs-combo-box-search-text"),g&&g.classList.remove("hs-combo-box-output-item-highlighted"),d.classList.add("hs-combo-box-output-item-highlighted")}setupAccessibility(){var g;const d=(g=this.itemsWrapper)!==null&&g!==void 0?g:this.output;this.accessibilityComponent=window.HSAccessibilityObserver.registerComponent(this.el,{onEnter:()=>this.onEnter(),onSpace:()=>this.onEnter(),onEsc:()=>{this.isOpened&&(this.close(),this.input&&this.input.focus())},onArrow:p=>{if(this.isOpened||p.key!=="ArrowDown"){if(this.isOpened)switch(p.key){case"ArrowDown":this.focusMenuItem("next");break;case"ArrowUp":this.focusMenuItem("prev");break;case"Home":this.onStartEnd(!0);break;case"End":this.onStartEnd(!1)}}else this.open()}},this.isOpened,"ComboBox","[data-hs-combo-box]",d)}onEnter(){var g,d,p;if(this.isOpened){const v=this.output.querySelector(".hs-combo-box-output-item-highlighted");v&&(this.close((d=(g=v.querySelector("[data-hs-combo-box-value]"))===null||g===void 0?void 0:g.getAttribute("data-hs-combo-box-search-text"))!==null&&d!==void 0?d:null,(p=JSON.parse(v.getAttribute("data-hs-combo-box-item-stored-data")))!==null&&p!==void 0?p:null),this.input&&this.input.focus())}else this.open()}focusMenuItem(g){var d;const p=(d=this.itemsWrapper)!==null&&d!==void 0?d:this.output;if(!p)return!1;const v=Array.from(p.querySelectorAll(":scope > *:not(.--exclude-accessibility)")).filter(C=>C.style.display!=="none");if(!v.length)return!1;const b=p.querySelector(".hs-combo-box-output-item-highlighted"),w=b?v.indexOf(b):-1,E=g==="next"?(w+1)%v.length:(w-1+v.length)%v.length;b&&b.classList.remove("hs-combo-box-output-item-highlighted"),v[E].classList.add("hs-combo-box-output-item-highlighted"),v[E].focus(),this.input.value=v[E].querySelector("[data-hs-combo-box-value]").getAttribute("data-hs-combo-box-search-text")}onStartEnd(g=!0){var d;const p=(d=this.itemsWrapper)!==null&&d!==void 0?d:this.output;if(!p)return!1;const v=Array.from(p.querySelectorAll(":scope > *:not(.--exclude-accessibility)")).filter(w=>w.style.display!=="none");if(!v.length)return!1;const b=p.querySelector(".hs-combo-box-output-item-highlighted");this.setHighlighted(b,v[0],this.input)}getCurrentData(){return this.currentData}setCurrent(){window.$hsComboBoxCollection.length&&(window.$hsComboBoxCollection.map(g=>g.element.isCurrent=!1),this.isCurrent=!0)}open(g){return!this.animationInProcess&&(g!==void 0&&this.setValueAndOpen(g),!this.preventVisibility&&(this.animationInProcess=!0,this.output.style.display="block",this.preventAutoPosition||this.recalculateDirection(),setTimeout(()=>{var d,p;!((d=this==null?void 0:this.input)===null||d===void 0)&&d.ariaExpanded&&(this.input.ariaExpanded="true"),!((p=this==null?void 0:this.toggle)===null||p===void 0)&&p.ariaExpanded&&(this.toggle.ariaExpanded="true"),this.el.classList.add("active"),this.animationInProcess=!1}),this.isOpened=!0,void(window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,!0))))}close(g,d=null){var p,v;return!this.animationInProcess&&(this.preventVisibility?(this.setValueAndClear(g,d),this.input.value!==""?this.el.classList.add("has-value"):this.el.classList.remove("has-value"),!1):(this.preserveSelectionOnEmpty||this.input.value.trim()!==""||(this.selected="",this.value=""),this.animationInProcess=!0,!((p=this==null?void 0:this.input)===null||p===void 0)&&p.ariaExpanded&&(this.input.ariaExpanded="false"),!((v=this==null?void 0:this.toggle)===null||v===void 0)&&v.ariaExpanded&&(this.toggle.ariaExpanded="false"),this.el.classList.remove("active"),this.preventAutoPosition||(this.output.classList.remove("bottom-full","top-full"),this.output.style.marginTop="",this.output.style.marginBottom=""),(0,y.afterTransition)(this.output,()=>{this.output.style.display="none",this.setValueAndClear(g,d||null),this.animationInProcess=!1}),this.input.value!==""?this.el.classList.add("has-value"):this.el.classList.remove("has-value"),this.isOpened=!1,void(window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,!1))))}recalculateDirection(){(0,y.isEnoughSpace)(this.output,this.input,"bottom",this.gap,this.viewport)?(this.output.classList.remove("bottom-full"),this.output.style.marginBottom="",this.output.classList.add("top-full"),this.output.style.marginTop=`${this.gap}px`):(this.output.classList.remove("top-full"),this.output.style.marginTop="",this.output.classList.add("bottom-full"),this.output.style.marginBottom=`${this.gap}px`)}destroy(){this.input.removeEventListener("focus",this.onInputFocusListener),this.input.removeEventListener("input",this.onInputInputListener),this.toggle.removeEventListener("click",this.onToggleClickListener),this.toggleClose&&this.toggleClose.removeEventListener("click",this.onToggleCloseClickListener),this.toggleOpen&&this.toggleOpen.removeEventListener("click",this.onToggleOpenClickListener),this.el.classList.remove("has-value","active"),this.items.length&&this.items.forEach(g=>{g.classList.remove("selected"),g.style.display=""}),this.output.removeAttribute("role"),this.output.removeAttribute("tabindex"),this.output.removeAttribute("aria-orientation"),this.outputLoader&&(this.outputLoader.remove(),this.outputLoader=null),this.outputPlaceholder&&(this.outputPlaceholder.remove(),this.outputPlaceholder=null),this.apiUrl&&(this.output.innerHTML=""),this.items=[],typeof window<"u"&&window.HSAccessibilityObserver&&window.HSAccessibilityObserver.unregisterComponent(this.accessibilityComponent),window.$hsComboBoxCollection=window.$hsComboBoxCollection.filter(({element:g})=>g.el!==this.el)}static getInstance(g,d){const p=window.$hsComboBoxCollection.find(v=>v.element.el===(typeof g=="string"?document.querySelector(g):g));return p?d?p:p.element:null}static autoInit(){window.$hsComboBoxCollection||(window.$hsComboBoxCollection=[],window.addEventListener("click",g=>{const d=g.target;c.closeCurrentlyOpened(d)})),window.$hsComboBoxCollection&&(window.$hsComboBoxCollection=window.$hsComboBoxCollection.filter(({element:g})=>document.contains(g.el))),document.querySelectorAll("[data-hs-combo-box]:not(.--prevent-on-load-init)").forEach(g=>{if(!window.$hsComboBoxCollection.find(d=>{var p;return((p=d==null?void 0:d.element)===null||p===void 0?void 0:p.el)===g})){const d=g.getAttribute("data-hs-combo-box"),p=d?JSON.parse(d):{};new c(g,p)}})}static close(g){const d=window.$hsComboBoxCollection.find(p=>p.element.el===(typeof g=="string"?document.querySelector(g):g));d&&d.element.isOpened&&d.element.close()}static closeCurrentlyOpened(g=null){if(!g.closest("[data-hs-combo-box].active")){const d=window.$hsComboBoxCollection.filter(p=>p.element.isOpened)||null;d&&d.forEach(p=>{p.element.close()})}}}window.addEventListener("load",()=>{c.autoInit()}),document.addEventListener("scroll",()=>{if(!window.$hsComboBoxCollection)return!1;const h=window.$hsComboBoxCollection.find(g=>g.element.isOpened);h&&!h.element.preventAutoPosition&&h.element.recalculateDirection()}),typeof window<"u"&&(window.HSComboBox=c),i.default=c},812:function(n,i,l){var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});/*
 * HSLayoutSplitter
 * @version: 3.2.3
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h){var g;super(c,h);const d=c.getAttribute("data-hs-layout-splitter"),p=d?JSON.parse(d):{},v=Object.assign(Object.assign({},p),h);this.horizontalSplitterClasses=(v==null?void 0:v.horizontalSplitterClasses)||null,this.horizontalSplitterTemplate=(v==null?void 0:v.horizontalSplitterTemplate)||"<div></div>",this.verticalSplitterClasses=(v==null?void 0:v.verticalSplitterClasses)||null,this.verticalSplitterTemplate=(v==null?void 0:v.verticalSplitterTemplate)||"<div></div>",this.isSplittersAddedManually=(g=v==null?void 0:v.isSplittersAddedManually)!==null&&g!==void 0&&g,this.horizontalSplitters=[],this.horizontalControls=[],this.verticalSplitters=[],this.verticalControls=[],this.isDragging=!1,this.activeSplitter=null,this.onControlPointerDownListener=[],this.init()}controlPointerDown(c){this.isDragging=!0,this.activeSplitter=c,this.onPointerDownHandler(c)}controlPointerUp(){this.isDragging=!1,this.activeSplitter=null,this.onPointerUpHandler()}init(){this.createCollection(window.$hsLayoutSplitterCollection,this),this.buildSplitters(),f.isListenersInitialized||(document.addEventListener("pointermove",f.onDocumentPointerMove),document.addEventListener("pointerup",f.onDocumentPointerUp),f.isListenersInitialized=!0)}buildSplitters(){this.buildHorizontalSplitters(),this.buildVerticalSplitters()}buildHorizontalSplitters(){const c=this.el.querySelectorAll("[data-hs-layout-splitter-horizontal-group]");c.length&&(c.forEach(h=>{this.horizontalSplitters.push({el:h,items:Array.from(h.querySelectorAll(":scope > [data-hs-layout-splitter-item]"))})}),this.updateHorizontalSplitter())}buildVerticalSplitters(){const c=this.el.querySelectorAll("[data-hs-layout-splitter-vertical-group]");c.length&&(c.forEach(h=>{this.verticalSplitters.push({el:h,items:Array.from(h.querySelectorAll(":scope > [data-hs-layout-splitter-item]"))})}),this.updateVerticalSplitter())}buildControl(c,h,g="horizontal"){let d;if(this.isSplittersAddedManually){if(d=h==null?void 0:h.previousElementSibling,!d)return!1;d.style.display=""}else d=(0,m.htmlToElement)(g==="horizontal"?this.horizontalSplitterTemplate:this.verticalSplitterTemplate),(0,m.classToClassList)(g==="horizontal"?this.horizontalSplitterClasses:this.verticalSplitterClasses,d),d.classList.add("hs-layout-splitter-control");const p={el:d,direction:g,prev:c,next:h};g==="horizontal"?this.horizontalControls.push(p):this.verticalControls.push(p),this.bindListeners(p),h&&!this.isSplittersAddedManually&&c.insertAdjacentElement("afterend",d)}getSplitterItemParsedParam(c){const h=c.getAttribute("data-hs-layout-splitter-item");return(0,m.isJson)(h)?JSON.parse(h):h}getContainerSize(c,h){return h?c.getBoundingClientRect().width:c.getBoundingClientRect().height}getMaxFlexSize(c,h,g){const d=this.getSplitterItemSingleParam(c,h);return typeof d=="number"?d/100*g:0}updateHorizontalSplitter(){this.horizontalSplitters.forEach(({items:c})=>{c.forEach(h=>{this.updateSingleSplitter(h)}),c.forEach((h,g)=>{g>=c.length-1?this.buildControl(h,null):this.buildControl(h,c[g+1])})})}updateSingleSplitter(c){const h=c.getAttribute("data-hs-layout-splitter-item"),g=(0,m.isJson)(h)?JSON.parse(h):h,d=(0,m.isJson)(h)?g.dynamicSize:h;c.style.flex=`${d} 1 0`}updateVerticalSplitter(){this.verticalSplitters.forEach(({items:c})=>{c.forEach(h=>{this.updateSingleSplitter(h)}),c.forEach((h,g)=>{g>=c.length-1?this.buildControl(h,null,"vertical"):this.buildControl(h,c[g+1],"vertical")})})}updateSplitterItemParam(c,h){const g=this.getSplitterItemParsedParam(c),d=h.toFixed(1),p=typeof g=="object"?JSON.stringify(Object.assign(Object.assign({},g),{dynamicSize:+d})):d;c.setAttribute("data-hs-layout-splitter-item",p)}onPointerDownHandler(c){const{el:h,prev:g,next:d}=c;h.classList.add("dragging"),g.classList.add("dragging"),d.classList.add("dragging"),document.body.style.userSelect="none"}onPointerUpHandler(){document.body.style.userSelect=""}onPointerMoveHandler(c,h,g){const{prev:d,next:p}=h,v=h.el.closest(g==="horizontal"?"[data-hs-layout-splitter-horizontal-group]":"[data-hs-layout-splitter-vertical-group]"),b=g==="horizontal",w=this.getContainerSize(v,b),E=this.calculateAvailableSize(v,d,p,b,w),C=this.calculateResizedSizes(c,d,E,b),T=this.enforceLimits(C,d,p,w,E);this.applySizes(d,p,T,w)}bindListeners(c){const{el:h}=c;this.onControlPointerDownListener.push({el:h,fn:()=>this.controlPointerDown(c)}),h.addEventListener("pointerdown",this.onControlPointerDownListener.find(g=>g.el===h).fn)}calculateAvailableSize(c,h,g,d,p){const v=c.querySelectorAll(":scope > [data-hs-layout-splitter-item]");return p-Array.from(v).reduce((b,w)=>{if(w===h||w===g)return b;const E=w.getBoundingClientRect();return b+(window.getComputedStyle(w).position==="fixed"?0:d?E.width:E.height)},0)}calculateResizedSizes(c,h,g,d){const p=d?h.getBoundingClientRect().left:h.getBoundingClientRect().top;let v=Math.max(0,Math.min((d?c.clientX:c.clientY)-p,g));return{previousSize:v,nextSize:g-v}}enforceLimits(c,h,g,d,p){const v=this.getMaxFlexSize(h,"minSize",d),b=this.getMaxFlexSize(g,"minSize",d),w=this.getMaxFlexSize(h,"preLimitSize",d),E=this.getMaxFlexSize(g,"preLimitSize",d);let{previousSize:C,nextSize:T}=c;T<b?(T=b,C=p-T):C<v&&(C=v,T=p-C);const P={prev:h,next:g,previousSize:C.toFixed(),previousFlexSize:C/d*100,previousPreLimitSize:w,previousPreLimitFlexSize:w/d*100,previousMinSize:v,previousMinFlexSize:v/d*100,nextSize:T.toFixed(),nextFlexSize:T/d*100,nextPreLimitSize:E,nextPreLimitFlexSize:E/d*100,nextMinSize:b,nextMinFlexSize:b/d*100,static:{prev:{minSize:this.getSplitterItemSingleParam(h,"minSize"),preLimitSize:this.getSplitterItemSingleParam(h,"preLimitSize")},next:{minSize:this.getSplitterItemSingleParam(g,"minSize"),preLimitSize:this.getSplitterItemSingleParam(g,"preLimitSize")}}};return T<b?(this.fireEvent("onNextLimit",P),(0,m.dispatch)("onNextLimit.hs.layoutSplitter",this.el,P)):C<v&&(this.fireEvent("onPrevLimit",P),(0,m.dispatch)("onPrevLimit.hs.layoutSplitter",this.el,P)),C<=w&&(this.fireEvent("onPrevPreLimit",P),(0,m.dispatch)("onPrevPreLimit.hs.layoutSplitter",this.el,P)),T<=E&&(this.fireEvent("onNextPreLimit",P),(0,m.dispatch)("onNextPreLimit.hs.layoutSplitter",this.el,P)),this.fireEvent("drag",P),(0,m.dispatch)("drag.hs.layoutSplitter",this.el,P),{previousSize:C,nextSize:T}}applySizes(c,h,g,d){const{previousSize:p,nextSize:v}=g,b=p/d*100;this.updateSplitterItemParam(c,b),c.style.flex=`${b.toFixed(1)} 1 0`;const w=v/d*100;this.updateSplitterItemParam(h,w),h.style.flex=`${w.toFixed(1)} 1 0`}getSplitterItemSingleParam(c,h){try{return this.getSplitterItemParsedParam(c)[h]}catch{return console.log("There is no parameter with this name in the object."),!1}}getData(c){var h,g;const d=c.closest("[data-hs-layout-splitter-horizontal-group], [data-hs-layout-splitter-vertical-group]");if(!d)throw new Error("Element is not inside a valid layout splitter container.");const p=d.matches("[data-hs-layout-splitter-horizontal-group]"),v=this.getContainerSize(d,p),b=this.getSplitterItemSingleParam(c,"dynamicSize")||0,w=this.getMaxFlexSize(c,"minSize",v),E=this.getMaxFlexSize(c,"preLimitSize",v),C=w/v*100,T=E/v*100;return{el:c,dynamicSize:+(b/100*v).toFixed(),dynamicFlexSize:b,minSize:+w.toFixed(),minFlexSize:C,preLimitSize:+E.toFixed(),preLimitFlexSize:T,static:{minSize:(h=this.getSplitterItemSingleParam(c,"minSize"))!==null&&h!==void 0?h:null,preLimitSize:(g=this.getSplitterItemSingleParam(c,"preLimitSize"))!==null&&g!==void 0?g:null}}}setSplitterItemSize(c,h){this.updateSplitterItemParam(c,h),c.style.flex=`${h.toFixed(1)} 1 0`}updateFlexValues(c){let h=0;const g=window.innerWidth;if(c.forEach(({id:d,breakpoints:p})=>{const v=document.getElementById(d);if(v){const b=(w=>{const E=Object.keys(w).map(Number).sort((C,T)=>C-T);for(let C=E.length-1;C>=0;C--)if(g>=E[C])return w[E[C]];return 0})(p);this.updateSplitterItemParam(v,b),v.style.flex=`${b.toFixed(1)} 1 0`,h+=b}}),h!==100){const d=100/h;c.forEach(({id:p})=>{const v=document.getElementById(p);if(v){const b=parseFloat(v.style.flex.split(" ")[0])*d;this.updateSplitterItemParam(v,b),v.style.flex=`${b.toFixed(1)} 1 0`}})}}destroy(){this.onControlPointerDownListener&&(this.onControlPointerDownListener.forEach(({el:c,fn:h})=>{c.removeEventListener("pointerdown",h)}),this.onControlPointerDownListener=null),this.horizontalSplitters.forEach(({items:c})=>{c.forEach(h=>{h.style.flex=""})}),this.verticalSplitters.forEach(({items:c})=>{c.forEach(h=>{h.style.flex=""})}),this.horizontalControls.forEach(({el:c})=>{this.isSplittersAddedManually?c.style.display="none":c.remove()}),this.verticalControls.forEach(({el:c})=>{this.isSplittersAddedManually?c.style.display="none":c.remove()}),this.horizontalControls=[],this.verticalControls=[],window.$hsLayoutSplitterCollection=window.$hsLayoutSplitterCollection.filter(({element:c})=>c.el!==this.el),window.$hsLayoutSplitterCollection.length===0&&f.isListenersInitialized&&(document.removeEventListener("pointermove",f.onDocumentPointerMove),document.removeEventListener("pointerup",f.onDocumentPointerUp),f.isListenersInitialized=!1)}static findInCollection(c){return window.$hsLayoutSplitterCollection.find(h=>c instanceof f?h.element.el===c.el:typeof c=="string"?h.element.el===document.querySelector(c):h.element.el===c)||null}static autoInit(){window.$hsLayoutSplitterCollection||(window.$hsLayoutSplitterCollection=[],window.addEventListener("pointerup",()=>{if(!window.$hsLayoutSplitterCollection)return!1;const c=document.querySelector(".hs-layout-splitter-control.dragging"),h=document.querySelectorAll("[data-hs-layout-splitter-item].dragging");if(!c)return!1;const g=f.getInstance(c.closest("[data-hs-layout-splitter]"),!0);c.classList.remove("dragging"),h.forEach(d=>d.classList.remove("dragging")),g.element.isDragging=!1})),window.$hsLayoutSplitterCollection&&(window.$hsLayoutSplitterCollection=window.$hsLayoutSplitterCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-layout-splitter]:not(.--prevent-on-load-init)").forEach(c=>{window.$hsLayoutSplitterCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}static getInstance(c,h){const g=window.$hsLayoutSplitterCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element.el:null}static on(c,h,g){const d=f.findInCollection(h);d&&(d.element.events[c]=g)}}f.isListenersInitialized=!1,f.onDocumentPointerMove=x=>{const c=document.querySelector(".hs-layout-splitter-control.dragging");if(!c)return;const h=f.getInstance(c.closest("[data-hs-layout-splitter]"),!0);if(!h||!h.element.isDragging)return;const g=h.element.activeSplitter;g&&(g.direction==="vertical"?h.element.onPointerMoveHandler(x,g,"vertical"):h.element.onPointerMoveHandler(x,g,"horizontal"))},f.onDocumentPointerUp=()=>{const x=document.querySelector(".hs-layout-splitter-control.dragging");if(!x)return;const c=f.getInstance(x.closest("[data-hs-layout-splitter]"),!0);c&&c.element.controlPointerUp()},window.addEventListener("load",()=>{f.autoInit()}),typeof window<"u"&&(window.HSLayoutSplitter=f),i.default=f},814:function(n,i,l){/*
* HSDataTable
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h,g){var d,p,v,b,w,E,C,T,P,A,j,V,H,R,M,B,W,K,Z,Te,_e;super(c,h,g),this.el=typeof c=="string"?document.querySelector(c):c;const ye=[];Array.from(this.el.querySelectorAll("thead th, thead td")).forEach((X,se)=>{X.classList.contains("--exclude-from-ordering")&&ye.push({targets:se,orderable:!1})});const z=this.el.getAttribute("data-hs-datatable"),q=z?JSON.parse(z):{};this.concatOptions=Object.assign(Object.assign({searching:!0,lengthChange:!1,order:[],columnDefs:[...ye]},q),h),this.table=this.el.querySelector("table"),this.searches=(d=Array.from(this.el.querySelectorAll("[data-hs-datatable-search]")))!==null&&d!==void 0?d:null,this.pageEntitiesList=(p=Array.from(this.el.querySelectorAll("[data-hs-datatable-page-entities]")))!==null&&p!==void 0?p:null,this.pagingList=(v=Array.from(this.el.querySelectorAll("[data-hs-datatable-paging]")))!==null&&v!==void 0?v:null,this.pagingPagesList=(b=Array.from(this.el.querySelectorAll("[data-hs-datatable-paging-pages]")))!==null&&b!==void 0?b:null,this.pagingPrevList=(w=Array.from(this.el.querySelectorAll("[data-hs-datatable-paging-prev]")))!==null&&w!==void 0?w:null,this.pagingNextList=(E=Array.from(this.el.querySelectorAll("[data-hs-datatable-paging-next]")))!==null&&E!==void 0?E:null,this.infoList=(C=Array.from(this.el.querySelectorAll("[data-hs-datatable-info]")))!==null&&C!==void 0?C:null,!((T=this.concatOptions)===null||T===void 0)&&T.rowSelectingOptions&&(this.rowSelectingAll=(H=!((A=(P=this.concatOptions)===null||P===void 0?void 0:P.rowSelectingOptions)===null||A===void 0)&&A.selectAllSelector?document.querySelector((V=(j=this.concatOptions)===null||j===void 0?void 0:j.rowSelectingOptions)===null||V===void 0?void 0:V.selectAllSelector):document.querySelector("[data-hs-datatable-row-selecting-all]"))!==null&&H!==void 0?H:null),!((R=this.concatOptions)===null||R===void 0)&&R.rowSelectingOptions&&(this.rowSelectingIndividual=(W=(B=(M=this.concatOptions)===null||M===void 0?void 0:M.rowSelectingOptions)===null||B===void 0?void 0:B.individualSelector)!==null&&W!==void 0?W:"[data-hs-datatable-row-selecting-individual]"),this.pageEntitiesList.length&&(this.concatOptions.pageLength=parseInt(this.pageEntitiesList[0].value)),this.maxPagesToShow=3,this.isRowSelecting=!!(!((K=this.concatOptions)===null||K===void 0)&&K.rowSelectingOptions),this.pageBtnClasses=(_e=(Te=(Z=this.concatOptions)===null||Z===void 0?void 0:Z.pagingOptions)===null||Te===void 0?void 0:Te.pageBtnClasses)!==null&&_e!==void 0?_e:null,this.onSearchInputListener=[],this.onPageEntitiesChangeListener=[],this.onSinglePagingClickListener=[],this.onPagingPrevClickListener=[],this.onPagingNextClickListener=[],this.init()}init(){this.createCollection(window.$hsDataTableCollection,this),this.initTable(),this.searches.length&&this.initSearch(),this.pageEntitiesList.length&&this.initPageEntities(),this.pagingList.length&&this.initPaging(),this.pagingPagesList.length&&this.buildPagingPages(),this.pagingPrevList.length&&this.initPagingPrev(),this.pagingNextList.length&&this.initPagingNext(),this.infoList.length&&this.initInfo(),this.isRowSelecting&&this.initRowSelecting()}initTable(){this.dataTable=new DataTable(this.table,this.concatOptions),this.isRowSelecting&&this.triggerChangeEventToRow(),this.dataTable.on("draw",()=>{this.isRowSelecting&&this.updateSelectAllCheckbox(),this.isRowSelecting&&this.triggerChangeEventToRow(),this.updateInfo(),this.pagingPagesList.forEach(c=>this.updatePaging(c))})}searchInput(c){this.onSearchInput(c.target.value)}pageEntitiesChange(c){this.onEntitiesChange(parseInt(c.target.value),c.target)}pagingPrevClick(){this.onPrevClick()}pagingNextClick(){this.onNextClick()}rowSelectingAllChange(){this.onSelectAllChange()}singlePagingClick(c){this.onPageClick(c)}initSearch(){this.searches.forEach(c=>{this.onSearchInputListener.push({el:c,fn:(0,m.debounce)(h=>this.searchInput(h))}),c.addEventListener("input",this.onSearchInputListener.find(h=>h.el===c).fn)})}onSearchInput(c){this.dataTable.search(c).draw()}initPageEntities(){this.pageEntitiesList.forEach(c=>{this.onPageEntitiesChangeListener.push({el:c,fn:h=>this.pageEntitiesChange(h)}),c.addEventListener("change",this.onPageEntitiesChangeListener.find(h=>h.el===c).fn)})}onEntitiesChange(c,h){const g=this.pageEntitiesList.filter(d=>d!==h);g.length&&g.forEach(d=>{if(window.HSSelect){const p=window.HSSelect.getInstance(d,!0);p&&p.element.setValue(`${c}`)}else d.value=`${c}`}),this.dataTable.page.len(c).draw()}initInfo(){this.infoList.forEach(c=>{this.initInfoFrom(c),this.initInfoTo(c),this.initInfoLength(c)})}initInfoFrom(c){var h;const g=(h=c.querySelector("[data-hs-datatable-info-from]"))!==null&&h!==void 0?h:null,{start:d}=this.dataTable.page.info();g&&(g.innerText=`${d+1}`)}initInfoTo(c){var h;const g=(h=c.querySelector("[data-hs-datatable-info-to]"))!==null&&h!==void 0?h:null,{end:d}=this.dataTable.page.info();g&&(g.innerText=`${d}`)}initInfoLength(c){var h;const g=(h=c.querySelector("[data-hs-datatable-info-length]"))!==null&&h!==void 0?h:null,{recordsTotal:d}=this.dataTable.page.info();g&&(g.innerText=`${d}`)}updateInfo(){this.initInfo()}initPaging(){this.pagingList.forEach(c=>this.hidePagingIfSinglePage(c))}hidePagingIfSinglePage(c){const{pages:h}=this.dataTable.page.info();h<2?(c.classList.add("hidden"),c.style.display="none"):(c.classList.remove("hidden"),c.style.display="")}initPagingPrev(){this.pagingPrevList.forEach(c=>{this.onPagingPrevClickListener.push({el:c,fn:()=>this.pagingPrevClick()}),c.addEventListener("click",this.onPagingPrevClickListener.find(h=>h.el===c).fn)})}onPrevClick(){this.dataTable.page("previous").draw("page")}disablePagingArrow(c,h){h?(c.classList.add("disabled"),c.setAttribute("disabled","disabled")):(c.classList.remove("disabled"),c.removeAttribute("disabled"))}initPagingNext(){this.pagingNextList.forEach(c=>{this.onPagingNextClickListener.push({el:c,fn:()=>this.pagingNextClick()}),c.addEventListener("click",this.onPagingNextClickListener.find(h=>h.el===c).fn)})}onNextClick(){this.dataTable.page("next").draw("page")}buildPagingPages(){this.pagingPagesList.forEach(c=>this.updatePaging(c))}updatePaging(c){const{page:h,pages:g,length:d}=this.dataTable.page.info(),p=this.dataTable.rows({search:"applied"}).count(),v=Math.ceil(p/d),b=h+1;let w=Math.max(1,b-Math.floor(this.maxPagesToShow/2)),E=Math.min(v,w+(this.maxPagesToShow-1));E-w+1<this.maxPagesToShow&&(w=Math.max(1,E-this.maxPagesToShow+1)),c.innerHTML="",w>1&&(this.buildPagingPage(1,c),w>2&&c.appendChild((0,m.htmlToElement)('<span class="ellipsis">...</span>')));for(let C=w;C<=E;C++)this.buildPagingPage(C,c);E<v&&(E<v-1&&c.appendChild((0,m.htmlToElement)('<span class="ellipsis">...</span>')),this.buildPagingPage(v,c)),this.pagingPrevList.forEach(C=>this.disablePagingArrow(C,h===0)),this.pagingNextList.forEach(C=>this.disablePagingArrow(C,h===g-1)),this.pagingList.forEach(C=>this.hidePagingIfSinglePage(C))}buildPagingPage(c,h){const{page:g}=this.dataTable.page.info(),d=(0,m.htmlToElement)('<button type="button"></button>');d.innerText=`${c}`,d.setAttribute("data-page",`${c}`),this.pageBtnClasses&&(0,m.classToClassList)(this.pageBtnClasses,d),g===c-1&&d.classList.add("active"),this.onSinglePagingClickListener.push({el:d,fn:()=>this.singlePagingClick(c)}),d.addEventListener("click",this.onSinglePagingClickListener.find(p=>p.el===d).fn),h.append(d)}onPageClick(c){this.dataTable.page(c-1).draw("page")}initRowSelecting(){this.onRowSelectingAllChangeListener=()=>this.rowSelectingAllChange(),this.rowSelectingAll.addEventListener("change",this.onRowSelectingAllChangeListener)}triggerChangeEventToRow(){this.table.querySelectorAll(`tbody ${this.rowSelectingIndividual}`).forEach(c=>{c.addEventListener("change",()=>{this.updateSelectAllCheckbox()})})}onSelectAllChange(){let c=this.rowSelectingAll.checked;Array.from(this.dataTable.rows({page:"current",search:"applied"}).nodes()).forEach(h=>{const g=h.querySelector(this.rowSelectingIndividual);g&&(g.checked=c)}),this.updateSelectAllCheckbox()}updateSelectAllCheckbox(){if(!this.dataTable.rows({search:"applied"}).count())return this.rowSelectingAll.checked=!1,!1;let c=!0;Array.from(this.dataTable.rows({page:"current",search:"applied"}).nodes()).forEach(h=>{const g=h.querySelector(this.rowSelectingIndividual);if(g&&!g.checked)return c=!1,!1}),this.rowSelectingAll.checked=c}destroy(){this.searches&&this.onSearchInputListener.forEach(({el:c,fn:h})=>c.removeEventListener("click",h)),this.pageEntitiesList&&this.onPageEntitiesChangeListener.forEach(({el:c,fn:h})=>c.removeEventListener("change",h)),this.pagingPagesList.length&&(this.onSinglePagingClickListener.forEach(({el:c,fn:h})=>c.removeEventListener("click",h)),this.pagingPagesList.forEach(c=>c.innerHTML="")),this.pagingPrevList.length&&this.onPagingPrevClickListener.forEach(({el:c,fn:h})=>c.removeEventListener("click",h)),this.pagingNextList.length&&this.onPagingNextClickListener.forEach(({el:c,fn:h})=>c.removeEventListener("click",h)),this.rowSelectingAll&&this.rowSelectingAll.removeEventListener("change",this.onRowSelectingAllChangeListener),this.dataTable.destroy(),this.rowSelectingAll=null,this.rowSelectingIndividual=null,window.$hsDataTableCollection=window.$hsDataTableCollection.filter(({element:c})=>c.el!==this.el)}static getInstance(c,h){const g=window.$hsDataTableCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element.el:null}static autoInit(){window.$hsDataTableCollection||(window.$hsDataTableCollection=[]),window.$hsDataTableCollection&&(window.$hsDataTableCollection=window.$hsDataTableCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-datatable]:not(.--prevent-on-load-init)").forEach(c=>{window.$hsDataTableCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}}window.addEventListener("load",()=>{document.querySelectorAll("[data-hs-datatable]:not(.--prevent-on-load-init)").length&&(typeof jQuery>"u"&&console.error("HSDataTable: jQuery is not available, please add it to the page."),typeof DataTable>"u"&&console.error("HSDataTable: DataTable is not available, please add it to the page.")),typeof DataTable<"u"&&typeof jQuery<"u"&&f.autoInit()}),typeof window<"u"&&(window.HSDataTable=f),i.default=f},850:function(n,i,l){/*
* HSOverlay
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=l(223),f=u(l(961)),x=u(l(248));class c extends f.default{constructor(v,b,w){var E,C,T,P,A,j;super(v,b,w),this.lastFocusedToggle=null,this.initialZIndex=0,this.toggleButtons=Array.from(document.querySelectorAll(`[data-hs-overlay="#${this.el.id}"]`));const V=this.collectToggleParameters(this.toggleButtons);this.toggleMinifierButtons=Array.from(document.querySelectorAll(`[data-hs-overlay-minifier="#${this.el.id}"]`));const H=v.getAttribute("data-hs-overlay-options"),R=H?JSON.parse(H):{},M=Object.assign(Object.assign(Object.assign({},R),V),b);this.hiddenClass=(M==null?void 0:M.hiddenClass)||"hidden",this.emulateScrollbarSpace=(M==null?void 0:M.emulateScrollbarSpace)||!1,this.isClosePrev=(E=M==null?void 0:M.isClosePrev)===null||E===void 0||E,this.backdropClasses=(C=M==null?void 0:M.backdropClasses)!==null&&C!==void 0?C:"hs-overlay-backdrop transition duration fixed inset-0 bg-gray-900/50 dark:bg-neutral-900/80",this.backdropParent=typeof M.backdropParent=="string"?document.querySelector(M.backdropParent):document.body,this.backdropExtraClasses=(T=M==null?void 0:M.backdropExtraClasses)!==null&&T!==void 0?T:"",this.moveOverlayToBody=(M==null?void 0:M.moveOverlayToBody)||null,this.openNextOverlay=!1,this.autoHide=null,this.initContainer=((P=this.el)===null||P===void 0?void 0:P.parentElement)||null,this.isCloseWhenClickInside=(0,m.stringToBoolean)((0,m.getClassProperty)(this.el,"--close-when-click-inside","false")||"false"),this.isTabAccessibilityLimited=(0,m.stringToBoolean)((0,m.getClassProperty)(this.el,"--tab-accessibility-limited","true")||"true"),this.isLayoutAffect=(0,m.stringToBoolean)((0,m.getClassProperty)(this.el,"--is-layout-affect","false")||"false"),this.hasAutofocus=(0,m.stringToBoolean)((0,m.getClassProperty)(this.el,"--has-autofocus","true")||"true"),this.hasDynamicZIndex=(0,m.stringToBoolean)((0,m.getClassProperty)(this.el,"--has-dynamic-z-index","false")||"false"),this.hasAbilityToCloseOnBackdropClick=(0,m.stringToBoolean)(this.el.getAttribute("data-hs-overlay-keyboard")||"true");const B=(0,m.getClassProperty)(this.el,"--auto-close"),W=(0,m.getClassProperty)(this.el,"--auto-close-equality-type"),K=(0,m.getClassProperty)(this.el,"--opened");this.autoClose=!isNaN(+B)&&isFinite(+B)?+B:y.BREAKPOINTS[B]||null,this.autoCloseEqualityType=(A=W)!==null&&A!==void 0?A:null,this.openedBreakpoint=(!isNaN(+K)&&isFinite(+K)?+K:y.BREAKPOINTS[K])||null,this.animationTarget=((j=this==null?void 0:this.el)===null||j===void 0?void 0:j.querySelector(".hs-overlay-animation-target"))||this.el,this.initialZIndex=parseInt(getComputedStyle(this.el).zIndex,10),this.onElementClickListener=[],this.onElementMinifierClickListener=[],this.initiallyOpened=document.body.classList.contains("hs-overlay-body-open"),this.init()}elementClick(){const v=()=>{const b={el:this.el,isOpened:!!this.el.classList.contains("open")};this.fireEvent("toggleClicked",b),(0,m.dispatch)("toggleClicked.hs.overlay",this.el,b)};this.el.classList.contains("opened")?this.close(!1,v):this.open(v)}elementMinifierClick(){const v=()=>{const b={el:this.el,isMinified:!!this.el.classList.contains("minified")};this.fireEvent("toggleMinifierClicked",b),(0,m.dispatch)("toggleMinifierClicked.hs.overlay",this.el,b)};this.el.classList.contains("minified")?this.minify(!1,v):this.minify(!0,v)}minify(v,b=null){v?(this.el.classList.add("minified"),document.body.classList.add("hs-overlay-minified"),b&&b()):(this.el.classList.remove("minified"),document.body.classList.remove("hs-overlay-minified"),b&&b())}overlayClick(v){v.target.id&&`#${v.target.id}`===this.el.id&&this.isCloseWhenClickInside&&this.hasAbilityToCloseOnBackdropClick&&this.close()}backdropClick(){this.close()}init(){if(this.createCollection(window.$hsOverlayCollection,this),this.isLayoutAffect&&this.openedBreakpoint){const v=c.getInstance(this.el,!0);c.setOpened(this.openedBreakpoint,v)}this.onOverlayClickListener=v=>this.overlayClick(v),this.el.addEventListener("click",this.onOverlayClickListener),this.toggleButtons.length&&this.buildToggleButtons(this.toggleButtons),this.toggleMinifierButtons.length&&this.buildToggleMinifierButtons(),typeof window<"u"&&(window.HSAccessibilityObserver||(window.HSAccessibilityObserver=new x.default),this.setupAccessibility())}buildToggleButtons(v){v.forEach(b=>{this.el.classList.contains("opened")?b.ariaExpanded="true":b.ariaExpanded="false",this.onElementClickListener.push({el:b,fn:()=>this.elementClick()}),b.addEventListener("click",this.onElementClickListener.find(w=>w.el===b).fn)})}buildToggleMinifierButtons(){this.toggleMinifierButtons.forEach(v=>{this.el.classList.contains("minified")?v.ariaExpanded="true":v.ariaExpanded="false",this.onElementMinifierClickListener.push({el:v,fn:()=>this.elementMinifierClick()}),v.addEventListener("click",this.onElementMinifierClickListener.find(b=>b.el===v).fn)})}hideAuto(){const v=parseInt((0,m.getClassProperty)(this.el,"--auto-hide","0"));v&&(this.autoHide=setTimeout(()=>{this.close()},v))}checkTimer(){this.autoHide&&(clearTimeout(this.autoHide),this.autoHide=null)}buildBackdrop(){const v=this.el.classList.value.split(" "),b=parseInt(window.getComputedStyle(this.el).getPropertyValue("z-index")),w=this.el.getAttribute("data-hs-overlay-backdrop-container")||!1;this.backdrop=document.createElement("div");let E=`${this.backdropClasses} ${this.backdropExtraClasses}`;const C=(0,m.getClassProperty)(this.el,"--overlay-backdrop","true")!=="static",T=(0,m.getClassProperty)(this.el,"--overlay-backdrop","true")==="false";this.backdrop.id=`${this.el.id}-backdrop`,"style"in this.backdrop&&(this.backdrop.style.zIndex=""+(b-1));for(const P of v)(P.startsWith("hs-overlay-backdrop-open:")||P.includes(":hs-overlay-backdrop-open:"))&&(E+=` ${P}`);T||(w&&(this.backdrop=document.querySelector(w).cloneNode(!0),this.backdrop.classList.remove("hidden"),E=`${this.backdrop.classList.toString()}`,this.backdrop.classList.value=""),C&&(this.onBackdropClickListener=()=>this.backdropClick(),this.backdrop.addEventListener("click",this.onBackdropClickListener,!0)),this.backdrop.setAttribute("data-hs-overlay-backdrop-template",""),this.backdropParent.appendChild(this.backdrop),setTimeout(()=>{this.backdrop.classList.value=E}))}destroyBackdrop(){const v=document.querySelector(`#${this.el.id}-backdrop`);v&&(this.openNextOverlay&&(v.style.transitionDuration=1.8*parseFloat(window.getComputedStyle(v).transitionDuration.replace(/[^\d.-]/g,""))+"s"),v.classList.add("opacity-0"),(0,m.afterTransition)(v,()=>{v.remove()}))}focusElement(){const v=this.el.querySelector("[autofocus]");if(!v)return!1;v.focus()}getScrollbarSize(){let v=document.createElement("div");v.style.overflow="scroll",v.style.width="100px",v.style.height="100px",document.body.appendChild(v);let b=v.offsetWidth-v.clientWidth;return document.body.removeChild(v),b}collectToggleParameters(v){let b={};return v.forEach(w=>{const E=w.getAttribute("data-hs-overlay-options"),C=E?JSON.parse(E):{};b=Object.assign(Object.assign({},b),C)}),b}isElementVisible(){const v=window.getComputedStyle(this.el);if(v.display==="none"||v.visibility==="hidden"||v.opacity==="0")return!1;const b=this.el.getBoundingClientRect();if(b.width===0||b.height===0)return!1;let w=this.el.parentElement;for(;w;){const E=window.getComputedStyle(w);if(E.display==="none"||E.visibility==="hidden"||E.opacity==="0")return!1;w=w.parentElement}return!0}isOpened(){return this.el.classList.contains("open")&&!this.el.classList.contains(this.hiddenClass)}open(v=null){this.el.classList.contains("minified")&&this.minify(!1),this.hasDynamicZIndex&&(c.currentZIndex<this.initialZIndex&&(c.currentZIndex=this.initialZIndex),c.currentZIndex++,this.el.style.zIndex=`${c.currentZIndex}`);const b=document.querySelectorAll(".hs-overlay.open"),w=window.$hsOverlayCollection.find(T=>Array.from(b).includes(T.element.el)&&!T.element.isLayoutAffect),E=document.querySelectorAll(`[data-hs-overlay="#${this.el.id}"]`),C=(0,m.getClassProperty)(this.el,"--body-scroll","false")!=="true";if(this.lastFocusedToggle=document.activeElement,this.isClosePrev&&w)return this.openNextOverlay=!0,w.element.close().then(()=>{this.open(),this.openNextOverlay=!1});C&&(document.body.style.overflow="hidden",this.emulateScrollbarSpace&&(document.body.style.paddingRight=`${this.getScrollbarSize()}px`)),this.buildBackdrop(),this.checkTimer(),this.hideAuto(),E.forEach(T=>{T.ariaExpanded&&(T.ariaExpanded="true")}),this.el.classList.remove(this.hiddenClass),this.el.setAttribute("aria-overlay","true"),this.el.setAttribute("tabindex","-1"),setTimeout(()=>{if(this.el.classList.contains("opened"))return!1;this.el.classList.add("open","opened"),this.isLayoutAffect&&document.body.classList.add("hs-overlay-body-open"),this.initiallyOpened||(this.el.focus(),this.el.style.outline="none"),this.initiallyOpened=!1,this.fireEvent("open",this.el),(0,m.dispatch)("open.hs.overlay",this.el,this.el),window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,!0),this.hasAutofocus&&this.focusElement(),typeof v=="function"&&v(),this.isElementVisible()&&c.openedItemsQty++},50)}close(v=!1,b=null){this.isElementVisible()&&(c.openedItemsQty=c.openedItemsQty<=0?0:c.openedItemsQty-1),c.openedItemsQty===0&&this.isLayoutAffect&&document.body.classList.remove("hs-overlay-body-open");const w=E=>{if(this.el.classList.contains("open"))return!1;document.querySelectorAll(`[data-hs-overlay="#${this.el.id}"]`).forEach(C=>{C.ariaExpanded&&(C.ariaExpanded="false")}),this.el.classList.add(this.hiddenClass),this.hasDynamicZIndex&&(this.el.style.zIndex=""),this.destroyBackdrop(),this.fireEvent("close",this.el),(0,m.dispatch)("close.hs.overlay",this.el,this.el),window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,!1),document.querySelector(".hs-overlay.opened")||(document.body.style.overflow="",this.emulateScrollbarSpace&&(document.body.style.paddingRight="")),this.lastFocusedToggle&&(this.lastFocusedToggle.focus(),this.lastFocusedToggle=null),E(this.el),typeof b=="function"&&b(),c.openedItemsQty===0&&(document.body.classList.remove("hs-overlay-body-open"),this.hasDynamicZIndex&&(c.currentZIndex=0))};return new Promise(E=>{this.el.classList.remove("open","opened"),this.el.removeAttribute("aria-overlay"),this.el.removeAttribute("tabindex"),this.el.style.outline="",v?w(E):(0,m.afterTransition)(this.animationTarget,()=>w(E))})}updateToggles(){const v=Array.from(document.querySelectorAll(`[data-hs-overlay="#${this.el.id}"]`)).filter(b=>!this.toggleButtons.includes(b));v.length&&(this.toggleButtons.push(...v),this.buildToggleButtons(v)),this.toggleButtons=this.toggleButtons.filter(b=>{var w;if(document.contains(b))return!0;const E=(w=this.onElementClickListener)===null||w===void 0?void 0:w.find(C=>C.el===b);return E&&b.removeEventListener("click",E.fn),!1})}destroy(){this.el.classList.remove("open","opened",this.hiddenClass),this.isLayoutAffect&&document.body.classList.remove("hs-overlay-body-open"),this.el.removeEventListener("click",this.onOverlayClickListener),this.onElementClickListener.length&&(this.onElementClickListener.forEach(({el:v,fn:b})=>{v.removeEventListener("click",b)}),this.onElementClickListener=null),this.backdrop&&this.backdrop.removeEventListener("click",this.onBackdropClickListener),this.backdrop&&(this.backdrop.remove(),this.backdrop=null),window.$hsOverlayCollection=window.$hsOverlayCollection.filter(({element:v})=>v.el!==this.el)}static findInCollection(v){return window.$hsOverlayCollection.find(b=>v instanceof c?b.element.el===v.el:typeof v=="string"?b.element.el===document.querySelector(v):b.element.el===v)||null}static getInstance(v,b){const w=typeof v=="string"?document.querySelector(v):v,E=w!=null&&w.getAttribute("data-hs-overlay")?w.getAttribute("data-hs-overlay"):v,C=window.$hsOverlayCollection.find(T=>T.element.el===(typeof E=="string"?document.querySelector(E):E)||T.element.el===(typeof E=="string"?document.querySelector(E):E));return C?b?C:C.element.el:null}static autoInit(){window.$hsOverlayCollection||(window.$hsOverlayCollection=[]),window.$hsOverlayCollection&&(window.$hsOverlayCollection=window.$hsOverlayCollection.filter(({element:v})=>document.contains(v.el))),document.querySelectorAll(".hs-overlay:not(.--prevent-on-load-init)").forEach(v=>{window.$hsOverlayCollection.find(b=>{var w;return((w=b==null?void 0:b.element)===null||w===void 0?void 0:w.el)===v})||new c(v)})}static open(v){const b=c.findInCollection(v);b&&b.element.el.classList.contains(b.element.hiddenClass)&&b.element.open()}static close(v){const b=c.findInCollection(v);b&&!b.element.el.classList.contains(b.element.hiddenClass)&&b.element.close()}static minify(v,b){const w=c.findInCollection(v);w&&w.element.minify(b)}static setOpened(v,b){document.body.clientWidth>=v?(b.element.el.classList.contains("minified")&&b.element.minify(!1),document.body.classList.add("hs-overlay-body-open"),b.element.open()):b.element.close(!0)}setupAccessibility(){this.accessibilityComponent=window.HSAccessibilityObserver.registerComponent(this.el,{onEnter:()=>{this.isOpened()||this.open()},onEsc:()=>{this.isOpened()&&this.close()},onTab:()=>{var v;if(!this.isOpened()||!this.isTabAccessibilityLimited)return;const b=Array.from(this.el.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(C=>!C.hidden&&window.getComputedStyle(C).display!=="none");if(b.length===0)return;const w=this.el.querySelector(":focus"),E=w?b.indexOf(w):-1;window.event instanceof KeyboardEvent&&window.event.shiftKey?E<=0?b[b.length-1].focus():b[E-1].focus():E===b.length-1?b[0].focus():b[E+1].focus(),(v=window.event)===null||v===void 0||v.preventDefault()}},this.isOpened(),"Overlay",".hs-overlay"),this.toggleButtons.forEach(v=>{window.HSAccessibilityObserver.registerComponent(v,{onEnter:()=>{this.isOpened()||this.open()},onEsc:()=>{this.isOpened()&&this.close()}},this.isOpened(),"Overlay Toggle",`[data-hs-overlay="#${this.el.id}"]`)})}static on(v,b,w){const E=c.findInCollection(b);E&&(E.element.events[v]=w)}}c.openedItemsQty=0,c.currentZIndex=0;let h=null;const g=()=>{if(!window.$hsOverlayCollection.length||!window.$hsOverlayCollection.find(p=>p.element.moveOverlayToBody))return!1;window.$hsOverlayCollection.filter(p=>p.element.moveOverlayToBody).forEach(p=>{const v=p.element.moveOverlayToBody,b=p.element.initContainer,w=document.querySelector("body"),E=p.element.el;if(!b&&E)return!1;document.body.clientWidth<=v&&!(0,m.isDirectChild)(w,E)?w.appendChild(E):document.body.clientWidth>v&&!b.contains(E)&&b.appendChild(E)})},d=()=>{var p;!((p=window.$hsOverlayCollection)===null||p===void 0)&&p.length&&window.$hsOverlayCollection.forEach(v=>{var b;const w=v.element;((b=w.toggleMinifierButtons)===null||b===void 0?void 0:b.length)>0&&w.openedBreakpoint&&(document.body.clientWidth>=w.openedBreakpoint?document.body.classList.add("hs-overlay-body-open"):document.body.classList.remove("hs-overlay-body-open"))})};window.addEventListener("load",()=>{c.autoInit(),g(),d()}),window.addEventListener("resize",()=>{((p,v=150)=>{h&&clearTimeout(h),h=setTimeout(p,v)})(()=>{(()=>{if(!window.$hsOverlayCollection.length||!window.$hsOverlayCollection.find(p=>p.element.autoClose))return!1;window.$hsOverlayCollection.filter(p=>p.element.autoClose).forEach(p=>{const{autoCloseEqualityType:v,autoClose:b}=p.element;(v==="less-than"?document.body.clientWidth<=b:document.body.clientWidth>=b)&&p.element.el.classList.contains("opened")?(p.element.el.classList.contains("minified")&&p.element.minify(!1),p.element.close(!0)):p.element.isLayoutAffect&&p.element.el.classList.contains("opened")&&document.body.classList.add("hs-overlay-body-open")})})(),(()=>{if(!window.$hsOverlayCollection.length||!window.$hsOverlayCollection.find(p=>p.element.openedBreakpoint))return!1;window.$hsOverlayCollection.filter(p=>p.element.openedBreakpoint).forEach(p=>{const{openedBreakpoint:v}=p.element;document.body.clientWidth>=v?p.element.el.classList.contains("opened")||c.setOpened(v,p):p.element.el.classList.contains("opened")&&(p.element.el.classList.contains("minified")&&p.element.minify(!1),p.element.close(!0))})})()}),g(),(()=>{if(!window.$hsOverlayCollection.length||!window.$hsOverlayCollection.find(p=>p.element.el.classList.contains("opened")))return!1;window.$hsOverlayCollection.filter(p=>p.element.el.classList.contains("opened")).forEach(p=>{const v=parseInt(window.getComputedStyle(p.element.el).getPropertyValue("z-index")),b=document.querySelector(`#${p.element.el.id}-backdrop`);return!!b&&v!==parseInt(window.getComputedStyle(b).getPropertyValue("z-index"))+1&&("style"in b&&(b.style.zIndex=""+(v-1)),void document.body.classList.add("hs-overlay-body-open"))})})(),d()}),typeof window<"u"&&(window.HSOverlay=c),i.default=c},852:(n,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.todayTranslations=void 0,i.todayTranslations={"ru-RU":"",ru:"","de-DE":"Heute",de:"Heute","fr-FR":"Aujourd'hui",fr:"Aujourd'hui","es-ES":"Hoy",es:"Hoy","it-IT":"Oggi",it:"Oggi","pt-BR":"Hoje",pt:"Hoje","pl-PL":"Dzisiaj",pl:"Dzisiaj","uk-UA":"",uk:"","zh-CN":"",zh:"","ja-JP":"",ja:"","ko-KR":"",ko:"","ar-SA":"",ar:"","hi-IN":"",hi:"","tr-TR":"Bugn",tr:"Bugn","nl-NL":"Vandaag",nl:"Vandaag","sv-SE":"Idag",sv:"Idag","da-DK":"I dag",da:"I dag","no-NO":"I dag",no:"I dag","fi-FI":"Tnn",fi:"Tnn","cs-CZ":"Dnes",cs:"Dnes","sk-SK":"Dnes",sk:"Dnes","hu-HU":"Ma",hu:"Ma","ro-RO":"Astzi",ro:"Astzi","bg-BG":"",bg:"","hr-HR":"Danas",hr:"Danas","sr-RS":"",sr:"","sl-SI":"Danes",sl:"Danes","et-EE":"Tna",et:"Tna","lv-LV":"odien",lv:"odien","lt-LT":"iandien",lt:"iandien","el-GR":"",el:"","he-IL":"",he:"","th-TH":"",th:"","vi-VN":"Hm nay",vi:"Hm nay","id-ID":"Hari ini",id:"Hari ini","ms-MY":"Hari ini",ms:"Hari ini","fa-IR":"",fa:"","ur-PK":"",ur:"","bn-BD":"",bn:"","ta-IN":"",ta:"","te-IN":"",te:"","ml-IN":"",ml:"","kn-IN":"",kn:"","gu-IN":"",gu:"","pa-IN":"",pa:"","or-IN":"",or:"","as-IN":"",as:"","ne-NP":"",ne:"","si-LK":"",si:"","my-MM":"",my:"","km-KH":"",km:"","lo-LA":"",lo:"","mn-MN":"",mn:"","ka-GE":"",ka:"","hy-AM":"",hy:"","az-AZ":"Bu gn",az:"Bu gn","kk-KZ":"",kk:"","ky-KG":"",ky:"","uz-UZ":"Bugun",uz:"Bugun","tg-TJ":"",tg:"","ps-AF":"",ps:"","ku-IQ":"",ku:"","yi-IL":"",yi:"","lb-LU":"Haut",lb:"Haut","is-IS":" dag",is:" dag","mt-MT":"Illum",mt:"Illum","cy-GB":"Heddiw",cy:"Heddiw","ga-IE":"Inniu",ga:"Inniu","gd-GB":"An-diugh",gd:"An-diugh","kw-GB":"Hedhyw",kw:"Hedhyw","br-FR":"Hiziv",br:"Hiziv","oc-FR":"Ui",oc:"Ui","ca-ES":"Avui",ca:"Avui","eu-ES":"Gaur",eu:"Gaur","gl-ES":"Hoxe",gl:"Hoxe","ast-ES":"Gei",ast:"Gei","an-ES":"Hue",an:"Hue","fur-IT":"Vu",fur:"Vu","lij-IT":"Ancheu",lij:"Ancheu","pms-IT":"Ancheuj",pms:"Ancheuj","rm-CH":"Oz",rm:"Oz","gsw-CH":"Ht",gsw:"Ht","wae-CH":"Ht",wae:"Ht","bar-AT":"Heit",bar:"Heit","ksh-DE":"Hck",ksh:"Hck","nds-DE":"Vundaag",nds:"Vundaag","pfl-DE":"Haid",pfl:"Haid","pdc-US":"Heit",pdc:"Heit","af-ZA":"Vandag",af:"Vandag","zu-ZA":"Namhlanje",zu:"Namhlanje","xh-ZA":"Namhlanje",xh:"Namhlanje","st-ZA":"Kajeno",st:"Kajeno","tn-ZA":"Kajeno",tn:"Kajeno","ve-ZA":"Leno",ve:"Leno","nso-ZA":"Kajeno",nso:"Kajeno","ts-ZA":"Namuntlha",ts:"Namuntlha","ss-ZA":"Lamuhla",ss:"Lamuhla","nr-ZA":"Namhlanje",nr:"Namhlanje","ff-SN":"Hannde",ff:"Hannde","wo-SN":"Tey",wo:"Tey","ig-NG":"Taa",ig:"Taa","yo-NG":"Ln",yo:"Ln","ha-NG":"Yau",ha:"Yau","sw-KE":"Leo",sw:"Leo","am-ET":"",am:"","ti-ER":"",ti:"","so-SO":"Maanta",so:"Maanta","om-ET":"Har'a",om:"Har'a"}},887:function(n,i,l){/*
* HSStepper
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h){super(c,h);const g=c.getAttribute("data-hs-stepper"),d=g?JSON.parse(g):{},p=Object.assign(Object.assign({},d),h);this.currentIndex=(p==null?void 0:p.currentIndex)||1,this.mode=(p==null?void 0:p.mode)||"linear",this.isCompleted=(p==null?void 0:p.isCompleted)!==void 0&&(p==null?void 0:p.isCompleted),this.totalSteps=1,this.navItems=[],this.contentItems=[],this.onNavItemClickListener=[],this.init()}navItemClick(c){this.handleNavItemClick(c)}backClick(){if(this.handleBackButtonClick(),this.mode==="linear"){const c=this.navItems.find(({index:g})=>g===this.currentIndex),h=this.contentItems.find(({index:g})=>g===this.currentIndex);if(!c||!h)return;c.isCompleted&&(c.isCompleted=!1,c.isSkip=!1,c.el.classList.remove("success","skipped")),h.isCompleted&&(h.isCompleted=!1,h.isSkip=!1,h.el.classList.remove("success","skipped")),this.mode==="linear"&&this.currentIndex!==this.totalSteps&&(this.nextBtn&&(this.nextBtn.style.display=""),this.completeStepBtn&&(this.completeStepBtn.style.display="")),this.showSkipButton(),this.showFinishButton(),this.showCompleteStepButton()}}nextClick(){var c;if(this.fireEvent("beforeNext",this.currentIndex),(0,m.dispatch)("beforeNext.hs.stepper",this.el,this.currentIndex),(c=this.getNavItem(this.currentIndex))===null||c===void 0?void 0:c.isProcessed)return this.disableAll(),!1;this.goToNext()}skipClick(){this.handleSkipButtonClick(),this.mode==="linear"&&this.currentIndex===this.totalSteps&&(this.nextBtn&&(this.nextBtn.style.display="none"),this.completeStepBtn&&(this.completeStepBtn.style.display="none"),this.finishBtn&&(this.finishBtn.style.display=""))}completeStepBtnClick(){this.handleCompleteStepButtonClick()}finishBtnClick(){var c;if(this.fireEvent("beforeFinish",this.currentIndex),(0,m.dispatch)("beforeFinish.hs.stepper",this.el,this.currentIndex),(c=this.getNavItem(this.currentIndex))===null||c===void 0?void 0:c.isProcessed)return this.disableAll(),!1;this.handleFinishButtonClick()}resetBtnClick(){this.handleResetButtonClick()}init(){this.createCollection(window.$hsStepperCollection,this),this.buildNav(),this.buildContent(),this.buildButtons(),this.setTotalSteps()}getUncompletedSteps(c=!1){return this.navItems.filter(({isCompleted:h,isSkip:g})=>c?!h||g:!h&&!g)}setTotalSteps(){this.navItems.forEach(c=>{const{index:h}=c;h>this.totalSteps&&(this.totalSteps=h)})}buildNav(){this.el.querySelectorAll("[data-hs-stepper-nav-item]").forEach(c=>this.addNavItem(c)),this.navItems.forEach(c=>this.buildNavItem(c))}buildNavItem(c){const{index:h,isDisabled:g,el:d}=c;h===this.currentIndex&&this.setCurrentNavItem(),(this.mode!=="linear"||g)&&(this.onNavItemClickListener.push({el:d,fn:()=>this.navItemClick(c)}),d.addEventListener("click",this.onNavItemClickListener.find(p=>p.el===d).fn))}addNavItem(c){const{index:h,isFinal:g=!1,isCompleted:d=!1,isSkip:p=!1,isOptional:v=!1,isDisabled:b=!1,isProcessed:w=!1,hasError:E=!1}=JSON.parse(c.getAttribute("data-hs-stepper-nav-item"));d&&c.classList.add("success"),p&&c.classList.add("skipped"),b&&(c.tagName!=="BUTTON"&&c.tagName!=="INPUT"||c.setAttribute("disabled","disabled"),c.classList.add("disabled")),E&&c.classList.add("error"),this.navItems.push({index:h,isFinal:g,isCompleted:d,isSkip:p,isOptional:v,isDisabled:b,isProcessed:w,hasError:E,el:c})}setCurrentNavItem(){this.navItems.forEach(c=>{const{index:h,el:g}=c;h===this.currentIndex?this.setCurrentNavItemActions(g):this.unsetCurrentNavItemActions(g)})}setCurrentNavItemActions(c){c.classList.add("active"),this.fireEvent("active",this.currentIndex),(0,m.dispatch)("active.hs.stepper",this.el,this.currentIndex)}getNavItem(c=this.currentIndex){return this.navItems.find(({index:h})=>h===c)}setProcessedNavItemActions(c){c.isProcessed=!0,c.el.classList.add("processed")}setErrorNavItemActions(c){c.hasError=!0,c.el.classList.add("error")}unsetCurrentNavItemActions(c){c.classList.remove("active")}handleNavItemClick(c){const{index:h}=c;this.currentIndex=h,this.setCurrentNavItem(),this.setCurrentContentItem(),this.checkForTheFirstStep()}buildContent(){this.el.querySelectorAll("[data-hs-stepper-content-item]").forEach(c=>this.addContentItem(c)),this.navItems.forEach(c=>this.buildContentItem(c))}buildContentItem(c){const{index:h}=c;h===this.currentIndex&&this.setCurrentContentItem()}addContentItem(c){const{index:h,isFinal:g=!1,isCompleted:d=!1,isSkip:p=!1}=JSON.parse(c.getAttribute("data-hs-stepper-content-item"));d&&c.classList.add("success"),p&&c.classList.add("skipped"),this.contentItems.push({index:h,isFinal:g,isCompleted:d,isSkip:p,el:c})}setCurrentContentItem(){if(this.isCompleted){const c=this.contentItems.find(({isFinal:g})=>g),h=this.contentItems.filter(({isFinal:g})=>!g);return c.el.style.display="",h.forEach(({el:g})=>g.style.display="none"),!1}this.contentItems.forEach(c=>{const{index:h,el:g}=c;h===this.currentIndex?this.setCurrentContentItemActions(g):this.unsetCurrentContentItemActions(g)})}hideAllContentItems(){this.contentItems.forEach(({el:c})=>c.style.display="none")}setCurrentContentItemActions(c){c.style.display=""}unsetCurrentContentItemActions(c){c.style.display="none"}disableAll(){const c=this.getNavItem(this.currentIndex);c.hasError=!1,c.isCompleted=!1,c.isDisabled=!1,c.el.classList.remove("error","success"),this.disableButtons()}disableNavItemActions(c){c.isDisabled=!0,c.el.classList.add("disabled")}enableNavItemActions(c){c.isDisabled=!1,c.el.classList.remove("disabled")}buildButtons(){this.backBtn=this.el.querySelector("[data-hs-stepper-back-btn]"),this.nextBtn=this.el.querySelector("[data-hs-stepper-next-btn]"),this.skipBtn=this.el.querySelector("[data-hs-stepper-skip-btn]"),this.completeStepBtn=this.el.querySelector("[data-hs-stepper-complete-step-btn]"),this.finishBtn=this.el.querySelector("[data-hs-stepper-finish-btn]"),this.resetBtn=this.el.querySelector("[data-hs-stepper-reset-btn]"),this.buildBackButton(),this.buildNextButton(),this.buildSkipButton(),this.buildCompleteStepButton(),this.buildFinishButton(),this.buildResetButton()}buildBackButton(){this.backBtn&&(this.checkForTheFirstStep(),this.onBackClickListener=()=>this.backClick(),this.backBtn.addEventListener("click",this.onBackClickListener))}handleBackButtonClick(){this.currentIndex!==1&&(this.mode==="linear"&&this.removeOptionalClasses(),this.currentIndex--,this.mode==="linear"&&this.removeOptionalClasses(),this.setCurrentNavItem(),this.setCurrentContentItem(),this.checkForTheFirstStep(),this.completeStepBtn&&this.changeTextAndDisableCompleteButtonIfStepCompleted(),this.fireEvent("back",this.currentIndex),(0,m.dispatch)("back.hs.stepper",this.el,this.currentIndex))}checkForTheFirstStep(){this.currentIndex===1?this.setToDisabled(this.backBtn):this.setToNonDisabled(this.backBtn)}setToDisabled(c){c.tagName!=="BUTTON"&&c.tagName!=="INPUT"||c.setAttribute("disabled","disabled"),c.classList.add("disabled")}setToNonDisabled(c){c.tagName!=="BUTTON"&&c.tagName!=="INPUT"||c.removeAttribute("disabled"),c.classList.remove("disabled")}buildNextButton(){this.nextBtn&&(this.onNextClickListener=()=>this.nextClick(),this.nextBtn.addEventListener("click",this.onNextClickListener))}unsetProcessedNavItemActions(c){c.isProcessed=!1,c.el.classList.remove("processed")}handleNextButtonClick(c=!0){if(c)this.currentIndex===this.totalSteps?this.currentIndex=1:this.currentIndex++;else{const h=this.getUncompletedSteps();if(h.length===1){const{index:g}=h[0];this.currentIndex=g}else{if(this.currentIndex===this.totalSteps)return;this.currentIndex++}}this.mode==="linear"&&this.removeOptionalClasses(),this.setCurrentNavItem(),this.setCurrentContentItem(),this.checkForTheFirstStep(),this.completeStepBtn&&this.changeTextAndDisableCompleteButtonIfStepCompleted(),this.showSkipButton(),this.showFinishButton(),this.showCompleteStepButton(),this.fireEvent("next",this.currentIndex),(0,m.dispatch)("next.hs.stepper",this.el,this.currentIndex)}removeOptionalClasses(){const c=this.navItems.find(({index:g})=>g===this.currentIndex),h=this.contentItems.find(({index:g})=>g===this.currentIndex);c.isSkip=!1,c.hasError=!1,c.isDisabled=!1,h.isSkip=!1,c.el.classList.remove("skipped","success","error"),h.el.classList.remove("skipped","success","error")}buildSkipButton(){this.skipBtn&&(this.showSkipButton(),this.onSkipClickListener=()=>this.skipClick(),this.skipBtn.addEventListener("click",this.onSkipClickListener))}setSkipItem(c){const h=this.navItems.find(({index:d})=>d===(c||this.currentIndex)),g=this.contentItems.find(({index:d})=>d===(c||this.currentIndex));h&&g&&(this.setSkipItemActions(h),this.setSkipItemActions(g))}setSkipItemActions(c){c.isSkip=!0,c.el.classList.add("skipped")}showSkipButton(){if(!this.skipBtn)return;const{isOptional:c}=this.navItems.find(({index:h})=>h===this.currentIndex);this.skipBtn.style.display=c?"":"none"}handleSkipButtonClick(){this.setSkipItem(),this.handleNextButtonClick(),this.fireEvent("skip",this.currentIndex),(0,m.dispatch)("skip.hs.stepper",this.el,this.currentIndex)}buildCompleteStepButton(){this.completeStepBtn&&(this.completeStepBtnDefaultText=this.completeStepBtn.innerText,this.onCompleteStepBtnClickListener=()=>this.completeStepBtnClick(),this.completeStepBtn.addEventListener("click",this.onCompleteStepBtnClickListener))}changeTextAndDisableCompleteButtonIfStepCompleted(){const c=this.navItems.find(({index:g})=>g===this.currentIndex),{completedText:h}=JSON.parse(this.completeStepBtn.getAttribute("data-hs-stepper-complete-step-btn"));c&&(c.isCompleted?(this.completeStepBtn.innerText=h||this.completeStepBtnDefaultText,this.completeStepBtn.setAttribute("disabled","disabled"),this.completeStepBtn.classList.add("disabled")):(this.completeStepBtn.innerText=this.completeStepBtnDefaultText,this.completeStepBtn.removeAttribute("disabled"),this.completeStepBtn.classList.remove("disabled")))}setCompleteItem(c){const h=this.navItems.find(({index:d})=>d===(c||this.currentIndex)),g=this.contentItems.find(({index:d})=>d===(c||this.currentIndex));h&&g&&(this.setCompleteItemActions(h),this.setCompleteItemActions(g))}setCompleteItemActions(c){c.isCompleted=!0,c.el.classList.add("success")}showCompleteStepButton(){this.completeStepBtn&&(this.getUncompletedSteps().length===1?this.completeStepBtn.style.display="none":this.completeStepBtn.style.display="")}handleCompleteStepButtonClick(){this.setCompleteItem(),this.fireEvent("complete",this.currentIndex),(0,m.dispatch)("complete.hs.stepper",this.el,this.currentIndex),this.handleNextButtonClick(!1),this.showFinishButton(),this.showCompleteStepButton(),this.checkForTheFirstStep(),this.completeStepBtn&&this.changeTextAndDisableCompleteButtonIfStepCompleted(),this.showSkipButton()}buildFinishButton(){this.finishBtn&&(this.isCompleted&&this.setCompleted(),this.onFinishBtnClickListener=()=>this.finishBtnClick(),this.finishBtn.addEventListener("click",this.onFinishBtnClickListener))}setCompleted(){this.el.classList.add("completed")}unsetCompleted(){this.el.classList.remove("completed")}showFinishButton(){this.finishBtn&&(this.getUncompletedSteps().length===1?this.finishBtn.style.display="":this.finishBtn.style.display="none")}handleFinishButtonClick(){const c=this.getUncompletedSteps(),h=this.getUncompletedSteps(!0),{el:g}=this.contentItems.find(({isFinal:p})=>p);c.length&&c.forEach(({index:p})=>this.setCompleteItem(p)),this.currentIndex=this.totalSteps,this.setCurrentNavItem(),this.hideAllContentItems();const d=this.navItems.find(({index:p})=>p===this.currentIndex);(d?d.el:null).classList.remove("active"),g.style.display="block",this.backBtn&&(this.backBtn.style.display="none"),this.nextBtn&&(this.nextBtn.style.display="none"),this.skipBtn&&(this.skipBtn.style.display="none"),this.completeStepBtn&&(this.completeStepBtn.style.display="none"),this.finishBtn&&(this.finishBtn.style.display="none"),this.resetBtn&&(this.resetBtn.style.display=""),h.length<=1&&(this.isCompleted=!0,this.setCompleted()),this.fireEvent("finish",this.currentIndex),(0,m.dispatch)("finish.hs.stepper",this.el,this.currentIndex)}buildResetButton(){this.resetBtn&&(this.onResetBtnClickListener=()=>this.resetBtnClick(),this.resetBtn.addEventListener("click",this.onResetBtnClickListener))}handleResetButtonClick(){this.backBtn&&(this.backBtn.style.display=""),this.nextBtn&&(this.nextBtn.style.display=""),this.completeStepBtn&&(this.completeStepBtn.style.display="",this.completeStepBtn.innerText=this.completeStepBtnDefaultText,this.completeStepBtn.removeAttribute("disabled"),this.completeStepBtn.classList.remove("disabled")),this.resetBtn&&(this.resetBtn.style.display="none"),this.navItems.forEach(c=>{const{el:h}=c;c.isSkip=!1,c.isCompleted=!1,this.unsetCurrentNavItemActions(h),h.classList.remove("success","skipped")}),this.contentItems.forEach(c=>{const{el:h}=c;c.isSkip=!1,c.isCompleted=!1,this.unsetCurrentContentItemActions(h),h.classList.remove("success","skipped")}),this.currentIndex=1,this.unsetCompleted(),this.isCompleted=!1,this.showSkipButton(),this.setCurrentNavItem(),this.setCurrentContentItem(),this.showFinishButton(),this.showCompleteStepButton(),this.checkForTheFirstStep(),this.fireEvent("reset",this.currentIndex),(0,m.dispatch)("reset.hs.stepper",this.el,this.currentIndex)}setProcessedNavItem(c){const h=this.getNavItem(c);h&&this.setProcessedNavItemActions(h)}unsetProcessedNavItem(c){const h=this.getNavItem(c);h&&this.unsetProcessedNavItemActions(h)}goToNext(){this.mode==="linear"&&this.setCompleteItem(),this.handleNextButtonClick(this.mode!=="linear"),this.mode==="linear"&&this.currentIndex===this.totalSteps&&(this.nextBtn&&(this.nextBtn.style.display="none"),this.completeStepBtn&&(this.completeStepBtn.style.display="none"))}goToFinish(){this.handleFinishButtonClick()}disableButtons(){this.backBtn&&this.setToDisabled(this.backBtn),this.nextBtn&&this.setToDisabled(this.nextBtn)}enableButtons(){this.backBtn&&this.setToNonDisabled(this.backBtn),this.nextBtn&&this.setToNonDisabled(this.nextBtn)}setErrorNavItem(c){const h=this.getNavItem(c);h&&this.setErrorNavItemActions(h)}destroy(){this.el.classList.remove("completed"),this.el.querySelectorAll("[data-hs-stepper-nav-item]").forEach(c=>{c.classList.remove("active","success","skipped","disabled","error"),c.tagName!=="BUTTON"&&c.tagName!=="INPUT"||c.removeAttribute("disabled")}),this.el.querySelectorAll("[data-hs-stepper-content-item]").forEach(c=>{c.classList.remove("success","skipped")}),this.backBtn&&this.backBtn.classList.remove("disabled"),this.nextBtn&&this.nextBtn.classList.remove("disabled"),this.completeStepBtn&&this.completeStepBtn.classList.remove("disabled"),this.backBtn&&(this.backBtn.style.display=""),this.nextBtn&&(this.nextBtn.style.display=""),this.skipBtn&&(this.skipBtn.style.display=""),this.finishBtn&&(this.finishBtn.style.display="none"),this.resetBtn&&(this.resetBtn.style.display="none"),this.onNavItemClickListener.length&&this.onNavItemClickListener.forEach(({el:c,fn:h})=>{c.removeEventListener("click",h)}),this.backBtn&&this.backBtn.removeEventListener("click",this.onBackClickListener),this.nextBtn&&this.nextBtn.removeEventListener("click",this.onNextClickListener),this.skipBtn&&this.skipBtn.removeEventListener("click",this.onSkipClickListener),this.completeStepBtn&&this.completeStepBtn.removeEventListener("click",this.onCompleteStepBtnClickListener),this.finishBtn&&this.finishBtn.removeEventListener("click",this.onFinishBtnClickListener),this.resetBtn&&this.resetBtn.removeEventListener("click",this.onResetBtnClickListener),window.$hsStepperCollection=window.$hsStepperCollection.filter(({element:c})=>c.el!==this.el)}static getInstance(c,h){const g=window.$hsStepperCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element:null}static autoInit(){window.$hsStepperCollection||(window.$hsStepperCollection=[]),window.$hsStepperCollection&&(window.$hsStepperCollection=window.$hsStepperCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-stepper]:not(.--prevent-on-load-init)").forEach(c=>{window.$hsStepperCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}}window.addEventListener("load",()=>{f.autoInit()}),typeof window<"u"&&(window.HSStepper=f),i.default=f},891:function(n,i,l){/*
* HSDropdown
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=l(949),f=u(l(961)),x=u(l(248)),c=l(223);class h extends f.default{constructor(d,p,v){super(d,p,v),this.longPressTimer=null,this.openedViaKeyboard=!1,this.onTouchStartListener=null,this.onTouchEndListener=null,this.toggle=this.el.querySelector(":scope > .hs-dropdown-toggle")||this.el.querySelector(":scope > .hs-dropdown-toggle-wrapper > .hs-dropdown-toggle")||this.el.children[0],this.closers=Array.from(this.el.querySelectorAll(":scope .hs-dropdown-close"))||null,this.menu=this.el.querySelector(":scope > .hs-dropdown-menu"),this.eventMode=(0,m.getClassProperty)(this.el,"--trigger","click"),this.closeMode=(0,m.getClassProperty)(this.el,"--auto-close","true"),this.hasAutofocus=(0,m.stringToBoolean)((0,m.getClassProperty)(this.el,"--has-autofocus","true")||"true"),this.autofocusOnKeyboardOnly=(0,m.stringToBoolean)((0,m.getClassProperty)(this.el,"--autofocus-on-keyboard-only","true")||"true"),this.animationInProcess=!1,this.onCloserClickListener=[],this.toggle&&this.menu&&this.init()}elementMouseEnter(){this.onMouseEnterHandler()}elementMouseLeave(){this.onMouseLeaveHandler()}toggleClick(d){this.onClickHandler(d)}toggleContextMenu(d){d.preventDefault(),this.onContextMenuHandler(d)}handleTouchStart(d){this.longPressTimer=window.setTimeout(()=>{d.preventDefault();const p=d.touches[0],v=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,view:window,clientX:p.clientX,clientY:p.clientY});this.toggle&&this.toggle.dispatchEvent(v)},400)}handleTouchEnd(d){this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressTimer=null)}closerClick(){this.close()}init(){if(this.createCollection(window.$hsDropdownCollection,this),this.toggle.disabled)return!1;this.toggle&&this.buildToggle(),this.menu&&this.buildMenu(),this.closers&&this.buildClosers(),(0,m.isIOS)()||(0,m.isIpadOS)()||(this.onElementMouseEnterListener=()=>this.elementMouseEnter(),this.onElementMouseLeaveListener=()=>this.elementMouseLeave(),this.el.addEventListener("mouseenter",this.onElementMouseEnterListener),this.el.addEventListener("mouseleave",this.onElementMouseLeaveListener)),typeof window<"u"&&(window.HSAccessibilityObserver||(window.HSAccessibilityObserver=new x.default),this.setupAccessibility())}resizeHandler(){this.eventMode=(0,m.getClassProperty)(this.el,"--trigger","click"),this.closeMode=(0,m.getClassProperty)(this.el,"--auto-close","true"),this.hasAutofocus=(0,m.stringToBoolean)((0,m.getClassProperty)(this.el,"--has-autofocus","true")||"true"),this.autofocusOnKeyboardOnly=(0,m.stringToBoolean)((0,m.getClassProperty)(this.el,"--autofocus-on-keyboard-only","true")||"true")}isOpen(){return this.el.classList.contains("open")&&!this.menu.classList.contains("hidden")}buildToggle(){var d;!((d=this==null?void 0:this.toggle)===null||d===void 0)&&d.ariaExpanded&&(this.el.classList.contains("open")?this.toggle.ariaExpanded="true":this.toggle.ariaExpanded="false"),this.eventMode==="contextmenu"?(this.onToggleContextMenuListener=p=>this.toggleContextMenu(p),this.onTouchStartListener=this.handleTouchStart.bind(this),this.onTouchEndListener=this.handleTouchEnd.bind(this),this.toggle.addEventListener("contextmenu",this.onToggleContextMenuListener),this.toggle.addEventListener("touchstart",this.onTouchStartListener,{passive:!1}),this.toggle.addEventListener("touchend",this.onTouchEndListener),this.toggle.addEventListener("touchmove",this.onTouchEndListener)):(this.onToggleClickListener=p=>this.toggleClick(p),this.toggle.addEventListener("click",this.onToggleClickListener))}buildMenu(){this.menu.role=this.menu.getAttribute("role")||"menu",this.menu.tabIndex=-1;const d=this.menu.querySelectorAll('[role="menuitemcheckbox"]'),p=this.menu.querySelectorAll('[role="menuitemradio"]');d.forEach(v=>v.addEventListener("click",()=>this.selectCheckbox(v))),p.forEach(v=>v.addEventListener("click",()=>this.selectRadio(v))),this.menu.addEventListener("click",v=>{const b=v.target;b.tagName==="INPUT"||b.tagName==="TEXTAREA"||b.tagName==="SELECT"||b.tagName==="BUTTON"||b.tagName==="A"||b.closest("button")||b.closest("a")||b.closest("input")||b.closest("textarea")||b.closest("select")||this.menu.focus()})}buildClosers(){this.closers.forEach(d=>{this.onCloserClickListener.push({el:d,fn:()=>this.closerClick()}),d.addEventListener("click",this.onCloserClickListener.find(p=>p.el===d).fn)})}getScrollbarSize(){let d=document.createElement("div");d.style.overflow="scroll",d.style.width="100px",d.style.height="100px",document.body.appendChild(d);let p=d.offsetWidth-d.clientWidth;return document.body.removeChild(d),p}onContextMenuHandler(d){const p={getBoundingClientRect:()=>new DOMRect(d.clientX,d.clientY,0,0)};h.closeCurrentlyOpened(),this.el.classList.contains("open")&&!this.menu.classList.contains("hidden")?(this.close(),document.body.style.overflow="",document.body.style.paddingRight=""):(document.body.style.overflow="hidden",document.body.style.paddingRight=`${this.getScrollbarSize()}px`,this.open(p))}onClickHandler(d){var p;if(this.eventMode==="hover"&&window.matchMedia("(hover: hover)").matches&&d.pointerType==="mouse"){const v=d.currentTarget;return v.tagName==="A"&&v.hasAttribute("href")&&v.getAttribute("href")!=="#"||(d.preventDefault(),d.stopPropagation(),(p=d.stopImmediatePropagation)===null||p===void 0||p.call(d)),!1}this.el.classList.contains("open")&&!this.menu.classList.contains("hidden")?this.close():this.open()}onMouseEnterHandler(){if(this.eventMode!=="hover")return!1;(!this.el._floatingUI||this.el._floatingUI&&!this.el.classList.contains("open"))&&this.forceClearState(),!this.el.classList.contains("open")&&this.menu.classList.contains("hidden")&&this.open()}onMouseLeaveHandler(){if(this.eventMode!=="hover")return!1;this.el.classList.contains("open")&&!this.menu.classList.contains("hidden")&&this.close()}destroyFloatingUI(){const d=(window.getComputedStyle(this.el).getPropertyValue("--scope")||"").trim();this.menu.classList.remove("block"),this.menu.classList.add("hidden"),this.menu.style.inset=null,this.menu.style.position=null,this.el&&this.el._floatingUI&&(this.el._floatingUI.destroy(),this.el._floatingUI=null),d==="window"&&this.el.appendChild(this.menu),this.animationInProcess=!1}focusElement(){const d=this.menu.querySelector("[autofocus]");if(d)return d.focus(),!0;const p=this.menu.querySelectorAll('a:not([hidden]), button:not([hidden]), [role="menuitem"]:not([hidden])');return p.length>0?(p[0].focus(),!0):!1}setupFloatingUI(d){const p=d||this.el,v=window.getComputedStyle(this.el),b=(v.getPropertyValue("--placement")||"").trim(),w=(v.getPropertyValue("--flip")||"true").trim(),E=(v.getPropertyValue("--strategy")||"fixed").trim(),C=(v.getPropertyValue("--offset")||"10").trim(),T=(v.getPropertyValue("--gpu-acceleration")||"true").trim(),P=(window.getComputedStyle(this.el).getPropertyValue("--adaptive")||"adaptive").replace(" ",""),A=E,j=parseInt(C,10),V=c.POSITIONS[b]||"bottom-start",H=[...w==="true"?[(0,y.flip)()]:[],(0,y.offset)(j)],R={placement:V,strategy:A,middleware:H},M=W=>{const K=this.menu.getBoundingClientRect(),Z=window.innerWidth-(window.innerWidth-document.documentElement.clientWidth);return W+K.width>Z&&(W=Z-K.width),W<0&&(W=0),W},B=()=>{(0,y.computePosition)(p,this.menu,R).then(({x:W,y:K,placement:Z})=>{const Te=M(W);A==="absolute"&&P==="none"?Object.assign(this.menu.style,{position:A,margin:"0"}):A==="absolute"?Object.assign(this.menu.style,{position:A,transform:`translate3d(${W}px, ${K}px, 0px)`,margin:"0"}):T==="true"?Object.assign(this.menu.style,{position:A,left:"",top:"",inset:"0px auto auto 0px",margin:"0",transform:`translate3d(${P==="adaptive"?Te:0}px, ${K}px, 0)`}):Object.assign(this.menu.style,{position:A,left:`${W}px`,top:`${K}px`,transform:""}),this.menu.setAttribute("data-placement",Z)})};return B(),{update:B,destroy:(0,y.autoUpdate)(p,this.menu,B)}}selectCheckbox(d){d.ariaChecked=d.ariaChecked==="true"?"false":"true"}selectRadio(d){if(d.ariaChecked==="true")return!1;const p=d.closest(".group").querySelectorAll('[role="menuitemradio"]');Array.from(p).filter(v=>v!==d).forEach(v=>{v.ariaChecked="false"}),d.ariaChecked="true"}calculatePopperPosition(d){const p=this.setupFloatingUI(d),v=this.menu.getAttribute("data-placement");return p.update(),p.destroy(),v}open(d,p=!1){if(this.el.classList.contains("open")||this.animationInProcess)return!1;this.openedViaKeyboard=p,this.animationInProcess=!0,this.menu.style.cssText="";const v=d||this.el,b=window.getComputedStyle(this.el),w=(b.getPropertyValue("--scope")||"").trim(),E=(b.getPropertyValue("--strategy")||"fixed").trim();w==="window"&&document.body.appendChild(this.menu),E!=="static"&&(this.el._floatingUI=this.setupFloatingUI(v)),this.menu.style.margin=null,this.menu.classList.remove("hidden"),this.menu.classList.add("block"),setTimeout(()=>{var C;!((C=this==null?void 0:this.toggle)===null||C===void 0)&&C.ariaExpanded&&(this.toggle.ariaExpanded="true"),this.el.classList.add("open"),window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,!0),w==="window"&&this.menu.classList.add("open"),this.animationInProcess=!1,!this.hasAutofocus||this.autofocusOnKeyboardOnly&&!this.openedViaKeyboard||this.focusElement(),this.fireEvent("open",this.el),(0,m.dispatch)("open.hs.dropdown",this.el,this.el)})}close(d=!0){if(this.animationInProcess||!this.el.classList.contains("open"))return!1;const p=(window.getComputedStyle(this.el).getPropertyValue("--scope")||"").trim();if(this.animationInProcess=!0,p==="window"&&this.menu.classList.remove("open"),window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,!1),d){const v=this.el.querySelector("[data-hs-dropdown-transition]")||this.menu;let b=!1;const w=()=>{b||(b=!0,this.destroyFloatingUI())};(0,m.afterTransition)(v,w);const E=window.getComputedStyle(v).getPropertyValue("transition-duration"),C=1e3*parseFloat(E)||150;setTimeout(w,C+50)}else this.destroyFloatingUI();(()=>{var v;this.menu.style.margin=null,!((v=this==null?void 0:this.toggle)===null||v===void 0)&&v.ariaExpanded&&(this.toggle.ariaExpanded="false"),this.el.classList.remove("open"),this.openedViaKeyboard=!1,this.fireEvent("close",this.el),(0,m.dispatch)("close.hs.dropdown",this.el,this.el)})()}forceClearState(){this.destroyFloatingUI(),this.menu.style.margin=null,this.el.classList.remove("open"),this.menu.classList.add("hidden"),this.openedViaKeyboard=!1}destroy(){(0,m.isIOS)()||(0,m.isIpadOS)()||(this.el.removeEventListener("mouseenter",this.onElementMouseEnterListener),this.el.removeEventListener("mouseleave",()=>this.onElementMouseLeaveListener),this.onElementMouseEnterListener=null,this.onElementMouseLeaveListener=null),this.eventMode==="contextmenu"?(this.toggle&&(this.toggle.removeEventListener("contextmenu",this.onToggleContextMenuListener),this.toggle.removeEventListener("touchstart",this.onTouchStartListener),this.toggle.removeEventListener("touchend",this.onTouchEndListener),this.toggle.removeEventListener("touchmove",this.onTouchEndListener)),this.onToggleContextMenuListener=null,this.onTouchStartListener=null,this.onTouchEndListener=null):(this.toggle&&this.toggle.removeEventListener("click",this.onToggleClickListener),this.onToggleClickListener=null),this.closers.length&&(this.closers.forEach(d=>{d.removeEventListener("click",this.onCloserClickListener.find(p=>p.el===d).fn)}),this.onCloserClickListener=null),this.el.classList.remove("open"),this.destroyFloatingUI(),window.$hsDropdownCollection=window.$hsDropdownCollection.filter(({element:d})=>d.el!==this.el)}static findInCollection(d){return window.$hsDropdownCollection.find(p=>d instanceof h?p.element.el===d.el:typeof d=="string"?p.element.el===document.querySelector(d):p.element.el===d)||null}static getInstance(d,p){const v=window.$hsDropdownCollection.find(b=>b.element.el===(typeof d=="string"?document.querySelector(d):d));return v?p?v:v.element:null}static autoInit(){if(!window.$hsDropdownCollection){window.$hsDropdownCollection=[],window.addEventListener("click",p=>{const v=p.target;h.closeCurrentlyOpened(v)});let d=window.innerWidth;window.addEventListener("resize",()=>{window.innerWidth!==d&&(d=innerWidth,h.closeCurrentlyOpened(null,!1))})}window.$hsDropdownCollection&&(window.$hsDropdownCollection=window.$hsDropdownCollection.filter(({element:d})=>document.contains(d.el))),document.querySelectorAll(".hs-dropdown:not(.--prevent-on-load-init)").forEach(d=>{window.$hsDropdownCollection.find(p=>{var v;return((v=p==null?void 0:p.element)===null||v===void 0?void 0:v.el)===d})||new h(d)})}static open(d,p=!1){const v=h.findInCollection(d);v&&v.element.menu.classList.contains("hidden")&&v.element.open(void 0,p)}static close(d){const p=h.findInCollection(d);p&&!p.element.menu.classList.contains("hidden")&&p.element.close()}static closeCurrentlyOpened(d=null,p=!0){const v=d&&d.closest(".hs-dropdown")&&d.closest(".hs-dropdown").parentElement.closest(".hs-dropdown")?d.closest(".hs-dropdown").parentElement.closest(".hs-dropdown"):null;let b=v?window.$hsDropdownCollection.filter(w=>w.element.el.classList.contains("open")&&w.element.menu.closest(".hs-dropdown").parentElement.closest(".hs-dropdown")===v):window.$hsDropdownCollection.filter(w=>w.element.el.classList.contains("open"));if(d){const w=d.closest(".hs-dropdown");if(w)(0,m.getClassPropertyAlt)(w,"--auto-close")==="inside"&&(b=b.filter(E=>E.element.el!==w));else{const E=d.closest(".hs-dropdown-menu");if(E){const C=window.$hsDropdownCollection.find(T=>T.element.menu===E);C&&(0,m.getClassPropertyAlt)(C.element.el,"--auto-close")==="inside"&&(b=b.filter(T=>T.element.el!==C.element.el))}}}b&&b.forEach(w=>{if(w.element.closeMode==="false"||w.element.closeMode==="outside")return!1;w.element.close(p)}),b&&b.forEach(w=>{if((0,m.getClassPropertyAlt)(w.element.el,"--trigger")!=="contextmenu")return!1;document.body.style.overflow="",document.body.style.paddingRight=""})}setupAccessibility(){this.accessibilityComponent=window.HSAccessibilityObserver.registerComponent(this.el,{onEnter:()=>{this.isOpened()||this.open(void 0,!0)},onSpace:()=>{this.isOpened()||this.open(void 0,!0)},onEsc:()=>{this.isOpened()&&(this.close(),this.toggle&&this.toggle.focus())},onArrow:d=>{if(!d.metaKey)switch(d.key){case"ArrowDown":this.isOpened()?this.focusMenuItem("next"):this.open(void 0,!0);break;case"ArrowUp":this.isOpened()&&this.focusMenuItem("prev");break;case"ArrowRight":this.onArrowX(d,"right");break;case"ArrowLeft":this.onArrowX(d,"left")}},onHome:()=>{this.isOpened()&&this.onStartEnd(!0)},onEnd:()=>{this.isOpened()&&this.onStartEnd(!1)},onTab:()=>{this.isOpened()&&this.close()},onFirstLetter:d=>{this.isOpened()&&this.onFirstLetter(d)}},this.isOpened(),"Dropdown",".hs-dropdown",this.menu)}onFirstLetter(d){var p;if(!this.isOpened()||!this.menu)return;const v=this.menu.querySelectorAll('a:not([hidden]), button:not([hidden]), [role="menuitem"]:not([hidden])');if(v.length===0)return;const b=Array.from(v).indexOf(document.activeElement);for(let w=1;w<=v.length;w++){const E=(b+w)%v.length;if((((p=v[E].textContent)===null||p===void 0?void 0:p.trim().toLowerCase())||"").startsWith(d.toLowerCase()))return void v[E].focus()}v[0].focus()}onArrowX(d,p){if(!this.isOpened())return;d.preventDefault(),d.stopImmediatePropagation();const v=this.menu.querySelectorAll('a:not([hidden]), button:not([hidden]), [role="menuitem"]:not([hidden])');if(!v.length)return;const b=Array.from(v).indexOf(document.activeElement);let w=-1;w=p==="right"?(b+1)%v.length:b>0?b-1:v.length-1,v[w].focus()}onStartEnd(d=!0){if(!this.isOpened())return;const p=this.menu.querySelectorAll('a:not([hidden]), button:not([hidden]), [role="menuitem"]:not([hidden])');p.length&&p[d?0:p.length-1].focus()}focusMenuItem(d){const p=this.menu.querySelectorAll('a:not([hidden]), button:not([hidden]), [role="menuitem"]:not([hidden])');if(!p.length)return;const v=Array.from(p).indexOf(document.activeElement);p[d==="next"?(v+1)%p.length:(v-1+p.length)%p.length].focus()}static on(d,p,v){const b=h.findInCollection(p);b&&(b.element.events[d]=v)}isOpened(){return this.isOpen()}containsElement(d){return this.el.contains(d)}}window.addEventListener("load",()=>{h.autoInit()}),window.addEventListener("resize",()=>{window.$hsDropdownCollection||(window.$hsDropdownCollection=[]),window.$hsDropdownCollection.forEach(g=>g.element.resizeHandler())}),typeof window<"u"&&(window.HSDropdown=h),i.default=h},911:function(n,i,l){/*
* HSRemoveElement
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(i,"__esModule",{value:!0});const m=l(292),y=u(l(961));class f extends y.default{constructor(c,h){super(c,h);const g=c.getAttribute("data-hs-remove-element-options"),d=g?JSON.parse(g):{},p=Object.assign(Object.assign({},d),h);this.removeTargetId=this.el.getAttribute("data-hs-remove-element"),this.removeTarget=document.querySelector(this.removeTargetId),this.removeTargetAnimationClass=(p==null?void 0:p.removeTargetAnimationClass)||"hs-removing",this.removeTarget&&this.init()}elementClick(){this.remove()}init(){this.createCollection(window.$hsRemoveElementCollection,this),this.onElementClickListener=()=>this.elementClick(),this.el.addEventListener("click",this.onElementClickListener)}remove(){if(!this.removeTarget)return!1;this.removeTarget.classList.add(this.removeTargetAnimationClass),(0,m.afterTransition)(this.removeTarget,()=>setTimeout(()=>this.removeTarget.remove()))}destroy(){this.removeTarget.classList.remove(this.removeTargetAnimationClass),this.el.removeEventListener("click",this.onElementClickListener),window.$hsRemoveElementCollection=window.$hsRemoveElementCollection.filter(({element:c})=>c.el!==this.el)}static getInstance(c,h){const g=window.$hsRemoveElementCollection.find(d=>d.element.el===(typeof c=="string"?document.querySelector(c):c)||d.element.el===(typeof c=="string"?document.querySelector(c):c));return g?h?g:g.element.el:null}static autoInit(){window.$hsRemoveElementCollection||(window.$hsRemoveElementCollection=[]),window.$hsRemoveElementCollection&&(window.$hsRemoveElementCollection=window.$hsRemoveElementCollection.filter(({element:c})=>document.contains(c.el))),document.querySelectorAll("[data-hs-remove-element]:not(.--prevent-on-load-init)").forEach(c=>{window.$hsRemoveElementCollection.find(h=>{var g;return((g=h==null?void 0:h.element)===null||g===void 0?void 0:g.el)===c})||new f(c)})}}window.addEventListener("load",()=>{f.autoInit()}),typeof window<"u"&&(window.HSRemoveElement=f),i.default=f},949:(n,i,l)=>{l.r(i),l.d(i,{arrow:()=>qe,autoPlacement:()=>rs,autoUpdate:()=>de,computePosition:()=>ts,detectOverflow:()=>De,flip:()=>Se,getOverflowAncestors:()=>Ce,hide:()=>$t,inline:()=>ce,limitShift:()=>Ve,offset:()=>Yt,platform:()=>Ht,shift:()=>Ke,size:()=>mt});const u=["top","right","bottom","left"],m=["start","end"],y=u.reduce((xe,Pe)=>xe.concat(Pe,Pe+"-"+m[0],Pe+"-"+m[1]),[]),f=Math.min,x=Math.max,c=Math.round,h=Math.floor,g=xe=>({x:xe,y:xe}),d={left:"right",right:"left",bottom:"top",top:"bottom"},p={start:"end",end:"start"};function v(xe,Pe,Ye){return x(xe,f(Pe,Ye))}function b(xe,Pe){return typeof xe=="function"?xe(Pe):xe}function w(xe){return xe.split("-")[0]}function E(xe){return xe.split("-")[1]}function C(xe){return xe==="x"?"y":"x"}function T(xe){return xe==="y"?"height":"width"}function P(xe){return["top","bottom"].includes(w(xe))?"y":"x"}function A(xe){return C(P(xe))}function j(xe,Pe,Ye){Ye===void 0&&(Ye=!1);const Je=E(xe),tt=A(xe),at=T(tt);let dt=tt==="x"?Je===(Ye?"end":"start")?"right":"left":Je==="start"?"bottom":"top";return Pe.reference[at]>Pe.floating[at]&&(dt=H(dt)),[dt,H(dt)]}function V(xe){return xe.replace(/start|end/g,Pe=>p[Pe])}function H(xe){return xe.replace(/left|right|bottom|top/g,Pe=>d[Pe])}function R(xe){return typeof xe!="number"?function(Pe){return{top:0,right:0,bottom:0,left:0,...Pe}}(xe):{top:xe,right:xe,bottom:xe,left:xe}}function M(xe){const{x:Pe,y:Ye,width:Je,height:tt}=xe;return{width:Je,height:tt,top:Ye,left:Pe,right:Pe+Je,bottom:Ye+tt,x:Pe,y:Ye}}function B(xe,Pe,Ye){let{reference:Je,floating:tt}=xe;const at=P(Pe),dt=A(Pe),ht=T(dt),ct=w(Pe),xt=at==="y",gt=Je.x+Je.width/2-tt.width/2,yt=Je.y+Je.height/2-tt.height/2,Ct=Je[ht]/2-tt[ht]/2;let wt;switch(ct){case"top":wt={x:gt,y:Je.y-tt.height};break;case"bottom":wt={x:gt,y:Je.y+Je.height};break;case"right":wt={x:Je.x+Je.width,y:yt};break;case"left":wt={x:Je.x-tt.width,y:yt};break;default:wt={x:Je.x,y:Je.y}}switch(E(Pe)){case"start":wt[dt]-=Ct*(Ye&&xt?-1:1);break;case"end":wt[dt]+=Ct*(Ye&&xt?-1:1)}return wt}async function W(xe,Pe){var Ye;Pe===void 0&&(Pe={});const{x:Je,y:tt,platform:at,rects:dt,elements:ht,strategy:ct}=xe,{boundary:xt="clippingAncestors",rootBoundary:gt="viewport",elementContext:yt="floating",altBoundary:Ct=!1,padding:wt=0}=b(Pe,xe),vt=R(wt),St=ht[Ct?yt==="floating"?"reference":"floating":yt],bt=M(await at.getClippingRect({element:(Ye=await(at.isElement==null?void 0:at.isElement(St)))==null||Ye?St:St.contextElement||await(at.getDocumentElement==null?void 0:at.getDocumentElement(ht.floating)),boundary:xt,rootBoundary:gt,strategy:ct})),Lt=yt==="floating"?{x:Je,y:tt,width:dt.floating.width,height:dt.floating.height}:dt.reference,Ft=await(at.getOffsetParent==null?void 0:at.getOffsetParent(ht.floating)),Pt=await(at.isElement==null?void 0:at.isElement(Ft))&&await(at.getScale==null?void 0:at.getScale(Ft))||{x:1,y:1},Nt=M(at.convertOffsetParentRelativeRectToViewportRelativeRect?await at.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ht,rect:Lt,offsetParent:Ft,strategy:ct}):Lt);return{top:(bt.top-Nt.top+vt.top)/Pt.y,bottom:(Nt.bottom-bt.bottom+vt.bottom)/Pt.y,left:(bt.left-Nt.left+vt.left)/Pt.x,right:(Nt.right-bt.right+vt.right)/Pt.x}}function K(xe,Pe){return{top:xe.top-Pe.height,right:xe.right-Pe.width,bottom:xe.bottom-Pe.height,left:xe.left-Pe.width}}function Z(xe){return u.some(Pe=>xe[Pe]>=0)}function Te(xe){const Pe=f(...xe.map(Je=>Je.left)),Ye=f(...xe.map(Je=>Je.top));return{x:Pe,y:Ye,width:x(...xe.map(Je=>Je.right))-Pe,height:x(...xe.map(Je=>Je.bottom))-Ye}}function _e(){return typeof window<"u"}function ye(xe){return X(xe)?(xe.nodeName||"").toLowerCase():"#document"}function z(xe){var Pe;return(xe==null||(Pe=xe.ownerDocument)==null?void 0:Pe.defaultView)||window}function q(xe){var Pe;return(Pe=(X(xe)?xe.ownerDocument:xe.document)||window.document)==null?void 0:Pe.documentElement}function X(xe){return!!_e()&&(xe instanceof Node||xe instanceof z(xe).Node)}function se(xe){return!!_e()&&(xe instanceof Element||xe instanceof z(xe).Element)}function Ae(xe){return!!_e()&&(xe instanceof HTMLElement||xe instanceof z(xe).HTMLElement)}function me(xe){return!(!_e()||typeof ShadowRoot>"u")&&(xe instanceof ShadowRoot||xe instanceof z(xe).ShadowRoot)}function Le(xe){const{overflow:Pe,overflowX:Ye,overflowY:Je,display:tt}=ne(xe);return/auto|scroll|overlay|hidden|clip/.test(Pe+Je+Ye)&&!["inline","contents"].includes(tt)}function Re(xe){return["table","td","th"].includes(ye(xe))}function Ze(xe){return[":popover-open",":modal"].some(Pe=>{try{return xe.matches(Pe)}catch{return!1}})}function We(xe){const Pe=ae(),Ye=se(xe)?ne(xe):xe;return["transform","translate","scale","rotate","perspective"].some(Je=>!!Ye[Je]&&Ye[Je]!=="none")||!!Ye.containerType&&Ye.containerType!=="normal"||!Pe&&!!Ye.backdropFilter&&Ye.backdropFilter!=="none"||!Pe&&!!Ye.filter&&Ye.filter!=="none"||["transform","translate","scale","rotate","perspective","filter"].some(Je=>(Ye.willChange||"").includes(Je))||["paint","layout","strict","content"].some(Je=>(Ye.contain||"").includes(Je))}function ae(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ge(xe){return["html","body","#document"].includes(ye(xe))}function ne(xe){return z(xe).getComputedStyle(xe)}function ee(xe){return se(xe)?{scrollLeft:xe.scrollLeft,scrollTop:xe.scrollTop}:{scrollLeft:xe.scrollX,scrollTop:xe.scrollY}}function ue(xe){if(ye(xe)==="html")return xe;const Pe=xe.assignedSlot||xe.parentNode||me(xe)&&xe.host||q(xe);return me(Pe)?Pe.host:Pe}function he(xe){const Pe=ue(xe);return ge(Pe)?xe.ownerDocument?xe.ownerDocument.body:xe.body:Ae(Pe)&&Le(Pe)?Pe:he(Pe)}function Ce(xe,Pe,Ye){var Je;Pe===void 0&&(Pe=[]),Ye===void 0&&(Ye=!0);const tt=he(xe),at=tt===((Je=xe.ownerDocument)==null?void 0:Je.body),dt=z(tt);if(at){const ht=J(dt);return Pe.concat(dt,dt.visualViewport||[],Le(tt)?tt:[],ht&&Ye?Ce(ht):[])}return Pe.concat(tt,Ce(tt,[],Ye))}function J(xe){return xe.parent&&Object.getPrototypeOf(xe.parent)?xe.frameElement:null}function D(xe){const Pe=ne(xe);let Ye=parseFloat(Pe.width)||0,Je=parseFloat(Pe.height)||0;const tt=Ae(xe),at=tt?xe.offsetWidth:Ye,dt=tt?xe.offsetHeight:Je,ht=c(Ye)!==at||c(Je)!==dt;return ht&&(Ye=at,Je=dt),{width:Ye,height:Je,$:ht}}function N(xe){return se(xe)?xe:xe.contextElement}function U(xe){const Pe=N(xe);if(!Ae(Pe))return g(1);const Ye=Pe.getBoundingClientRect(),{width:Je,height:tt,$:at}=D(Pe);let dt=(at?c(Ye.width):Ye.width)/Je,ht=(at?c(Ye.height):Ye.height)/tt;return dt&&Number.isFinite(dt)||(dt=1),ht&&Number.isFinite(ht)||(ht=1),{x:dt,y:ht}}const Q=g(0);function Ge(xe){const Pe=z(xe);return ae()&&Pe.visualViewport?{x:Pe.visualViewport.offsetLeft,y:Pe.visualViewport.offsetTop}:Q}function He(xe,Pe,Ye,Je){Pe===void 0&&(Pe=!1),Ye===void 0&&(Ye=!1);const tt=xe.getBoundingClientRect(),at=N(xe);let dt=g(1);Pe&&(Je?se(Je)&&(dt=U(Je)):dt=U(xe));const ht=function(Ct,wt,vt){return wt===void 0&&(wt=!1),!(!vt||wt&&vt!==z(Ct))&&wt}(at,Ye,Je)?Ge(at):g(0);let ct=(tt.left+ht.x)/dt.x,xt=(tt.top+ht.y)/dt.y,gt=tt.width/dt.x,yt=tt.height/dt.y;if(at){const Ct=z(at),wt=Je&&se(Je)?z(Je):Je;let vt=Ct,St=J(vt);for(;St&&Je&&wt!==vt;){const bt=U(St),Lt=St.getBoundingClientRect(),Ft=ne(St),Pt=Lt.left+(St.clientLeft+parseFloat(Ft.paddingLeft))*bt.x,Nt=Lt.top+(St.clientTop+parseFloat(Ft.paddingTop))*bt.y;ct*=bt.x,xt*=bt.y,gt*=bt.x,yt*=bt.y,ct+=Pt,xt+=Nt,vt=z(St),St=J(vt)}}return M({width:gt,height:yt,x:ct,y:xt})}function pe(xe,Pe){const Ye=ee(xe).scrollLeft;return Pe?Pe.left+Ye:He(q(xe)).left+Ye}function ie(xe,Pe,Ye){Ye===void 0&&(Ye=!1);const Je=xe.getBoundingClientRect();return{x:Je.left+Pe.scrollLeft-(Ye?0:pe(xe,Je)),y:Je.top+Pe.scrollTop}}function Oe(xe,Pe,Ye){let Je;if(Pe==="viewport")Je=function(tt,at){const dt=z(tt),ht=q(tt),ct=dt.visualViewport;let xt=ht.clientWidth,gt=ht.clientHeight,yt=0,Ct=0;if(ct){xt=ct.width,gt=ct.height;const wt=ae();(!wt||wt&&at==="fixed")&&(yt=ct.offsetLeft,Ct=ct.offsetTop)}return{width:xt,height:gt,x:yt,y:Ct}}(xe,Ye);else if(Pe==="document")Je=function(tt){const at=q(tt),dt=ee(tt),ht=tt.ownerDocument.body,ct=x(at.scrollWidth,at.clientWidth,ht.scrollWidth,ht.clientWidth),xt=x(at.scrollHeight,at.clientHeight,ht.scrollHeight,ht.clientHeight);let gt=-dt.scrollLeft+pe(tt);const yt=-dt.scrollTop;return ne(ht).direction==="rtl"&&(gt+=x(at.clientWidth,ht.clientWidth)-ct),{width:ct,height:xt,x:gt,y:yt}}(q(xe));else if(se(Pe))Je=function(tt,at){const dt=He(tt,!0,at==="fixed"),ht=dt.top+tt.clientTop,ct=dt.left+tt.clientLeft,xt=Ae(tt)?U(tt):g(1);return{width:tt.clientWidth*xt.x,height:tt.clientHeight*xt.y,x:ct*xt.x,y:ht*xt.y}}(Pe,Ye);else{const tt=Ge(xe);Je={x:Pe.x-tt.x,y:Pe.y-tt.y,width:Pe.width,height:Pe.height}}return M(Je)}function nt(xe,Pe){const Ye=ue(xe);return!(Ye===Pe||!se(Ye)||ge(Ye))&&(ne(Ye).position==="fixed"||nt(Ye,Pe))}function Fe(xe,Pe,Ye){const Je=Ae(Pe),tt=q(Pe),at=Ye==="fixed",dt=He(xe,!0,at,Pe);let ht={scrollLeft:0,scrollTop:0};const ct=g(0);if(Je||!Je&&!at)if((ye(Pe)!=="body"||Le(tt))&&(ht=ee(Pe)),Je){const gt=He(Pe,!0,at,Pe);ct.x=gt.x+Pe.clientLeft,ct.y=gt.y+Pe.clientTop}else tt&&(ct.x=pe(tt));const xt=!tt||Je||at?g(0):ie(tt,ht);return{x:dt.left+ht.scrollLeft-ct.x-xt.x,y:dt.top+ht.scrollTop-ct.y-xt.y,width:dt.width,height:dt.height}}function re(xe){return ne(xe).position==="static"}function Y(xe,Pe){if(!Ae(xe)||ne(xe).position==="fixed")return null;if(Pe)return Pe(xe);let Ye=xe.offsetParent;return q(xe)===Ye&&(Ye=Ye.ownerDocument.body),Ye}function we(xe,Pe){const Ye=z(xe);if(Ze(xe))return Ye;if(!Ae(xe)){let tt=ue(xe);for(;tt&&!ge(tt);){if(se(tt)&&!re(tt))return tt;tt=ue(tt)}return Ye}let Je=Y(xe,Pe);for(;Je&&Re(Je)&&re(Je);)Je=Y(Je,Pe);return Je&&ge(Je)&&re(Je)&&!We(Je)?Ye:Je||function(tt){let at=ue(tt);for(;Ae(at)&&!ge(at);){if(We(at))return at;if(Ze(at))return null;at=ue(at)}return null}(xe)||Ye}const Ht={convertOffsetParentRelativeRectToViewportRelativeRect:function(xe){let{elements:Pe,rect:Ye,offsetParent:Je,strategy:tt}=xe;const at=tt==="fixed",dt=q(Je),ht=!!Pe&&Ze(Pe.floating);if(Je===dt||ht&&at)return Ye;let ct={scrollLeft:0,scrollTop:0},xt=g(1);const gt=g(0),yt=Ae(Je);if((yt||!yt&&!at)&&((ye(Je)!=="body"||Le(dt))&&(ct=ee(Je)),Ae(Je))){const wt=He(Je);xt=U(Je),gt.x=wt.x+Je.clientLeft,gt.y=wt.y+Je.clientTop}const Ct=!dt||yt||at?g(0):ie(dt,ct,!0);return{width:Ye.width*xt.x,height:Ye.height*xt.y,x:Ye.x*xt.x-ct.scrollLeft*xt.x+gt.x+Ct.x,y:Ye.y*xt.y-ct.scrollTop*xt.y+gt.y+Ct.y}},getDocumentElement:q,getClippingRect:function(xe){let{element:Pe,boundary:Ye,rootBoundary:Je,strategy:tt}=xe;const at=[...Ye==="clippingAncestors"?Ze(Pe)?[]:function(ct,xt){const gt=xt.get(ct);if(gt)return gt;let yt=Ce(ct,[],!1).filter(St=>se(St)&&ye(St)!=="body"),Ct=null;const wt=ne(ct).position==="fixed";let vt=wt?ue(ct):ct;for(;se(vt)&&!ge(vt);){const St=ne(vt),bt=We(vt);bt||St.position!=="fixed"||(Ct=null),(wt?!bt&&!Ct:!bt&&St.position==="static"&&Ct&&["absolute","fixed"].includes(Ct.position)||Le(vt)&&!bt&&nt(ct,vt))?yt=yt.filter(Lt=>Lt!==vt):Ct=St,vt=ue(vt)}return xt.set(ct,yt),yt}(Pe,this._c):[].concat(Ye),Je],dt=at[0],ht=at.reduce((ct,xt)=>{const gt=Oe(Pe,xt,tt);return ct.top=x(gt.top,ct.top),ct.right=f(gt.right,ct.right),ct.bottom=f(gt.bottom,ct.bottom),ct.left=x(gt.left,ct.left),ct},Oe(Pe,dt,tt));return{width:ht.right-ht.left,height:ht.bottom-ht.top,x:ht.left,y:ht.top}},getOffsetParent:we,getElementRects:async function(xe){const Pe=this.getOffsetParent||we,Ye=this.getDimensions,Je=await Ye(xe.floating);return{reference:Fe(xe.reference,await Pe(xe.floating),xe.strategy),floating:{x:0,y:0,width:Je.width,height:Je.height}}},getClientRects:function(xe){return Array.from(xe.getClientRects())},getDimensions:function(xe){const{width:Pe,height:Ye}=D(xe);return{width:Pe,height:Ye}},getScale:U,isElement:se,isRTL:function(xe){return ne(xe).direction==="rtl"}};function je(xe,Pe){return xe.x===Pe.x&&xe.y===Pe.y&&xe.width===Pe.width&&xe.height===Pe.height}function de(xe,Pe,Ye,Je){Je===void 0&&(Je={});const{ancestorScroll:tt=!0,ancestorResize:at=!0,elementResize:dt=typeof ResizeObserver=="function",layoutShift:ht=typeof IntersectionObserver=="function",animationFrame:ct=!1}=Je,xt=N(xe),gt=tt||at?[...xt?Ce(xt):[],...Ce(Pe)]:[];gt.forEach(bt=>{tt&&bt.addEventListener("scroll",Ye,{passive:!0}),at&&bt.addEventListener("resize",Ye)});const yt=xt&&ht?function(bt,Lt){let Ft,Pt=null;const Nt=q(bt);function Jt(){var ss;clearTimeout(Ft),(ss=Pt)==null||ss.disconnect(),Pt=null}return function ss(I,te){I===void 0&&(I=!1),te===void 0&&(te=1),Jt();const oe=bt.getBoundingClientRect(),{left:be,top:ve,width:$e,height:Ie}=oe;if(I||Lt(),!$e||!Ie)return;const Me={rootMargin:-h(ve)+"px "+-h(Nt.clientWidth-(be+$e))+"px "+-h(Nt.clientHeight-(ve+Ie))+"px "+-h(be)+"px",threshold:x(0,f(1,te))||1};let Ne=!0;function Be(ze){const st=ze[0].intersectionRatio;if(st!==te){if(!Ne)return ss();st?ss(!1,st):Ft=setTimeout(()=>{ss(!1,1e-7)},1e3)}st!==1||je(oe,bt.getBoundingClientRect())||ss(),Ne=!1}try{Pt=new IntersectionObserver(Be,{...Me,root:Nt.ownerDocument})}catch{Pt=new IntersectionObserver(Be,Me)}Pt.observe(bt)}(!0),Jt}(xt,Ye):null;let Ct,wt=-1,vt=null;dt&&(vt=new ResizeObserver(bt=>{let[Lt]=bt;Lt&&Lt.target===xt&&vt&&(vt.unobserve(Pe),cancelAnimationFrame(wt),wt=requestAnimationFrame(()=>{var Ft;(Ft=vt)==null||Ft.observe(Pe)})),Ye()}),xt&&!ct&&vt.observe(xt),vt.observe(Pe));let St=ct?He(xe):null;return ct&&function bt(){const Lt=He(xe);St&&!je(St,Lt)&&Ye(),St=Lt,Ct=requestAnimationFrame(bt)}(),Ye(),()=>{var bt;gt.forEach(Lt=>{tt&&Lt.removeEventListener("scroll",Ye),at&&Lt.removeEventListener("resize",Ye)}),yt==null||yt(),(bt=vt)==null||bt.disconnect(),vt=null,ct&&cancelAnimationFrame(Ct)}}const De=W,Yt=function(xe){return xe===void 0&&(xe=0),{name:"offset",options:xe,async fn(Pe){var Ye,Je;const{x:tt,y:at,placement:dt,middlewareData:ht}=Pe,ct=await async function(xt,gt){const{placement:yt,platform:Ct,elements:wt}=xt,vt=await(Ct.isRTL==null?void 0:Ct.isRTL(wt.floating)),St=w(yt),bt=E(yt),Lt=P(yt)==="y",Ft=["left","top"].includes(St)?-1:1,Pt=vt&&Lt?-1:1,Nt=b(gt,xt);let{mainAxis:Jt,crossAxis:ss,alignmentAxis:I}=typeof Nt=="number"?{mainAxis:Nt,crossAxis:0,alignmentAxis:null}:{mainAxis:Nt.mainAxis||0,crossAxis:Nt.crossAxis||0,alignmentAxis:Nt.alignmentAxis};return bt&&typeof I=="number"&&(ss=bt==="end"?-1*I:I),Lt?{x:ss*Pt,y:Jt*Ft}:{x:Jt*Ft,y:ss*Pt}}(Pe,xe);return dt===((Ye=ht.offset)==null?void 0:Ye.placement)&&(Je=ht.arrow)!=null&&Je.alignmentOffset?{}:{x:tt+ct.x,y:at+ct.y,data:{...ct,placement:dt}}}}},rs=function(xe){return xe===void 0&&(xe={}),{name:"autoPlacement",options:xe,async fn(Pe){var Ye,Je,tt;const{rects:at,middlewareData:dt,placement:ht,platform:ct,elements:xt}=Pe,{crossAxis:gt=!1,alignment:yt,allowedPlacements:Ct=y,autoAlignment:wt=!0,...vt}=b(xe,Pe),St=yt!==void 0||Ct===y?function(oe,be,ve){return(oe?[...ve.filter($e=>E($e)===oe),...ve.filter($e=>E($e)!==oe)]:ve.filter($e=>w($e)===$e)).filter($e=>!oe||E($e)===oe||!!be&&V($e)!==$e)}(yt||null,wt,Ct):Ct,bt=await W(Pe,vt),Lt=((Ye=dt.autoPlacement)==null?void 0:Ye.index)||0,Ft=St[Lt];if(Ft==null)return{};const Pt=j(Ft,at,await(ct.isRTL==null?void 0:ct.isRTL(xt.floating)));if(ht!==Ft)return{reset:{placement:St[0]}};const Nt=[bt[w(Ft)],bt[Pt[0]],bt[Pt[1]]],Jt=[...((Je=dt.autoPlacement)==null?void 0:Je.overflows)||[],{placement:Ft,overflows:Nt}],ss=St[Lt+1];if(ss)return{data:{index:Lt+1,overflows:Jt},reset:{placement:ss}};const I=Jt.map(oe=>{const be=E(oe.placement);return[oe.placement,be&&gt?oe.overflows.slice(0,2).reduce((ve,$e)=>ve+$e,0):oe.overflows[0],oe.overflows]}).sort((oe,be)=>oe[1]-be[1]),te=((tt=I.filter(oe=>oe[2].slice(0,E(oe[0])?2:3).every(be=>be<=0))[0])==null?void 0:tt[0])||I[0][0];return te!==ht?{data:{index:Lt+1,overflows:Jt},reset:{placement:te}}:{}}}},Ke=function(xe){return xe===void 0&&(xe={}),{name:"shift",options:xe,async fn(Pe){const{x:Ye,y:Je,placement:tt}=Pe,{mainAxis:at=!0,crossAxis:dt=!1,limiter:ht={fn:bt=>{let{x:Lt,y:Ft}=bt;return{x:Lt,y:Ft}}},...ct}=b(xe,Pe),xt={x:Ye,y:Je},gt=await W(Pe,ct),yt=P(w(tt)),Ct=C(yt);let wt=xt[Ct],vt=xt[yt];if(at){const bt=Ct==="y"?"bottom":"right";wt=v(wt+gt[Ct==="y"?"top":"left"],wt,wt-gt[bt])}if(dt){const bt=yt==="y"?"bottom":"right";vt=v(vt+gt[yt==="y"?"top":"left"],vt,vt-gt[bt])}const St=ht.fn({...Pe,[Ct]:wt,[yt]:vt});return{...St,data:{x:St.x-Ye,y:St.y-Je,enabled:{[Ct]:at,[yt]:dt}}}}}},Se=function(xe){return xe===void 0&&(xe={}),{name:"flip",options:xe,async fn(Pe){var Ye,Je;const{placement:tt,middlewareData:at,rects:dt,initialPlacement:ht,platform:ct,elements:xt}=Pe,{mainAxis:gt=!0,crossAxis:yt=!0,fallbackPlacements:Ct,fallbackStrategy:wt="bestFit",fallbackAxisSideDirection:vt="none",flipAlignment:St=!0,...bt}=b(xe,Pe);if((Ye=at.arrow)!=null&&Ye.alignmentOffset)return{};const Lt=w(tt),Ft=P(ht),Pt=w(ht)===ht,Nt=await(ct.isRTL==null?void 0:ct.isRTL(xt.floating)),Jt=Ct||(Pt||!St?[H(ht)]:function(Me){const Ne=H(Me);return[V(Me),Ne,V(Ne)]}(ht)),ss=vt!=="none";!Ct&&ss&&Jt.push(...function(Me,Ne,Be,ze){const st=E(Me);let lt=function(_t,At,Rt){const Dt=["left","right"],ds=["right","left"],Xs=["top","bottom"],er=["bottom","top"];switch(_t){case"top":case"bottom":return Rt?At?ds:Dt:At?Dt:ds;case"left":case"right":return At?Xs:er;default:return[]}}(w(Me),Be==="start",ze);return st&&(lt=lt.map(_t=>_t+"-"+st),Ne&&(lt=lt.concat(lt.map(V)))),lt}(ht,St,vt,Nt));const I=[ht,...Jt],te=await W(Pe,bt),oe=[];let be=((Je=at.flip)==null?void 0:Je.overflows)||[];if(gt&&oe.push(te[Lt]),yt){const Me=j(tt,dt,Nt);oe.push(te[Me[0]],te[Me[1]])}if(be=[...be,{placement:tt,overflows:oe}],!oe.every(Me=>Me<=0)){var ve,$e;const Me=(((ve=at.flip)==null?void 0:ve.index)||0)+1,Ne=I[Me];if(Ne)return{data:{index:Me,overflows:be},reset:{placement:Ne}};let Be=($e=be.filter(ze=>ze.overflows[0]<=0).sort((ze,st)=>ze.overflows[1]-st.overflows[1])[0])==null?void 0:$e.placement;if(!Be)switch(wt){case"bestFit":{var Ie;const ze=(Ie=be.filter(st=>{if(ss){const lt=P(st.placement);return lt===Ft||lt==="y"}return!0}).map(st=>[st.placement,st.overflows.filter(lt=>lt>0).reduce((lt,_t)=>lt+_t,0)]).sort((st,lt)=>st[1]-lt[1])[0])==null?void 0:Ie[0];ze&&(Be=ze);break}case"initialPlacement":Be=ht}if(tt!==Be)return{reset:{placement:Be}}}return{}}}},mt=function(xe){return xe===void 0&&(xe={}),{name:"size",options:xe,async fn(Pe){var Ye,Je;const{placement:tt,rects:at,platform:dt,elements:ht}=Pe,{apply:ct=()=>{},...xt}=b(xe,Pe),gt=await W(Pe,xt),yt=w(tt),Ct=E(tt),wt=P(tt)==="y",{width:vt,height:St}=at.floating;let bt,Lt;yt==="top"||yt==="bottom"?(bt=yt,Lt=Ct===(await(dt.isRTL==null?void 0:dt.isRTL(ht.floating))?"start":"end")?"left":"right"):(Lt=yt,bt=Ct==="end"?"top":"bottom");const Ft=St-gt.top-gt.bottom,Pt=vt-gt.left-gt.right,Nt=f(St-gt[bt],Ft),Jt=f(vt-gt[Lt],Pt),ss=!Pe.middlewareData.shift;let I=Nt,te=Jt;if((Ye=Pe.middlewareData.shift)!=null&&Ye.enabled.x&&(te=Pt),(Je=Pe.middlewareData.shift)!=null&&Je.enabled.y&&(I=Ft),ss&&!Ct){const be=x(gt.left,0),ve=x(gt.right,0),$e=x(gt.top,0),Ie=x(gt.bottom,0);wt?te=vt-2*(be!==0||ve!==0?be+ve:x(gt.left,gt.right)):I=St-2*($e!==0||Ie!==0?$e+Ie:x(gt.top,gt.bottom))}await ct({...Pe,availableWidth:te,availableHeight:I});const oe=await dt.getDimensions(ht.floating);return vt!==oe.width||St!==oe.height?{reset:{rects:!0}}:{}}}},$t=function(xe){return xe===void 0&&(xe={}),{name:"hide",options:xe,async fn(Pe){const{rects:Ye}=Pe,{strategy:Je="referenceHidden",...tt}=b(xe,Pe);switch(Je){case"referenceHidden":{const at=K(await W(Pe,{...tt,elementContext:"reference"}),Ye.reference);return{data:{referenceHiddenOffsets:at,referenceHidden:Z(at)}}}case"escaped":{const at=K(await W(Pe,{...tt,altBoundary:!0}),Ye.floating);return{data:{escapedOffsets:at,escaped:Z(at)}}}default:return{}}}}},qe=xe=>({name:"arrow",options:xe,async fn(Pe){const{x:Ye,y:Je,placement:tt,rects:at,platform:dt,elements:ht,middlewareData:ct}=Pe,{element:xt,padding:gt=0}=b(xe,Pe)||{};if(xt==null)return{};const yt=R(gt),Ct={x:Ye,y:Je},wt=A(tt),vt=T(wt),St=await dt.getDimensions(xt),bt=wt==="y",Lt=bt?"top":"left",Ft=bt?"bottom":"right",Pt=bt?"clientHeight":"clientWidth",Nt=at.reference[vt]+at.reference[wt]-Ct[wt]-at.floating[vt],Jt=Ct[wt]-at.reference[wt],ss=await(dt.getOffsetParent==null?void 0:dt.getOffsetParent(xt));let I=ss?ss[Pt]:0;I&&await(dt.isElement==null?void 0:dt.isElement(ss))||(I=ht.floating[Pt]||at.floating[vt]);const te=Nt/2-Jt/2,oe=I/2-St[vt]/2-1,be=f(yt[Lt],oe),ve=f(yt[Ft],oe),$e=be,Ie=I-St[vt]-ve,Me=I/2-St[vt]/2+te,Ne=v($e,Me,Ie),Be=!ct.arrow&&E(tt)!=null&&Me!==Ne&&at.reference[vt]/2-(Me<$e?be:ve)-St[vt]/2<0,ze=Be?Me<$e?Me-$e:Me-Ie:0;return{[wt]:Ct[wt]+ze,data:{[wt]:Ne,centerOffset:Me-Ne-ze,...Be&&{alignmentOffset:ze}},reset:Be}}}),ce=function(xe){return xe===void 0&&(xe={}),{name:"inline",options:xe,async fn(Pe){const{placement:Ye,elements:Je,rects:tt,platform:at,strategy:dt}=Pe,{padding:ht=2,x:ct,y:xt}=b(xe,Pe),gt=Array.from(await(at.getClientRects==null?void 0:at.getClientRects(Je.reference))||[]),yt=function(St){const bt=St.slice().sort((Pt,Nt)=>Pt.y-Nt.y),Lt=[];let Ft=null;for(let Pt=0;Pt<bt.length;Pt++){const Nt=bt[Pt];!Ft||Nt.y-Ft.y>Ft.height/2?Lt.push([Nt]):Lt[Lt.length-1].push(Nt),Ft=Nt}return Lt.map(Pt=>M(Te(Pt)))}(gt),Ct=M(Te(gt)),wt=R(ht),vt=await at.getElementRects({reference:{getBoundingClientRect:function(){if(yt.length===2&&yt[0].left>yt[1].right&&ct!=null&&xt!=null)return yt.find(St=>ct>St.left-wt.left&&ct<St.right+wt.right&&xt>St.top-wt.top&&xt<St.bottom+wt.bottom)||Ct;if(yt.length>=2){if(P(Ye)==="y"){const Jt=yt[0],ss=yt[yt.length-1],I=w(Ye)==="top",te=Jt.top,oe=ss.bottom,be=I?Jt.left:ss.left,ve=I?Jt.right:ss.right;return{top:te,bottom:oe,left:be,right:ve,width:ve-be,height:oe-te,x:be,y:te}}const St=w(Ye)==="left",bt=x(...yt.map(Jt=>Jt.right)),Lt=f(...yt.map(Jt=>Jt.left)),Ft=yt.filter(Jt=>St?Jt.left===Lt:Jt.right===bt),Pt=Ft[0].top,Nt=Ft[Ft.length-1].bottom;return{top:Pt,bottom:Nt,left:Lt,right:bt,width:bt-Lt,height:Nt-Pt,x:Lt,y:Pt}}return Ct}},floating:Je.floating,strategy:dt});return tt.reference.x!==vt.reference.x||tt.reference.y!==vt.reference.y||tt.reference.width!==vt.reference.width||tt.reference.height!==vt.reference.height?{reset:{rects:vt}}:{}}}},Ve=function(xe){return xe===void 0&&(xe={}),{options:xe,fn(Pe){const{x:Ye,y:Je,placement:tt,rects:at,middlewareData:dt}=Pe,{offset:ht=0,mainAxis:ct=!0,crossAxis:xt=!0}=b(xe,Pe),gt={x:Ye,y:Je},yt=P(tt),Ct=C(yt);let wt=gt[Ct],vt=gt[yt];const St=b(ht,Pe),bt=typeof St=="number"?{mainAxis:St,crossAxis:0}:{mainAxis:0,crossAxis:0,...St};if(ct){const Pt=Ct==="y"?"height":"width",Nt=at.reference[Ct]-at.floating[Pt]+bt.mainAxis,Jt=at.reference[Ct]+at.reference[Pt]-bt.mainAxis;wt<Nt?wt=Nt:wt>Jt&&(wt=Jt)}if(xt){var Lt,Ft;const Pt=Ct==="y"?"width":"height",Nt=["top","left"].includes(w(tt)),Jt=at.reference[yt]-at.floating[Pt]+(Nt&&((Lt=dt.offset)==null?void 0:Lt[yt])||0)+(Nt?0:bt.crossAxis),ss=at.reference[yt]+at.reference[Pt]+(Nt?0:((Ft=dt.offset)==null?void 0:Ft[yt])||0)-(Nt?bt.crossAxis:0);vt<Jt?vt=Jt:vt>ss&&(vt=ss)}return{[Ct]:wt,[yt]:vt}}}},ts=(xe,Pe,Ye)=>{const Je=new Map,tt={platform:Ht,...Ye},at={...tt.platform,_c:Je};return(async(dt,ht,ct)=>{const{placement:xt="bottom",strategy:gt="absolute",middleware:yt=[],platform:Ct}=ct,wt=yt.filter(Boolean),vt=await(Ct.isRTL==null?void 0:Ct.isRTL(ht));let St=await Ct.getElementRects({reference:dt,floating:ht,strategy:gt}),{x:bt,y:Lt}=B(St,xt,vt),Ft=xt,Pt={},Nt=0;for(let Jt=0;Jt<wt.length;Jt++){const{name:ss,fn:I}=wt[Jt],{x:te,y:oe,data:be,reset:ve}=await I({x:bt,y:Lt,initialPlacement:xt,placement:Ft,strategy:gt,middlewareData:Pt,rects:St,platform:Ct,elements:{reference:dt,floating:ht}});bt=te??bt,Lt=oe??Lt,Pt={...Pt,[ss]:{...Pt[ss],...be}},ve&&Nt<=50&&(Nt++,typeof ve=="object"&&(ve.placement&&(Ft=ve.placement),ve.rects&&(St=ve.rects===!0?await Ct.getElementRects({reference:dt,floating:ht,strategy:gt}):ve.rects),{x:bt,y:Lt}=B(St,Ft,vt)),Jt=-1)}return{x:bt,y:Lt,placement:Ft,strategy:gt,middlewareData:Pt}})(xe,Pe,{...tt,platform:at})}},957:(n,i,l)=>{/*
* HSStaticMethods
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/Object.defineProperty(i,"__esModule",{value:!0});const u=l(292),m=l(255),y={getClassProperty:u.getClassProperty,afterTransition:u.afterTransition,autoInit(f="all"){f==="all"?m.COLLECTIONS.forEach(({fn:x})=>{x==null||x.autoInit()}):m.COLLECTIONS.forEach(({key:x,fn:c})=>{f.includes(x)&&(c==null||c.autoInit())})},cleanCollection(f="all"){f==="all"?m.COLLECTIONS.forEach(({collection:x})=>{window[x]instanceof Array&&(window[x]=[])}):m.COLLECTIONS.forEach(({key:x,collection:c})=>{f.includes(x)&&window[c]instanceof Array&&(window[c]=[])})}};typeof window<"u"&&(window.HSStaticMethods=y),i.default=y},961:(n,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(l,u,m){this.el=l,this.options=u,this.events=m,this.el=l,this.options=u,this.events={}}createCollection(l,u){var m;l.push({id:((m=u==null?void 0:u.el)===null||m===void 0?void 0:m.id)||l.length+1,element:u})}fireEvent(l,u=null){if(this.events.hasOwnProperty(l))return this.events[l](u)}on(l,u){this.events[l]=u}}},969:function(n,i,l){/*
* HSTooltip
* @version: 3.2.3
* @author: Preline Labs Ltd.
* @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
* Copyright 2024 Preline Labs Ltd.
*/var u=this&&this.__awaiter||function(g,d,p,v){return new(p||(p=Promise))(function(b,w){function E(P){try{T(v.next(P))}catch(A){w(A)}}function C(P){try{T(v.throw(P))}catch(A){w(A)}}function T(P){var A;P.done?b(P.value):(A=P.value,A instanceof p?A:new p(function(j){j(A)})).then(E,C)}T((v=v.apply(g,d||[])).next())})},m=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(i,"__esModule",{value:!0});const y=l(949),f=l(292),x=m(l(961)),c=l(223);class h extends x.default{constructor(d,p,v){super(d,p,v),this.cleanupAutoUpdate=null,this.el&&(this.toggle=this.el.querySelector(".hs-tooltip-toggle")||this.el,this.content=this.el.querySelector(".hs-tooltip-content"),this.eventMode=(0,f.getClassProperty)(this.el,"--trigger")||"hover",this.preventFloatingUI=(0,f.getClassProperty)(this.el,"--prevent-popper","false"),this.placement=(0,f.getClassProperty)(this.el,"--placement")||"top",this.strategy=(0,f.getClassProperty)(this.el,"--strategy"),this.scope=(0,f.getClassProperty)(this.el,"--scope")||"parent"),this.el&&this.toggle&&this.content&&this.init()}toggleClick(){this.click()}toggleFocus(){this.focus()}toggleMouseEnter(){this.enter()}toggleMouseLeave(){this.leave()}toggleHandle(){this.hide(),this.toggle.removeEventListener("click",this.onToggleHandleListener,!0),this.toggle.removeEventListener("blur",this.onToggleHandleListener,!0)}init(){this.createCollection(window.$hsTooltipCollection,this),this.onToggleFocusListener=()=>this.enter(),this.onToggleBlurListener=()=>this.hide(),this.toggle.addEventListener("focus",this.onToggleFocusListener),this.toggle.addEventListener("blur",this.onToggleBlurListener),this.eventMode==="click"?(this.onToggleClickListener=()=>this.toggleClick(),this.toggle.addEventListener("click",this.onToggleClickListener)):this.eventMode==="hover"&&(this.onToggleMouseEnterListener=()=>this.toggleMouseEnter(),this.onToggleMouseLeaveListener=()=>this.toggleMouseLeave(),this.toggle.addEventListener("mouseenter",this.onToggleMouseEnterListener),this.toggle.addEventListener("mouseleave",this.onToggleMouseLeaveListener)),this.preventFloatingUI==="false"&&this.buildFloatingUI()}enter(){this._show()}leave(){this.hide()}click(){if(this.el.classList.contains("show"))return!1;this._show(),this.onToggleHandleListener=()=>{setTimeout(()=>this.toggleHandle())},this.toggle.addEventListener("click",this.onToggleHandleListener,!0),this.toggle.addEventListener("blur",this.onToggleHandleListener,!0)}focus(){this._show()}positionTooltip(d){return u(this,void 0,void 0,function*(){const p=d==="auto"?"top":d,v=d==="auto"?["bottom","left","right"]:this.getFallbackPlacements(p),b=[(0,y.offset)(5),(0,y.flip)({fallbackPlacements:v})];return yield(0,y.computePosition)(this.toggle,this.content,{placement:p,strategy:this.strategy||"fixed",middleware:b})})}getFallbackPlacements(d){switch(d){case"top":return["bottom","left","right"];case"bottom":return["top","left","right"];case"left":return["right","top","bottom"];case"right":return["left","top","bottom"];case"top-start":return["bottom-start","top-end","bottom-end"];case"top-end":return["bottom-end","top-start","bottom-start"];case"bottom-start":return["top-start","bottom-end","top-end"];case"bottom-end":return["top-end","bottom-start","top-start"];case"left-start":return["right-start","left-end","right-end"];case"left-end":return["right-end","left-start","right-start"];case"right-start":return["left-start","right-end","left-end"];case"right-end":return["left-end","right-start","left-start"];default:return["top","bottom","left","right"]}}applyTooltipPosition(d,p,v){Object.assign(this.content.style,{position:this.strategy||"fixed",left:`${d}px`,top:`${p}px`}),this.content.setAttribute("data-placement",v)}buildFloatingUI(){this.scope==="window"&&document.body.appendChild(this.content);const d=this.placement.startsWith("auto"),p=(0,f.getClassProperty)(this.el,"--placement"),v=d||!p||p===""?"auto":c.POSITIONS[this.placement]||this.placement;this.positionTooltip(v).then(b=>{this.applyTooltipPosition(b.x,b.y,b.placement)}),this.cleanupAutoUpdate=(0,y.autoUpdate)(this.toggle,this.content,()=>{this.positionTooltip(v).then(b=>{Object.assign(this.content.style,{position:this.strategy||"fixed",left:`${b.x}px`,top:`${b.y}px`}),this.content.setAttribute("data-placement",b.placement)})})}_show(){this.content.classList.remove("hidden"),this.scope==="window"&&this.content.classList.add("show"),this.preventFloatingUI!=="false"||this.cleanupAutoUpdate||this.buildFloatingUI(),setTimeout(()=>{this.el.classList.add("show"),this.fireEvent("show",this.el),(0,f.dispatch)("show.hs.tooltip",this.el,this.el)})}show(){this.eventMode==="click"?this.click():this.enter(),this.toggle.focus(),this.toggle.style.outline="none"}hide(){this.el.classList.remove("show"),this.scope==="window"&&this.content.classList.remove("show"),this.preventFloatingUI==="false"&&this.cleanupAutoUpdate&&(this.cleanupAutoUpdate(),this.cleanupAutoUpdate=null),this.fireEvent("hide",this.el),(0,f.dispatch)("hide.hs.tooltip",this.el,this.el),(0,f.afterTransition)(this.content,()=>{if(this.el.classList.contains("show"))return!1;this.content.classList.add("hidden"),this.toggle.style.outline=""})}destroy(){this.el.classList.remove("show"),this.content.classList.add("hidden"),this.toggle.removeEventListener("focus",this.onToggleFocusListener),this.toggle.removeEventListener("blur",this.onToggleBlurListener),this.eventMode==="click"?this.toggle.removeEventListener("click",this.onToggleClickListener):this.eventMode==="hover"&&(this.toggle.removeEventListener("mouseenter",this.onToggleMouseEnterListener),this.toggle.removeEventListener("mouseleave",this.onToggleMouseLeaveListener)),this.toggle.removeEventListener("click",this.onToggleHandleListener,!0),this.toggle.removeEventListener("blur",this.onToggleHandleListener,!0),this.cleanupAutoUpdate&&(this.cleanupAutoUpdate(),this.cleanupAutoUpdate=null),window.$hsTooltipCollection=window.$hsTooltipCollection.filter(({element:d})=>d.el!==this.el)}static findInCollection(d){return window.$hsTooltipCollection.find(p=>d instanceof h?p.element.el===d.el:typeof d=="string"?p.element.el===document.querySelector(d):p.element.el===d)||null}static getInstance(d,p=!1){const v=window.$hsTooltipCollection.find(b=>b.element.el===(typeof d=="string"?document.querySelector(d):d));return v?p?v:v.element.el:null}static autoInit(){window.$hsTooltipCollection||(window.$hsTooltipCollection=[]),window.$hsTooltipCollection&&(window.$hsTooltipCollection=window.$hsTooltipCollection.filter(({element:d})=>document.contains(d.el))),document.querySelectorAll(".hs-tooltip:not(.--prevent-on-load-init)").forEach(d=>{window.$hsTooltipCollection.find(p=>{var v;return((v=p==null?void 0:p.element)===null||v===void 0?void 0:v.el)===d})||new h(d)})}static show(d){const p=h.findInCollection(d);p&&p.element.show()}static hide(d){const p=h.findInCollection(d);p&&p.element.hide()}static on(d,p,v){const b=h.findInCollection(p);b&&(b.element.events[d]=v)}}window.addEventListener("load",()=>{h.autoInit()}),typeof window<"u"&&(window.HSTooltip=h),i.default=h}},r={};function o(n){var i=r[n];if(i!==void 0)return i.exports;var l=r[n]={exports:{}};return s[n].call(l.exports,l,l.exports,o),l.exports}return o.d=(n,i)=>{for(var l in i)o.o(i,l)&&!o.o(n,l)&&Object.defineProperty(n,l,{enumerable:!0,get:i[l]})},o.o=(n,i)=>Object.prototype.hasOwnProperty.call(n,i),o.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o(158)})())})(q7e);Cn.configure({minimum:.08,speed:400,showSpinner:!1,trickle:!0,trickleSpeed:200,easing:"ease"});const ob=document.createElement("style");ob.textContent=`
    /* NProgress Bar */
    #nprogress .bar {
        background: linear-gradient(90deg, #f472b6 0%, #ec4899 100%) !important;
        height: 3px !important;
        box-shadow: 0 0 10px #ec4899, 0 0 5px #ec4899 !important;
    }

    /* NProgress Peg (the moving part) */
    #nprogress .peg {
        box-shadow: 0 0 10px #ec4899, 0 0 5px #ec4899 !important;
    }

    /* NProgress Spinner (if enabled) */
    #nprogress .spinner {
        top: 15px !important;
        right: 15px !important;
    }

    #nprogress .spinner-icon {
        width: 18px !important;
        height: 18px !important;
        border: solid 2px transparent !important;
        border-top-color: #ec4899 !important;
        border-left-color: #ec4899 !important;
    }

    /* Animation tweaks */
    #nprogress {
        pointer-events: none;
    }

    #nprogress .bar {
        position: fixed;
        z-index: 9999;
        top: 0;
        left: 0;
        width: 100%;
    }
`;typeof document<"u"&&document.head.appendChild(ob);window.addEventListener("error",e=>{console.error("Global error:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)});const gl=Aw(Zw),z7e=Pw();gl.use(z7e);gl.use(rh);gl.use(H7e);gl.config.errorHandler=(e,t,s)=>{console.error("Vue error:",e),console.error("Error info:",s),console.error("Component instance:",t)};const W7e=_o(),K7e=Qs();try{W7e.loadTheme(),K7e.loadUserFromStorage()}catch(e){console.error("Error initializing stores:",e)}rh.afterEach(()=>{Cn.done(),setTimeout(()=>{window.HSStaticMethods&&window.HSStaticMethods.autoInit()},100)});try{gl.mount("#app"),console.log("Vue app mounted successfully")}catch(e){console.error("Error mounting Vue app:",e)}
